 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 155 - 12/15/2013 13:00:27


       1/       0 :                     
       2/       0 :                     ;äéåèàãüñàü ë èéãçõå èÖêÖïÇÄíéå áÄèàëÖâ Ç èéêíõ ÇÉ93 (äêéåÖ èéêíéÇ 3F, 5F, 7F)
       3/       0 :                     
       4/       0 : =$1                 EMU3D2F		EQU 1
       5/       0 : =$1                 EMUWRFF		EQU 1
       6/       0 :                     
       7/       0 :                     		include evo-dos.a80
(1)    1/       0 :                     
(1)    2/       0 :                     ;LAST UPDATE: 13.12.2013 savelij
(1)    3/       0 :                     
(1)    4/       0 :                     		include ../../macros.a80
(2)    1/       0 :                     
(2)    2/       0 :                     ;LAST UPDATE: 10.03.2013 savelij
(2)    3/       0 :                     
(2)    4/       0 :                     		RELAXED ON
(2)    5/       0 :                     		CPU Z80UNDOC
(2)    6/       0 :                     
(2)    7/       0 : =0H                 BUILD_DEBUG	EQU 0
(2)    8/       0 :                     
(2)    9/       0 :                     DZ		MACRO DEFZ
(2)   10/       0 :                     		DB DEFZ,0
(2)   11/       0 :                     		ENDM 
(2)   12/       0 :                     
(2)   13/       0 :                     DC		MACRO DEFC
(2)   14/       0 :                     		IF STRLEN(DEFC)>1
(2)   15/       0 :                     		DB SUBSTR(DEFC,0,STRLEN(DEFC)-1)
(2)   16/       0 :                     		ENDIF
(2)   17/       0 :                     		IF STRLEN(DEFC)>0
(2)   18/       0 :                     		DB CHARFROMSTR(DEFC,STRLEN(DEFC)-1)|80H
(2)   19/       0 :                     		ENDIF
(2)   20/       0 :                     		ENDM
(2)   21/       0 :                     
(2)   22/       0 :                     SUM_HOB		MACRO STR,AA,BB,CC
(2)   23/       0 :                     		DB STR
(2)   24/       0 :                     		DW AA
(2)   25/       0 :                     		DW BB
(2)   26/       0 :                     		DB 0
(2)   27/       0 :                     		DB CC
(2)   28/       0 :                     $$I := 0
(2)   29/       0 :                     $$S := 0
(2)   30/       0 :                     		REPT 9
(2)   31/       0 :                     $$N := CHARFROMSTR (STR,STRLEN(STR)+$$S-9)
(2)   32/       0 :                     $$I := ($$I+$$S+$$N+($$N*256))&0XFFFF
(2)   33/       0 :                     $$S := $$S+1
(2)   34/       0 :                     		ENDM
(2)   35/       0 :                     $$I := ($$I+$$S+LOW (AA)+(LOW (AA)*0X100))&0XFFFF
(2)   36/       0 :                     $$S := $$S+1
(2)   37/       0 :                     $$I := ($$I+$$S+HIGH (AA)+(HIGH (AA)*0X100))&0XFFFF
(2)   38/       0 :                     $$S := $$S+1
(2)   39/       0 :                     $$I := ($$I+$$S+LOW (BB)+(LOW (BB)*0X100))&0XFFFF
(2)   40/       0 :                     $$S := $$S+1
(2)   41/       0 :                     $$I := ($$I+$$S+HIGH (BB)+(HIGH (BB)*0X100))&0XFFFF
(2)   42/       0 :                     $$S := $$S+1
(2)   43/       0 :                     $$I := ($$I+$$S+LOW (CC)+(LOW (CC)*0X100))&0XFFFF
(2)   44/       0 :                     $$S := $$S+1
(2)   45/       0 :                     $$I := ($$I+$$S+HIGH (CC)+(HIGH (CC)*0X100))&0XFFFF
(2)   46/       0 :                     $$S := $$S+1
(2)   47/       0 :                     		DW $$I
(2)   48/       0 :                     		ENDM
(2)   49/       0 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(../../macros.a80) - page 1 - 12/15/2013 13:00:27


(2)   50/       0 :                     DUPL		MACRO LEN,FILL
(2)   51/       0 :                     DUPL:
(2)   52/       0 :                     $$N		EQU (LEN) / 1024
(2)   53/       0 :                     $$M		EQU (LEN) # 1024
(2)   54/       0 :                     		REPT $$N
(2)   55/       0 :                     		DB 1024 DUP(FILL)
(2)   56/       0 :                     		ENDM
(2)   57/       0 :                     		IF $$M <> 0
(2)   58/       0 :                     		DB $$M DUP(FILL)
(2)   59/       0 :                     		ENDIF
(2)   60/       0 :                     		ENDM
(2)   61/       0 :                     
(2)   62/       0 :                     HIGH		FUNCTION X,((X >> 8) & 0XFF)
(2)   63/       0 :                     LOW		FUNCTION X,(X & 0XFF)
(2)   64/       0 :                     
(2)   65/       0 :                     PCALL		MACRO ADR,PAGE
(2)   66/       0 :                     		RST 0X30
(2)   67/       0 :                     		DW ADR
(2)   68/       0 :                     		DB PAGE
(2)   69/       0 :                     		ENDM
(2)   70/       0 :                     
(2)   71/       0 :                     EVOPORT		MACRO PORT,BYTE
(2)   72/       0 :                     		LD BC,PORT
(2)   73/       0 :                     		LD A,BYTE
(2)   74/       0 :                     		OUT (C),A
(2)   75/       0 :                     		ENDM
(2)   76/       0 :                     
(2)   77/       0 :                     PEC_ON		MACRO BYTE
(2)   78/       0 :                     		IN A,(PEVO_CONF)
(2)   79/       0 :                     		OR BYTE
(2)   80/       0 :                     		OUT (PEVO_CONF),A
(2)   81/       0 :                     		ENDM
(2)   82/       0 :                     
(2)   83/       0 :                     PEC_OFF		MACRO BYTE
(2)   84/       0 :                     		IN A,(PEVO_CONF)
(2)   85/       0 :                     		AND BYTE!0XFF
(2)   86/       0 :                     		OUT (PEVO_CONF),A
(2)   87/       0 :                     		ENDM
(2)   88/       0 :                     
(2)   89/       0 : =AH                 SIZEDATE	EQU STRLEN (DATE)
(2)   90/       0 :                     
(2)   91/       0 : =>TRUE              		IF SIZEDATE=10
(2)   92/       0 : =CH                 MMOUNTH		EQU (CHARFROMSTR (DATE,0)-0X30)*10+(CHARFROMSTR (DATE,1)-0X30)
(2)   93/       0 : =FH                 DDATE		EQU (CHARFROMSTR (DATE,3)-0X30)*10+(CHARFROMSTR (DATE,4)-0X30)
(2)   94/       0 : =DH                 YYEAR		EQU (CHARFROMSTR (DATE,8)-0X30)*10+(CHARFROMSTR (DATE,9)-0X30)
(2)   95/       0 : =>FALSE             		ELSEIF SIZEDATE=8
(2)   96/       0 :                     MMOUNTH		EQU (CHARFROMSTR (DATE,0)-0X30)
(2)   97/       0 :                     DDATE		EQU (CHARFROMSTR (DATE,2)-0X30)
(2)   98/       0 :                     YYEAR		EQU (CHARFROMSTR (DATE,6)-0X30)*10+(CHARFROMSTR (DATE,7)-0X30)
(2)   99/       0 : =>FALSE             		ELSEIF (CHARFROMSTR (DATE,1))=0X2F
(2)  100/       0 :                     MMOUNTH		EQU (CHARFROMSTR (DATE,0)-0X30)
(2)  101/       0 :                     DDATE		EQU (CHARFROMSTR (DATE,2)-0X30)*10+(CHARFROMSTR (DATE,3)-0X30)
(2)  102/       0 :                     YYEAR		EQU (CHARFROMSTR (DATE,7)-0X30)*10+(CHARFROMSTR (DATE,8)-0X30)
(2)  103/       0 : =>FALSE             		ELSE
(2)  104/       0 :                     MMOUNTH		EQU (CHARFROMSTR (DATE,0)-0X30)*10+(CHARFROMSTR (DATE,1)-0X30)
(2)  105/       0 :                     DDATE		EQU (CHARFROMSTR (DATE,3)-0X30)
(2)  106/       0 :                     YYEAR		EQU (CHARFROMSTR (DATE,7)-0X30)*10+(CHARFROMSTR (DATE,8)-0X30)
(2)  107/       0 : [91]                		ENDIF
(2)  108/       0 : =9B8FH              DATA_VERS	EQU DDATE+(MMOUNTH<<5)+(YYEAR<<9)+0X8000			;ìÜÖ ìèÄäéÇÄçé
(2)  109/       0 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(../../macros.a80) - page 2 - 12/15/2013 13:00:27


(2)  110/       0 :                     TEXTDATE	MACRO
(2)  111/       0 :                     		IF DDATE<10
(2)  112/       0 :                     TDATE		DB DDATE+0X30
(2)  113/       0 :                     		ELSE
(2)  114/       0 :                     TDATE		DB ((DDATE/10)+0X30),(DDATE#10)+0X30
(2)  115/       0 :                     		ENDIF
(2)  116/       0 :                     		DB "."
(2)  117/       0 :                     		IF MMOUNTH<10
(2)  118/       0 :                     TMOUNTH		DB MMOUNTH+0X30
(2)  119/       0 :                     		ELSE
(2)  120/       0 :                     TMOUNTH		DB MMOUNTH/10+0X30,MMOUNTH#10+0X30
(2)  121/       0 :                     		ENDIF
(2)  122/       0 :                     		DB ".",CHARFROMSTR (DATE,SIZEDATE-4),CHARFROMSTR (DATE,SIZEDATE-3)
(2)  123/       0 :                     		DB CHARFROMSTR (DATE,SIZEDATE-2),CHARFROMSTR (DATE,SIZEDATE-1)
(2)  124/       0 :                     		ENDM
(2)  125/       0 :                     
(1)    5/       0 :                     		include ../../define.a80
(2)    1/       0 :                     
(2)    2/       0 :                     ;LAST UPDATE: 28.06.2013 savelij
(2)    3/       0 :                     
(2)    4/       0 :                     ;çéåÖêÄ îìçäñàâ RST 8, èéêüÑéä åéÜÖí Åõíú àáåÖçÖç!
(2)    5/       0 : =40H                _AY_PRN_INIT	EQU 0X40
(2)    6/       0 : =41H                _AY_PRN_A_	EQU 0X41
(2)    7/       0 : =42H                _AY_PRN_TOKEN	EQU 0X42
(2)    8/       0 : =43H                _AY_PRN_SCR	EQU 0X43
(2)    9/       0 : =44H                _TAPE_INIT	EQU 0X44
(2)   10/       0 : =45H                _TAPE_EMUL	EQU 0X45
(2)   11/       0 : =46H                _WINW		EQU 0X46
(2)   12/       0 : =47H                _PRINT_MESSAGE	EQU 0X47
(2)   13/       0 : =48H                _PRINT_A	EQU 0X48
(2)   14/       0 : =49H                _SCROLL_UP	EQU 0X49
(2)   15/       0 : =4AH                _SCROLL_DOWN	EQU 0X4A
(2)   16/       0 : =4BH                _SET_MODE	EQU 0X4B
(2)   17/       0 : =4CH                _SET_MAP	EQU 0X4C
(2)   18/       0 :                     
(2)   19/       0 : =50H                _COM_DEV	EQU 0X50
(2)   20/       0 : =51H                _COM_FAT	EQU 0X51
(2)   21/       0 : =52H                _SORT_FINDFILES	EQU 0X52
(2)   22/       0 : =53H                _MOUNTER	EQU 0X53
(2)   23/       0 : =54H                _INST_FATBOOT	EQU 0X54
(2)   24/       0 : =55H                _CMOS_RW	EQU 0X55	
(2)   25/       0 : =56H                _SETUP_PAL	EQU 0X56
(2)   26/       0 :                     
(2)   27/       0 :                     ;îìçäñàà àáåÖçÖçàü êÖÜàåéÇ êÄÅéíõ
(2)   28/       0 : =1H                 _ZXSCR_MODE	EQU 1				;ZX SCREEN
(2)   29/       0 : =2H                 _TXTSCR_MODE	EQU 2				;TXT SCREEN
(2)   30/       0 : =10H                _TURBO_LOW	EQU 0X10			;XX01XXXX TURBO 3,5 MHZ
(2)   31/       0 : =20H                _TURBO_HIGH	EQU 0X20			;XX10XXXX TURBO 7,0 MHZ
(2)   32/       0 : =30H                _TURBO_MAX	EQU 0X30			;XX11XXXX TURBO 14,0 MHZ
(2)   33/       0 : =40H                _MEM_MODE_48	EQU 0X40			;01XXXXXX MEMORY MODE 48 KB
(2)   34/       0 : =80H                _MEM_MODE_128	EQU 0X80			;10XXXXXX MEMORY MODE 128 KB
(2)   35/       0 : =C0H                _MEM_MODE_PENT	EQU 0XC0			;11XXXXXX MEMORY MODE PENT 1024 KB
(2)   36/       0 :                     
(2)   37/       0 :                     ;îìçäñàà êÄÅéíõ ë CMOS
(2)   38/       0 : =0H                 _INIT_CMOS	EQU 0
(2)   39/       0 : =1H                 _READ_CMOS	EQU 1
(2)   40/       0 : =2H                 _WRITE_CMOS	EQU 2
(2)   41/       0 : =3H                 _CLEAR_CMOS	EQU 3
(2)   42/       0 :                     
(2)   43/       0 :                     ;îìçäñàà åéçíàêéÇôàäÄ éÅêÄáéÇ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(../../define.a80) - page 3 - 12/15/2013 13:00:27


(2)   44/       0 : =0H                 _OPEN_MOUNT	EQU 0X00
(2)   45/       0 : =1H                 _RDWR_MOUNT	EQU 0X01
(2)   46/       0 : =2H                 _FIND_MOUNTED	EQU 0X02
(2)   47/       0 : =3H                 _GET_MOUNTED	EQU 0X03
(2)   48/       0 : =4H                 _CLOSEMOUNT	EQU 0X04
(2)   49/       0 : =5H                 _LOADIMAGE	EQU 0X05
(2)   50/       0 :                     
(2)   51/       0 :                     ;çéåÖêÄ îìçäñàâ åÖçÖÑÜÖêÄ ìëíêéâëíÇ
(2)   52/       0 : =0H                 _DEVFIND	EQU 0X00			;00 èéàëä ìëíêéâëíÇ                        
(2)   53/       0 : =1H                 _SET_VOL	EQU 0X01			;01 ÇõÅéê êÄáÑÖãÄ                          
(2)   54/       0 : =2H                 _KOL_VOL	EQU 0X02			;02 áÄèêéë çÄâÑÖçéÉé                       
(2)   55/       0 : =3H                 _GET_FNDVOLUME	EQU 0X03			;03 èéãìóàíú íÄÅãàñì çÄâÑÖççõï êÄáÑÖãéÇ
(2)   56/       0 : =4H                 _TO_DRV		EQU 0X04			;04 ÇõáéÇ ÑêÄâÇÖêÄ ÇõÅêÄççéÉé ìëíêéâëíÇÄ   
(2)   57/       0 : =5H                 _SET_DEVICE	EQU 0X05			;05 ìëíÄçéÇäÄ ÅàíéÇ ìëíêéâëíÇÄ à LBA êÖÜàåÄ
(2)   58/       0 : =6H                 _CONTROL_SD	EQU 0X06			;06 äéçíêéãú çÄãàóàü SD äÄêí
(2)   59/       0 : =7H                 _COMHDDN	EQU 0X07			;07 èêüåéâ ÇõáéÇ ÑêÄâÇÖêÄ HDD NEMO (ÇêÖåÖççÄü îìçäñàü)
(2)   60/       0 : =8H                 _FREINIT_VOL	EQU 0X08			;08 èéãçÄü èÖêÖàçàñàÄãàáÄñàü êÄáÑÖãÄ
(2)   61/       0 :                     
(2)   62/       0 :                     ;çéåÖêÄ îìçäñàâ ÇõáéÇÄ ÑêÄâÇÖêÄ ìëíêéâëíÇÄ
(2)   63/       0 : =0H                 _DEV_INIT	EQU 0				;00 èéàëä à àçàñàÄãàáÄñàü ìëíêéâëíÇÄ
(2)   64/       0 : =1H                 _DEV_STATUS	EQU 1				;01 áÄèêéë ëíÄíìëÄ ìëíêéâëíÇÄ. èéäÄ áÄÉãìòÖçÄ
(2)   65/       0 : =2H                 _DEV_READ	EQU 2				;02 óíÖçàÖ ëÖäíéêéÇ
(2)   66/       0 : =3H                 _DEV_WRITE	EQU 3				;03 áÄèàëú ëÖäíéêéÇ
(2)   67/       0 :                     
(2)   68/       0 :                     ;çéåÖêÄ ÇõáõÇÄÖåõï îìçäñàâ FAT ÑêÄâÇÖêÄ
(2)   69/       0 : =0H                 _INIT_FATVARS	EQU 0X00			;àçàñàÄãàáÄñàü èÖêÖåÖççõï FAT
(2)   70/       0 : =1H                 _READ_DIR	EQU 0X01			;èéãìóÖçàÖ éèàëÄíÖãü îÄâãÄ
(2)   71/       0 : =2H                 _ENTER_DIR	EQU 0X02			;ÇïéÑ/ÇõïéÑ Ç Ñàê
(2)   72/       0 : =3H                 _GET_PATH	EQU 0X03			;èéãìóÖçàÖ íÖäìôÖÉé èìíà
(2)   73/       0 : =4H                 _GET_LONGNAME	EQU 0X04			;èéãìóÖçàÖ ÑãàççéÉé àåÖçà îÄâãÄ
(2)   74/       0 : =5H                 _FIND_NAME	EQU 0X05			;èéàëä èé àåÖçà
(2)   75/       0 : =6H                 _FIND_FILEITEM	EQU 0X06			;èéàëä ÇëÖï éèàëÄíÖãÖâ ë ÇõÑÄóÖâ çéåÖêéÇ çÄâÑÖççéÉé
(2)   76/       0 : =7H                 _SET_MASK_EXT	EQU 0X07			;ìëíÄçéÇäÄ åÄëäà êÄëòàêÖçàâ Ñãü èéàëäÄ
(2)   77/       0 : =8H                 _OPEN_FILE	EQU 0X08			;éíäêõíàÖ îÄâãÄ
(2)   78/       0 : =9H                 _READ_FILE	EQU 0X09			;èéëãÖÑéÇÄíÖãúçéÖ óíÖçàÖ éíäêõíéÉé îÄâãÄ
(2)   79/       0 : =AH                 _INIT_TEKDIR	EQU 0X0A			;ëéáÑÄçàÖ íÄÅãàñõ äãÄëíÖêéÇ íÖäìôÖâ ÑàêÖäíéêàà
(2)   80/       0 : =BH                 _POS_FILES	EQU 0X0B			;êÄÅéíÄ ë íÖäìôÖâ èéáàñàÖâ
(2)   81/       0 :                     
(1)    6/       0 :                     		include ../../global_vars.a80
(2)    1/       0 :                     
(2)    2/       0 :                     ;LAST UPDATE: 17.11.2013 savelij
(2)    3/       0 :                     
(2)    4/       0 :                     ;ëíêÄçàñõ RAM
(2)    5/       0 : =F7H                VMODE7_0	EQU 0XF7			;ëíêÄçàñÄ éÑçéëíêÄçàóçéÉé íÖäëíåéÑÄ 0 ùäêÄç
(2)    6/       0 : =F5H                VMODE7_1	EQU 0XF5			;ëíêÄçàñÄ éÑçéëíêÄçàóçéÉé íÖäëíåéÑÄ 1 ùäêÄç
(2)    7/       0 :                     
(2)    8/       0 :                     ;ëíêÄçàñõ RAM
(2)    9/       0 : =1H                 PAGE_FATVARS	EQU 1				;ëíêÄçàñÄ Ñãü èÖêÖåÖçõï FAT
(2)   10/       0 : =2H                 PAGE_EVODOS	EQU 2				;ëíêÄçàñÄ äéèàà EVO-DOS Ñãü èÖêÖïÇÄíÄ
(2)   11/       0 : =3H                 PAGE_PROFROM	EQU 3				;ëíêÄçàñÄ èÖêÖåÖççõï PROFROM
(2)   12/       0 : =4H                 PAGE_MOUNTER	EQU 4				;ëíêÄçàñÄ Ñãü åéçíàêéÇÄçàü éÅêÄáéÇ
(2)   13/       0 : =5H                 PAGE_STS	EQU 5				;ëíêÄçàñÄ Ñãü éíãÄÑóàäÄ STS
(2)   14/       0 : =6H                 PAGE_ADDSTS	EQU 6				;ëíêÄçàñÄ Ñãü éíãÄÑäà ROM
(2)   15/       0 : =7H                 PAGE_SCR_FONT	EQU 7				;ëíêÄçàñÄ ëéïêÄçÖççõï ùäêÄçéÇ à îéçíéÇ
(2)   16/       0 : =8H                 PAGE_TEMP	EQU 8				;ëíêÄçàñÄ Çëüäàï ÇêÖåÖççõï èÖêÖåÖççõï
(2)   17/       0 : =9H                 PAGE_RAMDISK	EQU 9				;ëíêÄçàñÄ çÄóÄãÄ êÄåÑàëäÄ
(2)   18/       0 : =AH                 PAGE_DATARAMD	EQU 0X0A			;ëíêÄçàñÄ çÄóÄãÄ ÑÄççõï êÄåÑàëäÄ
(2)   19/       0 : =40H                PAGE4FLASHER	EQU 0X40			;ëíêÄçàñÄ çÄóÄãÄ áÄÉêìáäà èêéòàÇäà
(2)   20/       0 : =60H                PAGE4TAP	EQU 0X60			;ëíêÄçàñÄ Ñãü áÄÉêìáäà TAP îÄâãÄ
(2)   21/       0 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(../../global_vars.a80) - page 4 - 12/15/2013 13:00:27


(2)   22/       0 :                     ;ëíêÄçàñõ ROM
(2)   23/       0 : =0H                 P_ERS		EQU 0				;çéåÖê ëíêÄçàñõ ROM EVO RESET SERVICE
(2)   24/       0 : =1H                 P_BAS128	EQU 1				;çéåÖê ëíêÄçàñõ ROM BASIC 128
(2)   25/       0 : =2H                 P_DOS		EQU 2				;çéåÖê ëíêÄçàñõ ROM EVO-DOS Ñãü êÖÄãúçéâ ÑàëäÖíõ
(2)   26/       0 : =3H                 P_BAS48		EQU 3				;çéåÖê ëíêÄçàñõ ROM BASIC 48
(2)   27/       0 : =4H                 P_ADDON2	EQU 4				;çéåÖê ëíêÄçàñõ ROM Çëüäàï ÑéèéãçÖçàâ
(2)   28/       0 : =5H                 P_ADDON1	EQU 5				;çéåÖê ëíêÄçàñõ ROM Çëüäàï ÑéèéãçÖçàâ
(2)   29/       0 : =6H                 P_ADDONS	EQU 6				;çéåÖê ëíêÄçàñõ ROM ÑéèéãçÖçàâ RST 8
(2)   30/       0 : =7H                 P_RST8		EQU 7				;çéåÖê ëíêÄçàñõ ROM éÅêÄÅéíäà RST 8
(2)   31/       0 : =8H                 P_ATMCPM	EQU 8				;çéåÖê ëíêÄçàñõ ROM Äíå CP/M
(2)   32/       0 : =9H                 P_MSXDOS	EQU 9				;çéåÖê ëíêÄçàñõ ROM MSX-DOS
(2)   33/       0 : =AH                 P_ADD_DOS	EQU 0X0A			;çéåÖê ëíêÄçàñõ ROM EVO-DOS Ñãü ùåìãüñàà
(2)   34/       0 : =BH                 P_ADD_BAS48	EQU 0X0B			;çéåÖê ëíêÄçàñõ ROM BASIC 48
(2)   35/       0 :                     
(2)   36/       0 : =90H                CONF4PROF	EQU 0X90			;ëíÄêíéÇÄü ëíêÄçàñÄ Ñãü EVO PROFROM 128K
(2)   37/       0 : =94H                CONF4GLUK	EQU 0X94			;ëíÄêíéÇÄü ëíêÄçàñÄ Ñãü GLUK 64K
(2)   38/       0 : =9CH                CONF4CUSTOM	EQU 0X9C			;ëíÄêíéÇÄü ëíêÄçàñÄ Ñãü èéãúáéÇÄíÖãúëäéâ èêéòàÇäà 64ä
(2)   39/       0 :                     
(2)   40/       0 : =0H                 CPU0		EQU 0X0000			;çÄóÄãé éäçÄ èêéÖñàêéÇÄçàü 0
(2)   41/       0 : =4000H              CPU1		EQU 0X4000			;çÄóÄãé éäçÄ èêéÖñàêéÇÄçàü 1
(2)   42/       0 : =8000H              CPU2		EQU 0X8000			;çÄóÄãé éäçÄ èêéÖñàêéÇÄçàü 2
(2)   43/       0 : =C000H              CPU3		EQU 0XC000			;çÄóÄãé éäçÄ èêéÖñàêéÇÄçàü 3
(2)   44/       0 :                     
(2)   45/       0 : =37F7H              WIN_P0		EQU 0X37F7			;ÄÑêÖë 0 ëíêÄçàñõ èêéÖñàêéÇÄçàü PENTEVO
(2)   46/       0 : =77F7H              WIN_P1		EQU 0X77F7			;ÄÑêÖë 1 ëíêÄçàñõ èêéÖñàêéÇÄçàü PENTEVO
(2)   47/       0 : =B7F7H              WIN_P2		EQU 0XB7F7			;ÄÑêÖë 2 ëíêÄçàñõ èêéÖñàêéÇÄçàü PENTEVO
(2)   48/       0 : =F7F7H              WIN_P3		EQU 0XF7F7			;ÄÑêÖë 3 ëíêÄçàñõ èêéÖñàêéÇÄçàü PENTEVO
(2)   49/       0 : =3FF7H              WIN_A0		EQU 0X3FF7			;ÄÑêÖë 0 ëíêÄçàñõ èêéÖñàêéÇÄçàü ATM
(2)   50/       0 : =7FF7H              WIN_A1		EQU 0X7FF7			;ÄÑêÖë 1 ëíêÄçàñõ èêéÖñàêéÇÄçàü ATM
(2)   51/       0 : =BFF7H              WIN_A2		EQU 0XBFF7			;ÄÑêÖë 2 ëíêÄçàñõ èêéÖñàêéÇÄçàü ATM
(2)   52/       0 : =FFF7H              WIN_A3		EQU 0XFFF7			;ÄÑêÖë 3 ëíêÄçàñõ èêéÖñàêéÇÄçàü ATM
(2)   53/       0 : =BFH                PEVO_CONF	EQU 0XBF			;ÄÑêÖë èéêíÄ äéçîàÉÄ PENTEVO
(2)   54/       0 : =DEF7H              CMOSD_SET_ADR	EQU 0XDEF7			;ÄÑêÖë èéêíÄ ìëíÄçéÇäà ÄÑêÖëÄ CMOS üóÖâäà àá DOS
(2)   55/       0 : =BEF7H              CMOSD_RD_WR	EQU 0XBEF7			;ÄÑêÖë èéêíÄ óíÖçàü/áÄèàëà ÅÄâí CMOS àá ÑéëÄ
(2)   56/       0 : =DFF7H              CMOS_SET_ADR	EQU 0XDFF7			;ÄÑêÖë èéêíÄ ìëíÄçéÇäà ÄÑêÖëÄ CMOS üóÖâäà
(2)   57/       0 : =BFF7H              CMOS_RD_WR	EQU 0XBFF7			;ÄÑêÖë èéêíÄ óíÖçàü/áÄèàëà ÅÄâí CMOS
(2)   58/       0 : =EFF7H              PENT_CONF	EQU 0XEFF7			;ÄÑêÖë èéêíÄ äéçîàÉÄ êÖÜàåÄ èÖçíÄÉéçÄ
(2)   59/       0 : =7FFDH              CONF_128	EQU 0X7FFD			;ÄÑêÖë èéêíÄ äéçîàÉÄ 128 èÄåüíà
(2)   60/       0 :                     
(2)   61/       0 :                     ;èéêíÄ Ñãü óíÖçàü èéêíéÇ äéçîàÉìêÄñàà
(2)   62/       0 : =BEH                RD_0WINA0	EQU 0X00BE			;ÄÑêÖë èéêíÄ 0 éäçÄ èêéÖñàêéÇÄçàü 0 åÄèÖêÄ
(2)   63/       0 : =1BEH               RD_0WINA1	EQU 0X01BE			;ÄÑêÖë èéêíÄ 1 éäçÄ èêéÖñàêéÇÄçàü 0 åÄèÖêÄ
(2)   64/       0 : =2BEH               RD_0WINA2	EQU 0X02BE			;ÄÑêÖë èéêíÄ 2 éäçÄ èêéÖñàêéÇÄçàü 0 åÄèÖêÄ
(2)   65/       0 : =3BEH               RD_0WINA3	EQU 0X03BE			;ÄÑêÖë èéêíÄ 3 éäçÄ èêéÖñàêéÇÄçàü 0 åÄèÖêÄ
(2)   66/       0 : =4BEH               RD_1WINA0	EQU 0X04BE			;ÄÑêÖë èéêíÄ 0 éäçÄ èêéÖñàêéÇÄçàü 1 åÄèÖêÄ
(2)   67/       0 : =5BEH               RD_1WINA1	EQU 0X05BE			;ÄÑêÖë èéêíÄ 1 éäçÄ èêéÖñàêéÇÄçàü 1 åÄèÖêÄ
(2)   68/       0 : =6BEH               RD_1WINA2	EQU 0X06BE			;ÄÑêÖë èéêíÄ 2 éäçÄ èêéÖñàêéÇÄçàü 1 åÄèÖêÄ
(2)   69/       0 : =7BEH               RD_1WINA3	EQU 0X07BE			;ÄÑêÖë èéêíÄ 3 éäçÄ èêéÖñàêéÇÄçàü 1 åÄèÖêÄ
(2)   70/       0 : =8BEH               RD_RAMNROM	EQU 0X08BE			;ÄÑêÖë èéêíÄ ÅàíéÇ RAM & ROM
(2)   71/       0 : =9BEH               RD_DOS7FFD	EQU 0X09BE			;ÄÑêÖë èéêíÄ ÅàíéÇ DOS & 7FFD
(2)   72/       0 : =ABEH               RD_7FFD		EQU 0X0ABE			;ÄÑêÖë èéêíÄ 7FFD
(2)   73/       0 : =BBEH               RD_EFF7		EQU 0X0BBE			;ÄÑêÖë èéêíÄ EFF7
(2)   74/       0 : =CBEH               RD_77		EQU 0X0CBE			;ÄÑêÖë èéêíÄ xx77
(2)   75/       0 : =DBEH               RD_PALITRA	EQU 0X0DBE			;ÄÑêÖë èéêíÄ èÄãàíêõ
(2)   76/       0 : =10BEH              BREAK_LOW_RD	EQU 0X10BE			;åãÄÑòàâ ÅÄâí ÄÑêÖëÄ èéêíÄ çÄ óíÖçàÖ ÄÑêÖëÄ BREAK
(2)   77/       0 : =11BEH              BREAK_HIGH_RD	EQU 0X11BE			;ëíÄêòàâ ÅÄâí ÄÑêÖëÄ èéêíÄ çÄ óíÖçàÖ ÄÑêÖëÄ BREAK
(2)   78/       0 :                     
(2)   79/       0 : =BDH                BREAK_LOW_WR	EQU 0X00BD			;åãÄÑòàâ ÅÄâí ÄÑêÖëÄ èéêíÄ çÄ áÄèàëú ÄÑêÖëÄ BREAK
(2)   80/       0 : =1BDH               BREAK_HIGH_WR	EQU 0X01BD			;ëíÄêòàâ ÅÄâí ÄÑêÖëÄ èéêíÄ çÄ áÄèàëú ÄÑêÖëÄ BREAK
(2)   81/       0 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(../../global_vars.a80) - page 5 - 12/15/2013 13:00:27


(2)   82/       0 :                     ;èéêíõ ÇÉ93 à ùåìãüíéêÄ
(2)   83/       0 : =1FH                VG_RW_1F	EQU 0X1F
(2)   84/       0 : =2FH                VG_RD_1F	EQU 0X2F
(2)   85/       0 : =3FH                VG_RW_3F	EQU 0X3F
(2)   86/       0 : =4FH                VG_RD_3F	EQU 0X4F
(2)   87/       0 : =5FH                VG_RW_5F	EQU 0X5F
(2)   88/       0 : =6FH                VG_RD_5F	EQU 0X6F
(2)   89/       0 : =7FH                VG_RW_7F	EQU 0X7F
(2)   90/       0 : =8FH                VG_RD_7F	EQU 0X8F
(2)   91/       0 : =2FH                VG_MEM		EQU VG_RD_1F;0XAF
(2)   92/       0 : =FFH                VG_RW_FF	EQU 0XFF
(2)   93/       0 :                     
(2)   94/       0 : =2FH                RW_PORT0	EQU 0X2F
(2)   95/       0 : =4FH                RW_PORT1	EQU 0X4F
(2)   96/       0 : =6FH                RW_PORT2	EQU 0X6F
(2)   97/       0 : =8FH                RW_PORT3	EQU 0X8F
(2)   98/       0 :                     
(2)   99/       0 : =1C0H               LSYM		EQU 0X01C0			;ëåÖôÖçàÖ Ç ëíêÄçàñÖ çÄóÄãÄ ãÖÇõï ëàåÇéãéÇ íÖäëíåéÑÄ
(2)  100/       0 : =31C0H              LATTR		EQU 0X31C0			;ëåÖôÖçàÖ Ç ëíêÄçàñÖ çÄóÄãÄ ãÖÇõï ÄíêàÅìíéÇ ëàåÇéãéÇ
(2)  101/       0 : =11C0H              RSYM		EQU 0X11C0			;ëåÖôÖçàÖ Ç ëíêÄçàñÖ çÄóÄãÄ èêÄÇõï ëàåÇéãéÇ íÖäëíåéÑÄ
(2)  102/       0 : =21C1H              RATTR		EQU 0X21C1			;ëåÖôÖçàÖ Ç ëíêÄçàñÖ çÄóÄãÄ èêÄÇõï ÄíêàÅìíéÇ ëàåÇéãéÇ 
(2)  103/       0 :                     
(2)  104/       0 :                     ;ñÇÖíÄ à üêäéëíà
(2)  105/       0 : =0H                 BLACK		EQU 0
(2)  106/       0 : =1H                 BLUE		EQU 1
(2)  107/       0 : =2H                 RED		EQU 2
(2)  108/       0 : =3H                 MAGENTA		EQU 3
(2)  109/       0 : =4H                 GREEN		EQU 4
(2)  110/       0 : =5H                 CYAN		EQU 5
(2)  111/       0 : =6H                 YELLOW		EQU 6
(2)  112/       0 : =7H                 WHITE		EQU 7
(2)  113/       0 : =40H                BR_INK		EQU 0X40
(2)  114/       0 : =80H                BR_PAPER	EQU 0X80
(2)  115/       0 :                     
(2)  116/       0 :                     ;ñÇÖíÄ Ñãü ATM ÇàÑÖéêÖÜàåéÇ
(2)  117/       0 : =80H                G_L		EQU %10000000
(2)  118/       0 : =10H                G_H		EQU %00010000
(2)  119/       0 : =40H                R_L		EQU %01000000
(2)  120/       0 : =2H                 R_H		EQU %00000010
(2)  121/       0 : =20H                B_L		EQU %00100000
(2)  122/       0 : =1H                 B_H		EQU %00000001
(2)  123/       0 :                     
(2)  124/       0 :                     ;åÄëäÄ èéêíÄ 7FFD
(2)  125/       0 : =8H                 ZX_SCREEN	EQU %00001000
(2)  126/       0 : =10H                ZX_ROM		EQU %00010000
(2)  127/       0 :                     
(2)  128/       0 :                     ;åÄëäÄ èéêíÄ 0XBF
(2)  129/       0 : =1H                 SHADOW_BF	EQU %00000001			;Åàí êÄáêÖòÖçàü ÑéëíìèÄ ä íÖçÖÇõå èéêíÄå
(2)  130/       0 : =2H                 FLASH_BF	EQU %00000010			;Åàí êÄáêÖòÖçàü èêéÉêÄååàêéÇÄçàü FLASH
(2)  131/       0 : =4H                 FONT_BF		EQU %00000100			;Åàí êÄáêÖòÖçàü àáåÖçÖçàü òêàîíÄ
(2)  132/       0 : =8H                 NMI_BF		EQU %00001000			;Åàí ÉÖçÖêÄñàà NMI
(2)  133/       0 : =10H                BREAK_BF	EQU %00010000			;Åàí êÄáêÖòÖçàü ëêÄÅÄíõÇÄçàü BREAK çÄ ÄÑêÖëÖ
(2)  134/       0 : =20H                EMUVG_BF	EQU %00100000
(2)  135/       0 :                     
(2)  136/       0 :                     ;åÄëäà êÖÜàåéÇ
(2)  137/       0 : =1H                 ZXSCR_MODE	EQU 1				;çéåÖê ÇàÑÖéêÖÜàåÄ ZX SCREEN MODE
(2)  138/       0 : =2H                 TXTSCR_MODE	EQU 2				;çéåÖê éÑçéëíêÄçàóçéÉé íÖäëíéÇéÉé êÖÜàåÄ
(2)  139/       0 : =10H                MEMORY_ALL	EQU 0X10			;Ñéëíìè ä èÖêÇéåì åÖÉÄÅÄâíì óÖêÖá èéêí EFF7
(2)  140/       0 : =20H                MEMORY_48	EQU 0X20			;ÑéëíìèÖç íéãúäé 48Kb èÄåüíà
(2)  141/       0 : =30H                MEMORY_128	EQU 0X30			;Ñéëíìèçé íéãúäé 128Kb èÄåüíà
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(../../global_vars.a80) - page 6 - 12/15/2013 13:00:27


(2)  142/       0 : =40H                TURBO_3		EQU 0X40			;óÄëíéíÄ èêéñÖëëéêÄ 3,5 åÉÊ 
(2)  143/       0 : =80H                TURBO_7		EQU 0X80			;óÄëíéíÄ èêéñÖëëéêÄ 7 åÉÊ
(2)  144/       0 : =C0H                TURBO_14	EQU 0XC0			;óÄëíéíÄ èêéñÖëëéêÄ 14 åÉÊ
(2)  145/       0 : =3H                 NUM_ZXSCR	EQU 3				;çéåÖê ÇàÑÖéêÖÜàåÄ Ñãü ATM èéêíÄ (ZX SCREEN)
(2)  146/       0 : =7H                 NUM_TXTSCR	EQU 7				;çéåÖê ÇàÑÖéêÖÜàåÄ Ñãü ATM èéêíÄ (éÑçéëíêÄçàóçõâ íÖäëíåéÑ)
(2)  147/       0 :                     
(2)  148/       0 :                     ;åÄëäà éíãÄÑóàäÄ
(2)  149/       0 : =80H                JMP_DBG		EQU 0X80			;ÄäíàÇÖç éíãÄÑóàä
(2)  150/       0 : =40H                TRACE_DBG	EQU 0X40			;íêÄëëàêéÇäÄ
(2)  151/       0 : =20H                STEP_DBG	EQU 0X20			;èéòÄÉéÇÄü éíãÄÑäÄ
(2)  152/       0 :                     
(2)  153/       0 : =4000H              FDI_TABLE_CYL	EQU 0X4000			;ÄÑêÖë íÄÅãàñõ çÄóÄã ÑéêéÜÖä Ç éÅêÄáÖ
(2)  154/       0 : =40FFH              FDI_PAGE_START	EQU 0X40FF			;ëåÖôÖçàÖ Ç ëíêÄçàñÄï çÄóÄãÄ ëÖäíéêéÇ éÅêÄáÄ
(2)  155/       0 : =41FEH              FDI_BYTE_SMESH	EQU 0X41FE			;ëåÖôÖçàÖ Ç ÅÄâíÄï çÄóÄãÄ éÅêÄáÄ áÄÉêìÜÖççéÉé Ç êÄåÑàëä
(2)  156/       0 : =41FFH              FDI_BLOCK_SMESH	EQU 0X41FF			;ëåÖôÖçàÖ Ç ÅãéäÄï (èé 256 ÅÄâí) çÄóÄãÄ ëÖäíéêéÇ éÅêÄáÄ
(2)  157/       0 : =4400H              FDI_IMAGE1SECT	EQU 0X4400			;ÄÑêÖë áÄÉêìáäà èÖêÇéÉé ëÖäíéêÄ Ñãü éèêÖÑÖãÖçàü ëåÖôÖçàü
(2)  158/       0 :                     
(2)  159/       0 :                     ;çéåÖêÄ üóÖÖä CMOS à àï ëéÑÖêÜàåéÖ
(2)  160/       0 : =EFH                CRCCMOSHIGH	EQU 0XEF			;ëíÄêòàâ ÅÄâí CRC CMOS
(2)  161/       0 : =EEH                CRCCMOSLOW	EQU 0XEE			;åãÄÑòàâ ÅÄâí CRC CMOS
(2)  162/       0 : =EDH                CMOS_BYTE_00	EQU 0XED			;ÄÑêÖë ïêÄçÖçàü Ç CMOS
(2)  163/       0 : =ECH                CMOS_BYTE_01	EQU 0XEC			;ÄÑêÖë ïêÄçÖçàü Ç CMOS
(2)  164/       0 : =EBH                VIRT_REAL_DRIVE	EQU 0XEB			;ïêÄçÖçàÖ çéåÖêÄ êÖÄãúçéÉé à ÇàêíìÄãúçéÉé ÑàëäéÇéÑÄ
(2)  165/       0 :                     
(2)  166/       0 : =EBH                FIRST_CRCBYTE	EQU 0XEB			;çéåÖê üóÖâäà ë äéíéêéõâ çÄóàçÄÖíëü CRC äéçíêéãú
(2)  167/       0 :                     
(2)  168/       0 :                     ;üóÖâäÄ CMOS 0XED
(2)  169/       0 : =80H                TURBO14		EQU 0X80			;êÄáêÖòÖçàÖ ÇäãûóÖçàü TURBO 14MHZ
(2)  170/       0 : =40H                EMUL_TAPE	EQU 0X40			;êÄáêÖòÖçàÖ ùåìãüñàà áÄÉêìáäà ë ãÖçíõ
(2)  171/       0 : =20H                PRINTER_AY	EQU 0X20			;êÄáêÖòÖçàÖ èéÑåÖçõ ÑêÄâÇÖêÄ èÖóÄíà Ç BASIC48
(2)  172/       0 : =10H                RELOAD_FONT	EQU 0X10			;êÄáêÖòÖçàÖ èÖêÖáÄÉêìáäà òêàîíÄ èêà ëÅêéëÖ
(2)  173/       0 : =8H                 TYPE_FONT	EQU 0X08			;ÇõÅéê äéÑàêéÇäà òêàîíÄ
(2)  174/       0 :                     
(2)  175/       0 :                     ;üóÖâäÄ CMOS 0XEC
(2)  176/       0 : =80H                TURBO357	EQU 0X80			;íìêÅé êÖÜàå 3,5 àãà 7 åÉñ
(2)  177/       0 : =40H                ACCESSSDG	EQU 0X40			;êÄáêÖòÖçàü ÑéëíìèÄ ë SD äÄêíÖ NEOGS
(2)  178/       0 : =20H                AUTOMOUNT	EQU 0X20			;Çäã/ÇõäÑ ÄÇíéåéçíàêéÇÄçàü àá îÄâãÄ
(2)  179/       0 : =10H                CLOCK_VIEW	EQU 0X10			;ïêÄçÖçàÖ éíéÅêÄÜÖçàÖ óÄëéÇ
(2)  180/       0 : =8H                 SOUNDKEYS	EQU 0X08			;êÄáêÖòÖçàÖ éáÇìóàÇÄçàü çÄÜÄíõï äãÄÇàò
(2)  181/       0 :                     
(2)  182/       0 : =4H                 KOL_MODES	EQU 4				;äéãàóÖëíÇé êÖÜàåéÇ ëÅêéëÄ
(2)  183/       0 : =3H                 MKOL_MODES	EQU 3				;åÄëäÄ Ñãü äéãàóÖëíÇÄ êÖÜàåéÇ ëÅêéëÄ
(2)  184/       0 :                     
(2)  185/       0 :                     ;çéåÖêÄ ëÅêéëéÇ, Åàíõ 1-0 üóÖâäà 0XED (CMOS_BYTE_00)
(2)  186/       0 : =0H                 RESET2EVOSERV	EQU 0				;ëÅêéë Ç EVO SERVICE
(2)  187/       0 : =1H                 RESET2GLUK	EQU 1				;ëÅêéë Ç GLUK SERVICE
(2)  188/       0 : =2H                 RESET2PROFROM	EQU 2				;ëÅêéë Ç PROFROM
(2)  189/       0 : =3H                 RESET2CUSTOM	EQU 3				;ëÅêéë Ç CUSTOM ROM
(2)  190/       0 :                     
(2)  191/       0 :                     ;èÖêÖåÖççõÖ Ñãü 0 éäçÄ èêéÖñàêéÇÄçàü
(2)  192/       0 : =13H                DEBUG_ONOFF	EQU 0X0013			;Çäã/Çõäã éíãÄÑóàäÄ
(2)  193/       0 : =14H                ADR_SEL_ROM	EQU 0X0014			;ÄÑêÖë èÖêÖäãûóÖçàü ëíêÄçàñ ROM
(2)  194/       0 : =2CH                CONT_RST8	EQU 0X002C			;ÄÑêÖë èêéÑéãÜÖçàü éÅêÄÅéíäà RST 8
(2)  195/       0 : =34H                CONTINUE_MAGIC	EQU 0X0034			;ÄÑêÖë èÖêÖïéÑÄ èêéÑéãÜÖçàü éÅêÄÅéíóàäÄ MAGIC
(2)  196/       0 : =36H                ADR_PERFECT	EQU 0X0036			;ÄÑêÖë êÄëèéãéÜÖçàü PERFECT COMANDER
(2)  197/       0 : =3EH                EI_RET		EQU 0X003E			;ÄÑêÖë êÄëèéãéÜÖçàü EI:RET
(2)  198/       0 : =40H                INST_NMIRST	EQU 0X0040			;ÄÑêÖë ìëíÄçéÇôàäÄ NMI à RST éÅêÄÅéíóàäéÇ
(2)  199/       0 : =40H                SET_MAP		EQU 0X0040			;ÄÑêÖë ìëíÄçéÇäà ëíêÄçàñ Ç éäçÄï èêéÖñàêéÇÄçàü
(2)  200/       0 : =43H                UNP_MICROBOOT	EQU 0X0043			;ÄÑêÖë êÄëèÄäéÇäà áÄèìëäÄãäà ë FAT
(2)  201/       0 : =80H                UNPACK		EQU 0X0080			;ÄÑêÖë êÄëèÄäéÇôàäÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(../../global_vars.a80) - page 7 - 12/15/2013 13:00:27


(2)  202/       0 : =C000H              START_STS	EQU 0XC000			;ÄÑêÖë ÇïéÑÄ Ç éíãÄÑóàä
(2)  203/       0 : =3CE8H              ADR_RST8END	EQU 0X3CE8			;ÄÑêÖë ÇéáÇêÄíÄ àá RST 8
(2)  204/       0 :                     
(2)  205/       0 : =2500H              OFFSET_SCRSAVE	EQU 0X4000-0X1B00		;1B00 ëåÖôÖçàÖ Ç ëíêÄçàñÖ Ñãü ëéïêÄçÖçàü ùäêÄçÄ
(2)  206/       0 :                     
(2)  207/       0 : =B800H              OFFSET_FNTSAVE	EQU CPU2+0X4000-0X800		;800 ëåÖôÖçàÖ Ç ëíêÄçàñÖ Ñãü ëéïêÄçÖçàü òêàîíÄ
(2)  208/       0 : =B000H              OFFSET_BUFSYM	EQU OFFSET_FNTSAVE-0X800	;800 ëåÖôÖçàÖ Ç ëíêÄçàñÖ íÖäìôÖÉé òêàîíÄ Ñãü MAGIC êÖÜàåÄ 
(2)  209/       0 : =AE00H              BUF_512		EQU OFFSET_BUFSYM-0X200		;200 ÅìîÖê ëÖäíéêÄ
(2)  210/       0 : =AD00H              BUF_TABLVOL	EQU BUF_512-0X100		;100 ÅìîÖê íÄÅãàñõ çÄâÑÖççõï êÄáÑÖãéÇ
(2)  211/       0 : =AC00H              BUF_TEKVOL	EQU BUF_TABLVOL-0X100		;100 ÅìîÖê ÇõÅêÄççéÉé êÄáÑÖãÄ
(2)  212/       0 : =A400H              BUF_TDIRCLS	EQU BUF_TEKVOL-0X800		;800 ÅìîÖê äãÄëíÖêéÇ íÖäìôÖâ ÑàêÖäíéêàà
(2)  213/       0 : =A300H              BUF_256		EQU BUF_TDIRCLS-0X100		;100 ÅìîÖê 256 ÅÄâí Ñãü èÖêÖçéëéÇ
(2)  214/       0 : =A200H              BUF_PATH	EQU BUF_256-0X100		;100 ÅìîÖê íÖäìôÖÉé èìíà
(2)  215/       0 : =A100H              MOUNT_DRIVES	EQU BUF_PATH-0X100		;100 ÅìîÖê éèàëÄíÖãÖâ èêàåéçíàêéÇÄççõï îÄâãéÇ
(2)  216/       0 : =A000H              BUF_LEVELDIR	EQU MOUNT_DRIVES-0X100		;200 ÅìîÖê ëéïêÄçÖçàü èéáàñàâ éäéç èêà èÖêÖïéÑÄï èé ÑàêÖäíéêàüå
(2)  217/       0 : =9C00H              BUF_WINPATH	EQU BUF_LEVELDIR-0X400		;400 ÅìîÖê ëéïêÄçÖçàü èéáàñàâ Ç éäçÖ èêà ïéÜÑÖçàà èé ÑàêÖäíéêàüå
(2)  218/       0 :                     
(2)  219/       0 :                     ;èÖêÖåÖççõÖ Ñãü åÖçÖÑÜÖêÄ ìëíêéâëíÇ
(2)  220/       0 : =ADE0H              DEVICES		EQU BUF_TABLVOL+0XE0		;10 ëèàëéä éÅçÄêìÜÖççõï ÑÖÇÄâëéÇ
(2)  221/       0 : =ADF0H              GO_DEV		EQU DEVICES+0X10		;2 ÄÑêÖë ÇõáéÇÄ ÑêÄâÇÖêÄ ìëíêéâëíÇÄ
(2)  222/       0 : =ADF2H              KOLDVOL		EQU GO_DEV+2			;1 äéãàóÖëíÇé çÄâÑÖççõï êÄáÑÖãéÇ
(2)  223/       0 : =ADF3H              SETDVOL		EQU KOLDVOL+1			;1 çéåÖê ÇõÅêÄççéÉé êÄáÑÖãÄ
(2)  224/       0 : =ADF4H              ADRTEKV		EQU SETDVOL+1			;2 ÄÑêÖë éèàëÄíÖãü íÖäìôÖÉé êÄáÑÖãÄ
(2)  225/       0 : =ADF6H              SAVE_TEK_VOL	EQU ADRTEKV+2			;1 ÇêÖåÖççéÖ ëéïêÄçÖçàÖ íÖäìôÖÉé êÄáÑÖãÄ
(2)  226/       0 : =ADF7H              TEK_TYPE	EQU SAVE_TEK_VOL+1		;1 ÇêÖåÖççéÖ ïêÄçÖçàÖ íàèÄ íÖäìôÖÉé ìëíêéâëíÇÄ
(2)  227/       0 : =ADF8H              FLAGS_DRV	EQU TEK_TYPE+1			;1 îãÄÉéÇõâ ÅÄâí ÑêÄâÇÖêéÇ
(2)  228/       0 :                     ;7 =0-ÑêÄâÇÖê SD äÄêíõ NEOGS çÖ ìëíÄçéÇãÖç, =1-çÖ ìëíÄçéÇãÖç
(2)  229/       0 :                     ;6
(2)  230/       0 :                     ;5
(2)  231/       0 :                     ;4
(2)  232/       0 :                     ;3
(2)  233/       0 :                     ;2
(2)  234/       0 :                     ;1 =0-SD ZC äÄêíÄ çÖ éÅçÄêìÜÖçÄ, 1-éÅçÄêìÜÖçÄ
(2)  235/       0 :                     ;0 =0-SD NeoGS çÖ éÅçÄêìÜÖçÄ, 1-éÅçÄêìÜÖçÄ
(2)  236/       0 : =ADFEH              CRC_DRVS	EQU BUF_TABLVOL+0XFE		;2 äéçíêéãúçÄü ëìååÄ íÄÅãàñõ çÄâÑÖççõï êÄáÑÖãéÇ
(2)  237/       0 :                     
(2)  238/       0 :                     ;èÖêÖåÖççõÖ Ñãü 1 éäçÄ èêéÖñàêéÇÄçàü
(2)  239/       0 : =0H                 BUF_ALLVOL	EQU 0				;1000 ÅìîÖê èÖêÖåÖççõï Ñãü ÇëÖï êÄáÑÖãéÇ (16 MAX)
(2)  240/       0 : =1000H              MOUNT_CLS	EQU BUF_ALLVOL+0X1000		;1000 ÅìîÖê äãÄëíÖêéÇ èêàåéçíàêéÇÄççõï îÄâãéÇ
(2)  241/       0 : =2000H              TEK_BUFPATH	EQU MOUNT_CLS+0X1000		;1000 ÅìîÖê íÖäìôàï èìíÖâ çÄ êÄáÑÖãÄï
(2)  242/       0 : =3000H              BUF_PATHMOUNT	EQU TEK_BUFPATH+0X1000		;400 ÅìîÖê èìíÖâ Ñãü èéàëäÄ èêàåéçíàêéÇÄççõï îÄâãéÇ
(2)  243/       0 : =3400H              BUF_DIRCEP	EQU BUF_PATHMOUNT+0X400		;100 ÅìîÖê ñÖèéóäà íÖäìôÖâ ÑàêÖäíéêàà
(2)  244/       0 : =3500H              BUF_TEMPSEC	EQU BUF_DIRCEP+0X100		;200 ÅìîÖê ëÖäíéêÄ Ñãü áÄÉêìáäà éÅêÄáéÇ
(2)  245/       0 :                     
(1)    7/       0 :                     		include bas_trd_vars.a80
(2)    1/       0 :                     
(2)    2/       0 :                     ;LAST UPDATE: 13.09.2012 savelij
(2)    3/       0 :                     
(2)    4/       0 : =5B00H              SWAP		EQU 0X5B00
(2)    5/       0 : =5B08H              SWAP_8		EQU 0X5B08
(2)    6/       0 : =5B5CH              BANKM		EQU 0X5B5C
(2)    7/       0 : =5BFFH              TSTACK_END	EQU 0X5BFF
(2)    8/       0 :                     
(2)    9/       0 : =5C00H              KSTATE0		EQU 0X5C00
(2)   10/       0 : =5C01H              KSTATE1		EQU 0X5C01
(2)   11/       0 : =5C09H              REPDEL		EQU 0X5C09
(2)   12/       0 : =5C10H              STRMS		EQU 0X5C10
(2)   13/       0 : =5C36H              CHARS		EQU 0X5C36
(2)   14/       0 : =5C38H              RASP		EQU 0X5C38
(2)   15/       0 : =5C3AH              ERR_NR		EQU 0X5C3A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(bas_trd_vars.a80) - page 8 - 12/15/2013 13:00:27


(2)   16/       0 : =5C3BH              FLAGS		EQU 0X5C3B
(2)   17/       0 : =5C3CH              TV_FLAG		EQU 0X5C3C
(2)   18/       0 : =5C3DH              ERR_SP		EQU 0X5C3D
(2)   19/       0 : =5C42H              NEWPPC		EQU 0X5C42
(2)   20/       0 : =5C44H              NSPPS		EQU 0X5C44
(2)   21/       0 : =5C45H              PPC		EQU 0X5C45
(2)   22/       0 : =5C48H              BORDCR		EQU 0X5C48
(2)   23/       0 : =5C4BH              VARS		EQU 0X5C4B
(2)   24/       0 : =5C4FH              CHANS		EQU 0X5C4F
(2)   25/       0 : =5C51H              CURCHL		EQU 0X5C51
(2)   26/       0 : =5C53H              PROG		EQU 0X5C53
(2)   27/       0 : =5C55H              NXTLIN		EQU 0X5C55
(2)   28/       0 : =5C57H              DATADD		EQU 0X5C57
(2)   29/       0 : =5C59H              E_LINE		EQU 0X5C59		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(2)   30/       0 : =5C5BH              K_CUR		EQU 0X5C5B
(2)   31/       0 : =5C5DH              CH_ADD		EQU 0X5C5D
(2)   32/       0 : =5C61H              WORKSP		EQU 0X5C61
(2)   33/       0 : =5C63H              STKBOT		EQU 0X5C63
(2)   34/       0 : =5C65H              STKEND		EQU 0X5C65
(2)   35/       0 : =5C6BH              DF_SZ		EQU 0X5C6B
(2)   36/       0 : =5C7BH              UDG		EQU 0X5C7B
(2)   37/       0 : =5C81H              NOT_USED	EQU 0X5C81		;ëíÄêòàâ ÅÄâí ÄÑêÖëÄ ÅìîÖêÄ èêàçíÖêÄ
(2)   38/       0 : =5C82H              ECHO_E		EQU 0X5C82
(2)   39/       0 : =5C8AH              SPONSL		EQU 0X5C8A
(2)   40/       0 : =5C8DH              ATTR_P		EQU 0X5C8D
(2)   41/       0 : =5C8FH              ATTR_T		EQU 0X5C8F
(2)   42/       0 : =5C92H              MEMBOT		EQU 0X5C92
(2)   43/       0 : =5CB2H              RAMTOP		EQU 0X5CB2
(2)   44/       0 : =5CB4H              P_RAMT		EQU 0X5CB4
(2)   45/       0 :                     
(2)   46/       0 : =5CB6H              TRD_5CB6	EQU 0X5CB6
(2)   47/       0 : =5CC2H              TRD_5CC2	EQU 0X5CC2		; ëéÑÖêÜàí C9. Ñãü èÖêÖïéÑÄ àá TR-DOS Ç	BASIC
(2)   48/       0 : =5CC3H              TRD_5CC3	EQU 0X5CC3
(2)   49/       0 : =5CC6H              TRD_5CC6	EQU 0X5CC6		;ÄÑêÖë áÄèìëäÄ Ñãü äéåÄçÑõ RUN "FILENAME" CODE ÄÑêÖë áÄèìëäÄ
(2)   50/       0 : =5CC8H              TRD_5CC8	EQU 0X5CC8		; êÖÜàå	êÄÅéíÄ ÑàëäéÇéÑÄ A
(2)   51/       0 : =5CC9H              TRD_5CC9	EQU 0X5CC9		; êÖÜàå	êÄÅéíÄ ÑàëäéÇéÑÄ B
(2)   52/       0 : =5CCAH              TRD_5CCA	EQU 0X5CCA		; êÖÜàå	êÄÅéíÄ ÑàëäéÇéÑÄ C
(2)   53/       0 : =5CCBH              TRD_5CCB	EQU 0X5CCB		; êÖÜàå	êÄÅéíÄ ÑàëäéÇéÑÄ D
(2)   54/       0 : =5CCCH              TRD_5CCC	EQU 0X5CCC		; íÖäìôàâ çéåÖê	ëÖäíéêÄ	èêà óíÖçàà äÄíÄãéÉÄ
(2)   55/       0 : =5CCDH              TRD_5CCD	EQU 0X5CCD		; 80-ÉéíéÇçéëíú ÑàëäéÇéÑÄ
(2)   56/       0 : =5CCEH              TRD_5CCE	EQU 0X5CCE		; 00-óíÖçàÖ ëÖäíéêÄ,#FF-áÄèàëú	ëÖäíéêÄ
(2)   57/       0 : =5CCFH              TRD_5CCF	EQU 0X5CCF		; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(2)   58/       0 : =5CD1H              TRD_5CD1	EQU 0X5CD1
(2)   59/       0 : =5CD2H              TRD_5CD2	EQU 0X5CD2
(2)   60/       0 : =5CD3H              TRD_5CD3	EQU 0X5CD3
(2)   61/       0 : =5CD4H              TRD_5CD4	EQU 0X5CD4
(2)   62/       0 : =5CD5H              TRD_5CD5	EQU 0X5CD5
(2)   63/       0 : =5CD6H              TRD_5CD6	EQU 0X5CD6		; FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(2)   64/       0 : =5CD7H              TRD_5CD7	EQU 0X5CD7		; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(2)   65/       0 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(2)   66/       0 : =5CD8H              TRD_5CD8	EQU 0X5CD8
(2)   67/       0 : =5CD9H              TRD_5CD9	EQU 0X5CD9		; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(2)   68/       0 : =5CDAH              TRD_5CDA	EQU 0X5CDA
(2)   69/       0 : =5CDBH              TRD_5CDB	EQU 0X5CDB
(2)   70/       0 : =5CDCH              TRD_5CDC	EQU 0X5CDC
(2)   71/       0 : =5CDDH              TRD_5CDD	EQU 0X5CDD		; àåü îÄâãÄ
(2)   72/       0 : =5CDFH              TRD_5CDF	EQU 0X5CDF
(2)   73/       0 : =5CE1H              TRD_5CE1	EQU 0X5CE1
(2)   74/       0 : =5CE3H              TRD_5CE3	EQU 0X5CE3
(2)   75/       0 : =5CE5H              TRD_5CE5	EQU 0X5CE5		; êÄëòàêÖçàÖ îÄâãÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(bas_trd_vars.a80) - page 9 - 12/15/2013 13:00:27


(2)   76/       0 : =5CE6H              TRD_5CE6	EQU 0X5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(2)   77/       0 : =5CE7H              TRD_5CE7	EQU 0X5CE7
(2)   78/       0 : =5CE8H              TRD_5CE8	EQU 0X5CE8		; ÑãàçÄ	èêéÉêÄååõ
(2)   79/       0 : =5CE9H              TRD_5CE9	EQU 0X5CE9
(2)   80/       0 : =5CEAH              TRD_5CEA	EQU 0X5CEA		; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(2)   81/       0 : =5CEBH              TRD_5CEB	EQU 0X5CEB		; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(2)   82/       0 : =5CEDH              TRD_5CED	EQU 0X5CED		; çéåÖê	èÖêÇéÉé	íêÖäÄ îÄâãÄ
(2)   83/       0 : =5CEFH              TRD_5CEF	EQU 0X5CEF		; ëéÑÖêÜàí 1 Öëãà Öëíú INTERFACE1
(2)   84/       0 : =5CF1H              TRD_5CF1	EQU 0X5CF1
(2)   85/       0 : =5CF2H              TRD_5CF2	EQU 0X5CF2
(2)   86/       0 : =5CF4H              TRD_5CF4	EQU 0X5CF4
(2)   87/       0 : =5CF5H              TRD_5CF5	EQU 0X5CF5
(2)   88/       0 : =5CF6H              TRD_5CF6	EQU 0X5CF6		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(2)   89/       0 : =5CF7H              TRD_5CF7	EQU 0X5CF7
(2)   90/       0 : =5CF8H              TRD_5CF8	EQU 0X5CF8		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(2)   91/       0 : =5CF9H              TRD_5CF9	EQU 0X5CF9		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(2)   92/       0 : =5CFAH              TRD_5CFA	EQU 0X5CFA		; ÇêÖåü	èÖêÖåÖôÖçàü ÑàëäéÇéÑÄ A
(2)   93/       0 : =5CFBH              TRD_5CFB	EQU 0X5CFB		; ÇêÖåü	èÖêÖåÖôÖçàü ÑàëäéÇéÑÄ B
(2)   94/       0 : =5CFCH              TRD_5CFC	EQU 0X5CFC		; ÇêÖåü	èÖêÖåÖôÖçàü ÑàëäéÇéÑÄ C
(2)   95/       0 : =5CFDH              TRD_5CFD	EQU 0X5CFD		; ÇêÖåü	èÖêÖåÖôÖçàü ÑàëäéÇéÑÄ D
(2)   96/       0 : =5CFEH              TRD_5CFE	EQU 0X5CFE
(2)   97/       0 : =5CFFH              TRD_5CFF	EQU 0X5CFF
(2)   98/       0 : =5D00H              TRD_5D00	EQU 0X5D00
(2)   99/       0 : =5D02H              TRD_5D02	EQU 0X5D02
(2)  100/       0 : =5D04H              TRD_5D04	EQU 0X5D04
(2)  101/       0 : =5D06H              TRD_5D06	EQU 0X5D06		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(2)  102/       0 : =5D07H              TRD_5D07	EQU 0X5D07		; ëóÖíóàä ìÑÄãÖççõï îÄâãéÇ
(2)  103/       0 : =5D08H              TRD_5D08	EQU 0X5D08		; èÖêÇõâ ëàåÇéã	àåÖçà îÄâãÄ
(2)  104/       0 : =5D09H              TRD_5D09	EQU 0X5D09
(2)  105/       0 : =5D0CH              TRD_5D0C	EQU 0X5D0C
(2)  106/       0 : =5D0DH              TRD_5D0D	EQU 0X5D0D
(2)  107/       0 : =5D0EH              TRD_5D0E	EQU 0X5D0E		; FE-êÄÅéíÄÖí BASIC,àçÄóÖ TR-DOS
(2)  108/       0 : =5D0FH              TRD_5D0F	EQU 0X5D0F		; çéåÖê	éòàÅäà TR-DOS
(2)  109/       0 : =5D10H              TRD_5D10	EQU 0X5D10		; ëíÄêòàâ ÅÄâí éòàÅäà
(2)  110/       0 : =5D11H              TRD_5D11	EQU 0X5D11		; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(2)  111/       0 : =5D13H              TRD_5D13	EQU 0X5D13		; äéèàü	ERR_SP
(2)  112/       0 : =5D15H              TRD_5D15	EQU 0X5D15		; Öëãà 0,èÖóÄíÄíú òÄèäì	TR-DOS.àçÄóÖ çÖ	èÖóÄíÄíú
(2)  113/       0 : =5D16H              TRD_5D16	EQU 0X5D16		; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí FF)
(2)  114/       0 : =5D17H              TRD_5D17	EQU 0X5D17		; êàëéÇÄçàÖ áÄëíÄÇäà, Öëãà AA
(2)  115/       0 : =5D18H              TRD_5D18	EQU 0X5D18
(2)  116/       0 : =5D19H              TRD_5D19	EQU 0X5D19		; ÑàëäéÇéÑ èé ìåéãóÄçàû
(2)  117/       0 : =5D1AH              TRD_5D1A	EQU 0X5D1A		; ÇçìíêÖççàâ ÄÑêÖë áÄÇÖêòÖçàü àçíÖêèêÖíÄíéêÄ äéåÄçÑ
(2)  118/       0 : =5D1CH              TRD_5D1C	EQU 0X5D1C		; ëéïêÄçÖçàÖ êÖÉàëíêÄ SP
(2)  119/       0 : =5D1EH              TRD_5D1E	EQU 0X5D1E
(2)  120/       0 : =5D1FH              TRD_5D1F	EQU 0X5D1F
(2)  121/       0 : =5D20H              TRD_5D20	EQU 0X5D20		; Ñãü ëéïêÄçÖçàü 3 ëàåÇéãéÇ ÇÇÖÑÖçéâ ëíêéäà
(2)  122/       0 : =5D21H              TRD_5D21	EQU 0X5D21
(2)  123/       0 : =5D23H              TRD_5D23	EQU 0X5D23
(2)  124/       0 : =5D25H              TRD_5D25	EQU 0X5D25		;ÅìîÖê óíÖçàü ëÖäíéêÄ ÑàëäÄ
(2)  125/       0 : =5D26H              TRD_5D26	EQU 0X5D26
(2)  126/       0 : =5D33H              TRD_5D33	EQU 0X5D33
(2)  127/       0 :                     
(2)  128/       0 : =5E06H              TRD_5E06	EQU 0X5E06
(2)  129/       0 : =5E07H              TRD_5E07	EQU 0X5E07
(2)  130/       0 : =5E08H              TRD_5E08	EQU 0X5E08
(2)  131/       0 : =5E09H              TRD_5E09	EQU 0X5E09
(2)  132/       0 : =5E0AH              TRD_5E0A	EQU 0X5E0A
(2)  133/       0 : =5E0CH              TRD_5E0C	EQU 0X5E0C
(2)  134/       0 : =5E0FH              TRD_5E0F	EQU 0X5E0F
(2)  135/       0 : =5E10H              TRD_5E10	EQU 0X5E10
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(bas_trd_vars.a80) - page 10 - 12/15/2013 13:00:27


(2)  136/       0 : =5E19H              TRD_5E19	EQU 0X5E19
(2)  137/       0 : =5E1AH              TRD_5E1A	EQU 0X5E1A
(2)  138/       0 : =5E34H              TRD_5E34	EQU 0X5E34
(2)  139/       0 : =5F00H              TRD_5F00	EQU 0X5F00
(2)  140/       0 : =5F10H              TRD_5F10	EQU 0X5F10
(2)  141/       0 : =5F12H              TRD_5F12	EQU 0X5F12
(2)  142/       0 :                     
(1)    8/       0 :                     
(1)    9/       0 :                     ;		     0123456789012345678
(1)   10/       0 : = EVO-DOS Ve..      NUMBER_VERS	EQU " EVO-DOS Ver 0.36  "
(1)   11/       0 : =7H                 ZASTV_X		EQU 7					;äééêÑàçÄíÄ X èÖóÄíà çÄÑèàëà BETA128
(1)   12/       0 : =6H                 ZASTV_Y		EQU 6					;äééêÑàçÄíÄ Y èÖóÄíà çÄÑèàëà BETA128
(1)   13/       0 : =40D0H              ZASTV_PIX	EQU ZASTV_Y*0X20+0X4000+ZASTV_X+9	;ÄÑêÖë ÇõÇéÑÄ ëäéòÖççõï ìÉéãäéÇ
(1)   14/       0 : =58C7H              ZASTV_ATR	EQU ZASTV_Y*0X20+0X5800+ZASTV_X		;ÄÑêÖë ÇõÇéÑÄ ñÇÖíÄ Ñãü ëäéòÖççõï ìÉéãäéÇ
(1)   15/       0 :                     
(1)   16/       0 :                     		ORG 0X0000
(1)   17/       0 : F3                  		DI
(1)   18/       1 : 3E 07               		LD A,7
(1)   19/       3 : D3 FE               		OUT (0XFE),A
(1)   20/       5 : 18 04               		JR LOC_09
(1)   21/       7 :                     
(1)   22/       7 : 01                  		DB 1				;áÄÉãìòäÄ Ñãü DCU
(1)   23/       8 :                     
(1)   24/       8 : C3 39 32            		JP DOS2RST8			;RST 08
(1)   25/       B :                     
(1)   26/       B : 3E 3F               LOC_09		LD A,0X3F
(1)   27/       D : 18 14               		JR LOC_24
(1)   28/       F :                     
(1)   29/       F : (MACRO)             		DUPL 0X0010-$,0XFF
(1)   29/       F :                     DUPL:
(1)   29/       F : =0H                 $$N             EQU (0X0010-$) / 1024
(1)   29/       F : =1H                 $$M             EQU (0X0010-$) # 1024
(1)   29/       F :                                     REPT $$N
(1)   29/       F :                                     DB 1024 DUP(0XFF)
(1)   29/       F :                                     ENDM
(1)   29/       F : =>TRUE                              IF $$M <> 0
(1)   29/       F : FF                                  DB $$M DUP(0XFF)
(1)   29/      10 : [29]                                ENDIF
(1)   30/      10 : C3 BC 1D            		JP PRINT_A_			;RST 10 èÖóÄíú ëàåÇéãÄ
(1)   31/      13 :                     
(1)   32/      13 : (MACRO)             		DUPL ADR_SEL_ROM-$,0XFF
(1)   32/      13 :                     DUPL:
(1)   32/      13 : =0H                 $$N             EQU (ADR_SEL_ROM-$) / 1024
(1)   32/      13 : =1H                 $$M             EQU (ADR_SEL_ROM-$) # 1024
(1)   32/      13 :                                     REPT $$N
(1)   32/      13 :                                     DB 1024 DUP(0XFF)
(1)   32/      13 :                                     ENDM
(1)   32/      13 : =>TRUE                              IF $$M <> 0
(1)   32/      13 : FF                                  DB $$M DUP(0XFF)
(1)   32/      14 : [32]                                ENDIF
(1)   33/      14 : ED 79               LOC_14		OUT (C),A
(1)   34/      16 : 00                  		NOP
(1)   35/      17 : C9                  		RET
(1)   36/      18 :                     
(1)   37/      18 : (MACRO)             		DUPL 0X0018-$,0XFF
(1)   37/      18 :                     DUPL:
(1)   37/      18 : =0H                 $$N             EQU (0X0018-$) / 1024
(1)   37/      18 : =0H                 $$M             EQU (0X0018-$) # 1024
(1)   37/      18 :                                     REPT $$N
(1)   37/      18 :                                     DB 1024 DUP(0XFF)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 11 - 12/15/2013 13:00:27


(1)   37/      18 :                                     ENDM
(1)   37/      18 : =>FALSE                             IF $$M <> 0
(1)   37/      18 :                                     DB $$M DUP(0XFF)
(1)   37/      18 : [37]                                ENDIF
(1)   38/      18 : C3 D3 26            		JP PRINT_MSG			;RST 18 èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1)   39/      1B :                     
(1)   40/      1B : (MACRO)             		DUPL 0X0020-$,0XFF
(1)   40/      1B :                     DUPL:
(1)   40/      1B : =0H                 $$N             EQU (0X0020-$) / 1024
(1)   40/      1B : =5H                 $$M             EQU (0X0020-$) # 1024
(1)   40/      1B :                                     REPT $$N
(1)   40/      1B :                                     DB 1024 DUP(0XFF)
(1)   40/      1B :                                     ENDM
(1)   40/      1B : =>TRUE                              IF $$M <> 0
(1)   40/      1B : FF FF FF FF FF                      DB $$M DUP(0XFF)
(1)   40/      20 : [40]                                ENDIF
(1)   41/      20 : C3 6F 2F            		JP CALL2BASIC			;RST 20 ÇõáéÇ èéÑèêéÉêÄåå àá ÅÄëàäÄ 48
(1)   42/      23 :                     
(1)   43/      23 : 21 FF FF            LOC_24		LD HL,0XFFFF
(1)   44/      26 : 18 03               		JR LOC_2B
(1)   45/      28 :                     
(1)   46/      28 : C3 FF 22            		JP SUB_2323			;RST 28
(1)   47/      2B :                     
(1)   48/      2B : ED 47               LOC_2B		LD I,A
(1)   49/      2D : AF                  		XOR A
(1)   50/      2E : 18 03               		JR LOC_33
(1)   51/      30 :                     
(1)   52/      30 : C3 3E 0A            		JP RST08_WORK			;RST 30
(1)   53/      33 :                     
(1)   54/      33 : F9                  LOC_33		LD SP,HL
(1)   55/      34 : 47                  		LD B,A
(1)   56/      35 : 4F                  		LD C,A
(1)   57/      36 : 18 02               		JR LOC_3A
(1)   58/      38 :                     
(1)   59/      38 : (MACRO)             		DUPL 0X0038-$,0XFF
(1)   59/      38 :                     DUPL:
(1)   59/      38 : =0H                 $$N             EQU (0X0038-$) / 1024
(1)   59/      38 : =0H                 $$M             EQU (0X0038-$) # 1024
(1)   59/      38 :                                     REPT $$N
(1)   59/      38 :                                     DB 1024 DUP(0XFF)
(1)   59/      38 :                                     ENDM
(1)   59/      38 : =>FALSE                             IF $$M <> 0
(1)   59/      38 :                                     DB $$M DUP(0XFF)
(1)   59/      38 : [59]                                ENDIF
(1)   60/      38 : FB                  		EI				;RST 38
(1)   61/      39 : C9                  		RET
(1)   62/      3A :                     
(1)   63/      3A :                     LOC_3A		REPT 8
(1)   64/      3A :                     		PUSH BC
(1)   65/      3A :                     		ENDM
(1)   64/      3A : C5                  		PUSH BC
(1)   64/      3B : C5                  		PUSH BC
(1)   64/      3C : C5                  		PUSH BC
(1)   64/      3D : C5                  		PUSH BC
(1)   64/      3E : C5                  		PUSH BC
(1)   64/      3F : C5                  		PUSH BC
(1)   64/      40 : C5                  		PUSH BC
(1)   64/      41 : C5                  		PUSH BC
(1)   66/      42 : 21 00 A5            		LD HL,0XA500
(1)   67/      45 : 39                  		ADD HL,SP
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 12 - 12/15/2013 13:00:27


(1)   68/      46 : 38 F2               		JR C,LOC_3A
(1)   69/      48 : 22 B4 5C            		LD (P_RAMT),HL
(1)   70/      4B : 11 AF 3E            		LD DE,0X3EAF
(1)   71/      4E : 01 A8 00            		LD BC,0XA8
(1)   72/      51 : 7B                  		LD A,E
(1)   73/      52 : EB                  		EX DE,HL
(1)   74/      53 : 31 00 60            		LD SP,0X6000
(1)   75/      56 : 22 00 5F            		LD (TRD_5F00),HL
(1)   76/      59 : 21 79 00            		LD HL,LOC_79
(1)   77/      5C : E5                  		PUSH HL
(1)   78/      5D : 21 2F 3D            		LD HL,LOC_3D2F
(1)   79/      60 : E5                  		PUSH HL
(1)   80/      61 : 21 ED B8            		LD HL,0XB8ED			;äéåÄçÑÄ LDDR
(1)   81/      64 : 18 03               		JR EXECUTECOM2HL
(1)   82/      66 :                     
(1)   83/      66 : (MACRO)             		DUPL 0X0066-$,0XFF
(1)   83/      66 :                     DUPL:
(1)   83/      66 : =0H                 $$N             EQU (0X0066-$) / 1024
(1)   83/      66 : =0H                 $$M             EQU (0X0066-$) # 1024
(1)   83/      66 :                                     REPT $$N
(1)   83/      66 :                                     DB 1024 DUP(0XFF)
(1)   83/      66 :                                     ENDM
(1)   83/      66 : =>FALSE                             IF $$M <> 0
(1)   83/      66 :                                     DB $$M DUP(0XFF)
(1)   83/      66 : [83]                                ENDIF
(1)   84/      66 : 00                  		NOP				;éÅêÄÅéíóàä NMI-éíëìëíÇìÖí
(1)   85/      67 : ED 45               		RETN
(1)   86/      69 :                     
(1)   87/      69 : 22 10 5F            EXECUTECOM2HL	LD (TRD_5F10),HL
(1)   88/      6C : F5                  		PUSH AF
(1)   89/      6D : 3E C9               		LD A,0XC9
(1)   90/      6F : 32 12 5F            		LD (TRD_5F12),A
(1)   91/      72 : F1                  		POP AF
(1)   92/      73 : 2A 00 5F            		LD HL,(TRD_5F00)
(1)   93/      76 : C3 10 5F            		JP TRD_5F10
(1)   94/      79 :                     
(1)   95/      79 : EB                  LOC_79		EX DE,HL
(1)   96/      7A : 22 B2 5C            		LD (RAMTOP),HL
(1)   97/      7D : 23                  		INC HL
(1)   98/      7E : 22 7B 5C            		LD (UDG),HL
(1)   99/      81 : 2B                  		DEC HL
(1)  100/      82 : 36 3E               		LD (HL),0X3E
(1)  101/      84 : 2B                  		DEC HL
(1)  102/      85 : F9                  		LD SP,HL
(1)  103/      86 : 2B                  		DEC HL
(1)  104/      87 : 2B                  		DEC HL
(1)  105/      88 : 22 3D 5C            		LD (ERR_SP),HL
(1)  106/      8B : 21 40 00            		LD HL,0X40		;çÄÑéÖã ùíéí èàëä èé ëÅêéëì
(1)  107/      8E : 22 38 5C            		LD (RASP),HL
(1)  108/      91 : 21 00 3C            		LD HL,0X3C00
(1)  109/      94 : 22 36 5C            		LD (CHARS),HL
(1)  110/      97 : 11 03 13            		LD DE,0X1303
(1)  111/      9A : D5                  		PUSH DE
(1)  112/      9B : ED 56               		IM 1
(1)  113/      9D : FD 21 3A 5C         		LD IY,ERR_NR
(1)  114/      A1 : 21 B6 5C            		LD HL,TRD_5CB6		; Ñãü èêéÇÖêäà çÄãàóàü INTERFACE1
(1)  115/      A4 : 22 4F 5C            		LD (CHANS),HL
(1)  116/      A7 : 11 AF 15            		LD DE,0X15AF
(1)  117/      AA : 01 15 00            		LD BC,0X15
(1)  118/      AD : EB                  		EX DE,HL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 13 - 12/15/2013 13:00:27


(1)  119/      AE : CD 13 01            		CALL COPY_BAS2VARS
(1)  120/      B1 : EB                  		EX DE,HL
(1)  121/      B2 : 2B                  		DEC HL
(1)  122/      B3 : 22 57 5C            		LD (DATADD), HL
(1)  123/      B6 : 23                  		INC HL
(1)  124/      B7 : 22 53 5C            		LD (PROG),HL
(1)  125/      BA : 22 4B 5C            		LD (VARS),HL
(1)  126/      BD : 36 80               		LD (HL),0X80
(1)  127/      BF : 23                  		INC HL
(1)  128/      C0 : 22 59 5C            		LD (E_LINE),HL		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1)  129/      C3 : 36 0D               		LD (HL),0X0D
(1)  130/      C5 : 23                  		INC HL
(1)  131/      C6 : 36 80               		LD (HL),0X80
(1)  132/      C8 : 23                  		INC HL
(1)  133/      C9 : 22 61 5C            		LD (WORKSP),HL
(1)  134/      CC : 22 63 5C            		LD (STKBOT),HL
(1)  135/      CF : 22 65 5C            		LD (STKEND),HL
(1)  136/      D2 : 3E 38               		LD A,0X38
(1)  137/      D4 : 32 8D 5C            		LD (ATTR_P),A
(1)  138/      D7 : 32 8F 5C            		LD (ATTR_T),A
(1)  139/      DA : 32 48 5C            		LD (BORDCR),A
(1)  140/      DD : 21 23 02            		LD HL,0X0223;0X0523
(1)  141/      E0 : 22 09 5C            		LD (REPDEL),HL
(1)  142/      E3 : FD 35 C6            		DEC (IY-0X3A)
(1)  143/      E6 : FD 35 CA            		DEC (IY-0X36)
(1)  144/      E9 : 21 C6 15            		LD HL,0X15C6
(1)  145/      EC : 11 10 5C            		LD DE,STRMS
(1)  146/      EF : 01 0E 00            		LD BC,0X0E
(1)  147/      F2 : CD 13 01            		CALL COPY_BAS2VARS
(1)  148/      F5 : FD CB 01 CE         		SET 1,(IY+1)
(1)  149/      F9 : 21 C2 5C            		LD HL,TRD_5CC2		; ëéÑÖêÜàí #C9.Ñãü èÖêÖïéÑÄ àá TR-DOS Ç	BASIC
(1)  150/      FC : 36 C9               		LD (HL),0XC9
(1)  151/      FE : E7                  		RST 0X20
(1)  152/      FF : DF 0E               		DW 0X0EDF		; éóàëíäÄ ÅìîÖêÄ èêàçíÖêÄ
(1)  153/     101 : 21 6B 5C            		LD HL,DF_SZ		;äéãàóÖëíÇé ëíêéä Ç ëãìÜÖÅçéå ùäêÄçÖ
(1)  154/     104 : 36 02               		LD (HL),2
(1)  155/     106 : 21 8B 12            		LD HL,0X128B
(1)  156/     109 : E5                  		PUSH HL
(1)  157/     10A : 3E AA               		LD A,0XAA
(1)  158/     10C : 32 81 5C            		LD (NOT_USED),A
(1)  159/     10F : FB                  		EI
(1)  160/     110 : C3 31 3D            		JP IN_DOS_15616
(1)  161/     113 :                     
(1)  162/     113 : 22 00 5F            COPY_BAS2VARS	LD (TRD_5F00),HL
(1)  163/     116 : 21 2F 3D            		LD HL,LOC_3D2F
(1)  164/     119 : E5                  		PUSH HL
(1)  165/     11A : 21 ED B0            		LD HL,0XB0ED		;äéåÄçÑÄ LDIR
(1)  166/     11D : 22 10 5F            		LD (TRD_5F10),HL
(1)  167/     120 : 2A 00 5F            		LD HL,(TRD_5F00)
(1)  168/     123 : C3 10 5F            		JP TRD_5F10
(1)  169/     126 :                     
(1)  170/     126 :                     ;éÅêÄÅéíäÄ çéåÖêÄ ëíêéäà ÄÇíéëíÄêíÄ èêéÉêÄååõ çÄ ÅÖâëàäÖ
(1)  171/     126 : CD E6 20            WORK4AUTORUN	CALL DELETE_BUF		;ìÑÄãÖçàÖ ÅìîÖêÄ, Öëãà äÄçÄã çÖ éíäêõí
(1)  172/     129 : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1)  173/     12C : 2A 59 5C            		LD HL,(E_LINE)		;ÄÑêÖë éíäìÑÄ Çáüíú çéåÖê ëíêéäà ÄÇíéëíÄêíÄ
(1)  174/     12F : 23                  		INC HL
(1)  175/     130 : 5E                  		LD E,(HL)
(1)  176/     131 : 23                  		INC HL
(1)  177/     132 : 56                  		LD D,(HL)		;èéãìóàãà çéåÖê ëíêéäà ÄÇíéëíÄêíÄ
(1)  178/     133 : 7A                  		LD A,D
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 14 - 12/15/2013 13:00:27


(1)  179/     134 : B3                  		OR E
(1)  180/     135 : EB                  		EX DE,HL
(1)  181/     136 : 28 04               		JR Z,LOC_140		;Öëãà çéåÖê ëíêéäà =0, íé ÅÖá ÄÇíéáÄèìëäÄ
(1)  182/     138 : AF                  		XOR A
(1)  183/     139 : 32 10 5D            		LD (TRD_5D10),A		; ëíÄêòàâ ÅÄâí éòàÅäà
(1)  184/     13C : E5                  LOC_140		PUSH HL
(1)  185/     13D : CD 32 02            		CALL RESTORE_SP		; ÇéëëíÄçéÇãÖçàÖ èÖêÖïÇÄíóàäÄ éòàÅéä
(1)  186/     140 : E1                  		POP HL
(1)  187/     141 : 22 42 5C            		LD (NEWPPC),HL
(1)  188/     144 : AF                  		XOR A
(1)  189/     145 : 32 44 5C            		LD (NSPPS),A
(1)  190/     148 : E7                  		RST 0X20
(1)  191/     149 : B0 16               		DW 0X16B0		; ìëíÄçéÇäÄ éÅãÄëíà êÖÑÄäíàêéÇÄçàü Ñé åàçàåìåÄ
(1)  192/     14B : 2A 53 5C            		LD HL,(PROG)
(1)  193/     14E : 2B                  		DEC HL
(1)  194/     14F : 22 57 5C            		LD (DATADD),HL
(1)  195/     152 : ED 7B 3D 5C         		LD SP,(ERR_SP)
(1)  196/     156 : 3A 10 5D            		LD A,(TRD_5D10)		; ëíÄêòàâ ÅÄâí éòàÅäà
(1)  197/     159 : B7                  		OR A
(1)  198/     15A : 21 76 1B            		LD HL,0X1B76
(1)  199/     15D : 28 03               		JR Z,LOC_166
(1)  200/     15F : E7                  		RST 0X20
(1)  201/     160 : B0 1B               		DW 0X1BB0		; ëééÅôÖçàÖ "OK"
(1)  202/     162 : E5                  LOC_166		PUSH HL
(1)  203/     163 : C3 C2 5C            		JP TRD_5CC2
(1)  204/     166 :                     
(1)  205/     166 : CD 4A 29            CONTINUE_15619	CALL CREATE_BUF		; ëéáÑÄçàÖ ÅìîÖêÄ
(1)  206/     169 : AF                  		XOR A
(1)  207/     16A : 32 F7 5C            		LD (TRD_5CF7),A
(1)  208/     16D : 3D                  		DEC A
(1)  209/     16E : 32 15 5D            		LD (TRD_5D15),A		; Öëãà 0, èÖóÄíÄíú òÄèäì TR-DOS. àçÄóÖ çÖ èÖóÄíÄíú
(1)  210/     171 : 3E AA               		LD A,0XAA
(1)  211/     173 : 32 17 5D            		LD (TRD_5D17),A		; êàëéÇÄçàÖ áÄëíÄÇäà, Öëãà #AA
(1)  212/     176 : 21 01 02            		LD HL,CP_ERROR
(1)  213/     179 : 22 1A 5D            		LD (TRD_5D1A),HL	; ÇçìíêÖççàâ ÄÑêÖë áÄÇÖêòÖçàü àçíÖêèêÖíÄíéêÄ äéåÄçÑ
(1)  214/     17C : 21 00 00            		LD HL,0
(1)  215/     17F : 39                  		ADD HL,SP
(1)  216/     180 : 22 1C 5D            		LD (TRD_5D1C),HL	; ëéïêÄçÖçàÖ êÖÉàëíêÄ SP
(1)  217/     183 : 2B                  		DEC HL
(1)  218/     184 : 2B                  		DEC HL
(1)  219/     185 : F9                  		LD SP,HL
(1)  220/     186 : CD 1D 02            		CALL MARK_SP		; ìëíÄçéÇäÄ ëíÖäÄ Ñãü èÖêÖïÇÄíÄ	éòàÅéä
(1)  221/     189 : 2A B2 5C            		LD HL,(RAMTOP)
(1)  222/     18C : ED 5B 5D 5C         		LD DE,(CH_ADD)
(1)  223/     190 : ED 52               		SBC HL,DE
(1)  224/     192 : EB                  		EX DE,HL
(1)  225/     193 : 30 06               		JR NC,LOC_1A5
(1)  226/     195 : B7                  		OR A
(1)  227/     196 : 11 01 01            		LD DE,0X101
(1)  228/     199 : ED 52               		SBC HL,DE
(1)  229/     19B : 22 5D 5C            LOC_1A5		LD (CH_ADD),HL
(1)  230/     19E : CD BD 01            LOC_1A8		CALL CP_0D_OR_80
(1)  231/     1A1 : CA CA 01            LOC_1AB		JP Z,END_COMAND
(1)  232/     1A4 : FE EA               		CP 0XEA			;REM
(1)  233/     1A6 : 23                  		INC HL
(1)  234/     1A7 : 20 F5               		JR NZ,LOC_1A8
(1)  235/     1A9 : CD BD 01            		CALL CP_0D_OR_80
(1)  236/     1AC : 28 F3               		JR Z,LOC_1AB
(1)  237/     1AE : FE 3A               		CP ":"
(1)  238/     1B0 : C2 CA 01            		JP NZ,END_COMAND
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 15 - 12/15/2013 13:00:27


(1)  239/     1B3 : 23                  		INC HL
(1)  240/     1B4 : CD 09 30            		CALL SAE2_HL_
(1)  241/     1B7 : 2A 11 5D            		LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1)  242/     1BA : C3 0D 03            		JP LOC_30A
(1)  243/     1BD :                     
(1)  244/     1BD : 7E                  CP_0D_OR_80	LD A,(HL)
(1)  245/     1BE : FE 0D               		CP 0X0D
(1)  246/     1C0 : C8                  		RET Z
(1)  247/     1C1 : FE 80               		CP 0X80
(1)  248/     1C3 : C8                  		RET Z
(1)  249/     1C4 : B7                  		OR A
(1)  250/     1C5 : C9                  		RET
(1)  251/     1C6 :                     
(1)  252/     1C6 : (MACRO)             		DUPL 0X01C7-$,0XFF
(1)  252/     1C6 :                     DUPL:
(1)  252/     1C6 : =0H                 $$N             EQU (0X01C7-$) / 1024
(1)  252/     1C6 : =1H                 $$M             EQU (0X01C7-$) # 1024
(1)  252/     1C6 :                                     REPT $$N
(1)  252/     1C6 :                                     DB 1024 DUP(0XFF)
(1)  252/     1C6 :                                     ENDM
(1)  252/     1C6 : =>TRUE                              IF $$M <> 0
(1)  252/     1C6 : FF                                  DB $$M DUP(0XFF)
(1)  252/     1C7 : [252]                               ENDIF
(1)  253/     1C7 : C3 20 0F            		JP READ_BYTE_HL_		;DCU
(1)  254/     1CA :                     
(1)  255/     1CA :                     ;èéÑèêéÉêÄååÄ áÄÇÖêòÖçàÖ äéåÄçÑçéÉé èêéñÖëëéêÄ
(1)  256/     1CA : 21 00 00            END_COMAND	LD HL,0
(1)  257/     1CD : 22 F8 5C            		LD (TRD_5CF8),HL	; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  258/     1D0 : CD E6 20            		CALL DELETE_BUF
(1)  259/     1D3 : CD 63 1D            		CALL CLEAR_WORKSPACE
(1)  260/     1D6 : 21 17 5D            		LD HL,TRD_5D17		; êàëéÇÄçàÖ áÄëíÄÇäà, Öëãà #AA
(1)  261/     1D9 : 36 AA               		LD (HL),0XAA
(1)  262/     1DB : 21 1F 5D            		LD HL,TRD_5D1F
(1)  263/     1DE : 7E                  		LD A,(HL)
(1)  264/     1DF : B7                  		OR A
(1)  265/     1E0 : 36 00               		LD (HL),0
(1)  266/     1E2 : 20 06               		JR NZ,LOC_1F3
(1)  267/     1E4 : CD 14 1E            		CALL DEL_5BYTES
(1)  268/     1E7 : CD 10 02            		CALL FIND_ENDSTR	; èéàëä	äéçñÄ ëíêéäà
(1)  269/     1EA : ED 7B 1C 5D         LOC_1F3		LD SP,(TRD_5D1C)	; ëéïêÄçÖçàÖ êÖÉàëíêÄ SP
(1)  270/     1EE : 2A 1A 5D            		LD HL,(TRD_5D1A)	; ÇçìíêÖççàâ ÄÑêÖë áÄÇÖêòÖçàü àçíÖêèêÖíÄíéêÄ äéåÄçÑ
(1)  271/     1F1 : ED 4B 0F 5D         		LD BC,(TRD_5D0F)	; çéåÖê	éòàÅäà TR-DOS
(1)  272/     1F5 : 06 00               		LD B,0
(1)  273/     1F7 : E9                  		JP (HL)
(1)  274/     1F8 :                     
(1)  275/     1F8 : (MACRO)             		DUPL 0X0201-$,0XFF
(1)  275/     1F8 :                     DUPL:
(1)  275/     1F8 : =0H                 $$N             EQU (0X0201-$) / 1024
(1)  275/     1F8 : =9H                 $$M             EQU (0X0201-$) # 1024
(1)  275/     1F8 :                                     REPT $$N
(1)  275/     1F8 :                                     DB 1024 DUP(0XFF)
(1)  275/     1F8 :                                     ENDM
(1)  275/     1F8 : =>TRUE                              IF $$M <> 0
(1)  275/     1F8 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF 
(1)  275/     201 : [275]                               ENDIF
(1)  276/     201 :                     ;DCU (ÇõáõÇÄÖí ë ÄÑêÖëÄ 0X0207)
(1)  277/     201 : CD 32 02            CP_ERROR	CALL RESTORE_SP		; èêéÇÖêäÄ çÄ éòàÅäì
(1)  278/     204 : FD CB 00 7E         		BIT 7,(IY+0)
(1)  279/     208 : C0                  		RET NZ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 16 - 12/15/2013 13:00:27


(1)  280/     209 : ED 7B 3D 5C         		LD SP,(ERR_SP)
(1)  281/     20D : C3 C2 5C            		JP TRD_5CC2
(1)  282/     210 :                     
(1)  283/     210 :                     ; èéàëä	äéçñÄ ëíêéäà
(1)  284/     210 : CD 8C 1D            FIND_ENDSTR	CALL GET_SYMSTR
(1)  285/     213 : FE 0D               		CP 0X0D
(1)  286/     215 : C8                  		RET Z
(1)  287/     216 : CD 22 1E            		CALL GET_NEXT_SYM
(1)  288/     219 : 18 F5               		JR FIND_ENDSTR		; èéàëä	äéçñÄ ëíêéäà
(1)  289/     21B :                     
(1)  290/     21B : (MACRO)             		DUPL 0X21D-$,0XFF
(1)  290/     21B :                     DUPL:
(1)  290/     21B : =0H                 $$N             EQU (0X21D-$) / 1024
(1)  290/     21B : =2H                 $$M             EQU (0X21D-$) # 1024
(1)  290/     21B :                                     REPT $$N
(1)  290/     21B :                                     DB 1024 DUP(0XFF)
(1)  290/     21B :                                     ENDM
(1)  290/     21B : =>TRUE                              IF $$M <> 0
(1)  290/     21B : FF FF                               DB $$M DUP(0XFF)
(1)  290/     21D : [290]                               ENDIF
(1)  291/     21D :                     ; ìëíÄçéÇäÄ ëíÖäÄ Ñãü èÖêÖïÇÄíÄ	éòàÅéä
(1)  292/     21D : 2A 3D 5C            MARK_SP		LD HL,(ERR_SP)
(1)  293/     220 : 22 13 5D            		LD (TRD_5D13),HL	; äéèàü	ERR_SP
(1)  294/     223 : 2A 1C 5D            		LD HL,(TRD_5D1C)	; ëéïêÄçÖçàÖ êÖÉàëíêÄ SP
(1)  295/     226 : 2B                  		DEC HL
(1)  296/     227 : 2B                  		DEC HL
(1)  297/     228 : 22 3D 5C            		LD (ERR_SP),HL
(1)  298/     22B : 11 16 3D            		LD DE,LOC_3D16
(1)  299/     22E : 73                  		LD (HL),E
(1)  300/     22F : 23                  		INC HL
(1)  301/     230 : 72                  		LD (HL),D
(1)  302/     231 : C9                  		RET
(1)  303/     232 :                     
(1)  304/     232 :                     ; ÇéëëíÄçéÇãÖçàÖ èÖêÖïÇÄíóàäÄ éòàÅéä
(1)  305/     232 : 2A 13 5D            RESTORE_SP	LD HL,(TRD_5D13)	; äéèàü	ERR_SP
(1)  306/     235 : 22 3D 5C            LOC_0235	LD (ERR_SP),HL
(1)  307/     238 : C9                  		RET
(1)  308/     239 :                     
(1)  309/     239 : 21 00 00            IN_COMMAND_CPU	LD HL,0			; ÇïéÜÑÖçàÖ Ç äéåÄçÑçõâ	èêéñÖëëéê ÑéëÄ
(1)  310/     23C : 22 F7 5C            		LD (TRD_5CF7),HL
(1)  311/     23F : 39                  		ADD HL,SP
(1)  312/     240 : 22 1C 5D            		LD (TRD_5D1C),HL	; ëéïêÄçÖçàÖ êÖÉàëíêÄ SP
(1)  313/     243 : 2B                  		DEC HL
(1)  314/     244 : 2B                  		DEC HL
(1)  315/     245 : F9                  		LD SP,HL
(1)  316/     246 : CD 1D 02            		CALL MARK_SP		; ìëíÄçéÇäÄ ëíÖäÄ Ñãü èÖêÖïÇÄíÄ	éòàÅéä
(1)  317/     249 : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1)  318/     24C : CD 88 1D            		CALL OPEN_CHAN_2	; éíäêõíàÖ äÄçÄãÄ 2
(1)  319/     24F : 21 17 5D            		LD HL,TRD_5D17		; êàëéÇÄçàÖ áÄëíÄÇäà, Öëãà #AA
(1)  320/     252 : 7E                  		LD A,(HL)
(1)  321/     253 : FE AA               		CP 0XAA
(1)  322/     255 : 3E 00               		LD A,0
(1)  323/     257 : 32 0F 5D            		LD (TRD_5D0F),A		; çéåÖê	éòàÅäà TR-DOS
(1)  324/     25A : CA CF 02            		JP Z,COMMAND_CPU
(1)  325/     25D : 36 AA               		LD (HL),0XAA
(1)  326/     25F : 21 60 03            		LD HL,ZASTAVKA		; íÖäëí	áÄëíÄÇäà ÑéëÄ
(1)  327/     262 : DF                  		RST 0X18
(1)  328/     263 : CD 19 10            		CALL OUT_COLOR_LINE	; êàëéÇÄçàÖ ñÇÖíçõï ãàçàâ áÄëíÄÇäà ÑéëÄ
(1)  329/     266 : 21 2C 0A            		LD HL,TEXT4VIRTDRV	;íÖäëí èêé ÇàêíìÄãúçõâ ÑàëäéÇéÑ
(1)  330/     269 : DF                  		RST 0X18		;èÖóÄíú çÄ ùäêÄçÖ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 17 - 12/15/2013 13:00:27


(1)  331/     26A : 26 EB               		LD H,VIRT_REAL_DRIVE
(1)  332/     26C : CD 0C 0E            		CALL READCMOS		;óíÖçàÖ çéåÖêÄ ÇàêíìÄãúçéÉé ÑàëäÄ
(1)  333/     26F : E6 03               		AND 3			;çÄå çìÜçõ íéãúäé 2 åãÄÑòàï ÅàíÄ
(1)  334/     271 : C6 41               		ADD A,"A"		;èêÖéÅêÄáéÇÄãà Ç íÖäëí
(1)  335/     273 : D7                  		RST 0X10		;çÄèÖóÄíÄãà ÅìäÇì
(1)  336/     274 : 3A 81 5C            LOC_271		LD A,(NOT_USED)		; èêéÇÖêäÄ çÄ #AA
(1)  337/     277 : FE AA               		CP 0XAA
(1)  338/     279 : 20 54               		JR NZ,COMMAND_CPU	; Öëãà çÖ #AA,íé ÇïéÑ Ç	äéåÄçÑçõâ èêéñÖëëéê
(1)  339/     27B : 2A 59 5C            LOC_27B		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1)  340/     27E : AF                  		XOR A
(1)  341/     27F : 32 0E 5D            		LD (TRD_5D0E),A		; #FE-êÄÅéíÄÖí BASIC,àçÄóÖ TR-DOS
(1)  342/     282 : 36 F7               		LD (HL),0XF7
(1)  343/     284 : 23                  		INC HL
(1)  344/     285 : 36 22               		LD (HL),0X22
(1)  345/     287 : 23                  		INC HL
(1)  346/     288 : 36 62               		LD (HL),"b"
(1)  347/     28A : 23                  		INC HL
(1)  348/     28B : 36 6F               		LD (HL),"o"
(1)  349/     28D : 23                  		INC HL
(1)  350/     28E : 36 6F               		LD (HL),"o"
(1)  351/     290 : 23                  		INC HL
(1)  352/     291 : 36 74               		LD (HL),"t"
(1)  353/     293 : 23                  		INC HL
(1)  354/     294 : 36 22               		LD (HL),0X22
(1)  355/     296 : 23                  		INC HL
(1)  356/     297 : 22 5B 5C            		LD (K_CUR),HL
(1)  357/     29A : 36 0D               		LD (HL),0X0D
(1)  358/     29C : 23                  		INC HL
(1)  359/     29D : 36 80               		LD (HL),0X80
(1)  360/     29F : 23                  		INC HL
(1)  361/     2A0 : 22 61 5C            		LD (WORKSP),HL
(1)  362/     2A3 : 22 63 5C            		LD (STKBOT),HL
(1)  363/     2A6 : 22 65 5C            		LD (STKEND),HL
(1)  364/     2A9 : FD CB 01 DE         		SET 3,(IY+1)
(1)  365/     2AD : 18 40               		JR GO2RUNBOOT
(1)  366/     2AF :                     
(1)  367/     2AF :                     ; èÖêÖçéë 3 ÅÄâí
(1)  368/     2AF : ED A0               LDI3_HL2DE	LDI
(1)  369/     2B1 : ED A0               		LDI
(1)  370/     2B3 : ED A0               		LDI
(1)  371/     2B5 : C9                  		RET
(1)  372/     2B6 :                     
(1)  373/     2B6 : (MACRO)             		DUPL 0X02B9-$,0XFF
(1)  373/     2B6 :                     DUPL:
(1)  373/     2B6 : =0H                 $$N             EQU (0X02B9-$) / 1024
(1)  373/     2B6 : =3H                 $$M             EQU (0X02B9-$) # 1024
(1)  373/     2B6 :                                     REPT $$N
(1)  373/     2B6 :                                     DB 1024 DUP(0XFF)
(1)  373/     2B6 :                                     ENDM
(1)  373/     2B6 : =>TRUE                              IF $$M <> 0
(1)  373/     2B6 : FF FF FF                            DB $$M DUP(0XFF)
(1)  373/     2B9 : [373]                               ENDIF
(1)  374/     2B9 :                     ;FIX
(1)  375/     2B9 :                     ;éëíÄçéÇäÄ åéíéêÄ ÑàëäéÇéÑÄ
(1)  376/     2B9 : 06 20               STOP_MOTOR	LD B,0X20
(1)  377/     2BB : C5                  LOC_2BB		PUSH BC
(1)  378/     2BC : EE 08               		XOR 8
(1)  379/     2BE : D3 FF               		OUT (0XFF),A
(1)  380/     2C0 : F5                  		PUSH AF
(1)  381/     2C1 : 3E 05               		LD A,5
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 18 - 12/15/2013 13:00:27


(1)  382/     2C3 : CD FF 3D            		CALL PAUSE_C_A
(1)  383/     2C6 : F1                  		POP AF
(1)  384/     2C7 : C1                  		POP BC
(1)  385/     2C8 : 10 F1               		DJNZ LOC_2BB
(1)  386/     2CA : C9                  		RET
(1)  387/     2CB :                     
(1)  388/     2CB : (MACRO)             		DUPL 0X2CF-$,0XFF
(1)  388/     2CB :                     DUPL:
(1)  388/     2CB : =0H                 $$N             EQU (0X2CF-$) / 1024
(1)  388/     2CB : =4H                 $$M             EQU (0X2CF-$) # 1024
(1)  388/     2CB :                                     REPT $$N
(1)  388/     2CB :                                     DB 1024 DUP(0XFF)
(1)  388/     2CB :                                     ENDM
(1)  388/     2CB : =>TRUE                              IF $$M <> 0
(1)  388/     2CB : FF FF FF FF                         DB $$M DUP(0XFF)
(1)  388/     2CF : [388]                               ENDIF
(1)  389/     2CF :                     ;äéåÄçÑçõâ èêéñÖëëéê DOS
(1)  390/     2CF : 2A 1C 5D            COMMAND_CPU	LD HL,(TRD_5D1C)	; ëéïêÄçÖçàÖ êÖÉàëíêÄ SP
(1)  391/     2D2 : 2B                  		DEC HL
(1)  392/     2D3 : 2B                  		DEC HL
(1)  393/     2D4 : F9                  		LD SP,HL
(1)  394/     2D5 : CD 83 1D            		CALL OPEN_CHAN_0	; éíäêõíàÖ äÄçÄãÄ 0
(1)  395/     2D8 : 3A 16 5D            		LD A,(0X5D16)
(1)  396/     2DB : EE 03               		XOR 3
(1)  397/     2DD : CD B9 02            		CALL STOP_MOTOR
(1)  398/     2E0 : EE 03               		XOR 3
(1)  399/     2E2 : CD B9 02            		CALL STOP_MOTOR
(1)  400/     2E5 : AF                  		XOR A
(1)  401/     2E6 : 32 15 5D            		LD (TRD_5D15),A		; Öëãà 0,èÖóÄíÄíú òÄèäì	TR-DOS.àçÄóÖ çÖ	èÖóÄíÄíú
(1)  402/     2E9 : CD 17 21            		CALL GET_COMMAND	; èêàçüíàÖ à éÅêÄÅéíäÄ äéåÄçÑ
(1)  403/     2EC : CD F3 2F            		CALL SAE2E_LINE
(1)  404/     2EF : CD 9F 1D            GO2RUNBOOT	CALL CLEAR_DOWN_SCR	; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1)  405/     2F2 : 21 CF 02            		LD HL,COMMAND_CPU
(1)  406/     2F5 : 22 1A 5D            		LD (TRD_5D1A),HL	; ÇçìíêÖççàâ ÄÑêÖë áÄÇÖêòÖçàü àçíÖêèêÖíÄíéêÄ äéåÄçÑ
(1)  407/     2F8 : AF                  		XOR A
(1)  408/     2F9 : 32 0F 5D            		LD (TRD_5D0F),A		; çéåÖê	éòàÅäà TR-DOS
(1)  409/     2FC : 32 EF 5C            		LD (TRD_5CEF),A
(1)  410/     2FF : 2A 59 5C            		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1)  411/     302 : E5                  		PUSH HL
(1)  412/     303 : 11 20 5D            		LD DE,TRD_5D20		; Ñãü ëéïêÄçÖçàü 3 ëàåÇéãéÇ ÇÇÖÑÖçéâ ëíêéäà
(1)  413/     306 : CD AF 02            		CALL LDI3_HL2DE		; èÖêÖçéë 3 ÅÄâí
(1)  414/     309 : E1                  		POP HL
(1)  415/     30A : 22 11 5D            		LD (TRD_5D11),HL	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1)  416/     30D : 7E                  LOC_30A		LD A,(HL)
(1)  417/     30E : CB 7F               		BIT 7,A
(1)  418/     310 : 28 09               		JR Z,LOC_31A
(1)  419/     312 : FE FE               		CP 0XFE
(1)  420/     314 : 28 05               		JR Z,LOC_31A
(1)  421/     316 : F5                  		PUSH AF
(1)  422/     317 : CD C8 3D            		CALL ACTIV_DEF_DSK	; ÇõÅéê	ÑàëäéÇéÑÄ èé ìåéãóÄçàû
(1)  423/     31A : F1                  		POP AF
(1)  424/     31B : 21 C1 30            LOC_31A		LD HL,CODE_BYTE_COM	; íÄÅãàñÄ ÅÖâëàä äéåÄçÑ Ñãü TR-DOS
(1)  425/     31E : 2B                  		DEC HL
(1)  426/     31F : 0E 00               		LD C,0
(1)  427/     321 : 0C                  LOC_320		INC C
(1)  428/     322 : 57                  		LD D,A
(1)  429/     323 : 3E 13               		LD A,LOW (ECODE_BYTE_COM-CODE_BYTE_COM);0X15
(1)  430/     325 : B9                  		CP C
(1)  431/     326 : DA CA 01            		JP C,END_COMAND
(1)  432/     329 : 7A                  		LD A,D
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 19 - 12/15/2013 13:00:27


(1)  433/     32A : 23                  		INC HL
(1)  434/     32B : BE                  		CP (HL)
(1)  435/     32C : 20 F3               		JR NZ,LOC_320
(1)  436/     32E : FE FE               		CP 0XFE
(1)  437/     330 : C4 4A 29            		CALL NZ,CREATE_BUF	; ëéáÑÄçàÖ ÅìîÖêÄ
(1)  438/     333 : 3E 09               		LD A,9
(1)  439/     335 : 32 06 5D            		LD (TRD_5D06),A		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1)  440/     338 : AF                  		XOR A
(1)  441/     339 : 32 0F 5D            		LD (TRD_5D0F),A		; çéåÖê	éòàÅäà TR-DOS
(1)  442/     33C : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1)  443/     33F : 32 10 5D            		LD (TRD_5D10),A		; ëíÄêòàâ ÅÄâí éòàÅäà
(1)  444/     342 : 21 3B 5C            		LD HL,FLAGS
(1)  445/     345 : CB BE               		RES 7,(HL)
(1)  446/     347 : 47                  		LD B,A
(1)  447/     348 : 21 D4 30            		LD HL,SPIS_ADR_COM	; íÄÅãàñÄ ÄÑêÖëéÇ àëèéãçÖçàü äéåÄçÑ
(1)  448/     34B : 0D                  		DEC C
(1)  449/     34C : 09                  		ADD HL,BC
(1)  450/     34D : 09                  		ADD HL,BC
(1)  451/     34E : 5E                  		LD E,(HL)
(1)  452/     34F : 23                  		INC HL
(1)  453/     350 : 56                  		LD D,(HL)
(1)  454/     351 : EB                  		EX DE,HL
(1)  455/     352 : E5                  		PUSH HL
(1)  456/     353 : 11 58 03            		LD DE,END_COM
(1)  457/     356 : D5                  		PUSH DE
(1)  458/     357 : E9                  		JP (HL)
(1)  459/     358 :                     
(1)  460/     358 : 21 3B 5C            END_COM		LD HL,FLAGS
(1)  461/     35B : CB FE               		SET 7,(HL)
(1)  462/     35D : C9                  		RET
(1)  463/     35E :                     
(1)  464/     35E : (MACRO)             		DUPL 0X0360-$,0XFF
(1)  464/     35E :                     DUPL:
(1)  464/     35E : =0H                 $$N             EQU (0X0360-$) / 1024
(1)  464/     35E : =2H                 $$M             EQU (0X0360-$) # 1024
(1)  464/     35E :                                     REPT $$N
(1)  464/     35E :                                     DB 1024 DUP(0XFF)
(1)  464/     35E :                                     ENDM
(1)  464/     35E : =>TRUE                              IF $$M <> 0
(1)  464/     35E : FF FF                               DB $$M DUP(0XFF)
(1)  464/     360 : [464]                               ENDIF
(1)  465/     360 :                     ;FIX
(1)  466/     360 :                     ;íÖäëí áÄëíÄÇäà ÑéëÄ
(1)  467/     360 : 16 00 06            ZASTAVKA	DB 0X16,0X00,0X06
(1)  468/     363 : =36CH               ZASTAVKA_VER	EQU $+9
(1)  469/     363 : 20 45 56 4F 2D 44   		DB NUMBER_VERS
                    4F 53 20 56 65 72 
                    20 30 2E 33 36 20 
                    20 
(1)  470/     376 : 0D 0D 7F            		DB 0X0D,0X0D,0X7F
(1)  471/     379 :                     		;  12345678901234567890123456789012
(1)  472/     379 : 20 32 30 31 30 20   		DB " 2010 Created for PentEvo 4MB "
                    43 72 65 61 74 65 
                    64 20 66 6F 72 20 
                    50 65 6E 74 45 76 
                    6F 20 34 4D 42 20 
(1)  473/     397 : 16 04 0C            		DB 0X16,0X04,0X0C
(1)  474/     39A : 4E 65 64 6F 50 43   		DB "NedoPC"
(1)  475/     3A0 : 16 06 07            		DB 0X16,ZASTV_Y,ZASTV_X
(1)  476/     3A3 : =>TRUE              		IF EMU3D2F=1
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 20 - 12/15/2013 13:00:27


(1)  477/     3A3 : (MACRO)             		DC "EMUL 3D2F"
(1)  477/     3A3 : =>TRUE                              IF STRLEN("EMUL 3D2F")>1
(1)  477/     3A3 : 45 4D 55 4C 20 33                   DB SUBSTR("EMUL 3D2F",0,STRLEN("EMUL 3D2F")-1)
                    44 32 
(1)  477/     3AB : [477]                               ENDIF
(1)  477/     3AB : =>TRUE                              IF STRLEN("EMUL 3D2F")>0
(1)  477/     3AB : C6                                  DB CHARFROMSTR("EMUL 3D2F",STRLEN("EMUL 3D2F")-1)|80H
(1)  477/     3AC : [477]                               ENDIF
(1)  478/     3AC : =>FALSE             		ELSE
(1)  479/     3AC :                     		DC "EMUL 3D13"
(1)  480/     3AC : [476]               		ENDIF
(1)  481/     3AC :                     
(1)  482/     3AC : CD FD 03            END_OUT_DIR	CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1)  483/     3AF : CD BA 1D            		CALL PRINT_0D
(1)  484/     3B2 : CD BA 1D            		CALL PRINT_0D
(1)  485/     3B5 : ED 4B 0A 5E         LOC_3B5		LD BC,(TRD_5E0A)
(1)  486/     3B9 : CD A6 1D            		CALL PRINT_CHISLO	; èÖóÄíú óàëãÄ
(1)  487/     3BC : 21 D2 29            		LD HL,TXT_FREE_
(1)  488/     3BF : DF                  		RST 0X18
(1)  489/     3C0 : C3 CA 01            GOTO_END	JP END_COMAND
(1)  490/     3C3 :                     
(1)  491/     3C3 :                     ; èÖóÄíú ëééÅôÖçàü éÅ éòàÅäÖ
(1)  492/     3C3 : F5                  PRINT_ERROR	PUSH AF
(1)  493/     3C4 : 3A 0E 5D            		LD A,(TRD_5D0E)		; #FE-êÄÅéíÄÖí BASIC,àçÄóÖ TR-DOS
(1)  494/     3C7 : FE FE               		CP 0XFE
(1)  495/     3C9 : 20 02               		JR NZ,CP4PRINT_HEAD
(1)  496/     3CB : F1                  		POP AF
(1)  497/     3CC : C9                  		RET
(1)  498/     3CD :                     
(1)  499/     3CD : F1                  CP4PRINT_HEAD	POP AF
(1)  500/     3CE : 32 0F 5D            		LD (TRD_5D0F),A		; çéåÖê	éòàÅäà TR-DOS
(1)  501/     3D1 : 3A 15 5D            		LD A,(TRD_5D15)		; Öëãà 0,èÖóÄíÄíú òÄèäì	TR-DOS.àçÄóÖ çÖ	èÖóÄíÄíú
(1)  502/     3D4 : B7                  		OR A
(1)  503/     3D5 : CA D3 26            		JP Z,PRINT_MSG		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1)  504/     3D8 : C9                  		RET
(1)  505/     3D9 :                     
(1)  506/     3D9 : 21 27 2A            ERR_NOFILES	LD HL,TXT_NOFILES_
(1)  507/     3DC : 3E 01               		LD A,1
(1)  508/     3DE : C3 48 1C            		JP PRINT_TXTERR
(1)  509/     3E1 :                     
(1)  510/     3E1 : 21 66 27            ERR_OK		LD HL,TXT_OK_		; "O.K."
(1)  511/     3E4 : AF                  		XOR A
(1)  512/     3E5 : C3 48 1C            		JP PRINT_TXTERR
(1)  513/     3E8 :                     
(1)  514/     3E8 :                     ; óíÖçàÖ ëÖäíéêÄ 0 äÄíÄãéÉÄ
(1)  515/     3E8 : AF                  RD_0SEC2BUF	XOR A
(1)  516/     3E9 : 32 CC 5C            		LD (TRD_5CCC),A		; íÖäìôàâ çéåÖê	ëÖäíéêÄ	èêà óíÖçàà äÄíÄãéÉÄ
(1)  517/     3EC :                     
(1)  518/     3EC :                     ; óíÖçàÖ ëÖäíéêÄ äÄíÄãéÉÄ èé çéåÖêì
(1)  519/     3EC : ED 5B CC 5C         READ_NUM_SEC	LD DE,(TRD_5CCC)	; íÖäìôàâ çéåÖê	ëÖäíéêÄ	èêà óíÖçàà äÄíÄãéÉÄ
(1)  520/     3F0 : 16 00               		LD D,0
(1)  521/     3F2 : CD 4A 29            READ_SEC4NEM	CALL CREATE_BUF		; ëéáÑÄçàÖ ÅìîÖêÄ
(1)  522/     3F5 : 21 25 5D            		LD HL,TRD_5D25
(1)  523/     3F8 : 06 01               		LD B,1
(1)  524/     3FA : C3 52 1E            		JP COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1)  525/     3FD :                     
(1)  526/     3FD :                     ; óíÖçàÖ 9 ëÖäíéêÄ
(1)  527/     3FD : CD 4A 29            READ_9SEC	CALL CREATE_BUF		; ëéáÑÄçàÖ ÅìîÖêÄ
(1)  528/     400 : 11 08 00            		LD DE,8
(1)  529/     403 : 18 ED               		JR READ_SEC4NEM
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 21 - 12/15/2013 13:00:27


(1)  530/     405 :                     
(1)  531/     405 :                     ;çÄëíêéâäÄ çÄ ÑàëäÖíì
(1)  532/     405 : CD FD 03            COM_18		CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1)  533/     408 : 3A 0C 5E            		LD A,(TRD_5E0C)
(1)  534/     40B : FE 10               		CP 0X10
(1)  535/     40D : 28 08               		JR Z,CP_TYPE_DSK
(1)  536/     40F : 21 E2 29            DISCERROR_	LD HL,TXT_DISCERROR_
(1)  537/     412 : 3E 07               		LD A,7
(1)  538/     414 : C3 48 1C            		JP PRINT_TXTERR
(1)  539/     417 :                     
(1)  540/     417 : CD 13 3E            CP_TYPE_DSK	CALL GET_TYPE_DISK
(1)  541/     41A : CB 86               		RES 0,(HL)
(1)  542/     41C : CB 8E               		RES 1,(HL)
(1)  543/     41E : 3A 08 5E            		LD A,(TRD_5E08)
(1)  544/     421 : CB 47               		BIT 0,A
(1)  545/     423 : 20 02               		JR NZ, LOC_425
(1)  546/     425 : CB C6               		SET 0,(HL)
(1)  547/     427 : CB 5F               LOC_425		BIT 3,A
(1)  548/     429 : C0                  		RET NZ
(1)  549/     42A : CB CE               		SET 1,(HL)
(1)  550/     42C : C9                  		RET
(1)  551/     42D :                     
(1)  552/     42D : 2A 11 5D            CP_SECOND_SYM	LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1)  553/     430 : 23                  		INC HL
(1)  554/     431 : 7E                  		LD A,(HL)
(1)  555/     432 : FE 0D               		CP 0X0D
(1)  556/     434 : C9                  		RET
(1)  557/     435 :                     
(1)  558/     435 : CD 2D 04            CAT		CALL CP_SECOND_SYM	; ÇõèéãçÖçàÖ äéåÄçÑõ CAT
(1)  559/     438 : 01 02 00            		LD BC,2
(1)  560/     43B : ED 43 DB 5C         		LD (TRD_5CDB),BC
(1)  561/     43F : 28 2B               		JR Z,LOC_46A
(1)  562/     441 : FE 23               		CP "#"
(1)  563/     443 : 20 1A               		JR NZ,CODES
(1)  564/     445 : 22 5D 5C            		LD (CH_ADD),HL
(1)  565/     448 : CD 03 1E            		CALL SET_NUM_CHAN
(1)  566/     44B : CD 8C 1D            		CALL GET_SYMSTR
(1)  567/     44E : FE 0D               		CP 0X0D
(1)  568/     450 : 28 1A               		JR Z,LOC_46A
(1)  569/     452 : FE 2C               		CP ","
(1)  570/     454 : C2 17 1D            		JP NZ,SINTAX_ERROR
(1)  571/     457 : CD 22 1E            		CALL GET_NEXT_SYM
(1)  572/     45A : CD B2 1D            		CALL PUT_NUMDSK_STK
(1)  573/     45D : 18 03               		JR LOC_460
(1)  574/     45F :                     
(1)  575/     45F : CD D8 1D            CODES		CALL SET_AND_PUT
(1)  576/     462 : CD 75 1D            LOC_460		CALL EXIT_IF_SINTAX
(1)  577/     465 : CD AA 1D            		CALL GET_STKBOT_
(1)  578/     468 : EB                  		EX DE,HL
(1)  579/     469 : CD 80 1C            		CALL SETUP_DSK
(1)  580/     46C : CD 75 1D            LOC_46A		CALL EXIT_IF_SINTAX
(1)  581/     46F : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  582/     472 : 32 F9 5C            		LD (TRD_5CF9),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  583/     475 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1)  584/     478 : 3A DB 5C            		LD A,(TRD_5CDB)
(1)  585/     47B : FE 02               LOC_479		CP 2
(1)  586/     47D : F5                  		PUSH AF
(1)  587/     47E : CC 97 1D            		CALL Z,CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1)  588/     481 : F1                  		POP AF
(1)  589/     482 : FE 11               		CP 0X11
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 22 - 12/15/2013 13:00:27


(1)  590/     484 : D2 17 1D            		JP NC,SINTAX_ERROR
(1)  591/     487 : CD 84 1D            		CALL OPENSTREAM
(1)  592/     48A : 3E FF               		LD A,0XFF
(1)  593/     48C : 32 F8 5C            		LD (TRD_5CF8),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  594/     48F : 21 F7 29            		LD HL,TXT_TITLE_	; "TITLE:"
(1)  595/     492 : DF                  		RST 0X18
(1)  596/     493 : 21 1A 5E            		LD HL,TRD_5E1A
(1)  597/     496 : CD B5 0F            		CALL PRINT8SYM
(1)  598/     499 : CD BA 1D            		CALL PRINT_0D
(1)  599/     49C : 3A 09 5E            		LD A,(TRD_5E09)
(1)  600/     49F : 21 19 5E            		LD HL,TRD_5E19
(1)  601/     4A2 : 96                  		SUB (HL)
(1)  602/     4A3 : E5                  		PUSH HL
(1)  603/     4A4 : CD A3 1D            		CALL PRINT_CHISLO_A_
(1)  604/     4A7 : 21 2A 2A            		LD HL,TXT_NOFILES+2
(1)  605/     4AA : DF                  		RST 0X18
(1)  606/     4AB : E1                  		POP HL
(1)  607/     4AC : 4E                  		LD C,(HL)
(1)  608/     4AD : CD A4 1D            		CALL CONV2_2BYTES
(1)  609/     4B0 : 21 1C 2A            		LD HL,TXT_DELFILE_	; " DEL. FILE"
(1)  610/     4B3 : DF                  		RST 0X18
(1)  611/     4B4 : CD E8 03            		CALL RD_0SEC2BUF	; óíÖçàÖ ëÖäíéêÄ 0 äÄíÄãéÉÄ
(1)  612/     4B7 : 21 25 5D            		LD HL,TRD_5D25
(1)  613/     4BA : CD FA 04            LOC_4B6		CALL CP_END_DIR		; èêéÇÖêäÄ éäéçóÄçàü ÑàêÖäíéêàà
(1)  614/     4BD : CD BA 1D            		CALL PRINT_0D
(1)  615/     4C0 : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  616/     4C3 : C6 41               		ADD A,"A"
(1)  617/     4C5 : D7                  		RST 0X10
(1)  618/     4C6 : 06 02               		LD B,2
(1)  619/     4C8 : CD FA 04            LOC_4C4		CALL CP_END_DIR		; èêéÇÖêäÄ éäéçóÄçàü ÑàêÖäíéêàà
(1)  620/     4CB : C5                  		PUSH BC
(1)  621/     4CC : 3E 3A               		LD A,":"
(1)  622/     4CE : D7                  		RST 0X10
(1)  623/     4CF : E5                  		PUSH HL
(1)  624/     4D0 : CD 6C 0F            		CALL PRINT_FILENAME	; èÖóÄíú àåÖçà îÄâãÄ
(1)  625/     4D3 : 01 0D 00            		LD BC,0X0D
(1)  626/     4D6 : E1                  		POP HL
(1)  627/     4D7 : E5                  		PUSH HL
(1)  628/     4D8 : 09                  		ADD HL,BC
(1)  629/     4D9 : 4E                  		LD C,(HL)
(1)  630/     4DA : C5                  		PUSH BC
(1)  631/     4DB : 79                  		LD A,C
(1)  632/     4DC : 06 02               		LD B,2
(1)  633/     4DE : FE 0A               		CP 0X0A
(1)  634/     4E0 : 38 01               		JR C,LOC_4DF
(1)  635/     4E2 : 05                  		DEC B
(1)  636/     4E3 : FE 64               LOC_4DF		CP 0X64
(1)  637/     4E5 : 30 05               		JR NC,LOC_4E8
(1)  638/     4E7 : 3E 20               LOC_4E3		LD A," "
(1)  639/     4E9 : D7                  		RST 0X10
(1)  640/     4EA : 10 FB               		DJNZ LOC_4E3
(1)  641/     4EC : C1                  LOC_4E8		POP BC
(1)  642/     4ED : CD A6 1D            		CALL PRINT_CHISLO	; èÖóÄíú óàëãÄ
(1)  643/     4F0 : E1                  		POP HL
(1)  644/     4F1 : C1                  		POP BC
(1)  645/     4F2 : 11 10 00            		LD DE,0X10
(1)  646/     4F5 : 19                  		ADD HL,DE
(1)  647/     4F6 : 10 D0               		DJNZ LOC_4C4
(1)  648/     4F8 : 18 C0               		JR LOC_4B6
(1)  649/     4FA :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 23 - 12/15/2013 13:00:27


(1)  650/     4FA :                     ; èêéÇÖêäÄ éäéçóÄçàü ÑàêÖäíéêàà
(1)  651/     4FA : E5                  CP_END_DIR	PUSH HL
(1)  652/     4FB : C5                  		PUSH BC
(1)  653/     4FC : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  654/     4FF : 21 F6 5C            		LD HL,TRD_5CF6		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  655/     502 : BE                  		CP (HL)
(1)  656/     503 : C4 CB 3D            		CALL NZ,COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  657/     506 : C1                  		POP BC
(1)  658/     507 : E1                  		POP HL
(1)  659/     508 : C3 C6 2F            		JP CP_END_CAT
(1)  660/     50B :                     
(1)  661/     50B : 11 10 00            ADD_10		LD DE,0X10
(1)  662/     50E : 19                  		ADD HL,DE
(1)  663/     50F : C9                  		RET
(1)  664/     510 :                     
(1)  665/     510 : E5                  CP_END_BUF	PUSH HL
(1)  666/     511 : C5                  		PUSH BC
(1)  667/     512 : 01 DB A1            		LD BC,0XA1DB
(1)  668/     515 : 09                  		ADD HL,BC
(1)  669/     516 : 38 03               		JR C,READ_SEC2BUF
(1)  670/     518 : C1                  		POP BC
(1)  671/     519 : E1                  		POP HL
(1)  672/     51A : C9                  		RET
(1)  673/     51B :                     
(1)  674/     51B : 21 CC 5C            READ_SEC2BUF	LD HL,TRD_5CCC		; íÖäìôàâ çéåÖê	ëÖäíéêÄ	èêà óíÖçàà äÄíÄãéÉÄ
(1)  675/     51E : 34                  		INC (HL)
(1)  676/     51F : CD EC 03            		CALL READ_NUM_SEC	; óíÖçàÖ ëÖäíéêÄ äÄíÄãéÉÄ èé çéåÖêì
(1)  677/     522 : C1                  		POP BC
(1)  678/     523 : E1                  		POP HL
(1)  679/     524 : 21 25 5D            		LD HL,TRD_5D25
(1)  680/     527 : C9                  		RET
(1)  681/     528 :                     
(1)  682/     528 : E6 DF               NUMDSK2BYTE	AND 0XDF
(1)  683/     52A : D6 41               		SUB A,"A"
(1)  684/     52C : DA 17 1D            		JP C,SINTAX_ERROR
(1)  685/     52F : FE 04               		CP 4
(1)  686/     531 : D2 17 1D            		JP NC,SINTAX_ERROR
(1)  687/     534 : C9                  		RET
(1)  688/     535 :                     
(1)  689/     535 : CD AA 1D            CP_ON_STKBOT	CALL GET_STKBOT_
(1)  690/     538 : 79                  		LD A,C
(1)  691/     539 : B0                  		OR B
(1)  692/     53A : CA 17 1D            		JP Z,SINTAX_ERROR
(1)  693/     53D : 78                  		LD A,B
(1)  694/     53E : A7                  		AND A
(1)  695/     53F : C2 17 1D            		JP NZ,SINTAX_ERROR
(1)  696/     542 : C9                  		RET
(1)  697/     543 :                     
(1)  698/     543 : CD C8 1D            NEW		CALL INPUT_2STR2STKBOT	; ÇõèéãçÖçàÖ äéåÄçÑõ NEW
(1)  699/     546 : CD 75 1D            		CALL EXIT_IF_SINTAX
(1)  700/     549 : CD D9 0F            		CALL INPUT_EXTFILENAME	; èêàÖå êÄëòàêÖçàü îÄâãÄ
(1)  701/     54C : CD AB 1C            		CALL SET_CP_FILENAME
(1)  702/     54F : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  703/     552 : 32 F8 5C            		LD (TRD_5CF8),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  704/     555 : C2 D9 03            		JP NZ,ERR_NOFILES
(1)  705/     558 : C5                  		PUSH BC
(1)  706/     559 : CD 4F 16            		CALL RD_HEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1)  707/     55C : CD AB 1C            		CALL SET_CP_FILENAME
(1)  708/     55F : F5                  		PUSH AF
(1)  709/     560 : 3A F8 5C            		LD A,(TRD_5CF8)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 24 - 12/15/2013 13:00:27


(1)  710/     563 : 21 F6 5C            		LD HL,TRD_5CF6		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  711/     566 : BE                  		CP (HL)
(1)  712/     567 : C2 17 1D            		JP NZ,SINTAX_ERROR
(1)  713/     56A : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1)  714/     56D : F1                  		POP AF
(1)  715/     56E : CA 4E 1C            		JP Z,FILE_EXISTS
(1)  716/     571 : C1                  		POP BC
(1)  717/     572 : CD 5D 16            LOC_569		CALL SET_HEAD_FILENAME
(1)  718/     575 : CD 58 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1)  719/     578 : C3 E1 03            		JP ERR_OK
(1)  720/     57B :                     
(1)  721/     57B : 3A 10 5D            CP_HIGH_ERR	LD A,(TRD_5D10)		; ëíÄêòàâ ÅÄâí éòàÅäà
(1)  722/     57E : B7                  		OR A
(1)  723/     57F : C9                  		RET
(1)  724/     580 :                     
(1)  725/     580 : 3A 07 5D            CP_ERASED_FILES	LD A,(TRD_5D07)		; ëóÖíóàä ìÑÄãÖççõï îÄâãéÇ
(1)  726/     583 : B7                  		OR A
(1)  727/     584 : CA D9 03            		JP Z,ERR_NOFILES
(1)  728/     587 : C3 E1 03            		JP ERR_OK
(1)  729/     58A :                     
(1)  730/     58A :                     ; áÄèêéë çÄ ìÑÄãÖçàÖ îÄâãÄ
(1)  731/     58A : C5                  GET_OVERWRITE_	PUSH BC
(1)  732/     58B : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1)  733/     58E : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  734/     591 : C6 41               		ADD A,"A"
(1)  735/     593 : CD BC 1D            		CALL PRINT_A_
(1)  736/     596 : 3E 3A               		LD A,":"
(1)  737/     598 : CD BC 1D            		CALL PRINT_A_
(1)  738/     59B : 21 DD 5C            		LD HL,TRD_5CDD		; àåü îÄâãÄ
(1)  739/     59E : CD 6C 0F            		CALL PRINT_FILENAME	; èÖóÄíú àåÖçà îÄâãÄ
(1)  740/     5A1 : 21 1D 28            		LD HL,ASC_2820		; "FILE EXISTS"
(1)  741/     5A4 : DF                  		RST 0X18		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1)  742/     5A5 : CD FD 0F            		CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1)  743/     5A8 : FE 59               		CP "Y"
(1)  744/     5AA : F5                  		PUSH AF
(1)  745/     5AB : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1)  746/     5AE : F1                  		POP AF
(1)  747/     5AF : C1                  		POP BC
(1)  748/     5B0 : C0                  		RET NZ
(1)  749/     5B1 : C5                  		PUSH BC
(1)  750/     5B2 : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1)  751/     5B5 : C1                  		POP BC
(1)  752/     5B6 : CD 9B 07            		CALL ERASE_FILE		; ìÑÄãÖçàÖ îÄâãÄ
(1)  753/     5B9 : AF                  		XOR A
(1)  754/     5BA : C9                  		RET
(1)  755/     5BB :                     
(1)  756/     5BB : 3A E5 5C            CP_EXT_SHARP	LD A,(TRD_5CE5)		; êÄëòàêÖçàÖ îÄâãÄ
(1)  757/     5BE : FE 23               		CP "#"
(1)  758/     5C0 : 28 02               		JR Z,FIND_FILENAME_0A
(1)  759/     5C2 : AF                  		XOR A
(1)  760/     5C3 : C9                  		RET
(1)  761/     5C4 :                     
(1)  762/     5C4 :                     FIND_FILENAME_0A
(1)  763/     5C4 : 3E 0A               		LD A,0X0A
(1)  764/     5C6 : 32 06 5D            		LD (TRD_5D06),A		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1)  765/     5C9 : CD AE 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1)  766/     5CC : 3E 09               		LD A,9
(1)  767/     5CE : 32 06 5D            		LD (TRD_5D06),A		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1)  768/     5D1 : C9                  		RET
(1)  769/     5D2 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 25 - 12/15/2013 13:00:27


(1)  770/     5D2 : 3A DD 5C            COPY_STAR_STAR	LD A,(TRD_5CDD)		; ÇõèéãçÖçàÖ äéåÄçÑõ COPY *,*
(1)  771/     5D5 : FE 2A               		CP "*"
(1)  772/     5D7 : C2 D9 03            		JP NZ,ERR_NOFILES
(1)  773/     5DA : CD AA 1D            		CALL GET_STKBOT_
(1)  774/     5DD : EB                  		EX DE,HL
(1)  775/     5DE : CD 80 1C            		CALL SETUP_DSK
(1)  776/     5E1 : 7E                  		LD A,(HL)
(1)  777/     5E2 : FE 2A               		CP "*"
(1)  778/     5E4 : C2 17 1D            		JP NZ,SINTAX_ERROR
(1)  779/     5E7 : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  780/     5EA : 32 F9 5C            		LD (TRD_5CF9),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  781/     5ED : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  782/     5F0 : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  783/     5F3 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1)  784/     5F6 : 3E FF               		LD A,0XFF
(1)  785/     5F8 : 32 0D 5D            		LD (TRD_5D0D),A
(1)  786/     5FB : 3A F8 5C            LOC_5F4		LD A,(TRD_5CF8)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  787/     5FE : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  788/     601 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1)  789/     604 : 3A 0D 5D            		LD A,(TRD_5D0D)
(1)  790/     607 : 3C                  		INC A
(1)  791/     608 : 32 0D 5D            		LD (TRD_5D0D),A
(1)  792/     60B : 4F                  		LD C,A
(1)  793/     60C : CD 4F 16            		CALL RD_HEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1)  794/     60F : 3A DD 5C            		LD A,(TRD_5CDD)		; àåü îÄâãÄ
(1)  795/     612 : A7                  		AND A
(1)  796/     613 : CA E1 03            		JP Z,ERR_OK
(1)  797/     616 : 3D                  		DEC A
(1)  798/     617 : 28 E2               		JR Z,LOC_5F4
(1)  799/     619 : 21 E6 5C            		LD HL,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1)  800/     61C : 11 ED 5C            		LD DE,TRD_5CED		; çéåÖê	èÖêÇéÉé	íêÖäÄ îÄâãÄ
(1)  801/     61F : 01 07 00            		LD BC,7
(1)  802/     622 : ED B0               		LDIR
(1)  803/     624 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  804/     627 : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  805/     62A : CD AE 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1)  806/     62D : 20 0A               		JR NZ,LOC_634
(1)  807/     62F : CD BB 05            		CALL CP_EXT_SHARP
(1)  808/     632 : 20 05               		JR NZ,LOC_634
(1)  809/     634 : CD 8A 05            		CALL GET_OVERWRITE_	; áÄèêéë çÄ ìÑÄãÖçàÖ îÄâãÄ
(1)  810/     637 : 20 C2               		JR NZ, LOC_5F4
(1)  811/     639 : CD 41 06            LOC_634		CALL COPY_FILE_ON2DSK	; äéèàêéÇÄçàÖ îÄâãéÇ çÄ 2 ÑàëäéÇéÑÄï
(1)  812/     63C : CD 58 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1)  813/     63F : 18 BA               		JR LOC_5F4
(1)  814/     641 :                     
(1)  815/     641 :                     ; äéèàêéÇÄçàÖ îÄâãéÇ çÄ	2 ÑàëäéÇéÑÄï
(1)  816/     641 :                     COPY_FILE_ON2DSK	
(1)  817/     641 : CD FD 03            		CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1)  818/     644 : 3A 09 5E            		LD A,(TRD_5E09)
(1)  819/     647 : FE 80               		CP 0X80
(1)  820/     649 : CA ED 26            		JP Z,ERR_DIRFULL	;Ç ÑàêÖäíéêàà åÖëíÄ çÖíì 
(1)  821/     64C : 21 ED 5C            		LD HL,TRD_5CED		; çéåÖê	èÖêÇéÉé	íêÖäÄ îÄâãÄ
(1)  822/     64F : 11 E6 5C            		LD DE,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1)  823/     652 : 01 07 00            		LD BC,7
(1)  824/     655 : ED B0               		LDIR
(1)  825/     657 : 3A EA 5C            		LD A,(TRD_5CEA)		; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1)  826/     65A : 5F                  		LD E,A
(1)  827/     65B : AF                  		XOR A
(1)  828/     65C : 57                  		LD D,A
(1)  829/     65D : 2A 0A 5E            		LD HL,(TRD_5E0A)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 26 - 12/15/2013 13:00:27


(1)  830/     660 : ED 52               		SBC HL,DE
(1)  831/     662 : DA 43 1C            		JP C,LOC_1C45
(1)  832/     665 : 22 0A 5E            		LD (TRD_5E0A),HL
(1)  833/     668 : 2A 06 5E            		LD HL,(TRD_5E06)
(1)  834/     66B : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1)  835/     66E : E5                  		PUSH HL
(1)  836/     66F : CD 32 07            		CALL COPY_FILE		; äéèàêéÇÄçàÖ îÄâãÄ çÄ 2 ÑàëäéÇéÑÄï
(1)  837/     672 : E1                  		POP HL
(1)  838/     673 : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1)  839/     676 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1)  840/     679 : 22 06 5E            		LD (TRD_5E06),HL
(1)  841/     67C : 21 09 5E            		LD HL,TRD_5E09
(1)  842/     67F : 34                  		INC (HL)
(1)  843/     680 : 4E                  		LD C,(HL)
(1)  844/     681 : 0D                  		DEC C
(1)  845/     682 : 06 00               		LD B,0
(1)  846/     684 : C5                  		PUSH BC
(1)  847/     685 : 11 09 00            		LD DE,9
(1)  848/     688 : ED 53 F4 5C         		LD (TRD_5CF4),DE
(1)  849/     68C : CD 58 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1)  850/     68F : C1                  		POP BC
(1)  851/     690 : C3 5D 16            		JP SET_HEAD_FILENAME
(1)  852/     693 :                     
(1)  853/     693 : 2A 11 5D            COPY		LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1)  854/     696 : 23                  		INC HL
(1)  855/     697 : 7E                  		LD A,(HL)
(1)  856/     698 : E6 DF               		AND 0XDF
(1)  857/     69A : FE 53               		CP "S"
(1)  858/     69C : CA 4D 13            		JP Z,COPY_S
(1)  859/     69F : FE 42               		CP "B"
(1)  860/     6A1 : CA 2C 15            		JP Z,COPY_B
(1)  861/     6A4 : CD C8 1D            		CALL INPUT_2STR2STKBOT
(1)  862/     6A7 : CD 75 1D            		CALL EXIT_IF_SINTAX
(1)  863/     6AA : CD 61 16            		CALL RESERVED_RAM
(1)  864/     6AD : CD D9 0F            		CALL INPUT_EXTFILENAME	; èêàÖå êÄëòàêÖçàü îÄâãÄ
(1)  865/     6B0 : CD AB 1C            		CALL SET_CP_FILENAME
(1)  866/     6B3 : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  867/     6B6 : 32 F8 5C            		LD (TRD_5CF8),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  868/     6B9 : C2 D2 05            		JP NZ,COPY_STAR_STAR	; ÇõèéãçÖçàÖ äéåÄçÑõ COPY *,*
(1)  869/     6BC : CD 4F 16            		CALL RD_HEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1)  870/     6BF : 21 E6 5C            		LD HL,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1)  871/     6C2 : 11 ED 5C            		LD DE,TRD_5CED		; çéåÖê	èÖêÇéÉé	íêÖäÄ îÄâãÄ
(1)  872/     6C5 : 01 07 00            		LD BC,7
(1)  873/     6C8 : ED B0               		LDIR
(1)  874/     6CA : CD AB 1C            		CALL SET_CP_FILENAME
(1)  875/     6CD : F5                  		PUSH AF
(1)  876/     6CE : C5                  		PUSH BC
(1)  877/     6CF : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  878/     6D2 : 32 F9 5C            		LD (TRD_5CF9),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  879/     6D5 : 3A F8 5C            		LD A,(TRD_5CF8)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  880/     6D8 : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  881/     6DB : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1)  882/     6DE : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  883/     6E1 : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  884/     6E4 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1)  885/     6E7 : C1                  		POP BC
(1)  886/     6E8 : F1                  		POP AF
(1)  887/     6E9 : 20 0B               		JR NZ,LOC_6F3
(1)  888/     6EB : CD BB 05            		CALL CP_EXT_SHARP
(1)  889/     6EE : 20 06               		JR NZ,LOC_6F3
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 27 - 12/15/2013 13:00:27


(1)  890/     6F0 : CD 8A 05            		CALL GET_OVERWRITE_	; áÄèêéë çÄ ìÑÄãÖçàÖ îÄâãÄ
(1)  891/     6F3 : C2 E1 03            		JP NZ,ERR_OK
(1)  892/     6F6 : CD 41 06            LOC_6F3		CALL COPY_FILE_ON2DSK	; äéèàêéÇÄçàÖ îÄâãéÇ çÄ 2 ÑàëäéÇéÑÄï
(1)  893/     6F9 : CD 58 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1)  894/     6FC : 3A E5 5C            		LD A,(TRD_5CE5)		; êÄëòàêÖçàÖ îÄâãÄ
(1)  895/     6FF : FE 23               		CP "#"
(1)  896/     701 : C2 E1 03            		JP NZ,ERR_OK
(1)  897/     704 : 3E 0A               		LD A,0X0A
(1)  898/     706 : 32 06 5D            		LD (TRD_5D06),A		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1)  899/     709 : 21 E6 5C            		LD HL,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1)  900/     70C : 34                  		INC (HL)
(1)  901/     70D : 3A F8 5C            		LD A,(TRD_5CF8)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  902/     710 : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  903/     713 : CD BB 05            		CALL CP_EXT_SHARP
(1)  904/     716 : C2 E1 03            		JP NZ,ERR_OK
(1)  905/     719 : CD 4F 16            		CALL RD_HEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1)  906/     71C : 21 E6 5C            		LD HL,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1)  907/     71F : 11 ED 5C            		LD DE,TRD_5CED		; çéåÖê	èÖêÇéÉé	íêÖäÄ îÄâãÄ
(1)  908/     722 : 01 07 00            		LD BC,7
(1)  909/     725 : ED B0               		LDIR
(1)  910/     727 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  911/     72A : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  912/     72D : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1)  913/     730 : 18 C4               		JR LOC_6F3
(1)  914/     732 :                     
(1)  915/     732 :                     ; äéèàêéÇÄçàÖ îÄâãÄ çÄ 2 ÑàëäéÇéÑÄï
(1)  916/     732 : 3A F1 5C            COPY_FILE	LD A,(TRD_5CF1)
(1)  917/     735 : B7                  		OR A
(1)  918/     736 : C8                  		RET Z
(1)  919/     737 : E5                  		PUSH HL
(1)  920/     738 : 21 23 5D            		LD HL,TRD_5D23
(1)  921/     73B : 96                  		SUB (HL)
(1)  922/     73C : E1                  		POP HL
(1)  923/     73D : 30 39               		JR NC,LOC_775
(1)  924/     73F : 3A F1 5C            		LD A,(TRD_5CF1)
(1)  925/     742 : 47                  		LD B,A
(1)  926/     743 : AF                  		XOR A
(1)  927/     744 : 32 F1 5C            		LD (TRD_5CF1),A
(1)  928/     747 : C5                  LOC_744		PUSH BC
(1)  929/     748 : 3A F8 5C            		LD A,(TRD_5CF8)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  930/     74B : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  931/     74E : C1                  		POP BC
(1)  932/     74F : C5                  		PUSH BC
(1)  933/     750 : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1)  934/     753 : E5                  		PUSH HL
(1)  935/     754 : ED 5B F2 5C         		LD DE,(TRD_5CF2)
(1)  936/     758 : CD 52 1E            		CALL COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1)  937/     75B : 2A F4 5C            		LD HL,(TRD_5CF4)
(1)  938/     75E : 22 F2 5C            		LD (TRD_5CF2),HL
(1)  939/     761 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  940/     764 : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  941/     767 : E1                  		POP HL
(1)  942/     768 : C1                  		POP BC
(1)  943/     769 : ED 5B EB 5C         		LD DE,(TRD_5CEB)	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1)  944/     76D : CD 62 1E            		CALL COM_06		; áÄèàëú ëÖäíéêéÇ
(1)  945/     770 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1)  946/     773 : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1)  947/     776 : 18 BA               		JR COPY_FILE		; äéèàêéÇÄçàÖ îÄâãÄ çÄ 2 ÑàëäéÇéÑÄï
(1)  948/     778 :                     
(1)  949/     778 : 32 F1 5C            LOC_775		LD (TRD_5CF1),A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 28 - 12/15/2013 13:00:27


(1)  950/     77B : 3A 23 5D            		LD A,(TRD_5D23)
(1)  951/     77E : 47                  		LD B,A
(1)  952/     77F : AF                  		XOR A
(1)  953/     780 : 18 C5               		JR LOC_744
(1)  954/     782 :                     
(1)  955/     782 : CD D8 1D            ERASE		CALL SET_AND_PUT	; ÇõèéãçÖçàÖ äéåÄçÑõ ERASE
(1)  956/     785 : CD 75 1D            		CALL EXIT_IF_SINTAX
(1)  957/     788 : CD D9 0F            		CALL INPUT_EXTFILENAME	; èêàÖå êÄëòàêÖçàü îÄâãÄ
(1)  958/     78B : AF                  		XOR A
(1)  959/     78C : 32 07 5D            		LD (TRD_5D07),A		; ëóÖíóàä ìÑÄãÖççõï îÄâãéÇ
(1)  960/     78F : CD 2F 29            		CALL FIND_FILE		; èéàëä	îÄâãÄ èé àåÖçà
(1)  961/     792 : CD 9F 07            		CALL ERASE_FILES
(1)  962/     795 : C2 80 05            		JP NZ,CP_ERASED_FILES
(1)  963/     798 : C3 E1 03            		JP ERR_OK
(1)  964/     79B :                     
(1)  965/     79B :                     ;ìÑÄãÖçàÖ îÄâãÄ
(1)  966/     79B : AF                  ERASE_FILE	XOR A
(1)  967/     79C : 32 07 5D            		LD (TRD_5D07),A		; ëóÖíóàä ìÑÄãÖççõï îÄâãéÇ
(1)  968/     79F : 3A DD 5C            ERASE_FILES	LD A,(TRD_5CDD)		; àåü îÄâãÄ
(1)  969/     7A2 : 32 08 5D            		LD (TRD_5D08),A		; èÖêÇõâ ëàåÇéã	àåÖçà îÄâãÄ
(1)  970/     7A5 : C0                  		RET NZ
(1)  971/     7A6 : 21 07 5D            		LD HL,TRD_5D07		; ëóÖíóàä ìÑÄãÖççõï îÄâãéÇ
(1)  972/     7A9 : 34                  		INC (HL)
(1)  973/     7AA : C5                  		PUSH BC
(1)  974/     7AB : CD FD 03            		CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1)  975/     7AE : 3A 09 5E            		LD A,(TRD_5E09)
(1)  976/     7B1 : C1                  		POP BC
(1)  977/     7B2 : 0C                  		INC C
(1)  978/     7B3 : B9                  		CP C
(1)  979/     7B4 : 20 05               		JR NZ,LOC_7BC
(1)  980/     7B6 : 3D                  		DEC A
(1)  981/     7B7 : 32 09 5E            		LD (TRD_5E09),A
(1)  982/     7BA : AF                  		XOR A
(1)  983/     7BB : F5                  LOC_7BC		PUSH AF
(1)  984/     7BC : 28 04               		JR Z,LOC_7C3
(1)  985/     7BE : 21 19 5E            		LD HL,TRD_5E19
(1)  986/     7C1 : 34                  		INC (HL)
(1)  987/     7C2 : C5                  LOC_7C3		PUSH BC
(1)  988/     7C3 : CD 58 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1)  989/     7C6 : C1                  		POP BC
(1)  990/     7C7 : 0D                  		DEC C
(1)  991/     7C8 : CD 4F 16            		CALL RD_HEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1)  992/     7CB : F1                  		POP AF
(1)  993/     7CC : CA D1 07            		JP Z,LOC_7D2
(1)  994/     7CF : 3E 01               		LD A,1
(1)  995/     7D1 : 32 DD 5C            LOC_7D2		LD (TRD_5CDD),A		; àåü îÄâãÄ
(1)  996/     7D4 : F5                  		PUSH AF
(1)  997/     7D5 : CD 55 1E            		CALL WR_HEAD_FILENAME	; ëéïêÄçÖçàÖ éèàëÄíÖãü îÄâãÄ
(1)  998/     7D8 : 3A 08 5D            		LD A,(TRD_5D08)		; èÖêÇõâ ëàåÇéã	àåÖçà îÄâãÄ
(1)  999/     7DB : 32 DD 5C            		LD (TRD_5CDD),A		; àåü îÄâãÄ
(1) 1000/     7DE : F1                  		POP AF
(1) 1001/     7DF : 28 06               		JR Z,WR_NEW_FREE_SEC
(1) 1002/     7E1 : CD AE 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 1003/     7E4 : 18 B9               		JR ERASE_FILES
(1) 1004/     7E6 :                     
(1) 1005/     7E6 : (MACRO)             		DUPL 0X07E7-$,0XFF
(1) 1005/     7E6 :                     DUPL:
(1) 1005/     7E6 : =0H                 $$N             EQU (0X07E7-$) / 1024
(1) 1005/     7E6 : =1H                 $$M             EQU (0X07E7-$) # 1024
(1) 1005/     7E6 :                                     REPT $$N
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 29 - 12/15/2013 13:00:27


(1) 1005/     7E6 :                                     DB 1024 DUP(0XFF)
(1) 1005/     7E6 :                                     ENDM
(1) 1005/     7E6 : =>TRUE                              IF $$M <> 0
(1) 1005/     7E6 : FF                                  DB $$M DUP(0XFF)
(1) 1005/     7E7 : [1005]                              ENDIF
(1) 1006/     7E7 : CD FD 03            WR_NEW_FREE_SEC	CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1) 1007/     7EA : 2A EB 5C            		LD HL,(TRD_5CEB)	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1008/     7ED : 22 06 5E            		LD (TRD_5E06),HL
(1) 1009/     7F0 : ED 5B EA 5C         		LD DE,(TRD_5CEA)	; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 1010/     7F4 : 2A 0A 5E            		LD HL,(TRD_5E0A)
(1) 1011/     7F7 : 16 00               		LD D,0
(1) 1012/     7F9 : 19                  		ADD HL,DE
(1) 1013/     7FA : 22 0A 5E            		LD (TRD_5E0A),HL
(1) 1014/     7FD : C3 58 1E            		JP REWRITE_9SEC		; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 1015/     800 :                     
(1) 1016/     800 : FF                  		DB 0XFF			;DCU
(1) 1017/     801 :                     
(1) 1018/     801 :                     ;===============FREE SPACE 1============
(1) 1019/     801 :                     		include virtual.a80
(2)    1/     801 :                     
(2)    2/     801 :                     ;LAST UPDATE: 13.12.2013 savelij
(2)    3/     801 :                     
(2)    4/     801 :                     ;äéèàêéÇÄçàÖ 256 ÅÄâí
(2)    5/     801 :                     COPY_BLOCK	REPT 128			;äéèàêéÇÄçàÖ ÅãéäÄ 256 ÅÄâí
(2)    6/     801 :                     		LDI
(2)    7/     801 :                     		ENDM
(2)    6/     801 : ED A0               		LDI
(2)    6/     803 : ED A0               		LDI
(2)    6/     805 : ED A0               		LDI
(2)    6/     807 : ED A0               		LDI
(2)    6/     809 : ED A0               		LDI
(2)    6/     80B : ED A0               		LDI
(2)    6/     80D : ED A0               		LDI
(2)    6/     80F : ED A0               		LDI
(2)    6/     811 : ED A0               		LDI
(2)    6/     813 : ED A0               		LDI
(2)    6/     815 : ED A0               		LDI
(2)    6/     817 : ED A0               		LDI
(2)    6/     819 : ED A0               		LDI
(2)    6/     81B : ED A0               		LDI
(2)    6/     81D : ED A0               		LDI
(2)    6/     81F : ED A0               		LDI
(2)    6/     821 : ED A0               		LDI
(2)    6/     823 : ED A0               		LDI
(2)    6/     825 : ED A0               		LDI
(2)    6/     827 : ED A0               		LDI
(2)    6/     829 : ED A0               		LDI
(2)    6/     82B : ED A0               		LDI
(2)    6/     82D : ED A0               		LDI
(2)    6/     82F : ED A0               		LDI
(2)    6/     831 : ED A0               		LDI
(2)    6/     833 : ED A0               		LDI
(2)    6/     835 : ED A0               		LDI
(2)    6/     837 : ED A0               		LDI
(2)    6/     839 : ED A0               		LDI
(2)    6/     83B : ED A0               		LDI
(2)    6/     83D : ED A0               		LDI
(2)    6/     83F : ED A0               		LDI
(2)    6/     841 : ED A0               		LDI
(2)    6/     843 : ED A0               		LDI
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 30 - 12/15/2013 13:00:27


(2)    6/     845 : ED A0               		LDI
(2)    6/     847 : ED A0               		LDI
(2)    6/     849 : ED A0               		LDI
(2)    6/     84B : ED A0               		LDI
(2)    6/     84D : ED A0               		LDI
(2)    6/     84F : ED A0               		LDI
(2)    6/     851 : ED A0               		LDI
(2)    6/     853 : ED A0               		LDI
(2)    6/     855 : ED A0               		LDI
(2)    6/     857 : ED A0               		LDI
(2)    6/     859 : ED A0               		LDI
(2)    6/     85B : ED A0               		LDI
(2)    6/     85D : ED A0               		LDI
(2)    6/     85F : ED A0               		LDI
(2)    6/     861 : ED A0               		LDI
(2)    6/     863 : ED A0               		LDI
(2)    6/     865 : ED A0               		LDI
(2)    6/     867 : ED A0               		LDI
(2)    6/     869 : ED A0               		LDI
(2)    6/     86B : ED A0               		LDI
(2)    6/     86D : ED A0               		LDI
(2)    6/     86F : ED A0               		LDI
(2)    6/     871 : ED A0               		LDI
(2)    6/     873 : ED A0               		LDI
(2)    6/     875 : ED A0               		LDI
(2)    6/     877 : ED A0               		LDI
(2)    6/     879 : ED A0               		LDI
(2)    6/     87B : ED A0               		LDI
(2)    6/     87D : ED A0               		LDI
(2)    6/     87F : ED A0               		LDI
(2)    6/     881 : ED A0               		LDI
(2)    6/     883 : ED A0               		LDI
(2)    6/     885 : ED A0               		LDI
(2)    6/     887 : ED A0               		LDI
(2)    6/     889 : ED A0               		LDI
(2)    6/     88B : ED A0               		LDI
(2)    6/     88D : ED A0               		LDI
(2)    6/     88F : ED A0               		LDI
(2)    6/     891 : ED A0               		LDI
(2)    6/     893 : ED A0               		LDI
(2)    6/     895 : ED A0               		LDI
(2)    6/     897 : ED A0               		LDI
(2)    6/     899 : ED A0               		LDI
(2)    6/     89B : ED A0               		LDI
(2)    6/     89D : ED A0               		LDI
(2)    6/     89F : ED A0               		LDI
(2)    6/     8A1 : ED A0               		LDI
(2)    6/     8A3 : ED A0               		LDI
(2)    6/     8A5 : ED A0               		LDI
(2)    6/     8A7 : ED A0               		LDI
(2)    6/     8A9 : ED A0               		LDI
(2)    6/     8AB : ED A0               		LDI
(2)    6/     8AD : ED A0               		LDI
(2)    6/     8AF : ED A0               		LDI
(2)    6/     8B1 : ED A0               		LDI
(2)    6/     8B3 : ED A0               		LDI
(2)    6/     8B5 : ED A0               		LDI
(2)    6/     8B7 : ED A0               		LDI
(2)    6/     8B9 : ED A0               		LDI
(2)    6/     8BB : ED A0               		LDI
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 31 - 12/15/2013 13:00:27


(2)    6/     8BD : ED A0               		LDI
(2)    6/     8BF : ED A0               		LDI
(2)    6/     8C1 : ED A0               		LDI
(2)    6/     8C3 : ED A0               		LDI
(2)    6/     8C5 : ED A0               		LDI
(2)    6/     8C7 : ED A0               		LDI
(2)    6/     8C9 : ED A0               		LDI
(2)    6/     8CB : ED A0               		LDI
(2)    6/     8CD : ED A0               		LDI
(2)    6/     8CF : ED A0               		LDI
(2)    6/     8D1 : ED A0               		LDI
(2)    6/     8D3 : ED A0               		LDI
(2)    6/     8D5 : ED A0               		LDI
(2)    6/     8D7 : ED A0               		LDI
(2)    6/     8D9 : ED A0               		LDI
(2)    6/     8DB : ED A0               		LDI
(2)    6/     8DD : ED A0               		LDI
(2)    6/     8DF : ED A0               		LDI
(2)    6/     8E1 : ED A0               		LDI
(2)    6/     8E3 : ED A0               		LDI
(2)    6/     8E5 : ED A0               		LDI
(2)    6/     8E7 : ED A0               		LDI
(2)    6/     8E9 : ED A0               		LDI
(2)    6/     8EB : ED A0               		LDI
(2)    6/     8ED : ED A0               		LDI
(2)    6/     8EF : ED A0               		LDI
(2)    6/     8F1 : ED A0               		LDI
(2)    6/     8F3 : ED A0               		LDI
(2)    6/     8F5 : ED A0               		LDI
(2)    6/     8F7 : ED A0               		LDI
(2)    6/     8F9 : ED A0               		LDI
(2)    6/     8FB : ED A0               		LDI
(2)    6/     8FD : ED A0               		LDI
(2)    6/     8FF : ED A0               		LDI
(2)    8/     901 :                     COPYHBLOCK	REPT 126
(2)    9/     901 :                     		LDI
(2)   10/     901 :                     		ENDM
(2)    9/     901 : ED A0               		LDI
(2)    9/     903 : ED A0               		LDI
(2)    9/     905 : ED A0               		LDI
(2)    9/     907 : ED A0               		LDI
(2)    9/     909 : ED A0               		LDI
(2)    9/     90B : ED A0               		LDI
(2)    9/     90D : ED A0               		LDI
(2)    9/     90F : ED A0               		LDI
(2)    9/     911 : ED A0               		LDI
(2)    9/     913 : ED A0               		LDI
(2)    9/     915 : ED A0               		LDI
(2)    9/     917 : ED A0               		LDI
(2)    9/     919 : ED A0               		LDI
(2)    9/     91B : ED A0               		LDI
(2)    9/     91D : ED A0               		LDI
(2)    9/     91F : ED A0               		LDI
(2)    9/     921 : ED A0               		LDI
(2)    9/     923 : ED A0               		LDI
(2)    9/     925 : ED A0               		LDI
(2)    9/     927 : ED A0               		LDI
(2)    9/     929 : ED A0               		LDI
(2)    9/     92B : ED A0               		LDI
(2)    9/     92D : ED A0               		LDI
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 32 - 12/15/2013 13:00:27


(2)    9/     92F : ED A0               		LDI
(2)    9/     931 : ED A0               		LDI
(2)    9/     933 : ED A0               		LDI
(2)    9/     935 : ED A0               		LDI
(2)    9/     937 : ED A0               		LDI
(2)    9/     939 : ED A0               		LDI
(2)    9/     93B : ED A0               		LDI
(2)    9/     93D : ED A0               		LDI
(2)    9/     93F : ED A0               		LDI
(2)    9/     941 : ED A0               		LDI
(2)    9/     943 : ED A0               		LDI
(2)    9/     945 : ED A0               		LDI
(2)    9/     947 : ED A0               		LDI
(2)    9/     949 : ED A0               		LDI
(2)    9/     94B : ED A0               		LDI
(2)    9/     94D : ED A0               		LDI
(2)    9/     94F : ED A0               		LDI
(2)    9/     951 : ED A0               		LDI
(2)    9/     953 : ED A0               		LDI
(2)    9/     955 : ED A0               		LDI
(2)    9/     957 : ED A0               		LDI
(2)    9/     959 : ED A0               		LDI
(2)    9/     95B : ED A0               		LDI
(2)    9/     95D : ED A0               		LDI
(2)    9/     95F : ED A0               		LDI
(2)    9/     961 : ED A0               		LDI
(2)    9/     963 : ED A0               		LDI
(2)    9/     965 : ED A0               		LDI
(2)    9/     967 : ED A0               		LDI
(2)    9/     969 : ED A0               		LDI
(2)    9/     96B : ED A0               		LDI
(2)    9/     96D : ED A0               		LDI
(2)    9/     96F : ED A0               		LDI
(2)    9/     971 : ED A0               		LDI
(2)    9/     973 : ED A0               		LDI
(2)    9/     975 : ED A0               		LDI
(2)    9/     977 : ED A0               		LDI
(2)    9/     979 : ED A0               		LDI
(2)    9/     97B : ED A0               		LDI
(2)    9/     97D : ED A0               		LDI
(2)    9/     97F : ED A0               		LDI
(2)    9/     981 : ED A0               		LDI
(2)    9/     983 : ED A0               		LDI
(2)    9/     985 : ED A0               		LDI
(2)    9/     987 : ED A0               		LDI
(2)    9/     989 : ED A0               		LDI
(2)    9/     98B : ED A0               		LDI
(2)    9/     98D : ED A0               		LDI
(2)    9/     98F : ED A0               		LDI
(2)    9/     991 : ED A0               		LDI
(2)    9/     993 : ED A0               		LDI
(2)    9/     995 : ED A0               		LDI
(2)    9/     997 : ED A0               		LDI
(2)    9/     999 : ED A0               		LDI
(2)    9/     99B : ED A0               		LDI
(2)    9/     99D : ED A0               		LDI
(2)    9/     99F : ED A0               		LDI
(2)    9/     9A1 : ED A0               		LDI
(2)    9/     9A3 : ED A0               		LDI
(2)    9/     9A5 : ED A0               		LDI
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 33 - 12/15/2013 13:00:27


(2)    9/     9A7 : ED A0               		LDI
(2)    9/     9A9 : ED A0               		LDI
(2)    9/     9AB : ED A0               		LDI
(2)    9/     9AD : ED A0               		LDI
(2)    9/     9AF : ED A0               		LDI
(2)    9/     9B1 : ED A0               		LDI
(2)    9/     9B3 : ED A0               		LDI
(2)    9/     9B5 : ED A0               		LDI
(2)    9/     9B7 : ED A0               		LDI
(2)    9/     9B9 : ED A0               		LDI
(2)    9/     9BB : ED A0               		LDI
(2)    9/     9BD : ED A0               		LDI
(2)    9/     9BF : ED A0               		LDI
(2)    9/     9C1 : ED A0               		LDI
(2)    9/     9C3 : ED A0               		LDI
(2)    9/     9C5 : ED A0               		LDI
(2)    9/     9C7 : ED A0               		LDI
(2)    9/     9C9 : ED A0               		LDI
(2)    9/     9CB : ED A0               		LDI
(2)    9/     9CD : ED A0               		LDI
(2)    9/     9CF : ED A0               		LDI
(2)    9/     9D1 : ED A0               		LDI
(2)    9/     9D3 : ED A0               		LDI
(2)    9/     9D5 : ED A0               		LDI
(2)    9/     9D7 : ED A0               		LDI
(2)    9/     9D9 : ED A0               		LDI
(2)    9/     9DB : ED A0               		LDI
(2)    9/     9DD : ED A0               		LDI
(2)    9/     9DF : ED A0               		LDI
(2)    9/     9E1 : ED A0               		LDI
(2)    9/     9E3 : ED A0               		LDI
(2)    9/     9E5 : ED A0               		LDI
(2)    9/     9E7 : ED A0               		LDI
(2)    9/     9E9 : ED A0               		LDI
(2)    9/     9EB : ED A0               		LDI
(2)    9/     9ED : ED A0               		LDI
(2)    9/     9EF : ED A0               		LDI
(2)    9/     9F1 : ED A0               		LDI
(2)    9/     9F3 : ED A0               		LDI
(2)    9/     9F5 : ED A0               		LDI
(2)    9/     9F7 : ED A0               		LDI
(2)    9/     9F9 : ED A0               		LDI
(2)    9/     9FB : ED A0               		LDI
(2)   11/     9FD : 18 02               		JR COPY_BLOCK1
(2)   12/     9FF :                     		
(2)   13/     9FF : FF FF               		DW 0XFFFF			;Ñãü ÇÖäíéêÄ èêÖêõÇÄçàâ IM2 I=9
(2)   14/     A01 :                     
(2)   15/     A01 : ED A0               COPY_BLOCK1	LDI
(2)   16/     A03 : ED A0               		LDI
(2)   17/     A05 : C9                  		RET
(2)   18/     A06 :                     
(2)   19/     A06 : =0H                 WOUT1F		EQU 0
(2)   20/     A06 : =1H                 WOUT3F		EQU WOUT1F+1
(2)   21/     A06 : =2H                 WOUT5F		EQU WOUT3F+1
(2)   22/     A06 : =3H                 WOUT7F		EQU WOUT5F+1
(2)   23/     A06 : =4H                 WOUTFF		EQU WOUT7F+1
(2)   24/     A06 : =5H                 WOUTI		EQU WOUTFF+1
(2)   25/     A06 : =6H                 WIN1F		EQU WOUTI+1
(2)   26/     A06 : =7H                 WIN3F		EQU WIN1F+1
(2)   27/     A06 : =8H                 WIN5F		EQU WIN3F+1
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 34 - 12/15/2013 13:00:27


(2)   28/     A06 : =9H                 WIN7F		EQU WIN5F+1
(2)   29/     A06 : =AH                 WINFF		EQU WIN7F+1
(2)   30/     A06 : =BH                 WINI		EQU WINFF+1
(2)   31/     A06 : =CH                 WOUTCD		EQU WINI+1
(2)   32/     A06 : =DH                 WINHC		EQU WOUTCD+1
(2)   33/     A06 : =EH                 WWR_RD_SECT	EQU WINHC+1
(2)   34/     A06 :                     
(2)   35/     A06 : =FH                 WOUTCA		EQU WWR_RD_SECT+1
(2)   36/     A06 : =10H                WWRITE_SEC_	EQU WOUTCA+1
(2)   37/     A06 : =11H                WREAD_SEC_	EQU WWRITE_SEC_+1
(2)   38/     A06 : =12H                WINI_RET	EQU WREAD_SEC_+1
(2)   39/     A06 :                     
(2)   40/     A06 : F2 0A               W_DATA		DW W_OUT1F			;00
(2)   41/     A08 : 78 0B               		DW W_OUT3F			;01
(2)   42/     A0A : 80 0B               		DW W_OUT5F			;02
(2)   43/     A0C : 88 0B               		DW W_OUT7F			;03
(2)   44/     A0E : 90 0B               		DW W_OUTFF			;04
(2)   45/     A10 : CD 0B               		DW W_OUTI			;05
(2)   46/     A12 : DA 0B               		DW W_IN1F			;06
(2)   47/     A14 : F8 0B               		DW W_IN3F			;07
(2)   48/     A16 : FE 0B               		DW W_IN5F			;08
(2)   49/     A18 : 04 0C               		DW W_IN7F			;09
(2)   50/     A1A : 0A 0C               		DW W_INFF			;0A
(2)   51/     A1C : 52 0C               		DW W_INI			;0B
(2)   52/     A1E : C8 0B               		DW W_OUTCD			;0C
(2)   53/     A20 : 11 0C               		DW W_INHC			;0D
(2)   54/     A22 : DB 0C               		DW W_WR_RD_SECT			;0E
(2)   55/     A24 :                     EW_DATA
(2)   56/     A24 : A5 0B               		DW W_OUTCA			;0F
(2)   57/     A26 : C8 0C               		DW WRITE_SEC_			;10
(2)   58/     A28 : A2 0C               		DW READ_SEC_			;11
(2)   59/     A2A : 52 0C               		DW W_INI			;12
(2)   60/     A2C :                     
(2)   61/     A2C : 16 08 00            TEXT4VIRTDRV	DB 0X16,ZASTV_Y+2,0
(2)   62/     A2F : (MACRO)             TXT4VIRTDRV	DC "Virtual Drive: "
(2)   62/     A2F : =>TRUE                              IF STRLEN("Virtual Drive: ")>1
(2)   62/     A2F : 56 69 72 74 75 61                   DB SUBSTR("Virtual Drive: ",0,STRLEN("Virtual Drive: ")-1)
                    6C 20 44 72 69 76 
                    65 3A 
(2)   62/     A3D : [62]                                ENDIF
(2)   62/     A3D : =>TRUE                              IF STRLEN("Virtual Drive: ")>0
(2)   62/     A3D : A0                                  DB CHARFROMSTR("Virtual Drive: ",STRLEN("Virtual Drive: ")-1)|80H
(2)   62/     A3E : [62]                                ENDIF
(2)   63/     A3E :                     ETXT4VIRTDRV
(2)   64/     A3E :                     
(2)   65/     A3E : E3                  RST08_WORK	EX (SP),HL
(2)   66/     A3F : F5                  		PUSH AF
(2)   67/     A40 : C5                  		PUSH BC
(2)   68/     A41 : ED 57               		LD A,I
(2)   69/     A43 : EA 48 0A            	        JP PE,RST08_WORK1
(2)   70/     A46 : ED 57               		LD A,I
(2)   71/     A48 : F3                  RST08_WORK1	DI
(2)   72/     A49 : F5                  		PUSH AF
(2)   73/     A4A : 01 BE 04            		LD BC,RD_1WINA0
(2)   74/     A4D : ED 78               		IN A,(C)
(2)   75/     A4F : F5                  		PUSH AF
(2)   76/     A50 : E6 3E               		AND 0X3E
(2)   77/     A52 : 01 F7 3F            		LD BC,WIN_A0
(2)   78/     A55 : ED 79               		OUT (C),A
(2)   79/     A57 : 06 37               		LD B,HIGH (WIN_P0)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 35 - 12/15/2013 13:00:27


(2)   80/     A59 : 3E 02               		LD A,PAGE_EVODOS
(2)   81/     A5B : ED 79               		OUT (C),A
(2)   82/     A5D : DB BF               		IN A,(PEVO_CONF)
(2)   83/     A5F : 32 BE 3C            		LD (WR_BF),A
(2)   84/     A62 : F6 01               		OR 1
(2)   85/     A64 : D3 BF               		OUT (PEVO_CONF),A
(2)   86/     A66 : F1                  		POP AF
(2)   87/     A67 : 32 CE 3C            		LD (TEK_ROMPAGE),A
(2)   88/     A6A : 7E                  		LD A,(HL)
(2)   89/     A6B : ED 73 AC 3C         		LD (DOS_STEK),SP
(2)   90/     A6F : 31 AC 3C            		LD SP,DOS_STEK
(2)   91/     A72 : E5                  		PUSH HL				;èéãéÜàãà HL=ÄÑêÖë ÇéáÇêÄíÄ
(2)   92/     A73 : D5                  		PUSH DE
(2)   93/     A74 : 2A AC 3C            		LD HL,(DOS_STEK)
(2)   94/     A77 : 11 B6 3C            		LD DE,REG_IF
(2)   95/     A7A :                     		REPT 8
(2)   96/     A7A :                     		LDI
(2)   97/     A7A :                     		ENDM
(2)   96/     A7A : ED A0               		LDI
(2)   96/     A7C : ED A0               		LDI
(2)   96/     A7E : ED A0               		LDI
(2)   96/     A80 : ED A0               		LDI
(2)   96/     A82 : ED A0               		LDI
(2)   96/     A84 : ED A0               		LDI
(2)   96/     A86 : ED A0               		LDI
(2)   96/     A88 : ED A0               		LDI
(2)   98/     A8A : 21 99 0A            		LD HL,EXIT_RST08
(2)   99/     A8D : E5                  		PUSH HL				;èéãéÜàãà ÄÑêÖë áÄÇÖêòÖçàü
(2)  100/     A8E : 21 06 0A            		LD HL,W_DATA
(2)  101/     A91 : 87                  		ADD A,A
(2)  102/     A92 : 85                  		ADD A,L		
(2)  103/     A93 : 6F                  		LD L,A
(2)  104/     A94 : 7E                  		LD A,(HL)
(2)  105/     A95 : 2C                  		INC L
(2)  106/     A96 : 66                  		LD H,(HL)
(2)  107/     A97 : 6F                  		LD L,A
(2)  108/     A98 : E9                  		JP (HL)
(2)  109/     A99 :                     
(2)  110/     A99 : 21 B6 3C            EXIT_RST08	LD HL,REG_IF
(2)  111/     A9C : ED 5B AC 3C         		LD DE,(DOS_STEK)
(2)  112/     AA0 :                     		REPT 8
(2)  113/     AA0 :                     		LDI
(2)  114/     AA0 :                     		ENDM
(2)  113/     AA0 : ED A0               		LDI
(2)  113/     AA2 : ED A0               		LDI
(2)  113/     AA4 : ED A0               		LDI
(2)  113/     AA6 : ED A0               		LDI
(2)  113/     AA8 : ED A0               		LDI
(2)  113/     AAA : ED A0               		LDI
(2)  113/     AAC : ED A0               		LDI
(2)  113/     AAE : ED A0               		LDI
(2)  115/     AB0 : D1                  		POP DE
(2)  116/     AB1 : E1                  		POP HL
(2)  117/     AB2 : ED 7B AC 3C         		LD SP,(DOS_STEK)
(2)  118/     AB6 : 7E                  		LD A,(HL)
(2)  119/     AB7 : 23                  		INC HL
(2)  120/     AB8 : FE 0F               		CP LOW ((EW_DATA-W_DATA)/2)
(2)  121/     ABA : 38 03               		JR C,EXIT_RST082
(2)  122/     ABC : 21 F2 3F            		LD HL,FOR_RET
(2)  123/     ABF : E5                  EXIT_RST082	PUSH HL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 36 - 12/15/2013 13:00:27


(2)  124/     AC0 : DB 2F               		IN A,(RW_PORT0)
(2)  125/     AC2 : 67                  		LD H,A
(2)  126/     AC3 : E6 03               		AND 3
(2)  127/     AC5 : 6F                  		LD L,A
(2)  128/     AC6 : 3A CF 3C            		LD A,(MASK_DRV)
(2)  129/     AC9 : 47                  		LD B,A
(2)  130/     ACA : 7C                  		LD A,H
(2)  131/     ACB : A0                  		AND B
(2)  132/     ACC : B8                  		CP B
(2)  133/     ACD : 28 06               		JR Z,EXIT_RST085
(2)  134/     ACF : 3A B0 3C            		LD A,(WR_FF)
(2)  135/     AD2 : E6 03               		AND 3
(2)  136/     AD4 : BD                  		CP L
(2)  137/     AD5 : 3A BE 3C            EXIT_RST085	LD A,(WR_BF)
(2)  138/     AD8 : 01 F7 40            		LD BC,WIN_A0+0X100
(2)  139/     ADB : 21 1E 0F            		LD HL,DOS_NOEMUL
(2)  140/     ADE : 20 01               		JR NZ,EXIT_RST083
(2)  141/     AE0 : 23                  		INC HL
(2)  142/     AE1 : CD 3B 3D            EXIT_RST083	CALL WRPORT_RET
(2)  143/     AE4 : E1                  		POP HL
(2)  144/     AE5 : D3 BF               		OUT (PEVO_CONF),A
(2)  145/     AE7 : F1                  		POP AF
(2)  146/     AE8 : E2 EC 0A            		JP PO,EXIT_RST084
(2)  147/     AEB : FB                  		EI
(2)  148/     AEC : ED 47               EXIT_RST084	LD I,A
(2)  149/     AEE : C1                  		POP BC
(2)  150/     AEF : F1                  		POP AF
(2)  151/     AF0 : E3                  		EX (SP),HL
(2)  152/     AF1 : C9                  		RET
(2)  153/     AF2 :                     
(2)  154/     AF2 :                     ;áÄèàëú "A" Ç èéêí 0X1F
(2)  155/     AF2 : 3A BB 3C            W_OUT1F		LD A,(REG_A)
(2)  156/     AF5 : 32 AE 3C            		LD (WR_1F),A
(2)  157/     AF8 : FE 10               		CP 0X10				;00-0F äéåÄçÑÄ ÇéëëíÄçéÇãÖçàü
(2)  158/     AFA : 30 05               		JR NC,W_OUT1F10
(2)  159/     AFC : AF                  		XOR A
(2)  160/     AFD : D3 4F               		OUT (RW_PORT1),A;OUT (0X3F),A
(2)  161/     AFF : 18 0F               		JR INFF_BIT6
(2)  162/     B01 :                     
(2)  163/     B01 : FE 20               W_OUT1F10	CP 0X20				;10-1F äéåÄçÑÄ èéàëäÄ
(2)  164/     B03 : 30 1C               		JR NC,W_OUT1F20
(2)  165/     B05 : DB 8F               		IN A,(RW_PORT3)		;IN A,(0X7F)
(2)  166/     B07 : D3 4F               		OUT (RW_PORT1),A	;OUT (0X3F),A
(2)  167/     B09 : CD 01 32            		CALL DISK_NONE
(2)  168/     B0C : 3E 80               		LD A,0X80
(2)  169/     B0E : 20 01               		JR NZ,INFF_BIT61
(2)  170/     B10 : AF                  INFF_BIT6	XOR A
(2)  171/     B11 : 32 AF 3C            INFF_BIT61	LD (RD_1F),A
(2)  172/     B14 : 3E BF               		LD A,0XBF
(2)  173/     B16 : 32 B1 3C            		LD (RD_FF),A
(2)  174/     B19 : C9                  		RET
(2)  175/     B1A :                     
(2)  176/     B1A : CD E9 0D            DISKNONE1	CALL RET_PAGE_STD
(2)  177/     B1D : 3E 80               		LD A,0X80
(2)  178/     B1F : 18 F0               		JR INFF_BIT61
(2)  179/     B21 :                     
(2)  180/     B21 : FE 40               W_OUT1F20	CP 0X40				;20-3F äéåÄçÑÄ òÄÉ Ç èêÖÑõÑìôÖå çÄèêÄÇãÖçàà
(2)  181/     B23 : 30 07               		JR NC,W_OUT1F40
(2)  182/     B25 : DB 4F               		IN A,(RW_PORT1)		;IN A,(0X3F)
(2)  183/     B27 : 00                  NAPRAVL		NOP
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 37 - 12/15/2013 13:00:27


(2)  184/     B28 : D3 4F               		OUT (RW_PORT1),A	;OUT (0X3F),A
(2)  185/     B2A : 18 E4               		JR INFF_BIT6
(2)  186/     B2C :                     
(2)  187/     B2C : FE 60               W_OUT1F40	CP 0X60				;40-5F äéåÄçÑÄ òÄÉ ÇèÖêÖÑ
(2)  188/     B2E : 30 0C               		JR NC,W_OUT1F60
(2)  189/     B30 : DB 4F               		IN A,(RW_PORT1)		;IN A,(0X3F)
(2)  190/     B32 : 3C                  		INC A
(2)  191/     B33 : D3 4F               		OUT (RW_PORT1),A	;OUT (0X3F),A
(2)  192/     B35 : 3E 3C               		LD A,0X3C
(2)  193/     B37 : 32 27 0B            		LD (NAPRAVL),A
(2)  194/     B3A : 18 D4               		JR INFF_BIT6
(2)  195/     B3C :                     
(2)  196/     B3C : FE 80               W_OUT1F60	CP 0X80				;60-7F äéåÄçÑÄ òÄÉ çÄáÄÑ
(2)  197/     B3E : 30 0C               		JR NC,W_OUT1F80
(2)  198/     B40 : DB 4F               		IN A,(RW_PORT1)		;IN A,(0X3F)
(2)  199/     B42 : 3D                  		DEC A
(2)  200/     B43 : D3 4F               		OUT (RW_PORT1),A	;OUT (0X3F),A
(2)  201/     B45 : 3E 3D               		LD A,0X3D
(2)  202/     B47 : 32 27 0B            		LD (NAPRAVL),A
(2)  203/     B4A : 18 C4               		JR INFF_BIT6
(2)  204/     B4C :                     
(2)  205/     B4C : FE A0               W_OUT1F80	CP 0XA0				;80-9F äéåÄçÑÄ óíÖçàÖ ëÖäíéêÄ
(2)  206/     B4E : 30 02               		JR NC,W_OUT1FA0
(2)  207/     B50 : 18 BE               		JR INFF_BIT6
(2)  208/     B52 :                     
(2)  209/     B52 : FE C0               W_OUT1FA0	CP 0XC0				;A0-BF äéåÄçÑÄ áÄèàëú ëÖäíéêÄ
(2)  210/     B54 : 30 0C               		JR NC,W_OUT1FD0
(2)  211/     B56 : 18 B8               		JR INFF_BIT6
(2)  212/     B58 :                     
(2)  213/     B58 : AF                  INFF_BIT7	XOR A
(2)  214/     B59 : 32 AF 3C            		LD (RD_1F),A
(2)  215/     B5C : 3E 7F               		LD A,0X7F
(2)  216/     B5E : 32 B1 3C            		LD (RD_FF),A
(2)  217/     B61 : C9                  		RET
(2)  218/     B62 :                     
(2)  219/     B62 : FE D0               W_OUT1FD0	CP 0XD0				;C0-CF óíÖçàÖ ÄÑêÖëÄ
(2)  220/     B64 : 30 02               		JR NC,W_OUT1FE0
(2)  221/     B66 : 18 A8               		JR INFF_BIT6
(2)  222/     B68 :                     
(2)  223/     B68 : FE E0               W_OUT1FE0	CP 0XE0				;D0-DF èêàçìÑàíÖãúçéÖ èêÖêõÇÄçàÖ
(2)  224/     B6A : 30 06               		JR NC,W_OUT1FF0
(2)  225/     B6C : 3E BF               		LD A,0XBF
(2)  226/     B6E : 32 B1 3C            		LD (RD_FF),A
(2)  227/     B71 : C9                  		RET
(2)  228/     B72 :                     
(2)  229/     B72 : FE F0               W_OUT1FF0	CP 0XF0				;E0-EF óíÖçàÖ ÑéêéÜäà
(2)  230/     B74 : 38 9A               		JR C,INFF_BIT6
(2)  231/     B76 : 18 98               		JR INFF_BIT6
(2)  232/     B78 :                     
(2)  233/     B78 :                     ;áÄèàëú "A" Ç èéêí 0X3F
(2)  234/     B78 : 3A BB 3C            W_OUT3F		LD A,(REG_A)
(2)  235/     B7B : D3 4F               		OUT (RW_PORT1),A
(2)  236/     B7D : D3 3F               		OUT (0X3F),A
(2)  237/     B7F : C9                  		RET
(2)  238/     B80 :                     	
(2)  239/     B80 :                     ;áÄèàëú "A" Ç èéêí 0X5F
(2)  240/     B80 : 3A BB 3C            W_OUT5F		LD A,(REG_A)
(2)  241/     B83 : D3 6F               		OUT (RW_PORT2),A
(2)  242/     B85 : D3 5F               		OUT (0X5F),A
(2)  243/     B87 : C9                  		RET
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 38 - 12/15/2013 13:00:27


(2)  244/     B88 :                     	
(2)  245/     B88 :                     ;áÄèàëú "A" Ç èéêí 0X7F
(2)  246/     B88 : 3A BB 3C            W_OUT7F		LD A,(REG_A)
(2)  247/     B8B : D3 8F               		OUT (RW_PORT3),A
(2)  248/     B8D : D3 7F               		OUT (0X7F),A
(2)  249/     B8F : C9                  		RET
(2)  250/     B90 :                     
(2)  251/     B90 :                     ;áÄèàëú "A" Ç èéêí 0XFF
(2)  252/     B90 : 3A BB 3C            W_OUTFF 	LD A,(REG_A)
(2)  253/     B93 : D3 FF               		OUT (0XFF),A
(2)  254/     B95 : 32 B0 3C            		LD (WR_FF),A
(2)  255/     B98 : E6 03               		AND 3
(2)  256/     B9A : 3C                  		INC A
(2)  257/     B9B : 47                  		LD B,A
(2)  258/     B9C : 3E 08               		LD A,%00001000
(2)  259/     B9E : 07                  		RLCA
(2)  260/     B9F : 10 FD               		DJNZ $-1
(2)  261/     BA1 : 32 CF 3C            		LD (MASK_DRV),A
(2)  262/     BA4 : C9                  		RET
(2)  263/     BA5 :                     
(2)  264/     BA5 :                     ;áÄèàëú "A" Ç èéêí (C)
(2)  265/     BA5 : 3A BB 3C            W_OUTCA 	LD A,(REG_A)
(2)  266/     BA8 : 57                  W_OUTCA1	LD D,A
(2)  267/     BA9 : 3A B8 3C            		LD A,(REG_C)
(2)  268/     BAC :                     ;éèêÖÑÖãÖçàÖ Ç äÄäéâ èéêí áÄèàëú	
(2)  269/     BAC : FE 1F               		CP 0X1F
(2)  270/     BAE : CA F2 0A            		JP Z,W_OUT1F
(2)  271/     BB1 : FE 3F               		CP 0X3F
(2)  272/     BB3 : 28 C3               		JR Z,W_OUT3F
(2)  273/     BB5 : FE 5F               		CP 0X5F
(2)  274/     BB7 : 28 C7               		JR Z,W_OUT5F
(2)  275/     BB9 : FE 7F               		CP 0X7F
(2)  276/     BBB : 28 CB               		JR Z,W_OUT7F
(2)  277/     BBD : FE FF               		CP 0XFF
(2)  278/     BBF : 28 CF               		JR Z,W_OUTFF
(2)  279/     BC1 : ED 4B B8 3C         		LD BC,(REG_C)			;Öëãà èéêí çÖ TR-DOS
(2)  280/     BC5 : ED 51               		OUT (C),D
(2)  281/     BC7 : C9                  		RET
(2)  282/     BC8 :                     
(2)  283/     BC8 :                     ;áÄèàëú "D" Ç èéêí (C)
(2)  284/     BC8 : 3A A9 3C            W_OUTCD		LD A,(IREG_D)
(2)  285/     BCB : 18 DB               		JR W_OUTCA1
(2)  286/     BCD :                     	
(2)  287/     BCD :                     ;èÖêÖÑÄóÄ ÅÄâíÄ, äéåÄçÑÄ OUTI
(2)  288/     BCD : 2A B2 3C            W_OUTI		LD HL,(BUFF_SECT)
(2)  289/     BD0 : D9                  		EXX
(2)  290/     BD1 : 7E                  		LD A,(HL)
(2)  291/     BD2 : 23                  		INC HL
(2)  292/     BD3 : D9                  		EXX
(2)  293/     BD4 : 77                  		LD (HL),A
(2)  294/     BD5 : 23                  		INC HL
(2)  295/     BD6 : 22 B2 3C            		LD (BUFF_SECT),HL
(2)  296/     BD9 : C9                  		RET
(2)  297/     BDA :                     
(2)  298/     BDA :                     ;óíÖçàÖ èéêíÄ 0X1F	
(2)  299/     BDA : 3A AE 3C            W_IN1F		LD A,(WR_1F)
(2)  300/     BDD : E6 F0               		AND 0XF0
(2)  301/     BDF : FE 20               		CP 0X20
(2)  302/     BE1 : 38 07               		JR C,W_IN1F1
(2)  303/     BE3 : FE D0               		CP 0XD0
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 39 - 12/15/2013 13:00:27


(2)  304/     BE5 : 28 03               		JR Z,W_IN1F1
(2)  305/     BE7 : AF                  		XOR A
(2)  306/     BE8 : 18 07               		JR W_IN1F2
(2)  307/     BEA :                     
(2)  308/     BEA : 3E 00               W_IN1F1		LD A,0
(2)  309/     BEC : =BEBH               INDEX		EQU $-1
(2)  310/     BEC : EE 02               		XOR 2
(2)  311/     BEE : 32 EB 0B            		LD (INDEX),A
(2)  312/     BF1 : 32 AF 3C            W_IN1F2		LD (RD_1F),A
(2)  313/     BF4 : 32 BB 3C            		LD (REG_A),A
(2)  314/     BF7 : C9                  		RET
(2)  315/     BF8 :                     
(2)  316/     BF8 :                     ;óíÖçàÖ èéêíÄ 0X3F
(2)  317/     BF8 : DB 4F               W_IN3F		IN A,(RW_PORT1)		;IN A,(0X3F)
(2)  318/     BFA : 32 BB 3C            		LD (REG_A),A
(2)  319/     BFD : C9                  		RET
(2)  320/     BFE :                     	
(2)  321/     BFE :                     ;óíÖçàÖ èéêíÄ 0X5F
(2)  322/     BFE : DB 6F               W_IN5F		IN A,(RW_PORT2)		;IN A,(0X5F)
(2)  323/     C00 : 32 BB 3C            		LD (REG_A),A
(2)  324/     C03 : C9                  		RET
(2)  325/     C04 :                     
(2)  326/     C04 :                     ;óíÖçàÖ èéêíÄ 0X7F
(2)  327/     C04 : DB 8F               W_IN7F		IN A,(RW_PORT3)		;IN A,(0X7F)
(2)  328/     C06 : 32 BB 3C            		LD (REG_A),A
(2)  329/     C09 : C9                  		RET
(2)  330/     C0A :                     
(2)  331/     C0A :                     ;óíÖçàÖ èéêíÄ 0XFF
(2)  332/     C0A : 3A B1 3C            W_INFF		LD A,(RD_FF)
(2)  333/     C0D : 32 BB 3C            		LD (REG_A),A
(2)  334/     C10 : C9                  		RET
(2)  335/     C11 :                     
(2)  336/     C11 :                     ;óíÖççàÖ Ç "H" àá (ë)
(2)  337/     C11 : 3A B8 3C            W_INHC		LD A,(REG_C)
(2)  338/     C14 :                     ;éèêÖÑÖãÖçàÖ àá äÄäéÉé èéêíÄ óíÖçàÖ
(2)  339/     C14 : FE 1F               W_INHC1		CP 0X1F
(2)  340/     C16 : 20 07               		JR NZ,W_INHC2
(2)  341/     C18 : 3A AF 3C            		LD A,(RD_1F)
(2)  342/     C1B : 32 BD 3C            		LD (REG_H),A
(2)  343/     C1E : C9                  		RET
(2)  344/     C1F :                     
(2)  345/     C1F : FE 3F               W_INHC2		CP 0X3F
(2)  346/     C21 : 20 06               		JR NZ,W_INHC3
(2)  347/     C23 : DB 4F               		IN A,(RW_PORT1)		;IN A,(0X3F)
(2)  348/     C25 : 32 BD 3C            		LD (REG_H),A
(2)  349/     C28 : C9                  		RET
(2)  350/     C29 :                     	
(2)  351/     C29 : FE 5F               W_INHC3		CP 0X5F
(2)  352/     C2B : 20 06               		JR NZ,W_INHC4
(2)  353/     C2D : DB 6F               		IN A,(RW_PORT2)		;IN A,(0X5F)
(2)  354/     C2F : 32 BD 3C            		LD (REG_H),A
(2)  355/     C32 : C9                  		RET
(2)  356/     C33 :                     	
(2)  357/     C33 : FE 7F               W_INHC4		CP 0X7F
(2)  358/     C35 : 20 06               		JR NZ,W_INHC5
(2)  359/     C37 : DB 8F               		IN A,(RW_PORT3)		;IN A,(0X7F)
(2)  360/     C39 : 32 BD 3C            		LD (REG_H),A
(2)  361/     C3C : C9                  		RET
(2)  362/     C3D :                     	
(2)  363/     C3D : FE FF               W_INHC5		CP 0XFF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 40 - 12/15/2013 13:00:27


(2)  364/     C3F : 20 07               		JR NZ,W_INHC6
(2)  365/     C41 : 3A B0 3C            		LD A,(WR_FF)
(2)  366/     C44 : 32 BD 3C            		LD (REG_H),A
(2)  367/     C47 : C9                  		RET
(2)  368/     C48 :                     
(2)  369/     C48 : ED 4B B8 3C         W_INHC6		LD BC,(REG_C)
(2)  370/     C4C : ED 78               		IN A,(C)
(2)  371/     C4E : 32 BD 3C            		LD (REG_H),A
(2)  372/     C51 : C9                  		RET
(2)  373/     C52 :                     
(2)  374/     C52 :                     ;óíÖçàÖ INI
(2)  375/     C52 : 3A AF 3C            W_INI		LD A,(RD_1F)
(2)  376/     C55 : 2A BC 3C            		LD HL,(REG_L)
(2)  377/     C58 : 77                  		LD (HL),A
(2)  378/     C59 : 23                  		INC HL
(2)  379/     C5A : 05                  		DEC B
(2)  380/     C5B : 22 BC 3C            		LD (REG_L),HL
(2)  381/     C5E : C9                  		RET
(2)  382/     C5F :                     
(2)  383/     C5F :                     ;ÄãúíÖêçÄíàÇçéÖ äéèàêéÇÄçàÖ ëÖäíéêÄ Ñãü êÄåÑàëäÄ
(2)  384/     C5F : E5                  SV_LD_RAMDISK	PUSH HL
(2)  385/     C60 : CD 2A 0E            		CALL CP_TYPEDRIVE
(2)  386/     C63 : E1                  		POP HL
(2)  387/     C64 : C2 36 1E            		JP NZ,WR_NUM_TRACK		;èêà çÖ ëéÇèÄÑÖçàà êÄÅéíÄ èêéÑéãÜÄÖíëü ë êÖÄãúçéâ ÑàëäÖíéâ
(2)  388/     C67 : E1                  		POP HL				;àçÄóÖ êÄÅéíÄÖå ë êÄåÑàëäéå
(2)  389/     C68 : E1                  		POP HL
(2)  390/     C69 : C1                  		POP BC
(2)  391/     C6A : AF                  		XOR A
(2)  392/     C6B : B0                  		OR B
(2)  393/     C6C : C8                  		RET Z
(2)  394/     C6D : F3                  		DI
(2)  395/     C6E : DD E5               		PUSH IX				;ëéïêÄçàãà Ñãü ÇçìíêÖççÖÉé àëèéãúáéÇÄçàü
(2)  396/     C70 : DD 2A CE 5C         		LD IX,(TRD_5CCE)		;óíÖçàÖ àãà áÄèàëú? 00-óíÖçàÖ, FF-áÄèàëú, ëéïêÄçàãà Ñãü ÑÄãúçÖâòÖÉé àëèéãúáéÇÄçàü
(2)  397/     C74 : C5                  SVLDRAM1	PUSH BC
(2)  398/     C75 : E5                  		PUSH HL
(2)  399/     C76 : ED 5B F4 5C         		LD DE,(TRD_5CF4)
(2)  400/     C7A : CD 06 3F            		CALL COM_04
(2)  401/     C7D : 7B                  		LD A,E
(2)  402/     C7E : CD 02 3F            		CALL COM_03
(2)  403/     C81 : 3C                  		INC A
(2)  404/     C82 : D3 6F               		OUT (RW_PORT2),A	;OUT (0X5F),A
(2)  405/     C84 : 7A                  		LD A,D
(2)  406/     C85 : E5                  		PUSH HL
(2)  407/     C86 : CD 63 3E            		CALL COM_02
(2)  408/     C89 : E1                  		POP HL
(2)  409/     C8A : F7                  		RST 0X30
(2)  410/     C8B : 0E                  		DB WWR_RD_SECT
(2)  411/     C8C : 3E 10               		LD A,0X10
(2)  412/     C8E : 21 F4 5C            		LD HL,TRD_5CF4
(2)  413/     C91 : 34                  		INC (HL)			;ìÇÖãàóÖçàÖ çéåÖêÄ ëÖäíéêÄ
(2)  414/     C92 : BE                  		CP (HL)
(2)  415/     C93 : 20 04               		JR NZ,SVLDRAM2
(2)  416/     C95 : 36 00               		LD (HL),0			;Öëãà ÇõïéÑ áÄ èêÖÑÖãõ íêÖäÄ, íé ëÖäíéê =0
(2)  417/     C97 : 23                  		INC HL
(2)  418/     C98 : 34                  		INC (HL)			;à ìÇÖãàóàÇÄÖå çéåÖê íêÖäÄ
(2)  419/     C99 : E1                  SVLDRAM2	POP HL
(2)  420/     C9A : C1                  		POP BC
(2)  421/     C9B : 24                  		INC H				;ìÇÖãàóàãà ÄÑêÖë äéèàêéÇÄçàü çÄ 256 ÅÄâí
(2)  422/     C9C : 10 D6               		DJNZ SVLDRAM1
(2)  423/     C9E : DD E1               		POP IX				;èéèéãúáéÇÄãàëú à ÇéëëíÄçéÇàãà
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 41 - 12/15/2013 13:00:27


(2)  424/     CA0 : FB                  		EI
(2)  425/     CA1 : C9                  		RET
(2)  426/     CA2 :                     
(2)  427/     CA2 : 3A AE 3C            READ_SEC_	LD A,(WR_1F)
(2)  428/     CA5 : E6 F0               		AND 0X0F0
(2)  429/     CA7 : FE 80               		CP 0X80
(2)  430/     CA9 : DA 10 0B            		JP C,INFF_BIT6
(2)  431/     CAC : FE C0               		CP 0XC0
(2)  432/     CAE : 20 11               		JR NZ,READ_SEC_1
(2)  433/     CB0 : DB 4F               		IN A,(RW_PORT1)		;IN A,(0X3F)
(2)  434/     CB2 : 2A BC 3C            		LD HL,(REG_L)
(2)  435/     CB5 : 77                  		LD (HL),A
(2)  436/     CB6 : 23                  		INC HL
(2)  437/     CB7 : 05                  		DEC B
(2)  438/     CB8 : DB 6F               		IN A,(RW_PORT2)		;IN A,(0X5F)
(2)  439/     CBA : 77                  		LD (HL),A
(2)  440/     CBB : 23                  		INC HL
(2)  441/     CBC : 05                  		DEC B
(2)  442/     CBD : 22 BC 3C            		LD (REG_L),HL
(2)  443/     CC0 : C9                  		RET
(2)  444/     CC1 :                     
(2)  445/     CC1 : DD E5               READ_SEC_1	PUSH IX
(2)  446/     CC3 : DD 2E 00            		LD IXL,0
(2)  447/     CC6 : 18 05               		JR WRITE_SEC_1
(2)  448/     CC8 :                     
(2)  449/     CC8 : DD E5               WRITE_SEC_	PUSH IX
(2)  450/     CCA : DD 2E FF            		LD IXL,0XFF
(2)  451/     CCD : CD DB 0C            WRITE_SEC_1	CALL W_WR_RD_SECT
(2)  452/     CD0 : DD 21 90 80         		LD IX,0X8090
(2)  453/     CD4 : DD 22 BA 3C         		LD (REG_F),IX			;Öåìãüñàü îãÄÉÄ ìëèÖòçéÉé óíÖçàü/áÄèàëà ëÖäíéêÄ
(2)  454/     CD8 : DD E1               		POP IX
(2)  455/     CDA : C9                  		RET
(2)  456/     CDB :                     
(2)  457/     CDB :                     ;óíÖçàÖ àãà áÄèàëú ëÖäíéêÄ êÄåÑàëäÄ
(2)  458/     CDB : 3A B0 3C            W_WR_RD_SECT	LD A,(WR_FF)
(2)  459/     CDE : E6 03               		AND 3
(2)  460/     CE0 : 3C                  		INC A
(2)  461/     CE1 : 47                  		LD B,A
(2)  462/     CE2 : DB 2F               		IN A,(RW_PORT0)
(2)  463/     CE4 : 0F                  		RRCA
(2)  464/     CE5 : 0F                  		RRCA
(2)  465/     CE6 : 0F                  		RRCA
(2)  466/     CE7 : 0F                  		RRCA
(2)  467/     CE8 : 0F                  		RRCA
(2)  468/     CE9 : 10 FD               		DJNZ $-1
(2)  469/     CEB : DA 1A 35            		JP C,WR_RD_SEC_M
(2)  470/     CEE : 3E 09               		LD A,PAGE_RAMDISK
(2)  471/     CF0 : 01 F7 77            		LD BC,WIN_P1
(2)  472/     CF3 : ED 79               		OUT (C),A			;ëíêÄçàñÄ áÄÉéãéÇäéÇ êÄåÑàëäÄ
(2)  473/     CF5 : DB 4F               		IN A,(RW_PORT1)		;IN A,(0X3F)	;Çáüãà çéåÖê íêÖäÄ
(2)  474/     CF7 : 87                  		ADD A,A				;ëíéêéç 2
(2)  475/     CF8 : 4F                  		LD C,A
(2)  476/     CF9 : 3A B0 3C            		LD A,(WR_FF)
(2)  477/     CFC : E6 10               		AND 0X10			;èêéÇÖêäÄ äÄäÄü ëíéêéçÄ ÑàëäÄ
(2)  478/     CFE : 20 01               		JR NZ,WWRRD1
(2)  479/     D00 : 0C                  		INC C				;Ñãü ëíéêéçõ 1
(2)  480/     D01 : 06 42               WWRRD1		LD B,0X42			;ÄÑêÖë çÄóÄãÄ àçîõ é ëÖäíéêÄï çÄ ÑéêéÜäÖ
(2)  481/     D03 : DB 6F               		IN A,(RW_PORT2)		;IN A,(0X5F)	;Çáüãà çéåÖê ëÖäíéêÄ
(2)  482/     D05 : 6F                  		LD L,A
(2)  483/     D06 : 26 00               		LD H,0
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 42 - 12/15/2013 13:00:27


(2)  484/     D08 : 0A                  WWRRD3		LD A,(BC)
(2)  485/     D09 : 57                  		LD D,A				;Çáüãà çéåÖê ëÖäíéêÄ
(2)  486/     D0A : 04                  		INC B
(2)  487/     D0B : 0A                  		LD A,(BC)
(2)  488/     D0C : 5F                  		LD E,A				;Çáüãà êÄáåÖê ëÖäíéêÄ
(2)  489/     D0D : 04                  		INC B
(2)  490/     D0E :                     ;		LD A,D
(2)  491/     D0E :                     ;		AND A
(2)  492/     D0E :                     ;		JR Z,WWRRD_ERR
(2)  493/     D0E : 7D                  		LD A,L
(2)  494/     D0F : BA                  		CP D
(2)  495/     D10 : 28 05               		JR Z,WWRRD2
(2)  496/     D12 : 7B                  		LD A,E
(2)  497/     D13 : 84                  		ADD A,H
(2)  498/     D14 : 67                  		LD H,A
(2)  499/     D15 : 18 F1               		JR WWRRD3
(2)  500/     D17 :                     
(2)  501/     D17 : 7B                  WWRRD2		LD A,E
(2)  502/     D18 : 0F                  		RRCA
(2)  503/     D19 : D3 8F               		OUT (RW_PORT3),A	;OUT (0X7F),A	;êÄáåÖê çÄâÑÖççéÉé ëÖäíéêÄ
(2)  504/     D1B : 2E 00               		LD L,0
(2)  505/     D1D : 5D                  		LD E,L
(2)  506/     D1E : CB 3C               		SRL H
(2)  507/     D20 : CB 1D               		RR L				;HL=ëåÖôÖçàÖ Ç ÅãéäÄï Ñé çÄâÑÖççéÉé ëÖäíéêÄ
(2)  508/     D22 : 06 40               		LD B,0X40
(2)  509/     D24 : 0A                  		LD A,(BC)
(2)  510/     D25 : 57                  		LD D,A
(2)  511/     D26 : 19                  		ADD HL,DE			;HL=ëåÖôÖçàÖ éí çÄóÄãÄ ëíêÄçàñõ Ç ÅãéäÄï
(2)  512/     D27 : 04                  		INC B
(2)  513/     D28 : 0A                  		LD A,(BC)
(2)  514/     D29 : 4F                  		LD C,A				;ëåÖôÖçàÖ Ç ëíêÄçàñÄï éí çÄóÄãÄ êÄåÑàëäÄ
(2)  515/     D2A : 7C                  		LD A,H
(2)  516/     D2B : FE 40               		CP 0X40
(2)  517/     D2D : 38 04               		JR C,WWRRD5
(2)  518/     D2F : D6 40               		SUB 0X40
(2)  519/     D31 : 67                  		LD H,A
(2)  520/     D32 : 0C                  		INC C
(2)  521/     D33 :                     ;HL=ëåÖôÖçàÖ Ç ëíêÄçàñÖ Ñé çÄóÄãÄ ëÖäíéêÄ
(2)  522/     D33 : 79                  WWRRD5		LD A,C				;ëåÖôÖçàÖ Ñé çéåÖêÄ ëíêÄçàñõ, ÉÑÖ ìäÄáÄççõâ ëÖäíéê çÄóàçÄÖíëü
(2)  523/     D34 : C6 0A               		ADD A,PAGE_DATARAMD		;èêàÅÄÇàãà çéåÖê çÄóÄãÄ êÄåÑàëä à +1. Ç 0 ëíêÄçàñÖ êÄåÑàëäÄ éèàëÄíÖãà ëÖäíéêéÇ
(2)  524/     D36 : DD 67               		LD IXH,A			;ëéïêÄçàãà çéåÖê ÇõóàëãÖççéâ ëíêÄçàñõ
(2)  525/     D38 : ED 5B BC 3C         		LD DE,(REG_L)			;DE=ÄÑêÖë äìÑÄ/éíäìÑÄ äéèàêéÇÄíú
(2)  526/     D3C : 01 F7 77            		LD BC,WIN_P1
(2)  527/     D3F : 3E FA               		LD A,0XFA
(2)  528/     D41 : ED 79               		OUT (C),A			;ÇÖêçìãà ëíÄçÑÄêíçìû 5 ëíêÄçàñì
(2)  529/     D43 : 7A                  SP_RAMD9	LD A,D				;èêéÇÖêäÄ ÉêÄçàñõ éíäìÑÄ/äìÑÄ äéèàêéÇÄíú
(2)  530/     D44 : FE 80               		CP 0X80
(2)  531/     D46 : DD 7C               		LD A,IXH			;ÇÖêçìãà çéåÖê ëíêÄçàñõ éáì
(2)  532/     D48 : 01 F7 77            		LD BC,WIN_P1			;Öëãà ÇÖêïçàÖ 32äÅ éáì, íé çìÜçé Çäãûóàíú Ç 1 éäçÖ èêéÖñàêéÇÄçàü
(2)  533/     D4B : 30 02               		JR NC,SP_RAMD1
(2)  534/     D4D : 06 B7               		LD B,HIGH (WIN_P2)		;Öëãà çàÜçàÖ 32äÅ éáì, íé çìÜçé Çäãûóàíú Çé 2 éäçÖ èêéÖñàêéÇÄçàü
(2)  535/     D4F : ED 79               SP_RAMD1	OUT (C),A			;Çäãûóàãà ÇõóàëãÖççìû ëíêÄçàñì
(2)  536/     D51 : 06 40               		LD B,0X40			;ëíÄêòàâ ÅÄâí ÄÑêÖëÄ çÄóÄãÄ ÇäãûóÖççéâ ëíêÄçàñõ
(2)  537/     D53 : 30 02               		JR NC,SP_RAMD2
(2)  538/     D55 : 06 80               		LD B,0X80			;ëíÄêòàâ ÅÄâí ÄÑêÖëÄ çÄóÄãÄ ÇäãûóÖççéâ ëíêÄçàñõ
(2)  539/     D57 : 78                  SP_RAMD2	LD A,B
(2)  540/     D58 : 84                  		ADD A,H
(2)  541/     D59 : 67                  		LD H,A
(2)  542/     D5A : DD 7D               		LD A,IXL
(2)  543/     D5C : A7                  		AND A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 43 - 12/15/2013 13:00:27


(2)  544/     D5D : 20 1B               		JR NZ,IN_ROM1
(2)  545/     D5F : 7A                  		LD A,D
(2)  546/     D60 : 3C                  		INC A
(2)  547/     D61 : 20 17               		JR NZ,IN_ROM1
(2)  548/     D63 : 7B                  		LD A,E
(2)  549/     D64 : A7                  		AND A
(2)  550/     D65 : 28 13               		JR Z,IN_ROM1
(2)  551/     D67 : ED 44               IN_ROM4		NEG
(2)  552/     D69 : 4F                  		LD C,A
(2)  553/     D6A : 06 00               		LD B,0
(2)  554/     D6C : ED B0               		LDIR
(2)  555/     D6E : ED 44               		NEG
(2)  556/     D70 : 4F                  		LD C,A
(2)  557/     D71 : EB                  IN_ROM2		EX DE,HL
(2)  558/     D72 : 09                  		ADD HL,BC
(2)  559/     D73 : EB                  		EX DE,HL
(2)  560/     D74 : 09                  		ADD HL,BC
(2)  561/     D75 : DB 8F               		IN A,(RW_PORT3)		;IN A,(0X7F)
(2)  562/     D77 : C3 FA 0D            		JP SP_RAMD8_
(2)  563/     D7A :                     
(2)  564/     D7A : 7A                  IN_ROM1		LD A,D
(2)  565/     D7B : FE 40               		CP 0X40
(2)  566/     D7D : 30 0D               		JR NC,IN_ROM3
(2)  567/     D7F : DB 8F               		IN A,(RW_PORT3)		;IN A,(0X7F)
(2)  568/     D81 : A7                  		AND A
(2)  569/     D82 : 01 80 00            		LD BC,0X80
(2)  570/     D85 : 28 EA               		JR Z,IN_ROM2
(2)  571/     D87 : 01 00 01            		LD BC,0X100
(2)  572/     D8A : 18 E5               		JR IN_ROM2
(2)  573/     D8C :                     
(2)  574/     D8C : FE 80               IN_ROM3		CP 0X80				;èêéÇÖêäÄ èÖêÖïéÑÄ ÉêÄçàñõ ëíêÄçàñ
(2)  575/     D8E : D2 D1 0D            		JP NC,SP_RAMD3			;Öëãà ÇõòÖ íé ëêÄáì äéèàêìÖå
(2)  576/     D91 : FE 7F               		CP 0X7F
(2)  577/     D93 : DA D1 0D            		JP C,SP_RAMD3			;Öëãà çàÜÖ íÄä ÜÖ ëêÄáì äéèàêìÖå
(2)  578/     D96 : 7B                  		LD A,E
(2)  579/     D97 : A7                  		AND A				;Öëãà ëÖäíéê èéãçéëíúû ìäãÄÑõÇÖíëü Ñé ÉêÄçàñõ, íé ëêÄáì äéèàêìÖå
(2)  580/     D98 : 28 37               		JR Z,SP_RAMD3			;àçÄóÖ èêàçìÑàíÖãúçé äéèàêìÖå Ç ÑÇÄ èêàÖåÄ
(2)  581/     D9A : DD 7D               		LD A,IXL			;óíÖçàÖ àãà áÄèàëú?
(2)  582/     D9C : A7                  		AND A
(2)  583/     D9D : 7B                  		LD A,E				;åãÄÑòàâ ÅÄâí ÄÑêÖë Ç ÅãéäÖ
(2)  584/     D9E : 28 01               		JR Z,SP_RAMD4
(2)  585/     DA0 : EB                  		EX DE,HL			;Ñãü áÄèàëà åÖçüÖå çÄèêÄÇãÖçàÖ
(2)  586/     DA1 : ED 44               SP_RAMD4	NEG
(2)  587/     DA3 : 4F                  		LD C,A				;äéèàêìÖå éëíÄíéä Ñé äéçñÄ ÅãéäÄ
(2)  588/     DA4 : 06 00               		LD B,0
(2)  589/     DA6 : ED B0               		LDIR
(2)  590/     DA8 : ED 44               		NEG
(2)  591/     DAA : 08                  		EX AF,AF'			;ëèêüíÄãà ëäéãúäé éëíÄãéëú äéèàêéÇÄíú àá çÄóÄãÄ ëãÖÑìûôÖÉé ÅãéäÄ
(2)  592/     DAB : 3E FD               		LD A,0XFD
(2)  593/     DAD : 01 F7 B7            		LD BC,WIN_P2
(2)  594/     DB0 : ED 79               		OUT (C),A			;ÇÖêçìãà çéåÖê ëíÄçÑÄêíçéâ ëíêÄçàñõ Çé 2 éäçÖ èêéÖñàêéÇÄçàü
(2)  595/     DB2 : 06 77               		LD B,HIGH (WIN_P1)
(2)  596/     DB4 : DD 7C               		LD A,IXH
(2)  597/     DB6 : ED 79               		OUT (C),A			;ÇõóàëãÖççìû ëíêÄçàñì ÇäãûóÄÖå Ç 1 éäçÖ èêéÖñàêéÇÄçàü
(2)  598/     DB8 : DD 7D               		LD A,IXL			;óíÖçàÖ àãà áÄèàëú
(2)  599/     DBA : A7                  		AND A
(2)  600/     DBB : 28 06               		JR Z,SP_RAMD5
(2)  601/     DBD : 7A                  		LD A,D				;Ñãü áÄèàëà
(2)  602/     DBE : D6 40               		SUB 0X40			;àáåÖçàãà ÄÑêÖë äìÑÄ äéèàêéÇÄíú çÄ ÑêìÉéÖ éäçé èêéÖñàêéÇÄçàü
(2)  603/     DC0 : 57                  		LD D,A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 44 - 12/15/2013 13:00:27


(2)  604/     DC1 : 18 04               		JR SP_RAMD6
(2)  605/     DC3 :                     
(2)  606/     DC3 : 7C                  SP_RAMD5	LD A,H				;Ñãü óíÖçàü  
(2)  607/     DC4 : D6 40               		SUB 0X40			;àáåÖçàãà ÄÑêÖë äìÑÄ äéèàêéÇÄíú çÄ ÑêìÉéÖ éäçé èêéÖñàêéÇÄçàü 
(2)  608/     DC6 : 67                  		LD H,A
(2)  609/     DC7 : 08                  SP_RAMD6	EX AF,AF'
(2)  610/     DC8 : 4F                  		LD C,A				;ëäéãúäé éëíÄãéëú ëäéèàêéÇÄíú ÅÄâí
(2)  611/     DC9 : 06 00               		LD B,0
(2)  612/     DCB : ED B0               		LDIR
(2)  613/     DCD : DB 8F               		IN A,(RW_PORT3)		;IN A,(0X7F)
(2)  614/     DCF : 18 29               		JR SP_RAMD8_
(2)  615/     DD1 :                     
(2)  616/     DD1 : DD 7D               SP_RAMD3	LD A,IXL			;óíÖçàÖ àãà áÄèàëú
(2)  617/     DD3 : A7                  		AND A
(2)  618/     DD4 : 28 01               		JR Z,SP_RAMD7
(2)  619/     DD6 : EB                  		EX DE,HL			;Ñãü áÄèàëà åÖçüÖå çÄèêÄÇãÖçàÖ
(2)  620/     DD7 : DB 8F               SP_RAMD7	IN A,(RW_PORT3)		;IN A,(0X7F)
(2)  621/     DD9 : A7                  		AND A
(2)  622/     DDA : 20 1B               		JR NZ,SP_RAMD8
(2)  623/     DDC : CD 01 09            		CALL COPYHBLOCK			;Ñãü ëÖäíéêÄ êÄáåÖêéå 128 ÅÄâí äéèàêìÖå èéãéÇàçì à ÇõïéÑàå
(2)  624/     DDF :                     
(2)  625/     DDF :                     ;èêàçìÑàíÖãúçõâ ÇéáÇêÄí ëíêÄçÑÄêíçõï ëíêÄçàñ Ç éäçÄ èêéÖñàêéÇÄçàü 1 à 2 (5 à 2 ëééíÇÖëíÇÖççé)
(2)  626/     DDF : DD 7D               ECOPY_BLOCK	LD A,IXL
(2)  627/     DE1 : A7                  		AND A
(2)  628/     DE2 : 28 01               		JR Z,ECOPY_BLOCK1
(2)  629/     DE4 : EB                  		EX DE,HL
(2)  630/     DE5 : ED 53 BC 3C         ECOPY_BLOCK1	LD (REG_L),DE
(2)  631/     DE9 : 3E FA               RET_PAGE_STD	LD A,0XFA			;éÅôÄü íéóäÄ áÄÇÖêòÖçàÖ äéèàêéÇÄçàü ÅãéäÄ
(2)  632/     DEB : 01 F7 77            		LD BC,WIN_P1
(2)  633/     DEE : ED 79               		OUT (C),A			;ÇÖêçìãà ëíêÄçàñì 5 Ç 1 éäçé èêéÖñàêéÇÄçàü
(2)  634/     DF0 : 3E FD               		LD A,0XFD
(2)  635/     DF2 : 06 B7               		LD B,HIGH (WIN_P2)
(2)  636/     DF4 : ED 79               		OUT (C),A			;ÇÖêçìãà ëàêÄçàñì 2 Çé 2 éäçé èêéÖñàêéÇÄçàü
(2)  637/     DF6 : C9                  		RET
(2)  638/     DF7 :                     
(2)  639/     DF7 : CD 01 08            SP_RAMD8	CALL COPY_BLOCK			;Ñãü ëÖäíéêÄ 256 ÅÄâí äéèàêìÖå ÇÖëú à ÇõïéÑàå
(2)  640/     DFA : 3D                  SP_RAMD8_	DEC A
(2)  641/     DFB : 28 E2               		JR Z,ECOPY_BLOCK
(2)  642/     DFD : D3 8F               		OUT (RW_PORT3),A	;OUT (0X7F),A
(2)  643/     DFF : DD 7D               		LD A,IXL
(2)  644/     E01 : A7                  		AND A
(2)  645/     E02 : 28 01               		JR Z,SP_RAMD0
(2)  646/     E04 : EB                  		EX DE,HL
(2)  647/     E05 : 3E 3F               SP_RAMD0	LD A,0X3F
(2)  648/     E07 : A4                  		AND H
(2)  649/     E08 : 67                  		LD H,A
(2)  650/     E09 : C3 43 0D            		JP SP_RAMD9
(2)  651/     E0C :                     
(2)  652/     E0C :                     ;çÄ ÇïéÑÖ: H-ÄÑêÖë üóÖâäà
(2)  653/     E0C :                     ;	   L-èêéóàíÄççéÖ áçÄóÖçàÖ
(2)  654/     E0C : C5                  READCMOS	PUSH BC
(2)  655/     E0D : (MACRO)             		PEC_ON SHADOW_BF
(2)  655/     E0D : DB BF                               IN A,(PEVO_CONF)
(2)  655/     E0F : F6 01                               OR SHADOW_BF
(2)  655/     E11 : D3 BF                               OUT (PEVO_CONF),A
(2)  656/     E13 : 01 F7 DE            		LD BC,CMOSD_SET_ADR
(2)  657/     E16 : ED 61               		OUT (C),H
(2)  658/     E18 : 06 BE               		LD B,HIGH (CMOSD_RD_WR)
(2)  659/     E1A : ED 68               		IN L,(C)
(2)  660/     E1C : C1                  		POP BC
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 45 - 12/15/2013 13:00:27


(2)  661/     E1D : (MACRO)             		PEC_OFF SHADOW_BF
(2)  661/     E1D : DB BF                               IN A,(PEVO_CONF)
(2)  661/     E1F : E6 FE                               AND SHADOW_BF!0XFF
(2)  661/     E21 : D3 BF                               OUT (PEVO_CONF),A
(2)  662/     E23 : 7D                  		LD A,L
(2)  663/     E24 : A7                  		AND A
(2)  664/     E25 : C9                  		RET
(2)  665/     E26 :                     
(2)  666/     E26 :                     ;çÄ ÇïéÑÖ: H-ÄÑêÖë üóÖâäà
(2)  667/     E26 :                     ;	   L-óíé íìÑÄ áÄèàëÄíú
(2)  668/     E26 : CF                  WRITECMOS	RST 8
(2)  669/     E27 : 55                  		DB _CMOS_RW
(2)  670/     E28 : 02                  		DB _WRITE_CMOS
(2)  671/     E29 : C9                  		RET
(2)  672/     E2A :                     
(2)  673/     E2A : C5                  CP_TYPEDRIVE	PUSH BC
(2)  674/     E2B : DB 2F               		IN A,(RW_PORT0)
(2)  675/     E2D : E6 03               		AND 3
(2)  676/     E2F : 47                  		LD B,A
(2)  677/     E30 : 3A F6 5C            		LD A,(TRD_5CF6)
(2)  678/     E33 : B8                  		CP B
(2)  679/     E34 : C1                  		POP BC
(2)  680/     E35 : C9                  		RET
(2)  681/     E36 :                     
(2)  682/     E36 : 26 EB               SET_DRIVENAME	LD H,VIRT_REAL_DRIVE
(2)  683/     E38 : CD 0C 0E            		CALL READCMOS
(2)  684/     E3B : 0F                  		RRCA
(2)  685/     E3C : 0F                  		RRCA
(2)  686/     E3D : E6 03               		AND 3
(2)  687/     E3F : 32 19 5D            		LD (TRD_5D19),A
(2)  688/     E42 : 32 F6 5C            		LD (TRD_5CF6),A
(2)  689/     E45 : F6 3C               		OR 0X3C
(2)  690/     E47 : C9                  		RET
(2)  691/     E48 :                     
(2)  692/     E48 : 3A F6 5C            FORMAT_RAM	LD A,(TRD_5CF6)
(2)  693/     E4B : 47                  		LD B,A
(2)  694/     E4C : 04                  		INC B
(2)  695/     E4D : 3E 08               		LD A,8
(2)  696/     E4F : 07                  		RLCA
(2)  697/     E50 : 10 FD               		DJNZ $-1
(2)  698/     E52 : 47                  		LD B,A
(2)  699/     E53 : DB 2F               		IN A,(RW_PORT0)
(2)  700/     E55 : A0                  		AND B
(2)  701/     E56 : 20 09               		JR NZ,FORMAT_RAM3		;Öëãà Åàí=1 îéêåÄí èêàåéçíàêéÇÄççéÉé éÅêÄáÄ
(2)  702/     E58 : CD 2A 0E            		CALL CP_TYPEDRIVE
(2)  703/     E5B : C0                  		RET NZ				;ÇõïéÑ Ñãü îéêåÄíÄ êÖãúçéÉé ÑàëäÄ
(2)  704/     E5C : CD A7 0E            		CALL CREATE_TRDTABL		;îéêåÄí êÄåÑàëäÄ 
(2)  705/     E5F : AF                  		XOR A
(2)  706/     E60 : C9                  		RET
(2)  707/     E61 :                     
(2)  708/     E61 : 21 25 5D            FORMAT_RAM3	LD HL,TRD_5D25
(2)  709/     E64 : 11 26 5D            		LD DE,TRD_5D26
(2)  710/     E67 : 01 FF 00            		LD BC,0XFF
(2)  711/     E6A : 70                  		LD (HL),B
(2)  712/     E6B : ED B0               		LDIR
(2)  713/     E6D : 50                  		LD D,B
(2)  714/     E6E : 58                  		LD E,B
(2)  715/     E6F : 06 10               		LD B,0X10
(2)  716/     E71 : C5                  FORMAT_RAM1	PUSH BC
(2)  717/     E72 : D5                  		PUSH DE
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 46 - 12/15/2013 13:00:27


(2)  718/     E73 : 06 01               		LD B,1
(2)  719/     E75 : 21 25 5D            		LD HL,TRD_5D25
(2)  720/     E78 : CD 62 1E            		CALL COM_06
(2)  721/     E7B : D1                  		POP DE
(2)  722/     E7C : C1                  		POP BC
(2)  723/     E7D : 1C                  		INC E
(2)  724/     E7E : 10 F1               		DJNZ FORMAT_RAM1
(2)  725/     E80 : AF                  		XOR A
(2)  726/     E81 : C9                  		RET
(2)  727/     E82 :                     
(2)  728/     E82 :                     ;èêéÇÖêäÄ çÄãàóàü åÄêäÖêÄ êÄåÑàëäÄ
(2)  729/     E82 : C5                  CMP_RAMDISK	PUSH BC
(2)  730/     E83 : (MACRO)             		PEC_ON SHADOW_BF
(2)  730/     E83 : DB BF                               IN A,(PEVO_CONF)
(2)  730/     E85 : F6 01                               OR SHADOW_BF
(2)  730/     E87 : D3 BF                               OUT (PEVO_CONF),A
(2)  731/     E89 : 3E 09               		LD A,PAGE_RAMDISK
(2)  732/     E8B : 01 F7 77            		LD BC,WIN_P1
(2)  733/     E8E : ED 79               		OUT (C),A
(2)  734/     E90 : 21 FF 7F            		LD HL,0X7FFF
(2)  735/     E93 : 56                  		LD D,(HL)
(2)  736/     E94 : 25                  		DEC H
(2)  737/     E95 : 5E                  		LD E,(HL)			;Çáüãà ÅÄâíõ Ñãü èêéÇÖêäà åÄêäÖêÄ
(2)  738/     E96 : 3E FA               		LD A,0XFA
(2)  739/     E98 : ED 79               		OUT (C),A
(2)  740/     E9A : C1                  		POP BC
(2)  741/     E9B : (MACRO)             		PEC_OFF SHADOW_BF
(2)  741/     E9B : DB BF                               IN A,(PEVO_CONF)
(2)  741/     E9D : E6 FE                               AND SHADOW_BF!0XFF
(2)  741/     E9F : D3 BF                               OUT (PEVO_CONF),A
(2)  742/     EA1 : 21 44 52            		LD HL,"RD"		
(2)  743/     EA4 : ED 52               		SBC HL,DE
(2)  744/     EA6 : C8                  		RET Z				;Öëãà åÄêäÖê çÄ åÖëíÖ, íé êÄåÑàëäÄ çÖ ëéáÑÄÖå
(2)  745/     EA7 :                     ;ëéáÑÄçàÖ óàëíéÉé êÄåÑàëäÄ
(2)  746/     EA7 : 3E 09               CREATE_TRDTABL	LD A,PAGE_RAMDISK		;çìÜçÄ ëíêÄçàñÄ çÄóÄãÄ êÄåÑàëäÄ, ÉÑÖ ÅìÑÖí íÄÅãàñÄ éèàëÄíÖãÖâ
(2)  747/     EA9 : CD 06 0F            		CALL SET4MBPAGE
(2)  748/     EAC : 21 00 40            		LD HL,0X4000
(2)  749/     EAF : E5                  		PUSH HL
(2)  750/     EB0 : 11 01 40            		LD DE,0X4001
(2)  751/     EB3 : 01 FF 3F            		LD BC,0X3FFF
(2)  752/     EB6 : 75                  		LD (HL),L
(2)  753/     EB7 : ED B0               		LDIR				;éóàëíàãà ëíêÄçàñì
(2)  754/     EB9 : D1                  		POP DE				;ÄÑêÖë çÄóÄãÄ 
(2)  755/     EBA : 21 00 00            		LD HL,0				;ëåÖôÖçàÖ Ç ÅãéäÄï à ëíêÄçàñÄï
(2)  756/     EBD : 3E A0               		LD A,0XA0
(2)  757/     EBF : 08                  ELT2		EX AF,AF'
(2)  758/     EC0 : 01 00 10            		LD BC,0X1000			;ëóÖíóàä çéåÖêéÇ ëÖäíéêéÇ à àï çéåÖêÄ
(2)  759/     EC3 : 7D                  		LD A,L
(2)  760/     EC4 : 0F                  		RRCA
(2)  761/     EC5 : 0F                  		RRCA
(2)  762/     EC6 : 12                  		LD (DE),A			;ëåÖôÖçàÖ Ç ÅãéäÄï ÑéêéÜäà Ç ëíêÄçàñÖ
(2)  763/     EC7 : 14                  		INC D
(2)  764/     EC8 : 7C                  		LD A,H
(2)  765/     EC9 : 12                  		LD (DE),A			;ëåÖôÖçàÖ Ç ëíêÄçàñÄï Ñé ÑéêéÜäà
(2)  766/     ECA : 14                  		INC D
(2)  767/     ECB : 0C                  ELT1		INC C
(2)  768/     ECC : 79                  		LD A,C
(2)  769/     ECD : 12                  		LD (DE),A			;çéåÖê ëÖäíéêÄ
(2)  770/     ECE : 14                  		INC D
(2)  771/     ECF : 3E 02               		LD A,2
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 47 - 12/15/2013 13:00:27


(2)  772/     ED1 : 12                  		LD (DE),A			;êÄáåÖê ëÖäíéêÄ
(2)  773/     ED2 : 14                  		INC D
(2)  774/     ED3 : 10 F6               		DJNZ ELT1			;Ççéëàå Ç íÄÅãàñì ÇëÖ çéåÖêÄ ëÖäíéêéÇ ë êÄáåÖêÄåà
(2)  775/     ED5 : 16 40               		LD D,0X40			;ÇÖêçìãà ìäÄáÄíÖãú Ç çÄóÄãé
(2)  776/     ED7 : 1C                  		INC E				;Ñãü ëãÖÑìûôÖâ ÑéêéÜäà
(2)  777/     ED8 : 01 40 00            		LD BC,0X40
(2)  778/     EDB : 09                  		ADD HL,BC			;èÖêÖïéÑ ä ëãÖÑìûôÖâ ÑéêéÜäÖ
(2)  779/     EDC : 08                  		EX AF,AF'
(2)  780/     EDD : 3D                  		DEC A
(2)  781/     EDE : 20 DF               		JR NZ,ELT2			;èéÇíéêüÖå Ñãü ÇëÖï ÑéêéÜÖä
(2)  782/     EE0 : 21 FF 7F            		LD HL,0X7FFF
(2)  783/     EE3 : 36 52               		LD (HL),"R"			;Ççéëàå åÄêäÖê êÄåÑàëäÄ
(2)  784/     EE5 : 25                  		DEC H
(2)  785/     EE6 : 36 44               		LD (HL),"D"
(2)  786/     EE8 : 3E 0A               		LD A,PAGE_DATARAMD
(2)  787/     EEA : CD 06 0F            		CALL SET4MBPAGE
(2)  788/     EED : 21 00 40            		LD HL,0X4000
(2)  789/     EF0 : 11 01 40            		LD DE,0X4001
(2)  790/     EF3 : 01 FF 0F            		LD BC,0X0FFF
(2)  791/     EF6 : 75                  		LD (HL),L
(2)  792/     EF7 : ED B0               		LDIR
(2)  793/     EF9 : 21 E5 31            		LD HL,DSKINFO
(2)  794/     EFC : 11 E1 48            		LD DE,0X48E1
(2)  795/     EFF : 01 1C 00            		LD BC,DSK_END-DSKINFO
(2)  796/     F02 : ED B0               		LDIR
(2)  797/     F04 : 3E FA               		LD A,0XFA
(2)  798/     F06 :                     ;ÇäãûóÖçàÖ Ç 1 éäçé èêéÖñàêéÇÄçàü áÄÑÄççéâ ëíêÄçàñõ
(2)  799/     F06 : C5                  SET4MBPAGE	PUSH BC
(2)  800/     F07 : 47                  		LD B,A
(2)  801/     F08 : (MACRO)             		PEC_ON SHADOW_BF
(2)  801/     F08 : DB BF                               IN A,(PEVO_CONF)
(2)  801/     F0A : F6 01                               OR SHADOW_BF
(2)  801/     F0C : D3 BF                               OUT (PEVO_CONF),A
(2)  802/     F0E : 78                  		LD A,B
(2)  803/     F0F : 01 F7 77            		LD BC,WIN_P1
(2)  804/     F12 : ED 79               		OUT (C),A
(2)  805/     F14 : 47                  		LD B,A
(2)  806/     F15 : (MACRO)             		PEC_OFF SHADOW_BF
(2)  806/     F15 : DB BF                               IN A,(PEVO_CONF)
(2)  806/     F17 : E6 FE                               AND SHADOW_BF!0XFF
(2)  806/     F19 : D3 BF                               OUT (PEVO_CONF),A
(2)  807/     F1B : 78                  		LD A,B
(2)  808/     F1C : C1                  		POP BC
(2)  809/     F1D : C9                  		RET
(2)  810/     F1E :                     
(2)  811/     F1E : 83                  DOS_NOEMUL	DB P_BAS48|0X80			;ëíêÄçàñÄ DOS ë ùåìãüñàÖâ íéãúäé Ñãü 3D13
(2)  812/     F1F : 8B                  DOS_EMUL	DB P_ADD_BAS48|0X80		;ëíêÄçàñÄ DOS ë èéãçõå èÖêÖïÇÄíéå èéêíéÇ
(2)  813/     F20 :                     
(2)  814/     F20 : C5                  READ_BYTE_HL_	PUSH BC
(2)  815/     F21 : E5                  		PUSH HL
(2)  816/     F22 : 3A F4 35            		LD A,(LOC_2A53_)
(2)  817/     F25 : FE 0C               		CP 0X0C
(2)  818/     F27 : 01 F7 40            		LD BC,WIN_A0+0X100
(2)  819/     F2A : 21 1E 0F            		LD HL,DOS_NOEMUL
(2)  820/     F2D : C4 3B 3D            		CALL NZ,WRPORT_RET
(2)  821/     F30 : 4F                  		LD C,A
(2)  822/     F31 : E3                  		EX (SP),HL
(2)  823/     F32 : 7E                  		LD A,(HL)
(2)  824/     F33 : E3                  		EX (SP),HL
(2)  825/     F34 : F5                  		PUSH AF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 48 - 12/15/2013 13:00:27


(2)  826/     F35 : 79                  		LD A,C
(2)  827/     F36 : FE 0C               		CP 0X0C
(2)  828/     F38 : 28 09               		JR Z,RBHL1
(2)  829/     F3A : 01 F7 40            		LD BC,WIN_A0+0X100
(2)  830/     F3D : 21 1F 0F            		LD HL,DOS_EMUL
(2)  831/     F40 : CD 3B 3D            		CALL WRPORT_RET
(2)  832/     F43 : F1                  RBHL1		POP AF
(2)  833/     F44 : E1                  		POP HL
(2)  834/     F45 : C1                  		POP BC
(2)  835/     F46 : C9                  		RET
(2)  836/     F47 :                     
(1) 1020/     F47 :                     
(1) 1021/     F47 : 2A 1C 5D            WORK4ERROR	LD HL,(TRD_5D1C)	; ëéïêÄçÖçàÖ êÖÉàëíêÄ SP
(1) 1022/     F4A : 2B                  		DEC HL
(1) 1023/     F4B : 2B                  		DEC HL
(1) 1024/     F4C : F9                  		LD SP,HL
(1) 1025/     F4D : C3 2C 1D            		JP LOC_1D2F
(1) 1026/     F50 :                     
(1) 1027/     F50 : CD 1F 32            CP_VARSTRDOS	CALL SET_RWPORT0
(1) 1028/     F53 : 2A 4F 5C            		LD HL,(CHANS)
(1) 1029/     F56 : B7                  		OR A
(1) 1030/     F57 : 01 25 5D            		LD BC,TRD_5D25
(1) 1031/     F5A : ED 42               		SBC HL,BC
(1) 1032/     F5C : DC 67 3D            		CALL C,CREATE_VARS
(1) 1033/     F5F : 21 C2 5C            		LD HL,TRD_5CC2			;Ñãü ÇõïéÑÄ àá TR-DOS Ç BASIC èé äéåÄçÑÖ RETURN
(1) 1034/     F62 : C9                  		RET
(1) 1035/     F63 :                     
(1) 1036/     F63 : CD 32 02            RUN_CODE	CALL RESTORE_SP
(1) 1037/     F66 : ED 4B C6 5C         		LD BC,(TRD_5CC6)		;ÄÑêÖë áÄÉêìáäà àá äéåÄçÑçéâ ëíêéäàLD BC,(TRD_5CD9)
(1) 1038/     F6A : C5                  		PUSH BC
(1) 1039/     F6B : C9                  		RET
(1) 1040/     F6C :                     
(1) 1041/     F6C :                     ; èÖóÄíú àåÖçà îÄâãÄ
(1) 1042/     F6C : C5                  PRINT_FILENAME	PUSH BC
(1) 1043/     F6D : CD B5 0F            		CALL PRINT8SYM
(1) 1044/     F70 : 3E 3C               		LD A,0X3C
(1) 1045/     F72 : D7                  		RST 0X10
(1) 1046/     F73 : 7E                  		LD A,(HL)
(1) 1047/     F74 : D7                  		RST 0X10
(1) 1048/     F75 : 3E 3E               		LD A,0X3E
(1) 1049/     F77 : D7                  		RST 0X10
(1) 1050/     F78 : C1                  		POP BC
(1) 1051/     F79 : C9                  		RET
(1) 1052/     F7A :                     
(1) 1053/     F7A :                     ;èÖóÄíú íÖäìôÖÉé îéêêåÄíàêìÖåéÉé íêÖäÄ à ëíéêéçõ
(1) 1054/     F7A : D5                  PRINT_NUM_TRK	PUSH DE
(1) 1055/     F7B : F5                  		PUSH AF
(1) 1056/     F7C : D5                  		PUSH DE
(1) 1057/     F7D : 3E 16               		LD A,0X16
(1) 1058/     F7F : D7                  		RST 0X10
(1) 1059/     F80 : 3A 6B 5C            		LD A,(0X5C6B)
(1) 1060/     F83 : 3D                  		DEC A
(1) 1061/     F84 : D7                  		RST 0X10
(1) 1062/     F85 : 3E 00               		LD A,0
(1) 1063/     F87 : D7                  		RST 0X10
(1) 1064/     F88 : 21 9F 0F            		LD HL,TXT_FORMAT_TRK
(1) 1065/     F8B : DF                  		RST 0X18
(1) 1066/     F8C : D1                  		POP DE
(1) 1067/     F8D : 4B                  		LD C,E
(1) 1068/     F8E : 06 00               		LD B,0
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 49 - 12/15/2013 13:00:27


(1) 1069/     F90 : CD A6 1D            		CALL PRINT_CHISLO
(1) 1070/     F93 : 21 AD 0F            		LD HL,TXT_FSIDE
(1) 1071/     F96 : DF                  		RST 0X18
(1) 1072/     F97 : F1                  		POP AF
(1) 1073/     F98 : 3E 30               		LD A,"0"
(1) 1074/     F9A : CE 00               		ADC A,0
(1) 1075/     F9C : D7                  		RST 0X10
(1) 1076/     F9D : D1                  		POP DE
(1) 1077/     F9E : C9                  		RET
(1) 1078/     F9F :                     
(1) 1079/     F9F : (MACRO)             TXT_FORMAT_TRK	DC "FORMAT TRACK: "
(1) 1079/     F9F : =>TRUE                              IF STRLEN("FORMAT TRACK: ")>1
(1) 1079/     F9F : 46 4F 52 4D 41 54                   DB SUBSTR("FORMAT TRACK: ",0,STRLEN("FORMAT TRACK: ")-1)
                    20 54 52 41 43 4B 
                    3A 
(1) 1079/     FAC : [1079]                              ENDIF
(1) 1079/     FAC : =>TRUE                              IF STRLEN("FORMAT TRACK: ")>0
(1) 1079/     FAC : A0                                  DB CHARFROMSTR("FORMAT TRACK: ",STRLEN("FORMAT TRACK: ")-1)|80H
(1) 1079/     FAD : [1079]                              ENDIF
(1) 1080/     FAD : (MACRO)             TXT_FSIDE	DC "  SIDE: "
(1) 1080/     FAD : =>TRUE                              IF STRLEN("  SIDE: ")>1
(1) 1080/     FAD : 20 20 53 49 44 45                   DB SUBSTR("  SIDE: ",0,STRLEN("  SIDE: ")-1)
                    3A 
(1) 1080/     FB4 : [1080]                              ENDIF
(1) 1080/     FB4 : =>TRUE                              IF STRLEN("  SIDE: ")>0
(1) 1080/     FB4 : A0                                  DB CHARFROMSTR("  SIDE: ",STRLEN("  SIDE: ")-1)|80H
(1) 1080/     FB5 : [1080]                              ENDIF
(1) 1081/     FB5 :                     
(1) 1082/     FB5 : C5                  PRINT8SYM	PUSH BC
(1) 1083/     FB6 : 06 08               		LD B,8
(1) 1084/     FB8 : 7E                  PRINT8SYM1	LD A,(HL)
(1) 1085/     FB9 : E6 7F               		AND 0X7F
(1) 1086/     FBB : 23                  		INC HL
(1) 1087/     FBC : E7                  		RST 0X20
(1) 1088/     FBD : 10 00               		DW 0X10
(1) 1089/     FBF : 10 F7               		DJNZ PRINT8SYM1
(1) 1090/     FC1 : C1                  		POP BC
(1) 1091/     FC2 : C9                  		RET
(1) 1092/     FC3 :                     ;=======END OF FREE SPACE 1=============
(1) 1093/     FC3 :                     
(1) 1094/     FC3 : CD D8 1D            COM_STAR	CALL SET_AND_PUT
(1) 1095/     FC6 : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 1096/     FC9 : CD 35 05            		CALL CP_ON_STKBOT
(1) 1097/     FCC : 1A                  		LD A,(DE)
(1) 1098/     FCD : CD 28 05            		CALL NUMDSK2BYTE
(1) 1099/     FD0 : 32 19 5D            		LD (TRD_5D19),A		; ÑàëäéÇéÑ èé ìåéãóÄçàû
(1) 1100/     FD3 : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1) 1101/     FD6 : C3 E1 03            		JP ERR_OK
(1) 1102/     FD9 :                     
(1) 1103/     FD9 :                     ; èêàÖå	êÄëòàêÖçàü îÄâãÄ
(1) 1104/     FD9 :                     INPUT_EXTFILENAME
(1) 1105/     FD9 : 06 43               		LD B,"C"
(1) 1106/     FDB : 3A D6 5C            		LD A,(TRD_5CD6)		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 1107/     FDE : B7                  		OR A
(1) 1108/     FDF : 20 17               		JR NZ,LOC_104D
(1) 1109/     FE1 : CD 8C 1D            		CALL GET_SYMSTR
(1) 1110/     FE4 : FE AF               		CP 0XAF			;CODE
(1) 1111/     FE6 : 06 43               		LD B,"C"
(1) 1112/     FE8 : 28 0E               		JR Z,LOC_104D
(1) 1113/     FEA : FE E4               		CP 0XE4			;DATA
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 50 - 12/15/2013 13:00:27


(1) 1114/     FEC : 06 44               		LD B,"D"
(1) 1115/     FEE : 28 08               		JR Z,LOC_104D
(1) 1116/     FF0 : FE 23               		CP "#"
(1) 1117/     FF2 : 06 23               		LD B,"#"
(1) 1118/     FF4 : 28 02               		JR Z,LOC_104D
(1) 1119/     FF6 : 06 42               		LD B,"B"
(1) 1120/     FF8 : 21 E5 5C            LOC_104D	LD HL,TRD_5CE5		; êÄëòàêÖçàÖ îÄâãÄ
(1) 1121/     FFB : 70                  		LD (HL),B
(1) 1122/     FFC : C9                  		RET
(1) 1123/     FFD :                     
(1) 1124/     FFD :                     ; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1) 1125/     FFD : F3                  GET_KEYS	DI
(1) 1126/     FFE : E5                  		PUSH HL
(1) 1127/     FFF : C5                  		PUSH BC
(1) 1128/    1000 : D5                  		PUSH DE
(1) 1129/    1001 : E7                  LOC_1056	RST 0X20
(1) 1130/    1002 : 8E 02               		DW 0X028E			; ëäÄçàêéÇÄçàÖ äãÄÇàÄíìêõ
(1) 1131/    1004 : 0E 00               		LD C,0
(1) 1132/    1006 : 20 F9               		JR NZ,LOC_1056
(1) 1133/    1008 : E7                  		RST 0X20
(1) 1134/    1009 : 1E 03               		DW 0X031E			; èêéÇÖêäÄ áçÄóÖçàü çÄÜÄíéâ äãÄÇàòà
(1) 1135/    100B : 30 F4               		JR NC,LOC_1056
(1) 1136/    100D : 15                  		DEC D
(1) 1137/    100E : 5F                  		LD E,A
(1) 1138/    100F : E7                  		RST 0X20
(1) 1139/    1010 : 33 03               		DW 0X0333			; ÑÖäéÑàêéÇÄçàÖ	äãÄÇàÄíìêõ
(1) 1140/    1012 : D1                  		POP DE
(1) 1141/    1013 : C1                  		POP BC
(1) 1142/    1014 : E1                  		POP HL
(1) 1143/    1015 : E6 DF               		AND 0XDF
(1) 1144/    1017 : FB                  		EI
(1) 1145/    1018 : C9                  		RET
(1) 1146/    1019 :                     
(1) 1147/    1019 :                     ; êàëéÇÄçàÖ ñÇÖíçõï ãàçàâ áÄëíÄÇäà ÑéëÄ
(1) 1148/    1019 : 21 C7 58            OUT_COLOR_LINE	LD HL,ZASTV_ATR
(1) 1149/    101C : 06 0A               		LD B,0X0A
(1) 1150/    101E : 36 07               LOC_1073	LD (HL),7
(1) 1151/    1020 : 23                  		INC HL
(1) 1152/    1021 : 10 FB               		DJNZ LOC_1073
(1) 1153/    1023 : 36 02               		LD (HL),2
(1) 1154/    1025 : 23                  		INC HL
(1) 1155/    1026 : 36 16               		LD (HL),0X16
(1) 1156/    1028 : 23                  		INC HL
(1) 1157/    1029 : 36 34               		LD (HL),0X34
(1) 1158/    102B : 23                  		INC HL
(1) 1159/    102C : 36 25               		LD (HL),0X25
(1) 1160/    102E : 23                  		INC HL
(1) 1161/    102F : 36 28               		LD (HL),0X28
(1) 1162/    1031 : 23                  		INC HL
(1) 1163/    1032 : 36 07               		LD (HL),7
(1) 1164/    1034 : 21 D0 40            		LD HL,ZASTV_PIX
(1) 1165/    1037 : 06 08               		LD B,8
(1) 1166/    1039 : AF                  		XOR A
(1) 1167/    103A : C5                  LOC_108F	PUSH BC
(1) 1168/    103B : 37                  		SCF
(1) 1169/    103C : 17                  		RLA
(1) 1170/    103D : E5                  		PUSH HL
(1) 1171/    103E : F5                  		PUSH AF
(1) 1172/    103F : 06 05               		LD B,5
(1) 1173/    1041 : 23                  LOC_1096	INC HL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 51 - 12/15/2013 13:00:27


(1) 1174/    1042 : 77                  		LD (HL), A
(1) 1175/    1043 : 10 FC               		DJNZ LOC_1096
(1) 1176/    1045 : F1                  		POP AF
(1) 1177/    1046 : E1                  		POP HL
(1) 1178/    1047 : C1                  		POP BC
(1) 1179/    1048 : 24                  		INC H
(1) 1180/    1049 : 10 EF               		DJNZ LOC_108F
(1) 1181/    104B : C9                  		RET
(1) 1182/    104C :                     
(1) 1183/    104C : (MACRO)             		DUPL 0X10A5-$,0XFF
(1) 1183/    104C :                     DUPL:
(1) 1183/    104C : =0H                 $$N             EQU (0X10A5-$) / 1024
(1) 1183/    104C : =59H                $$M             EQU (0X10A5-$) # 1024
(1) 1183/    104C :                                     REPT $$N
(1) 1183/    104C :                                     DB 1024 DUP(0XFF)
(1) 1183/    104C :                                     ENDM
(1) 1183/    104C : =>TRUE                              IF $$M <> 0
(1) 1183/    104C : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF 
(1) 1183/    10A5 : [1183]                              ENDIF
(1) 1184/    10A5 : (MACRO)             ASC_10A5	DC " Del. File(s)"
(1) 1184/    10A5 : =>TRUE                              IF STRLEN(" Del. File(s)")>1
(1) 1184/    10A5 : 20 44 65 6C 2E 20                   DB SUBSTR(" Del. File(s)",0,STRLEN(" Del. File(s)")-1)
                    46 69 6C 65 28 73 
(1) 1184/    10B1 : [1184]                              ENDIF
(1) 1184/    10B1 : =>TRUE                              IF STRLEN(" Del. File(s)")>0
(1) 1184/    10B1 : A9                                  DB CHARFROMSTR(" Del. File(s)",STRLEN(" Del. File(s)")-1)|80H
(1) 1184/    10B2 : [1184]                              ENDIF
(1) 1185/    10B2 : (MACRO)             ASC_10B3	DC "Title: "
(1) 1185/    10B2 : =>TRUE                              IF STRLEN("Title: ")>1
(1) 1185/    10B2 : 54 69 74 6C 65 3A                   DB SUBSTR("Title: ",0,STRLEN("Title: ")-1)
(1) 1185/    10B8 : [1185]                              ENDIF
(1) 1185/    10B8 : =>TRUE                              IF STRLEN("Title: ")>0
(1) 1185/    10B8 : A0                                  DB CHARFROMSTR("Title: ",STRLEN("Title: ")-1)|80H
(1) 1185/    10B9 : [1185]                              ENDIF
(1) 1186/    10B9 : 17 11               BYTE_10BA	DB 0X17,0X11
(1) 1187/    10BB : (MACRO)             		DC " Disk Drive: "
(1) 1187/    10BB : =>TRUE                              IF STRLEN(" Disk Drive: ")>1
(1) 1187/    10BB : 20 44 69 73 6B 20                   DB SUBSTR(" Disk Drive: ",0,STRLEN(" Disk Drive: ")-1)
                    44 72 69 76 65 3A 
(1) 1187/    10C7 : [1187]                              ENDIF
(1) 1187/    10C7 : =>TRUE                              IF STRLEN(" Disk Drive: ")>0
(1) 1187/    10C7 : A0                                  DB CHARFROMSTR(" Disk Drive: ",STRLEN(" Disk Drive: ")-1)|80H
(1) 1187/    10C8 : [1187]                              ENDIF
(1) 1188/    10C8 : 17 10 A0            BYTE_10CA	DB 0X17,0X10,0XA0
(1) 1189/    10CB : 17 10               BYTE_10CE	DB 0X17,0X10
(1) 1190/    10CD : (MACRO)             		DC " 40 Track S. Side"
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 52 - 12/15/2013 13:00:27


(1) 1190/    10CD : =>TRUE                              IF STRLEN(" 40 Track S. Side")>1
(1) 1190/    10CD : 20 34 30 20 54 72                   DB SUBSTR(" 40 Track S. Side",0,STRLEN(" 40 Track S. Side")-1)
                    61 63 6B 20 53 2E 
                    20 53 69 64 
(1) 1190/    10DD : [1190]                              ENDIF
(1) 1190/    10DD : =>TRUE                              IF STRLEN(" 40 Track S. Side")>0
(1) 1190/    10DD : E5                                  DB CHARFROMSTR(" 40 Track S. Side",STRLEN(" 40 Track S. Side")-1)|80H
(1) 1190/    10DE : [1190]                              ENDIF
(1) 1191/    10DE : 17 10               BYTE_10E2	DB 0X17,0X10
(1) 1192/    10E0 : (MACRO)             		DC " 80 Track S. Side"
(1) 1192/    10E0 : =>TRUE                              IF STRLEN(" 80 Track S. Side")>1
(1) 1192/    10E0 : 20 38 30 20 54 72                   DB SUBSTR(" 80 Track S. Side",0,STRLEN(" 80 Track S. Side")-1)
                    61 63 6B 20 53 2E 
                    20 53 69 64 
(1) 1192/    10F0 : [1192]                              ENDIF
(1) 1192/    10F0 : =>TRUE                              IF STRLEN(" 80 Track S. Side")>0
(1) 1192/    10F0 : E5                                  DB CHARFROMSTR(" 80 Track S. Side",STRLEN(" 80 Track S. Side")-1)|80H
(1) 1192/    10F1 : [1192]                              ENDIF
(1) 1193/    10F1 : 17 10               BYTE_10F6	DB 0X17,0X10
(1) 1194/    10F3 : (MACRO)             		DC " 40 Track D. Side"
(1) 1194/    10F3 : =>TRUE                              IF STRLEN(" 40 Track D. Side")>1
(1) 1194/    10F3 : 20 34 30 20 54 72                   DB SUBSTR(" 40 Track D. Side",0,STRLEN(" 40 Track D. Side")-1)
                    61 63 6B 20 44 2E 
                    20 53 69 64 
(1) 1194/    1103 : [1194]                              ENDIF
(1) 1194/    1103 : =>TRUE                              IF STRLEN(" 40 Track D. Side")>0
(1) 1194/    1103 : E5                                  DB CHARFROMSTR(" 40 Track D. Side",STRLEN(" 40 Track D. Side")-1)|80H
(1) 1194/    1104 : [1194]                              ENDIF
(1) 1195/    1104 : 17 10               BYTE_110A	DB 0X17,0X10
(1) 1196/    1106 : (MACRO)             		DC " 80 Track D. Side"
(1) 1196/    1106 : =>TRUE                              IF STRLEN(" 80 Track D. Side")>1
(1) 1196/    1106 : 20 38 30 20 54 72                   DB SUBSTR(" 80 Track D. Side",0,STRLEN(" 80 Track D. Side")-1)
                    61 63 6B 20 44 2E 
                    20 53 69 64 
(1) 1196/    1116 : [1196]                              ENDIF
(1) 1196/    1116 : =>TRUE                              IF STRLEN(" 80 Track D. Side")>0
(1) 1196/    1116 : E5                                  DB CHARFROMSTR(" 80 Track D. Side",STRLEN(" 80 Track D. Side")-1)|80H
(1) 1196/    1117 : [1196]                              ENDIF
(1) 1197/    1117 : 17 10               BYTE_111E	DB 0X17,0X10
(1) 1198/    1119 : (MACRO)             		DC " Free Sector "
(1) 1198/    1119 : =>TRUE                              IF STRLEN(" Free Sector ")>1
(1) 1198/    1119 : 20 46 72 65 65 20                   DB SUBSTR(" Free Sector ",0,STRLEN(" Free Sector ")-1)
                    53 65 63 74 6F 72 
(1) 1198/    1125 : [1198]                              ENDIF
(1) 1198/    1125 : =>TRUE                              IF STRLEN(" Free Sector ")>0
(1) 1198/    1125 : A0                                  DB CHARFROMSTR(" Free Sector ",STRLEN(" Free Sector ")-1)|80H
(1) 1198/    1126 : [1198]                              ENDIF
(1) 1199/    1126 : 0D 0D               BYTE_112E	DB 0X0D,0X0D
(1) 1200/    1128 : (MACRO)             		DC "  File Name    Start Length Line"
(1) 1200/    1128 : =>TRUE                              IF STRLEN("  File Name    Start Length Line")>1
(1) 1200/    1128 : 20 20 46 69 6C 65                   DB SUBSTR("  File Name    Start Length Line",0,STRLEN("  File Name    Start Length Line")-1)
                    20 4E 61 6D 65 20 
                    20 20 20 53 74 61 
                    72 74 20 4C 65 6E 
                    67 74 68 20 4C 69 
                    6E 
(1) 1200/    1147 : [1200]                              ENDIF
(1) 1200/    1147 : =>TRUE                              IF STRLEN("  File Name    Start Length Line")>0
(1) 1200/    1147 : E5                                  DB CHARFROMSTR("  File Name    Start Length Line",STRLEN("  File Name    Start Length Line")-1)|80H
(1) 1200/    1148 : [1200]                              ENDIF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 53 - 12/15/2013 13:00:27


(1) 1201/    1148 :                     
(1) 1202/    1148 : 2A 61 5C            CREATE_222BYTES	LD HL,(WORKSP)
(1) 1203/    114B : 22 CF 5C            		LD (TRD_5CCF),HL	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1204/    114E : 01 22 02            		LD BC,0X222
(1) 1205/    1151 : C3 1B 1E            		JP CREATE_FREERAM
(1) 1206/    1154 :                     
(1) 1207/    1154 :                     ;èÖóÄíú óàëãÄ àá êÖÉàëíêÄ HL Ç ÑÖëüíàóçéå ÇàÑÖ
(1) 1208/    1154 : AF                  PRINT_HL_CHISLO	XOR A
(1) 1209/    1155 : 11 10 27            		LD DE,10000
(1) 1210/    1158 : ED 52               LOC_1161	SBC HL,DE
(1) 1211/    115A : 38 03               		JR C,LOC_1168
(1) 1212/    115C : 3C                  		INC A
(1) 1213/    115D : 18 F9               		JR LOC_1161
(1) 1214/    115F :                     
(1) 1215/    115F : C6 30               LOC_1168	ADD A,"0"
(1) 1216/    1161 : CD BC 1D            		CALL PRINT_A_
(1) 1217/    1164 : 19                  		ADD HL,DE
(1) 1218/    1165 : AF                  		XOR A
(1) 1219/    1166 : 11 E8 03            		LD DE,1000
(1) 1220/    1169 : ED 52               LOC_1172	SBC HL,DE
(1) 1221/    116B : 38 03               		JR C,LOC_1179
(1) 1222/    116D : 3C                  		INC A
(1) 1223/    116E : 18 F9               		JR LOC_1172
(1) 1224/    1170 :                     
(1) 1225/    1170 : C6 30               LOC_1179	ADD A,"0"
(1) 1226/    1172 : CD BC 1D            		CALL PRINT_A_
(1) 1227/    1175 : 19                  		ADD HL,DE
(1) 1228/    1176 : AF                  		XOR A
(1) 1229/    1177 : 11 64 00            		LD DE,100
(1) 1230/    117A : ED 52               LOC_1183	SBC HL,DE
(1) 1231/    117C : 38 03               		JR C,LOC_118A
(1) 1232/    117E : 3C                  		INC A
(1) 1233/    117F : 18 F9               		JR LOC_1183
(1) 1234/    1181 :                     
(1) 1235/    1181 : C6 30               LOC_118A	ADD A,"0"
(1) 1236/    1183 : CD BC 1D            		CALL PRINT_A_
(1) 1237/    1186 : 19                  		ADD HL,DE
(1) 1238/    1187 : AF                  		XOR A
(1) 1239/    1188 : 11 0A 00            		LD DE,10
(1) 1240/    118B : ED 52               LOC_1194	SBC HL,DE
(1) 1241/    118D : 38 03               		JR C,LOC_119B
(1) 1242/    118F : 3C                  		INC A
(1) 1243/    1190 : 18 F9               		JR LOC_1194
(1) 1244/    1192 :                     
(1) 1245/    1192 : C6 30               LOC_119B	ADD A,"0"
(1) 1246/    1194 : CD BC 1D            		CALL PRINT_A_
(1) 1247/    1197 : 19                  		ADD HL,DE
(1) 1248/    1198 : 7D                  		LD A,L
(1) 1249/    1199 : C6 30               		ADD A,"0"
(1) 1250/    119B : C3 BC 1D            		JP PRINT_A_
(1) 1251/    119E :                     
(1) 1252/    119E : E5                  FIND_END_BUFDIR	PUSH HL
(1) 1253/    119F : C5                  		PUSH BC
(1) 1254/    11A0 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 1255/    11A3 : 21 F6 5C            		LD HL,TRD_5CF6		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1) 1256/    11A6 : BE                  		CP (HL)
(1) 1257/    11A7 : C4 CB 3D            		CALL NZ,COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1) 1258/    11AA : C1                  		POP BC
(1) 1259/    11AB : E1                  		POP HL
(1) 1260/    11AC : CD 10 05            		CALL CP_END_BUF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 54 - 12/15/2013 13:00:27


(1) 1261/    11AF : 7E                  		LD A,(HL)
(1) 1262/    11B0 : B7                  		OR A
(1) 1263/    11B1 : CA CA 01            		JP Z,END_COMAND
(1) 1264/    11B4 : FE 01               		CP 1
(1) 1265/    11B6 : CC 0B 05            		CALL Z,ADD_10
(1) 1266/    11B9 : C0                  		RET NZ
(1) 1267/    11BA : 18 E2               		JR FIND_END_BUFDIR
(1) 1268/    11BC :                     
(1) 1269/    11BC : CD 2D 04            LIST		CALL CP_SECOND_SYM
(1) 1270/    11BF : 01 02 00            		LD BC,2
(1) 1271/    11C2 : ED 43 DB 5C         		LD (TRD_5CDB),BC
(1) 1272/    11C6 : 28 2B               		JR Z,LOC_1205
(1) 1273/    11C8 : FE 23               		CP "#"
(1) 1274/    11CA : 20 1A               		JR NZ,LIST4CODES
(1) 1275/    11CC : 22 5D 5C            		LD (CH_ADD),HL
(1) 1276/    11CF : CD 03 1E            		CALL SET_NUM_CHAN
(1) 1277/    11D2 : CD 8C 1D            		CALL GET_SYMSTR
(1) 1278/    11D5 : FE 0D               		CP 0X0D
(1) 1279/    11D7 : 28 1A               		JR Z,LOC_1205
(1) 1280/    11D9 : FE 2C               		CP ","
(1) 1281/    11DB : C2 17 1D            		JP NZ,SINTAX_ERROR
(1) 1282/    11DE : CD 22 1E            		CALL GET_NEXT_SYM
(1) 1283/    11E1 : CD B2 1D            		CALL PUT_NUMDSK_STK
(1) 1284/    11E4 : 18 03               		JR LOC_11FB
(1) 1285/    11E6 :                     
(1) 1286/    11E6 : CD D8 1D            LIST4CODES	CALL SET_AND_PUT
(1) 1287/    11E9 : CD 75 1D            LOC_11FB	CALL EXIT_IF_SINTAX
(1) 1288/    11EC : CD AA 1D            		CALL GET_STKBOT_
(1) 1289/    11EF : EB                  		EX DE,HL
(1) 1290/    11F0 : CD 80 1C            		CALL SETUP_DSK
(1) 1291/    11F3 : CD 75 1D            LOC_1205	CALL EXIT_IF_SINTAX
(1) 1292/    11F6 : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1) 1293/    11F9 : 32 F9 5C            		LD (TRD_5CF9),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 1294/    11FC : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 1295/    11FF : 3A DB 5C            		LD A,(TRD_5CDB)
(1) 1296/    1202 : FE 02               		CP 2
(1) 1297/    1204 : F5                  		PUSH AF
(1) 1298/    1205 : CC 97 1D            		CALL Z,CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1) 1299/    1208 : F1                  		POP AF
(1) 1300/    1209 : FE 11               		CP 0X11
(1) 1301/    120B : D2 17 1D            		JP NC,SINTAX_ERROR
(1) 1302/    120E : CD 84 1D            		CALL OPENSTREAM
(1) 1303/    1211 : 3E FF               		LD A,0XFF
(1) 1304/    1213 : 32 F8 5C            		LD (TRD_5CF8),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 1305/    1216 : CD 48 11            		CALL CREATE_222BYTES
(1) 1306/    1219 : 21 06 5E            		LD HL,TRD_5E06
(1) 1307/    121C : ED 5B CF 5C         		LD DE,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1308/    1220 : 01 20 00            		LD BC,0X20
(1) 1309/    1223 : ED B0               		LDIR
(1) 1310/    1225 : CD E8 03            		CALL RD_0SEC2BUF	; óíÖçàÖ ëÖäíéêÄ 0 äÄíÄãéÉÄ
(1) 1311/    1228 : 21 25 5D            		LD HL,TRD_5D25
(1) 1312/    122B : E5                  		PUSH HL
(1) 1313/    122C : 21 B2 10            LOC_123E	LD HL,ASC_10B3		; "TITLE:"
(1) 1314/    122F : C5                  		PUSH BC
(1) 1315/    1230 : DF                  		RST 0X18
(1) 1316/    1231 : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1317/    1234 : 01 14 00            		LD BC,0X14
(1) 1318/    1237 : 09                  		ADD HL,BC
(1) 1319/    1238 : CD B5 0F            		CALL PRINT8SYM
(1) 1320/    123B : 21 B9 10            		LD HL,BYTE_10BA
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 55 - 12/15/2013 13:00:27


(1) 1321/    123E : DF                  		RST 0X18
(1) 1322/    123F : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1) 1323/    1242 : C6 41               		ADD A,"A"
(1) 1324/    1244 : CD BC 1D            		CALL PRINT_A_
(1) 1325/    1247 : CD BA 1D            		CALL PRINT_0D
(1) 1326/    124A : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1327/    124D : 01 03 00            		LD BC,3
(1) 1328/    1250 : 09                  		ADD HL,BC
(1) 1329/    1251 : 7E                  		LD A,(HL)
(1) 1330/    1252 : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1331/    1255 : 01 13 00            		LD BC,0X13
(1) 1332/    1258 : 09                  		ADD HL,BC
(1) 1333/    1259 : 96                  		SUB (HL)
(1) 1334/    125A : E5                  		PUSH HL
(1) 1335/    125B : CD A3 1D            		CALL PRINT_CHISLO_A_
(1) 1336/    125E : 21 AA 10            		LD HL,ASC_10A5+5
(1) 1337/    1261 : DF                  		RST 0X18
(1) 1338/    1262 : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1339/    1265 : 01 02 00            		LD BC,2
(1) 1340/    1268 : 09                  		ADD HL,BC
(1) 1341/    1269 : 7E                  		LD A,(HL)
(1) 1342/    126A : 21 CB 10            		LD HL,BYTE_10CE
(1) 1343/    126D : FE 19               		CP 0X19
(1) 1344/    126F : 28 11               		JR Z,LOC_1292
(1) 1345/    1271 : 21 DE 10            		LD HL,BYTE_10E2
(1) 1346/    1274 : FE 18               		CP 0X18
(1) 1347/    1276 : 28 0A               		JR Z,LOC_1292
(1) 1348/    1278 : 21 F1 10            		LD HL,BYTE_10F6
(1) 1349/    127B : FE 17               		CP 0X17
(1) 1350/    127D : 28 03               		JR Z,LOC_1292
(1) 1351/    127F : 21 04 11            		LD HL,BYTE_110A
(1) 1352/    1282 : DF                  LOC_1292	RST 0X18
(1) 1353/    1283 : E1                  		POP HL
(1) 1354/    1284 : 4E                  		LD C,(HL)
(1) 1355/    1285 : CD A4 1D            		CALL CONV2_2BYTES
(1) 1356/    1288 : 21 A5 10            		LD HL,ASC_10A5		; " DEL. FILE(S)"
(1) 1357/    128B : DF                  		RST 0X18
(1) 1358/    128C : 21 17 11            		LD HL,BYTE_111E
(1) 1359/    128F : DF                  		RST 0X18
(1) 1360/    1290 : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1361/    1293 : 01 04 00            		LD BC,4
(1) 1362/    1296 : 09                  		ADD HL,BC
(1) 1363/    1297 : 4E                  		LD C,(HL)
(1) 1364/    1298 : 23                  		INC HL
(1) 1365/    1299 : 46                  		LD B,(HL)
(1) 1366/    129A : CD A6 1D            		CALL PRINT_CHISLO	; èÖóÄíú óàëãÄ
(1) 1367/    129D : 21 26 11            		LD HL,BYTE_112E
(1) 1368/    12A0 : DF                  		RST 0X18
(1) 1369/    12A1 : C1                  		POP BC
(1) 1370/    12A2 : E1                  		POP HL
(1) 1371/    12A3 : 06 10               		LD B,0X10		;ëäéãúäé àåÖç îÄâãéÇ áÄ èêéïéÑ ÇõÇÖëíà çÄ ùäêÄç
(1) 1372/    12A5 : CD 9E 11            LOC_12B5	CALL FIND_END_BUFDIR	;èêéÇÖêäÄ çÄ éäéçóÄçàÖ ÑàêÖäíéêàà
(1) 1373/    12A8 : CD BA 1D            		CALL PRINT_0D		;èÖêÖÇéÑ ëíêéäà
(1) 1374/    12AB : C5                  		PUSH BC
(1) 1375/    12AC : E5                  		PUSH HL
(1) 1376/    12AD : CD 6C 0F            		CALL PRINT_FILENAME	; èÖóÄíú àåÖçà îÄâãÄ
(1) 1377/    12B0 : 01 0D 00            		LD BC,0X0D
(1) 1378/    12B3 : E1                  		POP HL
(1) 1379/    12B4 : E5                  		PUSH HL
(1) 1380/    12B5 : 09                  		ADD HL,BC
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 56 - 12/15/2013 13:00:27


(1) 1381/    12B6 : 4E                  		LD C,(HL)
(1) 1382/    12B7 : C5                  		PUSH BC
(1) 1383/    12B8 : 79                  		LD A,C
(1) 1384/    12B9 : 06 02               		LD B,2
(1) 1385/    12BB : FE 0A               		CP 0X0A
(1) 1386/    12BD : 38 01               		JR C,LOC_12D0
(1) 1387/    12BF : 05                  		DEC B
(1) 1388/    12C0 : FE 64               LOC_12D0	CP 0X64
(1) 1389/    12C2 : 30 05               		JR NC,LOC_12D9
(1) 1390/    12C4 : 3E 20               LOC_12D4	LD A," "
(1) 1391/    12C6 : D7                  		RST 0X10
(1) 1392/    12C7 : 10 FB               		DJNZ LOC_12D4
(1) 1393/    12C9 : C1                  LOC_12D9	POP BC
(1) 1394/    12CA : CD A6 1D            		CALL PRINT_CHISLO	; èÖóÄíú óàëãÄ
(1) 1395/    12CD : 21 C8 10            		LD HL,BYTE_10CA
(1) 1396/    12D0 : DF                  		RST 0X18
(1) 1397/    12D1 : E1                  		POP HL
(1) 1398/    12D2 : E5                  		PUSH HL
(1) 1399/    12D3 : 01 09 00            		LD BC,9
(1) 1400/    12D6 : 09                  		ADD HL,BC
(1) 1401/    12D7 : 5E                  		LD E,(HL)
(1) 1402/    12D8 : 23                  		INC HL
(1) 1403/    12D9 : 56                  		LD D,(HL)
(1) 1404/    12DA : E5                  		PUSH HL
(1) 1405/    12DB : EB                  		EX DE,HL
(1) 1406/    12DC : CD 54 11            		CALL PRINT_HL_CHISLO
(1) 1407/    12DF : 3E 20               		LD A," "
(1) 1408/    12E1 : CD BC 1D            		CALL PRINT_A_
(1) 1409/    12E4 : E1                  		POP HL
(1) 1410/    12E5 : 23                  		INC HL
(1) 1411/    12E6 : 5E                  		LD E,(HL)
(1) 1412/    12E7 : 23                  		INC HL
(1) 1413/    12E8 : 56                  		LD D,(HL)
(1) 1414/    12E9 : EB                  		EX DE,HL
(1) 1415/    12EA : CD 54 11            		CALL PRINT_HL_CHISLO
(1) 1416/    12ED : E1                  		POP HL
(1) 1417/    12EE : E5                  		PUSH HL
(1) 1418/    12EF : 01 08 00            		LD BC,8
(1) 1419/    12F2 : 09                  		ADD HL,BC
(1) 1420/    12F3 : 7E                  		LD A,(HL)
(1) 1421/    12F4 : FE 42               		CP "B"
(1) 1422/    12F6 : CC 0B 13            		CALL Z,PRN_ADR_ASTART
(1) 1423/    12F9 : E1                  		POP HL
(1) 1424/    12FA : C1                  		POP BC
(1) 1425/    12FB : 11 10 00            		LD DE,0X10
(1) 1426/    12FE : 19                  		ADD HL,DE
(1) 1427/    12FF : 10 A4               		DJNZ LOC_12B5
(1) 1428/    1301 : E5                  		PUSH HL
(1) 1429/    1302 : CD BA 1D            		CALL PRINT_0D
(1) 1430/    1305 : CD BA 1D            		CALL PRINT_0D
(1) 1431/    1308 : C3 2C 12            		JP LOC_123E
(1) 1432/    130B :                     
(1) 1433/    130B : 01 05 00            PRN_ADR_ASTART	LD BC,5
(1) 1434/    130E : 09                  		ADD HL,BC
(1) 1435/    130F : 46                  		LD B,(HL)
(1) 1436/    1310 : 23                  		INC HL
(1) 1437/    1311 : 5E                  		LD E,(HL)
(1) 1438/    1312 : 23                  		INC HL
(1) 1439/    1313 : 56                  		LD D,(HL)
(1) 1440/    1314 : 05                  		DEC B
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 57 - 12/15/2013 13:00:27


(1) 1441/    1315 : 28 0E               		JR Z,LOC_1335
(1) 1442/    1317 : 05                  		DEC B
(1) 1443/    1318 : 28 0B               		JR Z,LOC_1335
(1) 1444/    131A : 3E 10               		LD A,0X10
(1) 1445/    131C : 1C                  LOC_132C	INC E
(1) 1446/    131D : BB                  		CP E
(1) 1447/    131E : 20 03               		JR NZ,LOC_1333
(1) 1448/    1320 : 1E 00               		LD E,0
(1) 1449/    1322 : 14                  		INC D
(1) 1450/    1323 : 10 F7               LOC_1333	DJNZ LOC_132C
(1) 1451/    1325 : 2A CF 5C            LOC_1335	LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1452/    1328 : 01 21 00            		LD BC,0X21
(1) 1453/    132B : 09                  		ADD HL,BC
(1) 1454/    132C : 06 02               		LD B,2
(1) 1455/    132E : E5                  		PUSH HL
(1) 1456/    132F : CD 52 1E            		CALL COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1) 1457/    1332 : 3E 80               		LD A,0X80
(1) 1458/    1334 : E1                  		POP HL
(1) 1459/    1335 : 01 00 02            		LD BC,0X200
(1) 1460/    1338 : ED B1               		CPIR
(1) 1461/    133A : 7E                  		LD A,(HL)
(1) 1462/    133B : FE AA               		CP 0XAA
(1) 1463/    133D : C0                  		RET NZ
(1) 1464/    133E : 23                  		INC HL
(1) 1465/    133F : 4E                  		LD C,(HL)
(1) 1466/    1340 : 23                  		INC HL
(1) 1467/    1341 : 46                  		LD B,(HL)
(1) 1468/    1342 : 78                  		LD A,B
(1) 1469/    1343 : B1                  		OR C
(1) 1470/    1344 : C8                  		RET Z
(1) 1471/    1345 : 3E 20               		LD A,0X20
(1) 1472/    1347 : CD BC 1D            		CALL PRINT_A_
(1) 1473/    134A : C3 A6 1D            		JP PRINT_CHISLO		; èÖóÄíú óàëãÄ
(1) 1474/    134D :                     
(1) 1475/    134D : CD C0 1D            COPY_S		CALL SET_CH_ADD
(1) 1476/    1350 : CD 22 1E            		CALL GET_NEXT_SYM
(1) 1477/    1353 : CD B2 1D            		CALL PUT_NUMDSK_STK
(1) 1478/    1356 : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 1479/    1359 : CD 61 16            		CALL RESERVED_RAM
(1) 1480/    135C : 21 A8 27            		LD HL,ASC_27AA		; "INSERT SOURCE DISK THEN PRESS Y"
(1) 1481/    135F : DF                  		RST 0X18		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1482/    1360 : CD FD 0F            LOC_1375	CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1) 1483/    1363 : FE 59               		CP "Y"
(1) 1484/    1365 : 20 F9               		JR NZ,LOC_1375
(1) 1485/    1367 : CD 9F 1D            		CALL CLEAR_DOWN_SCR	; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1) 1486/    136A : CD D9 0F            		CALL INPUT_EXTFILENAME	; èêàÖå êÄëòàêÖçàü îÄâãÄ
(1) 1487/    136D : CD AB 1C            		CALL SET_CP_FILENAME
(1) 1488/    1370 : C2 D9 03            		JP NZ,ERR_NOFILES
(1) 1489/    1373 : CD A0 13            		CALL COPY_ON1DSK
(1) 1490/    1376 : 3A E5 5C            		LD A,(TRD_5CE5)		; êÄëòàêÖçàÖ îÄâãÄ
(1) 1491/    1379 : FE 23               		CP "#"
(1) 1492/    137B : C2 E1 03            		JP NZ,ERR_OK
(1) 1493/    137E : 3E 0A               LOC_1393	LD A,0X0A
(1) 1494/    1380 : 32 06 5D            		LD (TRD_5D06),A		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1) 1495/    1383 : 21 E6 5C            		LD HL,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 1496/    1386 : 34                  		INC (HL)
(1) 1497/    1387 : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1) 1498/    138A : 21 A8 27            		LD HL,ASC_27AA		; "INSERT SOURCE DISK THEN PRESS Y"
(1) 1499/    138D : DF                  		RST 0X18		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1500/    138E : CD FD 0F            LOC_13A5	CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 58 - 12/15/2013 13:00:27


(1) 1501/    1391 : FE 59               		CP "Y"
(1) 1502/    1393 : 20 F9               		JR NZ,LOC_13A5
(1) 1503/    1395 : CD AE 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 1504/    1398 : C2 E1 03            		JP NZ,ERR_OK
(1) 1505/    139B : CD A0 13            		CALL COPY_ON1DSK
(1) 1506/    139E : 18 DE               		JR LOC_1393
(1) 1507/    13A0 :                     
(1) 1508/    13A0 : CD 4F 16            COPY_ON1DSK	CALL RD_HEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 1509/    13A3 : 21 E6 5C            		LD HL,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 1510/    13A6 : 11 ED 5C            		LD DE,TRD_5CED		; çéåÖê	èÖêÇéÉé	íêÖäÄ îÄâãÄ
(1) 1511/    13A9 : 01 07 00            		LD BC,7
(1) 1512/    13AC : ED B0               		LDIR
(1) 1513/    13AE : 3A F1 5C            		LD A,(TRD_5CF1)
(1) 1514/    13B1 : 32 10 5D            		LD (TRD_5D10),A		; ëíÄêòàâ ÅÄâí éòàÅäà
(1) 1515/    13B4 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 1516/    13B7 : CD 13 3E            		CALL GET_TYPE_DISK
(1) 1517/    13BA : 32 D9 5C            		LD (TRD_5CD9), A	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 1518/    13BD : 3E FF               		LD A,0XFF
(1) 1519/    13BF : 32 21 5D            		LD (TRD_5D21),A
(1) 1520/    13C2 : CD 39 14            		CALL COPY_ON1DSK_
(1) 1521/    13C5 : 2A 1F 5D            		LD HL,(TRD_5D1F)
(1) 1522/    13C8 : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1523/    13CB : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 1524/    13CE : 22 06 5E            		LD (TRD_5E06),HL
(1) 1525/    13D1 : 21 09 5E            		LD HL,TRD_5E09
(1) 1526/    13D4 : 34                  		INC (HL)
(1) 1527/    13D5 : 4E                  		LD C,(HL)
(1) 1528/    13D6 : 0D                  		DEC C
(1) 1529/    13D7 : 06 00               		LD B,0
(1) 1530/    13D9 : C5                  		PUSH BC
(1) 1531/    13DA : 11 09 00            		LD DE,9
(1) 1532/    13DD : ED 53 F4 5C         		LD (TRD_5CF4),DE
(1) 1533/    13E1 : CD 58 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 1534/    13E4 : C1                  		POP BC
(1) 1535/    13E5 : CD 5D 16            		CALL SET_HEAD_FILENAME
(1) 1536/    13E8 : C3 58 1E            		JP REWRITE_9SEC		; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 1537/    13EB :                     
(1) 1538/    13EB : AF                  CP_FREESEC	XOR A
(1) 1539/    13EC : 32 21 5D            		LD (TRD_5D21),A
(1) 1540/    13EF : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 1541/    13F2 : CD 13 3E            		CALL GET_TYPE_DISK
(1) 1542/    13F5 : 32 DA 5C            		LD (TRD_5CDA), A
(1) 1543/    13F8 : CD AE 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 1544/    13FB : CA 4E 1C            		JP Z,FILE_EXISTS
(1) 1545/    13FE : CD FD 03            		CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1) 1546/    1401 : 3A 09 5E            		LD A,(TRD_5E09)
(1) 1547/    1404 : FE 80               		CP 0X80
(1) 1548/    1406 : CA ED 26            		JP Z,ERR_DIRFULL
(1) 1549/    1409 : 21 ED 5C            		LD HL,TRD_5CED		; çéåÖê	èÖêÇéÉé	íêÖäÄ îÄâãÄ
(1) 1550/    140C : 11 E6 5C            		LD DE,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 1551/    140F : 01 07 00            		LD BC,7
(1) 1552/    1412 : ED B0               		LDIR
(1) 1553/    1414 : CD FD 03            		CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1) 1554/    1417 : 3A 10 5D            		LD A,(TRD_5D10)		; ëíÄêòàâ ÅÄâí éòàÅäà
(1) 1555/    141A : 32 EA 5C            		LD (TRD_5CEA),A		; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 1556/    141D : ED 5B EA 5C         		LD DE,(TRD_5CEA)	; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 1557/    1421 : 16 00               		LD D,0
(1) 1558/    1423 : B7                  		OR A
(1) 1559/    1424 : 2A 0A 5E            		LD HL,(TRD_5E0A)
(1) 1560/    1427 : ED 52               		SBC HL,DE
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 59 - 12/15/2013 13:00:27


(1) 1561/    1429 : DA 43 1C            		JP C,LOC_1C45
(1) 1562/    142C : 22 0A 5E            		LD (TRD_5E0A), HL
(1) 1563/    142F : 2A 06 5E            		LD HL,(TRD_5E06)
(1) 1564/    1432 : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1565/    1435 : 22 1F 5D            		LD (TRD_5D1F),HL
(1) 1566/    1438 : C9                  		RET
(1) 1567/    1439 :                     
(1) 1568/    1439 : 3A F1 5C            COPY_ON1DSK_	LD A,(TRD_5CF1)
(1) 1569/    143C : B7                  		OR A
(1) 1570/    143D : C8                  		RET Z
(1) 1571/    143E : 3A 21 5D            		LD A,(TRD_5D21)
(1) 1572/    1441 : B7                  		OR A
(1) 1573/    1442 : 20 11               		JR NZ,LOC_146F
(1) 1574/    1444 : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1) 1575/    1447 : 21 A8 27            		LD HL,ASC_27AA		; "INSERT SOURCE DISK THEN PRESS Y"
(1) 1576/    144A : DF                  		RST 0X18		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1577/    144B : CD FD 0F            LOC_1465	CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1) 1578/    144E : FE 59               		CP "Y"
(1) 1579/    1450 : 20 F9               		JR NZ,LOC_1465
(1) 1580/    1452 : CD 9F 1D            		CALL CLEAR_DOWN_SCR	; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1) 1581/    1455 : 3A F1 5C            LOC_146F	LD A,(TRD_5CF1)
(1) 1582/    1458 : B7                  		OR A
(1) 1583/    1459 : C8                  		RET Z
(1) 1584/    145A : E5                  		PUSH HL
(1) 1585/    145B : 21 23 5D            		LD HL,TRD_5D23
(1) 1586/    145E : 96                  		SUB (HL)
(1) 1587/    145F : E1                  		POP HL
(1) 1588/    1460 : 30 4D               		JR NC,LOC_14CB
(1) 1589/    1462 : 3A F1 5C            		LD A,(TRD_5CF1)
(1) 1590/    1465 : 47                  		LD B,A
(1) 1591/    1466 : AF                  		XOR A
(1) 1592/    1467 : 32 F1 5C            		LD (TRD_5CF1), A
(1) 1593/    146A : C5                  LOC_1484	PUSH BC
(1) 1594/    146B : 32 CE 5C            		LD (TRD_5CCE),A		; #00-óíÖçàÖ ëÖäíéêÄ,#FF-áÄèàëú	ëÖäíéêÄ
(1) 1595/    146E : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1596/    1471 : E5                  		PUSH HL
(1) 1597/    1472 : ED 5B F2 5C         		LD DE,(TRD_5CF2)
(1) 1598/    1476 : CD D8 14            		CALL SETUP_DSK_SOURCE
(1) 1599/    1479 : CD 52 1E            		CALL COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1) 1600/    147C : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 1601/    147F : 22 F2 5C            		LD (TRD_5CF2), HL
(1) 1602/    1482 : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1) 1603/    1485 : 21 84 27            		LD HL,ASC_2785		; "INSERT DESTINATION DISK"
(1) 1604/    1488 : DF                  		RST 0X18		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1605/    1489 : CD FD 0F            LOC_14A5	CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1) 1606/    148C : FE 59               		CP "Y"
(1) 1607/    148E : 20 F9               		JR NZ,LOC_14A5
(1) 1608/    1490 : CD 9F 1D            		CALL CLEAR_DOWN_SCR	; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1) 1609/    1493 : 3A 21 5D            		LD A,(TRD_5D21)
(1) 1610/    1496 : B7                  		OR A
(1) 1611/    1497 : C4 EB 13            		CALL NZ,CP_FREESEC
(1) 1612/    149A : E1                  		POP HL
(1) 1613/    149B : C1                  		POP BC
(1) 1614/    149C : ED 5B EB 5C         		LD DE,(TRD_5CEB)	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1615/    14A0 : CD E4 14            		CALL SETUP_DSK_DEST
(1) 1616/    14A3 : CD 62 1E            		CALL COM_06
(1) 1617/    14A6 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 1618/    14A9 : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1619/    14AC : C3 39 14            		JP COPY_ON1DSK_
(1) 1620/    14AF :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 60 - 12/15/2013 13:00:27


(1) 1621/    14AF : 32 F1 5C            LOC_14CB	LD (TRD_5CF1),A
(1) 1622/    14B2 : 3A 23 5D            		LD A,(TRD_5D23)
(1) 1623/    14B5 : 47                  		LD B,A
(1) 1624/    14B6 : AF                  		XOR A
(1) 1625/    14B7 : C3 6A 14            		JP LOC_1484
(1) 1626/    14BA :                     
(1) 1627/    14BA : (MACRO)             		DUPL 0X14D8-$,0XFF
(1) 1627/    14BA :                     DUPL:
(1) 1627/    14BA : =0H                 $$N             EQU (0X14D8-$) / 1024
(1) 1627/    14BA : =1EH                $$M             EQU (0X14D8-$) # 1024
(1) 1627/    14BA :                                     REPT $$N
(1) 1627/    14BA :                                     DB 1024 DUP(0XFF)
(1) 1627/    14BA :                                     ENDM
(1) 1627/    14BA : =>TRUE                              IF $$M <> 0
(1) 1627/    14BA : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
(1) 1627/    14D8 : [1627]                              ENDIF
(1) 1628/    14D8 :                     SETUP_DSK_SOURCE
(1) 1629/    14D8 : E5                  		PUSH HL
(1) 1630/    14D9 : D5                  		PUSH DE
(1) 1631/    14DA : CD 13 3E            		CALL GET_TYPE_DISK
(1) 1632/    14DD : 3A D9 5C            		LD A,(TRD_5CD9)		; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 1633/    14E0 : 77                  		LD (HL),A
(1) 1634/    14E1 : D1                  		POP DE
(1) 1635/    14E2 : E1                  		POP HL
(1) 1636/    14E3 : C9                  		RET
(1) 1637/    14E4 :                     
(1) 1638/    14E4 : E5                  SETUP_DSK_DEST	PUSH HL
(1) 1639/    14E5 : D5                  		PUSH DE
(1) 1640/    14E6 : CD 13 3E            		CALL GET_TYPE_DISK
(1) 1641/    14E9 : 3A DA 5C            		LD A,(TRD_5CDA)
(1) 1642/    14EC : 77                  		LD (HL),A
(1) 1643/    14ED : D1                  		POP DE
(1) 1644/    14EE : E1                  		POP HL
(1) 1645/    14EF : C9                  		RET
(1) 1646/    14F0 :                     
(1) 1647/    14F0 : AF                  CP_FREE_DEST	XOR A
(1) 1648/    14F1 : 32 21 5D            		LD (TRD_5D21),A
(1) 1649/    14F4 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 1650/    14F7 : CD 13 3E            		CALL GET_TYPE_DISK
(1) 1651/    14FA : 32 DA 5C            		LD (TRD_5CDA),A
(1) 1652/    14FD : 3A 08 5E            		LD A,(TRD_5E08)
(1) 1653/    1500 : 32 E7 5C            		LD (TRD_5CE7),A		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 1654/    1503 : 21 80 02            		LD HL,0X280
(1) 1655/    1506 : FE 19               		CP 0X19
(1) 1656/    1508 : 28 15               		JR Z,SAVE_SECS_DEST
(1) 1657/    150A : 21 00 05            		LD HL,0X500
(1) 1658/    150D : FE 18               		CP 0X18
(1) 1659/    150F : 28 0E               		JR Z,SAVE_SECS_DEST
(1) 1660/    1511 : FE 17               		CP 0X17
(1) 1661/    1513 : 28 0A               		JR Z,SAVE_SECS_DEST
(1) 1662/    1515 : 21 00 0A            		LD HL,0X0A00
(1) 1663/    1518 : FE 16               		CP 0X16
(1) 1664/    151A : 28 03               		JR Z,SAVE_SECS_DEST
(1) 1665/    151C : C3 17 1D            		JP SINTAX_ERROR
(1) 1666/    151F :                     
(1) 1667/    151F : 22 DD 5C            SAVE_SECS_DEST	LD (TRD_5CDD),HL	; àåü îÄâãÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 61 - 12/15/2013 13:00:27


(1) 1668/    1522 : ED 4B DF 5C         		LD BC,(TRD_5CDF)
(1) 1669/    1526 : ED 42               		SBC HL,BC
(1) 1670/    1528 : DA 43 1C            		JP C,LOC_1C45
(1) 1671/    152B : C9                  		RET
(1) 1672/    152C :                     
(1) 1673/    152C : CD 75 1D            COPY_B		CALL EXIT_IF_SINTAX
(1) 1674/    152F : CD 61 16            		CALL RESERVED_RAM
(1) 1675/    1532 : 21 78 27            		LD HL,ASC_2779		; "BACKUP DISK"
(1) 1676/    1535 : DF                  		RST 0X18		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1677/    1536 : 21 A8 27            		LD HL,ASC_27AA		; "INSERT SOURCE DISK THEN PRESS Y"
(1) 1678/    1539 : DF                  		RST 0X18		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1679/    153A : CD FD 0F            LOC_153E	CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1) 1680/    153D : FE 59               		CP "Y"
(1) 1681/    153F : 20 F9               		JR NZ,LOC_153E
(1) 1682/    1541 : CD 9F 1D            		CALL CLEAR_DOWN_SCR	; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1) 1683/    1544 : 3E FF               		LD A,0XFF
(1) 1684/    1546 : 32 21 5D            		LD (TRD_5D21),A
(1) 1685/    1549 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 1686/    154C : CD 13 3E            		CALL GET_TYPE_DISK
(1) 1687/    154F : 32 D9 5C            		LD (TRD_5CD9),A		; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 1688/    1552 : 3A 08 5E            		LD A,(TRD_5E08)
(1) 1689/    1555 : FE 19               		CP 0X19
(1) 1690/    1557 : 21 80 02            		LD HL,0X280
(1) 1691/    155A : 28 15               		JR Z,LOC_1575
(1) 1692/    155C : 21 00 05            		LD HL,0X500
(1) 1693/    155F : FE 18               		CP 0X18
(1) 1694/    1561 : 28 0E               		JR Z,LOC_1575
(1) 1695/    1563 : FE 17               		CP 0X17
(1) 1696/    1565 : 28 0A               		JR Z,LOC_1575
(1) 1697/    1567 : 21 00 0A            		LD HL,0X0A00
(1) 1698/    156A : FE 16               		CP 0X16
(1) 1699/    156C : 28 03               		JR Z,LOC_1575
(1) 1700/    156E : C3 0F 04            		JP DISCERROR_
(1) 1701/    1571 :                     
(1) 1702/    1571 : ED 4B 0A 5E         LOC_1575	LD BC,(TRD_5E0A)
(1) 1703/    1575 : ED 42               		SBC HL,BC
(1) 1704/    1577 : 22 E5 5C            		LD (TRD_5CE5),HL	; êÄëòàêÖçàÖ îÄâãÄ
(1) 1705/    157A : 22 DF 5C            		LD (TRD_5CDF),HL
(1) 1706/    157D : 21 00 00            		LD HL,0
(1) 1707/    1580 : 22 E1 5C            		LD (TRD_5CE1),HL
(1) 1708/    1583 : 22 E3 5C            		LD (TRD_5CE3),HL
(1) 1709/    1586 : CD B8 15            		CALL COPY_SECTORS
(1) 1710/    1589 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 1711/    158C : 3A E7 5C            		LD A,(TRD_5CE7)		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 1712/    158F : 32 08 5E            		LD (TRD_5E08),A
(1) 1713/    1592 : 2A DD 5C            		LD HL,(TRD_5CDD)	; àåü îÄâãÄ
(1) 1714/    1595 : ED 4B DF 5C         		LD BC,(TRD_5CDF)
(1) 1715/    1599 : ED 42               		SBC HL,BC
(1) 1716/    159B : 22 0A 5E            		LD (TRD_5E0A),HL
(1) 1717/    159E : CD E4 14            		CALL SETUP_DSK_DEST
(1) 1718/    15A1 : 11 09 00            		LD DE,9
(1) 1719/    15A4 : ED 53 F4 5C         		LD (TRD_5CF4),DE
(1) 1720/    15A8 : CD 58 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 1721/    15AB : C3 E1 03            		JP ERR_OK
(1) 1722/    15AE :                     
(1) 1723/    15AE : (MACRO)             		DUPL 0X15B2-$,0XFF
(1) 1723/    15AE :                     DUPL:
(1) 1723/    15AE : =0H                 $$N             EQU (0X15B2-$) / 1024
(1) 1723/    15AE : =4H                 $$M             EQU (0X15B2-$) # 1024
(1) 1723/    15AE :                                     REPT $$N
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 62 - 12/15/2013 13:00:27


(1) 1723/    15AE :                                     DB 1024 DUP(0XFF)
(1) 1723/    15AE :                                     ENDM
(1) 1723/    15AE : =>TRUE                              IF $$M <> 0
(1) 1723/    15AE : FF FF FF FF                         DB $$M DUP(0XFF)
(1) 1723/    15B2 : [1723]                              ENDIF
(1) 1724/    15B2 : 2A E5 5C            CP_COPY_SECS	LD HL,(TRD_5CE5)	; êÄëòàêÖçàÖ îÄâãÄ
(1) 1725/    15B5 : 7C                  		LD A,H
(1) 1726/    15B6 : B5                  		OR L
(1) 1727/    15B7 : C9                  		RET
(1) 1728/    15B8 :                     
(1) 1729/    15B8 : CD B2 15            COPY_SECTORS	CALL CP_COPY_SECS
(1) 1730/    15BB : C8                  		RET Z
(1) 1731/    15BC : 3A 21 5D            		LD A,(TRD_5D21)
(1) 1732/    15BF : B7                  		OR A
(1) 1733/    15C0 : 20 15               		JR NZ,LOC_15DB
(1) 1734/    15C2 : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1) 1735/    15C5 : 21 78 27            		LD HL,ASC_2779		; "BACKUP DISK"
(1) 1736/    15C8 : DF                  		RST 0X18		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1737/    15C9 : 21 A8 27            		LD HL,ASC_27AA		; "INSERT SOURCE DISK THEN PRESS Y"
(1) 1738/    15CC : DF                  		RST 0X18		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1739/    15CD : CD FD 0F            LOC_15D1	CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1) 1740/    15D0 : FE 59               		CP "Y"
(1) 1741/    15D2 : 20 F9               		JR NZ,LOC_15D1
(1) 1742/    15D4 : CD 9F 1D            		CALL CLEAR_DOWN_SCR	; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1) 1743/    15D7 : CD B2 15            LOC_15DB	CALL CP_COPY_SECS
(1) 1744/    15DA : C8                  		RET Z
(1) 1745/    15DB : C5                  		PUSH BC
(1) 1746/    15DC : 3A 23 5D            		LD A,(TRD_5D23)
(1) 1747/    15DF : 4F                  		LD C,A
(1) 1748/    15E0 : AF                  		XOR A
(1) 1749/    15E1 : 47                  		LD B,A
(1) 1750/    15E2 : ED 42               		SBC HL,BC
(1) 1751/    15E4 : C1                  		POP BC
(1) 1752/    15E5 : D2 3A 16            		JP NC,LOC_1644
(1) 1753/    15E8 : ED 4B E5 5C         		LD BC,(TRD_5CE5)	; êÄëòàêÖçàÖ îÄâãÄ
(1) 1754/    15EC : 21 00 00            		LD HL,0
(1) 1755/    15EF : 22 E5 5C            		LD (TRD_5CE5),HL	; êÄëòàêÖçàÖ îÄâãÄ
(1) 1756/    15F2 : C5                  LOC_15F8	PUSH BC
(1) 1757/    15F3 : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1758/    15F6 : E5                  		PUSH HL
(1) 1759/    15F7 : CD D8 14            		CALL SETUP_DSK_SOURCE
(1) 1760/    15FA : ED 5B E1 5C         		LD DE,(TRD_5CE1)
(1) 1761/    15FE : 41                  		LD B,C
(1) 1762/    15FF : CD 52 1E            		CALL COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1) 1763/    1602 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 1764/    1605 : 22 E1 5C            		LD (TRD_5CE1),HL
(1) 1765/    1608 : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1) 1766/    160B : 21 78 27            		LD HL,ASC_2779		; "BACKUP DISK"
(1) 1767/    160E : DF                  		RST 0X18		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1768/    160F : 21 84 27            		LD HL,ASC_2785		; "INSERT DESTINATION DISK"
(1) 1769/    1612 : DF                  		RST 0X18		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1770/    1613 : CD FD 0F            LOC_161D	CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1) 1771/    1616 : FE 59               		CP "Y"
(1) 1772/    1618 : 20 F9               		JR NZ,LOC_161D
(1) 1773/    161A : CD 9F 1D            		CALL CLEAR_DOWN_SCR	; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1) 1774/    161D : 3A 21 5D            		LD A,(TRD_5D21)
(1) 1775/    1620 : B7                  		OR A
(1) 1776/    1621 : C4 F0 14            		CALL NZ,CP_FREE_DEST
(1) 1777/    1624 : E1                  		POP HL
(1) 1778/    1625 : C1                  		POP BC
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 63 - 12/15/2013 13:00:27


(1) 1779/    1626 : ED 5B E3 5C         		LD DE,(TRD_5CE3)
(1) 1780/    162A : 41                  		LD B,C
(1) 1781/    162B : CD E4 14            		CALL SETUP_DSK_DEST
(1) 1782/    162E : CD 62 1E            		CALL COM_06
(1) 1783/    1631 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 1784/    1634 : 22 E3 5C            		LD (TRD_5CE3),HL
(1) 1785/    1637 : C3 B8 15            		JP COPY_SECTORS
(1) 1786/    163A :                     
(1) 1787/    163A : 22 E5 5C            LOC_1644	LD (TRD_5CE5),HL	; êÄëòàêÖçàÖ îÄâãÄ
(1) 1788/    163D : 3A 23 5D            		LD A,(0X5D23)
(1) 1789/    1640 : 4F                  		LD C,A
(1) 1790/    1641 : AF                  		XOR A
(1) 1791/    1642 : C3 F2 15            		JP LOC_15F8
(1) 1792/    1645 :                     
(1) 1793/    1645 : CD 4F 16            CP_ERASED_FILE	CALL RD_HEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 1794/    1648 : 3A DD 5C            		LD A,(TRD_5CDD)		; àåü îÄâãÄ
(1) 1795/    164B : FE 01               		CP 1
(1) 1796/    164D : C9                  		RET
(1) 1797/    164E :                     
(1) 1798/    164E :                     ;ëóàíõÇÄçàÖ éèàëÄíÖãü Ç ÅìîÖê 0X5CDD
(1) 1799/    164E : 4F                  COM_08		LD C,A
(1) 1800/    164F :                     RD_HEAD_FILENAME			; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 1801/    164F : AF                  		XOR A
(1) 1802/    1650 : C5                  LOC_165E	PUSH BC
(1) 1803/    1651 : CD C1 17            		CALL RD_HEAD_COPY
(1) 1804/    1654 : C1                  		POP BC
(1) 1805/    1655 : C9                  		RET
(1) 1806/    1656 :                     
(1) 1807/    1656 :                     ;áÄèàëú éèàëÄíÖãü îÄâãÄ çÄ Ñàëä
(1) 1808/    1656 : 4F                  COM_09		LD C,A
(1) 1809/    1657 : CD 5D 16            		CALL SET_HEAD_FILENAME
(1) 1810/    165A : C3 58 1E            		JP REWRITE_9SEC		; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 1811/    165D :                     
(1) 1812/    165D :                     SET_HEAD_FILENAME
(1) 1813/    165D : 3E FF               		LD A,0XFF
(1) 1814/    165F : 18 EF               		JR LOC_165E
(1) 1815/    1661 :                     
(1) 1816/    1661 : 3E FF               RESERVED_RAM	LD A,0XFF
(1) 1817/    1663 : 32 0E 5D            		LD (TRD_5D0E),A		; #FE-êÄÅéíÄÖí BASIC,àçÄóÖ TR-DOS
(1) 1818/    1666 : CD 72 16            		CALL CP_FREE_SECS
(1) 1819/    1669 : 2A 61 5C            		LD HL,(WORKSP)
(1) 1820/    166C : 22 CF 5C            		LD (TRD_5CCF), HL	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1821/    166F : C3 1B 1E            		JP CREATE_FREERAM
(1) 1822/    1672 :                     
(1) 1823/    1672 : E7                  CP_FREE_SECS	RST 0X20
(1) 1824/    1673 : 1A 1F               		DW 0X1F1A		; èêéÇÖêäÄ êÄáåÖêÄ ëÇéÅéÑçéâ èÄåüíà
(1) 1825/    1675 : 21 FF FF            		LD HL,0XFFFF
(1) 1826/    1678 : ED 42               		SBC HL,BC
(1) 1827/    167A : 7C                  		LD A,H
(1) 1828/    167B : FE 10               		CP 0X10
(1) 1829/    167D : 30 02               		JR NC,LOC_168F
(1) 1830/    167F : 3E 11               		LD A,0X11
(1) 1831/    1681 : 3D                  LOC_168F	DEC A
(1) 1832/    1682 : 32 23 5D            		LD (TRD_5D23),A
(1) 1833/    1685 : 47                  		LD B,A
(1) 1834/    1686 : 0E 00               		LD C,0
(1) 1835/    1688 : C9                  		RET
(1) 1836/    1689 :                     
(1) 1837/    1689 : 22 D7 5C            ADD_FILESIZE	LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 1838/    168C :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 64 - 12/15/2013 13:00:27


(1) 1839/    168C : 22 DB 5C            		LD (TRD_5CDB),HL
(1) 1840/    168F : ED 5B EA 5C         		LD DE,(TRD_5CEA)	; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 1841/    1693 : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 1842/    1696 : 16 00               		LD D,0
(1) 1843/    1698 : 19                  		ADD HL,DE
(1) 1844/    1699 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 1845/    169C : C9                  		RET
(1) 1846/    169D :                     
(1) 1847/    169D : CD 75 1D            MOVE		CALL EXIT_IF_SINTAX
(1) 1848/    16A0 : CD 61 16            		CALL RESERVED_RAM
(1) 1849/    16A3 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 1850/    16A6 : 3A 19 5E            		LD A,(TRD_5E19)
(1) 1851/    16A9 : B7                  		OR A
(1) 1852/    16AA : CA E1 03            		JP Z,ERR_OK
(1) 1853/    16AD : 21 00 00            		LD HL,0
(1) 1854/    16B0 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 1855/    16B3 : 0E FF               		LD C,0XFF
(1) 1856/    16B5 : 0C                  LOC_16C3	INC C
(1) 1857/    16B6 : CD 45 16            		CALL CP_ERASED_FILE
(1) 1858/    16B9 : 20 FA               		JR NZ,LOC_16C3
(1) 1859/    16BB : 79                  		LD A,C
(1) 1860/    16BC : 32 D4 5C            		LD (TRD_5CD4),A
(1) 1861/    16BF : 2A EB 5C            		LD HL,(TRD_5CEB)	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1862/    16C2 : 22 D5 5C            		LD (TRD_5CD5),HL
(1) 1863/    16C5 : CD 89 16            		CALL ADD_FILESIZE
(1) 1864/    16C8 : 0C                  LOC_16D6	INC C
(1) 1865/    16C9 : CD 45 16            		CALL CP_ERASED_FILE
(1) 1866/    16CC : 28 FA               		JR Z,LOC_16D6
(1) 1867/    16CE : A7                  		AND A
(1) 1868/    16CF : C2 EA 16            		JP NZ,LOC_1710
(1) 1869/    16D2 : 3A D4 5C            		LD A,(TRD_5CD4)
(1) 1870/    16D5 : 4F                  		LD C,A
(1) 1871/    16D6 : 0C                  LOC_16E5	INC C
(1) 1872/    16D7 : CD 45 16            		CALL CP_ERASED_FILE
(1) 1873/    16DA : A7                  		AND A
(1) 1874/    16DB : CA 46 17            		JP Z,REINIT_9SEC
(1) 1875/    16DE : AF                  		XOR A
(1) 1876/    16DF : 32 DD 5C            		LD (TRD_5CDD),A		; àåü îÄâãÄ
(1) 1877/    16E2 : CD 55 1E            		CALL WR_HEAD_FILENAME	; ëéïêÄçÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 1878/    16E5 : CD 89 16            		CALL ADD_FILESIZE
(1) 1879/    16E8 : 18 EC               		JR LOC_16E5
(1) 1880/    16EA :                     
(1) 1881/    16EA : 3A EA 5C            LOC_1710	LD A,(TRD_5CEA)		; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 1882/    16ED : 32 D3 5C            		LD (TRD_5CD3),A
(1) 1883/    16F0 : 32 D1 5C            		LD (TRD_5CD1),A
(1) 1884/    16F3 : 2A EB 5C            		LD HL,(TRD_5CEB)	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1885/    16F6 : 22 D5 5C            		LD (TRD_5CD5),HL
(1) 1886/    16F9 : C5                  		PUSH BC
(1) 1887/    16FA : CD 7F 17            		CALL MOVE_FILE
(1) 1888/    16FD : C1                  		POP BC
(1) 1889/    16FE : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 1890/    1701 : 22 D5 5C            		LD (TRD_5CD5),HL
(1) 1891/    1704 : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1892/    1707 : AF                  		XOR A
(1) 1893/    1708 : 32 EA 5C            		LD (TRD_5CEA),A		; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 1894/    170B : 3A DD 5C            		LD A,(TRD_5CDD)		; àåü îÄâãÄ
(1) 1895/    170E : F5                  		PUSH AF
(1) 1896/    170F : 3E 01               		LD A,1
(1) 1897/    1711 : 32 DD 5C            		LD (TRD_5CDD),A		; àåü îÄâãÄ
(1) 1898/    1714 : CD 55 1E            		CALL WR_HEAD_FILENAME	; ëéïêÄçÖçàÖ éèàëÄíÖãü îÄâãÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 65 - 12/15/2013 13:00:27


(1) 1899/    1717 : F1                  		POP AF
(1) 1900/    1718 : 32 DD 5C            		LD (TRD_5CDD),A		; àåü îÄâãÄ
(1) 1901/    171B : 3A D4 5C            		LD A,(TRD_5CD4)
(1) 1902/    171E : 4F                  		LD C,A
(1) 1903/    171F : 2A DB 5C            		LD HL,(TRD_5CDB)
(1) 1904/    1722 : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1905/    1725 : 3A D1 5C            		LD A,(TRD_5CD1)
(1) 1906/    1728 : 32 EA 5C            		LD (TRD_5CEA),A		; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 1907/    172B : CD 55 1E            		CALL WR_HEAD_FILENAME	; ëéïêÄçÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 1908/    172E : 3A D4 5C            		LD A,(TRD_5CD4)
(1) 1909/    1731 : 3C                  		INC A
(1) 1910/    1732 : 4F                  		LD C,A
(1) 1911/    1733 : CD 4F 16            		CALL RD_HEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 1912/    1736 : 2A D5 5C            		LD HL,(TRD_5CD5)
(1) 1913/    1739 : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1914/    173C : CD 55 1E            		CALL WR_HEAD_FILENAME	; ëéïêÄçÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 1915/    173F : 3A D4 5C            		LD A,(TRD_5CD4)
(1) 1916/    1742 : 4F                  		LD C,A
(1) 1917/    1743 : C3 B5 16            		JP LOC_16C3
(1) 1918/    1746 :                     
(1) 1919/    1746 : 2A CF 5C            REINIT_9SEC	LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1920/    1749 : 01 00 10            		LD BC,0X1000
(1) 1921/    174C : CD 26 1E            		CALL DEL_WORKRAM
(1) 1922/    174F : CD FD 03            		CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1) 1923/    1752 : 2A 0A 5E            		LD HL,(TRD_5E0A)
(1) 1924/    1755 : ED 5B D9 5C         		LD DE,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 1925/    1759 : 19                  		ADD HL,DE
(1) 1926/    175A : 22 0A 5E            		LD (TRD_5E0A),HL
(1) 1927/    175D : 3A 09 5E            		LD A,(TRD_5E09)
(1) 1928/    1760 : 21 19 5E            		LD HL,TRD_5E19
(1) 1929/    1763 : 96                  		SUB (HL)
(1) 1930/    1764 : 32 09 5E            		LD (TRD_5E09),A
(1) 1931/    1767 : 36 00               		LD (HL),0
(1) 1932/    1769 : 2A D5 5C            		LD HL,(TRD_5CD5)
(1) 1933/    176C : 22 06 5E            		LD (TRD_5E06),HL
(1) 1934/    176F : F5                  		PUSH AF
(1) 1935/    1770 : CD 58 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 1936/    1773 : F1                  		POP AF
(1) 1937/    1774 : 4F                  		LD C,A
(1) 1938/    1775 : CD 4F 16            		CALL RD_HEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 1939/    1778 : AF                  		XOR A
(1) 1940/    1779 : 32 DD 5C            		LD (TRD_5CDD),A		; àåü îÄâãÄ
(1) 1941/    177C : C3 72 05            		JP LOC_569
(1) 1942/    177F :                     
(1) 1943/    177F : 3A D3 5C            MOVE_FILE	LD A,(TRD_5CD3)
(1) 1944/    1782 : B7                  		OR A
(1) 1945/    1783 : C8                  		RET Z
(1) 1946/    1784 : E5                  		PUSH HL
(1) 1947/    1785 : 21 23 5D            		LD HL,TRD_5D23
(1) 1948/    1788 : 96                  		SUB (HL)
(1) 1949/    1789 : E1                  		POP HL
(1) 1950/    178A : 30 2B               		JR NC,LOC_17DD
(1) 1951/    178C : 3A D3 5C            		LD A,(TRD_5CD3)
(1) 1952/    178F : 47                  		LD B,A
(1) 1953/    1790 : AF                  		XOR A
(1) 1954/    1791 : 32 D3 5C            		LD (TRD_5CD3),A
(1) 1955/    1794 : C5                  LOC_17BA	PUSH BC
(1) 1956/    1795 : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1957/    1798 : E5                  		PUSH HL
(1) 1958/    1799 : ED 5B D5 5C         		LD DE,(TRD_5CD5)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 66 - 12/15/2013 13:00:27


(1) 1959/    179D : CD 52 1E            		CALL COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1) 1960/    17A0 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 1961/    17A3 : 22 D5 5C            		LD (TRD_5CD5),HL
(1) 1962/    17A6 : E1                  		POP HL
(1) 1963/    17A7 : C1                  		POP BC
(1) 1964/    17A8 : ED 5B D7 5C         		LD DE,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 1965/    17AC :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 1966/    17AC : CD 62 1E            		CALL COM_06
(1) 1967/    17AF : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 1968/    17B2 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 1969/    17B5 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 1970/    17B5 : 18 C8               		JR MOVE_FILE
(1) 1971/    17B7 :                     
(1) 1972/    17B7 : 32 D3 5C            LOC_17DD	LD (TRD_5CD3),A
(1) 1973/    17BA : 3A 23 5D            		LD A,(TRD_5D23)
(1) 1974/    17BD : 47                  		LD B,A
(1) 1975/    17BE : AF                  		XOR A
(1) 1976/    17BF : 18 D3               		JR LOC_17BA
(1) 1977/    17C1 :                     
(1) 1978/    17C1 : F5                  RD_HEAD_COPY	PUSH AF
(1) 1979/    17C2 : 21 CC 5C            		LD HL,TRD_5CCC		; íÖäìôàâ çéåÖê	ëÖäíéêÄ	èêà óíÖçàà äÄíÄãéÉÄ
(1) 1980/    17C5 : 36 00               		LD (HL),0
(1) 1981/    17C7 : 79                  		LD A,C
(1) 1982/    17C8 : D6 10               LOC_17F0	SUB 0X10
(1) 1983/    17CA : 38 03               		JR C,LOC_17F7
(1) 1984/    17CC : 34                  		INC (HL)
(1) 1985/    17CD : 18 F9               		JR LOC_17F0
(1) 1986/    17CF :                     
(1) 1987/    17CF : C6 10               LOC_17F7	ADD A,0X10
(1) 1988/    17D1 : 4F                  		LD C,A
(1) 1989/    17D2 : C5                  		PUSH BC
(1) 1990/    17D3 : CD EC 03            		CALL READ_NUM_SEC	; óíÖçàÖ ëÖäíéêÄ äÄíÄãéÉÄ èé çéåÖêì
(1) 1991/    17D6 : C1                  		POP BC
(1) 1992/    17D7 : F1                  		POP AF
(1) 1993/    17D8 : CD 9F 1C            		CALL FIND_HEAD_BUF
(1) 1994/    17DB : 11 DD 5C            		LD DE,TRD_5CDD		; àåü îÄâãÄ
(1) 1995/    17DE : 01 10 00            		LD BC,0X10
(1) 1996/    17E1 : B7                  		OR A
(1) 1997/    17E2 : 28 01               		JR Z,LOC_180D
(1) 1998/    17E4 : EB                  		EX DE,HL
(1) 1999/    17E5 : C3 02 36            LOC_180D	JP EMU_LDIR
(1) 2000/    17E8 :                     
(1) 2001/    17E8 : (MACRO)             		DUPL 0X1803-$,0XFF	;FIX
(1) 2001/    17E8 :                     DUPL:
(1) 2001/    17E8 : =0H                 $$N             EQU (0X1803-$) / 1024
(1) 2001/    17E8 : =1BH                $$M             EQU (0X1803-$) # 1024
(1) 2001/    17E8 :                                     REPT $$N
(1) 2001/    17E8 :                                     DB 1024 DUP(0XFF)
(1) 2001/    17E8 :                                     ENDM
(1) 2001/    17E8 : =>TRUE                              IF $$M <> 0
(1) 2001/    17E8 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF 
(1) 2001/    1803 : [2001]                              ENDIF
(1) 2002/    1803 : 11 DD 5C            		LD DE,TRD_5CDD		; àåü îÄâãÄ
(1) 2003/    1806 : 01 10 00            		LD BC,0X10
(1) 2004/    1809 : B7                  		OR A
(1) 2005/    180A : 28 D9               		JR Z,LOC_180D
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 67 - 12/15/2013 13:00:27


(1) 2006/    180C : EB                  		EX DE,HL
(1) 2007/    180D : =>TRUE              		IF EMU3D2F=1
(1) 2008/    180D : C3 02 36            		JP EMU_LDIR
(1) 2009/    1810 : =>FALSE             		ELSE
(1) 2010/    1810 :                     		LDIR
(1) 2011/    1810 :                     		RET
(1) 2012/    1810 : [2007]              		ENDIF
(1) 2013/    1810 :                     
(1) 2014/    1810 : 3E FF               VERIFY		LD A,0XFF
(1) 2015/    1812 : 32 F9 5C            		LD (TRD_5CF9),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 2016/    1815 : CD 52 18            LOAD		CALL ZERO2HIGH_ERR
(1) 2017/    1818 : CD 36 18            LOC_1818	CALL LOAD_FILE
(1) 2018/    181B : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 2019/    181E : 3E FF               		LD A,0XFF
(1) 2020/    1820 : 32 10 5D            		LD (TRD_5D10),A		; ëíÄêòàâ ÅÄâí éòàÅäà
(1) 2021/    1823 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 2022/    1826 : FE FF               		CP 0XFF
(1) 2023/    1828 : CA E1 03            		JP Z,ERR_OK
(1) 2024/    182B : 3A E5 5C            		LD A,(TRD_5CE5)		; êÄëòàêÖçàÖ îÄâãÄ
(1) 2025/    182E : FE 42               		CP "B"
(1) 2026/    1830 : CA 26 01            		JP Z,WORK4AUTORUN	; éÅêÄÅéíäÄ ëíêéäà ÄÇíéáÄèìëäÄ ÅÖâëàäÄ
(1) 2027/    1833 : C3 E1 03            		JP ERR_OK
(1) 2028/    1836 :                     
(1) 2029/    1836 : CD 7A 18            LOAD_FILE	CALL GET_PARAMS
(1) 2030/    1839 : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 2031/    183C : CD AA 18            		CALL CP_PARAMS
(1) 2032/    183F : C3 22 19            		JP RD_FILE
(1) 2033/    1842 :                     
(1) 2034/    1842 : 2A 5D 5C            GET_LOAD_CODE	LD HL,(CH_ADD)
(1) 2035/    1845 : 23                  		INC HL
(1) 2036/    1846 : 7E                  		LD A,(HL)
(1) 2037/    1847 : FE 0D               		CP 0X0D
(1) 2038/    1849 : C8                  		RET Z
(1) 2039/    184A : 3E 01               		LD A,1
(1) 2040/    184C : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 2041/    184F : CD E4 1D            		CALL INPUT_PARAMS
(1) 2042/    1852 : AF                  ZERO2HIGH_ERR	XOR A
(1) 2043/    1853 : 32 10 5D            		LD (TRD_5D10),A		; ëíÄêòàâ ÅÄâí éòàÅäà
(1) 2044/    1856 : C9                  		RET
(1) 2045/    1857 :                     
(1) 2046/    1857 : CD D9 0F            SUB_1857	CALL INPUT_EXTFILENAME	; èêàÖå êÄëòàêÖçàü îÄâãÄ
(1) 2047/    185A : 3E 42               		LD A,"B"
(1) 2048/    185C : B8                  		CP B
(1) 2049/    185D : 20 07               		JR NZ,LOC_1866
(1) 2050/    185F : 2A 5D 5C            		LD HL,(CH_ADD)
(1) 2051/    1862 : 2B                  		DEC HL
(1) 2052/    1863 : 22 5D 5C            		LD (CH_ADD),HL
(1) 2053/    1866 : CD E4 1D            LOC_1866	CALL INPUT_PARAMS
(1) 2054/    1869 : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2055/    186C : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2056/    186F :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2057/    186F : 2A DB 5C            		LD HL,(TRD_5CDB)
(1) 2058/    1872 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2059/    1875 : AF                  		XOR A
(1) 2060/    1876 : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 2061/    1879 : C9                  		RET
(1) 2062/    187A :                     
(1) 2063/    187A : CD 2D 04            GET_PARAMS	CALL CP_SECOND_SYM
(1) 2064/    187D : CA 7B 02            		JP Z,LOC_27B
(1) 2065/    1880 : CD D8 1D            		CALL SET_AND_PUT
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 68 - 12/15/2013 13:00:27


(1) 2066/    1883 : CD 7B 05            		CALL CP_HIGH_ERR
(1) 2067/    1886 : C4 57 18            		CALL NZ,SUB_1857
(1) 2068/    1889 : CD 8C 1D            		CALL GET_SYMSTR
(1) 2069/    188C : FE AF               		CP 0XAF
(1) 2070/    188E : CC 42 18            		CALL Z,GET_LOAD_CODE
(1) 2071/    1891 : FE E4               		CP 0XE4
(1) 2072/    1893 : F5                  		PUSH AF
(1) 2073/    1894 : CD 7B 05            		CALL CP_HIGH_ERR
(1) 2074/    1897 : CC D9 0F            		CALL Z,INPUT_EXTFILENAME; èêàÖå êÄëòàêÖçàü îÄâãÄ
(1) 2075/    189A : F1                  		POP AF
(1) 2076/    189B : CC FA 1B            		CALL Z,READ_MASSIV
(1) 2077/    189E : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 2078/    18A1 : CD 2F 29            		CALL FIND_FILE		; èéàëä	îÄâãÄ èé àåÖçà
(1) 2079/    18A4 : C2 D9 03            FIND_RD_HEAD	JP NZ,ERR_NOFILES
(1) 2080/    18A7 : C3 4F 16            		JP RD_HEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 2081/    18AA :                     
(1) 2082/    18AA : 3A D6 5C            CP_PARAMS	LD A,(TRD_5CD6)
(1) 2083/    18AD : B7                  		OR A
(1) 2084/    18AE : 2A E6 5C            		LD HL,(TRD_5CE6)		;ÄÑêÖë áÄÉêìáäà àá éèàëÄíÖãü îÄâãÄ
(1) 2085/    18B1 : 28 03               		JR Z,LOC_18B7
(1) 2086/    18B3 : 2A D9 5C            		LD HL,(TRD_5CD9)		;ÄÑêÖë áÄÉêìáäà àá äéåÄçÑçéâ ëíêéäà
(1) 2087/    18B6 : 22 C6 5C            LOC_18B7	LD (TRD_5CC6),HL
(1) 2088/    18B9 : ED 5B EB 5C         		LD DE,(TRD_5CEB)		;íêÖä à ëÖäíéê åÖëíéèéãéÜÖçàü îÄâãÄ
(1) 2089/    18BD : FE 03               		CP 3
(1) 2090/    18BF : 3A EA 5C            		LD A,(TRD_5CEA)			;ÑãàçÄ îÄâãÄ Ç ëÖäíéêÄï
(1) 2091/    18C2 : D5                  		PUSH DE
(1) 2092/    18C3 : ED 5B E8 5C         		LD DE,(TRD_5CE8)		;ÑãàçÄ èêéÉêÄååõ àá éèàëÄíÖãü
(1) 2093/    18C7 : 20 04               		JR NZ,LOC_18CB
(1) 2094/    18C9 : ED 5B DB 5C         		LD DE,(TRD_5CDB)		;ÑãàçÄ îÄâãÄ Ñãü áÄÉêìáäà àáäéåÄçÑçéâ ëíêéäà
(1) 2095/    18CD : 47                  LOC_18CB	LD B,A
(1) 2096/    18CE : ED 53 DB 5C         		LD (TRD_5CDB),DE
(1) 2097/    18D2 : 3A E5 5C            		LD A,(TRD_5CE5)			;êÄëòàêÖçàÖ îÄâãÄ
(1) 2098/    18D5 : FE 43               		CP "C"
(1) 2099/    18D7 : 78                  		LD A,B
(1) 2100/    18D8 : 20 24               		JR NZ,LOC_18FD
(1) 2101/    18DA : 78                  		LD A,B
(1) 2102/    18DB : BA                  		CP D
(1) 2103/    18DC : 28 19               		JR Z,LOC_18F6
(1) 2104/    18DE : 3D                  		DEC A
(1) 2105/    18DF : BA                  		CP D
(1) 2106/    18E0 : 78                  		LD A,B
(1) 2107/    18E1 : 28 14               		JR Z,LOC_18F6
(1) 2108/    18E3 : 3A D6 5C            		LD A,(TRD_5CD6)		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 2109/    18E6 : FE 03               		CP 3
(1) 2110/    18E8 : 78                  		LD A,B
(1) 2111/    18E9 : 28 0C               		JR Z,LOC_18F6
(1) 2112/    18EB : AF                  		XOR A
(1) 2113/    18EC : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 2114/    18EF : 50                  		LD D,B
(1) 2115/    18F0 : 5F                  		LD E,A
(1) 2116/    18F1 : ED 53 DB 5C         		LD (TRD_5CDB),DE
(1) 2117/    18F5 : 18 03               		JR LOC_18F9
(1) 2118/    18F7 :                     
(1) 2119/    18F7 : CD 1C 19            LOC_18F6	CALL LOAD_FULLFILE
(1) 2120/    18FA : 78                  LOC_18F9	LD A,B
(1) 2121/    18FB : CD A5 1E            		CALL KOLWO_SECS
(1) 2122/    18FE : 47                  LOC_18FD	LD B,A
(1) 2123/    18FF : 3A E5 5C            		LD A,(TRD_5CE5)		; êÄëòàêÖçàÖ îÄâãÄ
(1) 2124/    1902 : FE 43               		CP "C"
(1) 2125/    1904 : D1                  		POP DE
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 69 - 12/15/2013 13:00:27


(1) 2126/    1905 : C8                  		RET Z
(1) 2127/    1906 : D5                  		PUSH DE
(1) 2128/    1907 : FE 42               		CP "B"
(1) 2129/    1909 : F5                  		PUSH AF
(1) 2130/    190A : CC 02 1A            		CALL Z,LOAD4BASIC
(1) 2131/    190D : F1                  		POP AF
(1) 2132/    190E : FE 44               		CP "D"
(1) 2133/    1910 : CC 4D 1A            		CALL Z,LOAD4DATA
(1) 2134/    1913 : CD 1C 19            		CALL LOAD_FULLFILE
(1) 2135/    1916 : 3A DC 5C            		LD A,(TRD_5CDC)
(1) 2136/    1919 : 47                  		LD B,A
(1) 2137/    191A : D1                  		POP DE
(1) 2138/    191B : C9                  		RET
(1) 2139/    191C :                     
(1) 2140/    191C : 3E 03               LOAD_FULLFILE	LD A,3
(1) 2141/    191E : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 2142/    1921 : C9                  		RET
(1) 2143/    1922 :                     
(1) 2144/    1922 : CD 7B 05            RD_FILE		CALL CP_HIGH_ERR
(1) 2145/    1925 : 28 07               		JR Z,LOC_192D
(1) 2146/    1927 : F5                  		PUSH AF
(1) 2147/    1928 : CD 95 1A            		CALL NUM_SEC_FILE
(1) 2148/    192B : F1                  		POP AF
(1) 2149/    192C : FE FF               		CP 0XFF
(1) 2150/    192E : F5                  LOC_192D	PUSH AF
(1) 2151/    192F : CC 5D 19            		CALL Z,RD_SECTORS
(1) 2152/    1932 : F1                  		POP AF
(1) 2153/    1933 : 28 03               		JR Z,LOC_1937
(1) 2154/    1935 : C3 62 1E            		JP COM_06
(1) 2155/    1938 :                     
(1) 2156/    1938 : 3A D6 5C            LOC_1937	LD A,(TRD_5CD6)		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 2157/    193B : FE 03               		CP 3
(1) 2158/    193D : CC 47 19            		CALL Z,RD_OR_VERIFY
(1) 2159/    1940 : 2A 59 5C            		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 2160/    1943 : 2B                  		DEC HL
(1) 2161/    1944 : 36 80               		LD (HL),0X80
(1) 2162/    1946 : C9                  		RET
(1) 2163/    1947 :                     
(1) 2164/    1947 : 3A F9 5C            RD_OR_VERIFY	LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 2165/    194A : FE FF               		CP 0XFF
(1) 2166/    194C : C2 DE 2F            		JP NZ,LOAD_END_FILE
(1) 2167/    194F : 3A DB 5C            		LD A,(TRD_5CDB)
(1) 2168/    1952 : B7                  		OR A
(1) 2169/    1953 : C8                  		RET Z
(1) 2170/    1954 : 4F                  		LD C,A
(1) 2171/    1955 : 06 01               		LD B,1
(1) 2172/    1957 : ED 5B F4 5C         		LD DE,(TRD_5CF4)
(1) 2173/    195B : 18 0E               		JR LOC_196A
(1) 2174/    195D :                     
(1) 2175/    195D : 3A F9 5C            RD_SECTORS	LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 2176/    1960 : FE FF               		CP 0XFF
(1) 2177/    1962 : C2 52 1E            		JP NZ,COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1) 2178/    1965 : ED 53 F4 5C         		LD (TRD_5CF4),DE
(1) 2179/    1969 : 0E 00               		LD C,0
(1) 2180/    196B : 78                  LOC_196A	LD A,B
(1) 2181/    196C : B7                  		OR A
(1) 2182/    196D : C8                  		RET Z
(1) 2183/    196E : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2184/    1971 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2185/    1971 : ED 53 D9 5C         		LD (TRD_5CD9),DE	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 70 - 12/15/2013 13:00:27


(1) 2186/    1975 : C5                  LOC_1974	PUSH BC
(1) 2187/    1976 : 06 01               		LD B,1
(1) 2188/    1978 : ED 5B D9 5C         		LD DE,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2189/    197C : 21 25 5D            		LD HL,TRD_5D25
(1) 2190/    197F : CD 52 1E            		CALL COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1) 2191/    1982 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 2192/    1985 : 22 D9 5C            		LD (TRD_5CD9), HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2193/    1988 : C1                  		POP BC
(1) 2194/    1989 : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2195/    198C :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2196/    198C : 11 25 5D            		LD DE,TRD_5D25
(1) 2197/    198F : 1A                  LOC_198E	LD A,(DE)
(1) 2198/    1990 : BE                  		CP (HL)
(1) 2199/    1991 : 20 0B               		JR NZ,LOC_199D
(1) 2200/    1993 : 23                  		INC HL
(1) 2201/    1994 : 13                  		INC DE
(1) 2202/    1995 : 0D                  		DEC C
(1) 2203/    1996 : 20 F7               		JR NZ,LOC_198E
(1) 2204/    1998 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2205/    199B :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2206/    199B : 10 D8               		DJNZ LOC_1974
(1) 2207/    199D : C9                  		RET
(1) 2208/    199E :                     
(1) 2209/    199E : 21 6A 27            LOC_199D	LD HL,ASC_276B		; "VERIFY ERROR."
(1) 2210/    19A1 : 3E 0D               		LD A,0X0D
(1) 2211/    19A3 : C3 48 1C            		JP PRINT_TXTERR
(1) 2212/    19A6 :                     
(1) 2213/    19A6 : 3E FF               PEEK		LD A,0XFF
(1) 2214/    19A8 : 18 02               		JR LOC_19AB
(1) 2215/    19AA :                     
(1) 2216/    19AA : 3E EE               POKE		LD A,0XEE
(1) 2217/    19AC : 32 10 5D            LOC_19AB	LD (TRD_5D10),A		; ëíÄêòàâ ÅÄâí éòàÅäà
(1) 2218/    19AF : C3 18 18            		JP LOC_1818
(1) 2219/    19B2 :                     
(1) 2220/    19B2 : 3E FF               MERGE		LD A,0XFF
(1) 2221/    19B4 : 32 1F 5D            		LD (TRD_5D1F),A
(1) 2222/    19B7 : CD 7A 18            		CALL GET_PARAMS
(1) 2223/    19BA : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 2224/    19BD : 3A E5 5C            		LD A,(TRD_5CE5)		; êÄëòàêÖçàÖ îÄâãÄ
(1) 2225/    19C0 : FE 42               		CP "B"
(1) 2226/    19C2 : C2 17 1D            		JP NZ,SINTAX_ERROR
(1) 2227/    19C5 : ED 4B E6 5C         		LD BC,(TRD_5CE6)	; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 2228/    19C9 : ED 43 DB 5C         		LD (TRD_5CDB), BC
(1) 2229/    19CD : C5                  		PUSH BC
(1) 2230/    19CE : 03                  		INC BC
(1) 2231/    19CF : E7                  		RST 0X20
(1) 2232/    19D0 : 30 00               		DW 0X30			; ëéáÑÄçàÖ ëÇéÅéÑçéÉé åÖëíÄ
(1) 2233/    19D2 : 36 80               		LD (HL),0X80
(1) 2234/    19D4 : EB                  		EX DE,HL
(1) 2235/    19D5 : D1                  		POP DE
(1) 2236/    19D6 : E5                  		PUSH HL
(1) 2237/    19D7 : ED 5B EB 5C         		LD DE,(TRD_5CEB)	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 2238/    19DB : CD 1C 19            		CALL LOAD_FULLFILE
(1) 2239/    19DE : 3A DC 5C            		LD A,(TRD_5CDC)
(1) 2240/    19E1 : 47                  		LD B,A
(1) 2241/    19E2 : CD 52 18            		CALL ZERO2HIGH_ERR
(1) 2242/    19E5 : CD 22 19            		CALL RD_FILE
(1) 2243/    19E8 : E1                  		POP HL
(1) 2244/    19E9 : ED 5B 53 5C         		LD DE,(PROG)
(1) 2245/    19ED : E7                  		RST 0X20
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 71 - 12/15/2013 13:00:27


(1) 2246/    19EE : D2 08               		DW 0X08D2		; êÄÅéíÄ ëé ëíêéäÄåà èêéÉêÄååõ çÄ ÅÖâëàäÖ
(1) 2247/    19F0 : C3 E1 03            		JP ERR_OK
(1) 2248/    19F3 :                     
(1) 2249/    19F3 : EB                  CP_FREE4PROG	EX DE,HL
(1) 2250/    19F4 : 37                  		SCF
(1) 2251/    19F5 : ED 52               		SBC HL,DE
(1) 2252/    19F7 : D8                  		RET C
(1) 2253/    19F8 : 11 0A 00            		LD DE,0X0A
(1) 2254/    19FB : 19                  		ADD HL,DE
(1) 2255/    19FC : 44                  		LD B,H
(1) 2256/    19FD : 4D                  		LD C,L
(1) 2257/    19FE : E7                  CP_FREE_RAM	RST 0X20
(1) 2258/    19FF : 05 1F               		DW 0X1F05		; èêéÇÖêäÄ ëÇéÅéÑçéâ èÄåüíà
(1) 2259/    1A01 : C9                  		RET
(1) 2260/    1A02 :                     
(1) 2261/    1A02 : ED 5B 53 5C         LOAD4BASIC	LD DE,(PROG)
(1) 2262/    1A06 : 2A 59 5C            		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 2263/    1A09 : 2B                  		DEC HL
(1) 2264/    1A0A : E5                  		PUSH HL
(1) 2265/    1A0B : D5                  		PUSH DE
(1) 2266/    1A0C : ED 52               		SBC HL,DE
(1) 2267/    1A0E : ED 5B E6 5C         		LD DE,(TRD_5CE6)	; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 2268/    1A12 : D5                  		PUSH DE
(1) 2269/    1A13 : E5                  		PUSH HL
(1) 2270/    1A14 : 21 00 00            		LD HL,0
(1) 2271/    1A17 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 2272/    1A1A : FE FF               		CP 0XFF
(1) 2273/    1A1C : 28 03               		JR Z,LOC_1A20
(1) 2274/    1A1E : 21 05 00            		LD HL,5
(1) 2275/    1A21 : 19                  LOC_1A20	ADD HL,DE
(1) 2276/    1A22 : 22 DB 5C            		LD (TRD_5CDB),HL
(1) 2277/    1A25 : E1                  		POP HL
(1) 2278/    1A26 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 2279/    1A29 : FE FF               		CP 0XFF
(1) 2280/    1A2B : 20 05               		JR NZ,LOC_1A31
(1) 2281/    1A2D : D1                  		POP DE
(1) 2282/    1A2E : D1                  		POP DE
(1) 2283/    1A2F : E1                  		POP HL
(1) 2284/    1A30 : 18 17               		JR LOC_1A48
(1) 2285/    1A32 :                     
(1) 2286/    1A32 : CD F3 19            LOC_1A31	CALL CP_FREE4PROG
(1) 2287/    1A35 : C1                  		POP BC
(1) 2288/    1A36 : D1                  		POP DE
(1) 2289/    1A37 : E1                  		POP HL
(1) 2290/    1A38 : C5                  		PUSH BC
(1) 2291/    1A39 : E7                  		RST 0X20
(1) 2292/    1A3A : E5 19               		DW 0X19E5		; ÇéëëíÄçéÇãÖçàÖ
(1) 2293/    1A3C : C1                  		POP BC
(1) 2294/    1A3D : CD 2A 1E            		CALL RESERV_RAM
(1) 2295/    1A40 : 23                  		INC HL
(1) 2296/    1A41 : ED 4B E8 5C         		LD BC,(TRD_5CE8)	; ÑãàçÄ	èêéÉêÄååõ
(1) 2297/    1A45 : 09                  		ADD HL,BC
(1) 2298/    1A46 : 22 4B 5C            		LD (VARS),HL
(1) 2299/    1A49 : 2A 53 5C            LOC_1A48	LD HL,(PROG)
(1) 2300/    1A4C : C9                  		RET
(1) 2301/    1A4D :                     
(1) 2302/    1A4D : ED 5B E8 5C         LOAD4DATA	LD DE,(TRD_5CE8)	; ÑãàçÄ	èêéÉêÄååõ
(1) 2303/    1A51 : ED 53 DB 5C         		LD (TRD_5CDB),DE
(1) 2304/    1A55 : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2305/    1A58 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 72 - 12/15/2013 13:00:27


(1) 2306/    1A58 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 2307/    1A5B : FE FF               		CP 0XFF
(1) 2308/    1A5D : C8                  		RET Z
(1) 2309/    1A5E : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2310/    1A61 : E5                  		PUSH HL
(1) 2311/    1A62 : CD F3 19            		CALL CP_FREE4PROG
(1) 2312/    1A65 : E1                  		POP HL
(1) 2313/    1A66 : 7C                  		LD A,H
(1) 2314/    1A67 : B5                  		OR L
(1) 2315/    1A68 : 28 10               		JR Z,LOC_1A79
(1) 2316/    1A6A : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2317/    1A6D :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2318/    1A6D : 2B                  		DEC HL
(1) 2319/    1A6E : 2B                  		DEC HL
(1) 2320/    1A6F : 2B                  		DEC HL
(1) 2321/    1A70 : ED 4B D9 5C         		LD BC,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2322/    1A74 : 03                  		INC BC
(1) 2323/    1A75 : 03                  		INC BC
(1) 2324/    1A76 : 03                  		INC BC
(1) 2325/    1A77 : CD 26 1E            		CALL DEL_WORKRAM
(1) 2326/    1A7A : 2A 59 5C            LOC_1A79	LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 2327/    1A7D : 2B                  		DEC HL
(1) 2328/    1A7E : ED 4B E8 5C         		LD BC,(TRD_5CE8)	; ÑãàçÄ	èêéÉêÄååõ
(1) 2329/    1A82 : C5                  		PUSH BC
(1) 2330/    1A83 : 03                  		INC BC
(1) 2331/    1A84 : 03                  		INC BC
(1) 2332/    1A85 : 03                  		INC BC
(1) 2333/    1A86 : CD 2A 1E            		CALL RESERV_RAM
(1) 2334/    1A89 : 23                  		INC HL
(1) 2335/    1A8A : 3A D2 5C            		LD A,(TRD_5CD2)
(1) 2336/    1A8D : 77                  		LD (HL),A
(1) 2337/    1A8E : 23                  		INC HL
(1) 2338/    1A8F : D1                  		POP DE
(1) 2339/    1A90 : 73                  		LD (HL),E
(1) 2340/    1A91 : 23                  		INC HL
(1) 2341/    1A92 : 72                  		LD (HL),D
(1) 2342/    1A93 : 23                  		INC HL
(1) 2343/    1A94 : C9                  		RET
(1) 2344/    1A95 :                     
(1) 2345/    1A95 : 3A D9 5C            NUM_SEC_FILE	LD A,(TRD_5CD9)		; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2346/    1A98 : 48                  		LD C,B
(1) 2347/    1A99 : 47                  		LD B,A
(1) 2348/    1A9A : 79                  		LD A,C
(1) 2349/    1A9B : B8                  		CP B
(1) 2350/    1A9C : 38 19               		JR C,LOC_1AB6
(1) 2351/    1A9E : 78                  		LD A,B
(1) 2352/    1A9F : B7                  		OR A
(1) 2353/    1AA0 : CA 17 1D            		JP Z,SINTAX_ERROR
(1) 2354/    1AA3 : 05                  		DEC B
(1) 2355/    1AA4 : 28 0B               		JR Z,LOC_1AB0
(1) 2356/    1AA6 : 3E 10               		LD A,0X10
(1) 2357/    1AA8 : 1C                  LOC_1AA7	INC E
(1) 2358/    1AA9 : BB                  		CP E
(1) 2359/    1AAA : 20 03               		JR NZ,LOC_1AAE
(1) 2360/    1AAC : 1E 00               		LD E,0
(1) 2361/    1AAE : 14                  		INC D
(1) 2362/    1AAF : 10 F7               LOC_1AAE	DJNZ LOC_1AA7
(1) 2363/    1AB1 : 06 01               LOC_1AB0	LD B,1
(1) 2364/    1AB3 : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2365/    1AB6 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 73 - 12/15/2013 13:00:27


(1) 2366/    1AB6 : C9                  		RET
(1) 2367/    1AB7 :                     
(1) 2368/    1AB7 : 21 ED 29            LOC_1AB6	LD HL,TXT_R_O
(1) 2369/    1ABA : 3E 05               		LD A,5
(1) 2370/    1ABC : C3 48 1C            		JP PRINT_TXTERR
(1) 2371/    1ABF :                     
(1) 2372/    1ABF : CD 2F 29            CP_FILE_FREE	CALL FIND_FILE		; èéàëä	îÄâãÄ èé àåÖçà
(1) 2373/    1AC2 : CA 4E 1C            		JP Z,FILE_EXISTS
(1) 2374/    1AC5 : CD FD 03            CP_FREE_ON_DSK	CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1) 2375/    1AC8 : 3A 09 5E            		LD A,(TRD_5E09)
(1) 2376/    1ACB : FE 80               		CP 0X80
(1) 2377/    1ACD : CA ED 26            		JP Z,ERR_DIRFULL
(1) 2378/    1AD0 : C9                  		RET
(1) 2379/    1AD1 :                     
(1) 2380/    1AD1 : CD 52 18            SAVE		CALL ZERO2HIGH_ERR
(1) 2381/    1AD4 : 21 00 00            		LD HL,0
(1) 2382/    1AD7 : 22 D1 5C            		LD (TRD_5CD1),HL
(1) 2383/    1ADA : CD D8 1D            		CALL SET_AND_PUT
(1) 2384/    1ADD : CD 8C 1D            		CALL GET_SYMSTR
(1) 2385/    1AE0 : FE AF               		CP 0XAF			;CODE
(1) 2386/    1AE2 : 28 56               		JR Z,LOC_1B39
(1) 2387/    1AE4 : FE CA               		CP 0XCA			;LINE
(1) 2388/    1AE6 : 20 11               		JR NZ,LOC_1AF8
(1) 2389/    1AE8 : CD 03 1E            		CALL SET_NUM_CHAN
(1) 2390/    1AEB : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 2391/    1AEE : 2A DB 5C            		LD HL,(TRD_5CDB)
(1) 2392/    1AF1 : 22 D1 5C            		LD (TRD_5CD1),HL
(1) 2393/    1AF4 : 21 E5 5C            		LD HL,TRD_5CE5		; êÄëòàêÖçàÖ îÄâãÄ
(1) 2394/    1AF7 : 18 27               		JR LOC_1B1F
(1) 2395/    1AF9 :                     
(1) 2396/    1AF9 : FE AA               LOC_1AF8	CP 0XAA
(1) 2397/    1AFB : 20 11               		JR NZ,LOC_1B0D
(1) 2398/    1AFD : 21 00 40            		LD HL,0X4000
(1) 2399/    1B00 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2400/    1B03 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2401/    1B03 : 21 00 1B            		LD HL,0X1B00
(1) 2402/    1B06 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2403/    1B09 : 22 DB 5C            		LD (TRD_5CDB),HL
(1) 2404/    1B0C : 18 3B               		JR LOC_1B48
(1) 2405/    1B0E :                     
(1) 2406/    1B0E : CD 75 1D            LOC_1B0D	CALL EXIT_IF_SINTAX
(1) 2407/    1B11 : CD 8C 1D            		CALL GET_SYMSTR
(1) 2408/    1B14 : 21 E5 5C            		LD HL,TRD_5CE5		; êÄëòàêÖçàÖ îÄâãÄ
(1) 2409/    1B17 : FE E4               		CP 0XE4			;DATA
(1) 2410/    1B19 : 28 12               		JR Z,LOC_1B2C
(1) 2411/    1B1B : FE 0D               		CP 0X0D
(1) 2412/    1B1D : C2 17 1D            		JP NZ, SINTAX_ERROR
(1) 2413/    1B20 : 36 42               LOC_1B1F	LD (HL),"B"
(1) 2414/    1B22 : CD BF 1A            		CALL CP_FILE_FREE
(1) 2415/    1B25 : CD 14 1E            		CALL DEL_5BYTES
(1) 2416/    1B28 : CD DC 1B            LOC_1B27	CALL SET_START_SIZE
(1) 2417/    1B2B : 18 27               		JR LOC_1B53
(1) 2418/    1B2D :                     
(1) 2419/    1B2D : 36 44               LOC_1B2C	LD (HL),"D"
(1) 2420/    1B2F : CD BF 1A            		CALL CP_FILE_FREE
(1) 2421/    1B32 : CD 0D 1C            		CALL CP_MASSIV
(1) 2422/    1B35 : 30 1D               		JR NC,LOC_1B53
(1) 2423/    1B37 : DA 17 1D            		JP C,SINTAX_ERROR
(1) 2424/    1B3A : CD DE 1D            LOC_1B39	CALL GET_START_SIZE
(1) 2425/    1B3D : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 74 - 12/15/2013 13:00:27


(1) 2426/    1B40 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2427/    1B43 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2428/    1B43 : 2A DB 5C            		LD HL,(TRD_5CDB)
(1) 2429/    1B46 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2430/    1B49 : CD 75 1D            LOC_1B48	CALL EXIT_IF_SINTAX
(1) 2431/    1B4C : 3E 43               		LD A,"C"
(1) 2432/    1B4E : 32 E5 5C            		LD (TRD_5CE5),A		; êÄëòàêÖçàÖ îÄâãÄ
(1) 2433/    1B51 : CD BF 1A            		CALL CP_FILE_FREE
(1) 2434/    1B54 : CD 5A 1B            LOC_1B53	CALL SAVE_FILE
(1) 2435/    1B57 : C3 72 05            		JP LOC_569
(1) 2436/    1B5A :                     
(1) 2437/    1B5A : 2A D7 5C            SAVE_FILE	LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2438/    1B5D :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2439/    1B5D : 22 E6 5C            		LD (TRD_5CE6),HL	; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 2440/    1B60 : EB                  		EX DE,HL
(1) 2441/    1B61 : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2442/    1B64 : 7D                  		LD A,L
(1) 2443/    1B65 : B4                  		OR H
(1) 2444/    1B66 : CA 17 1D            		JP Z,SINTAX_ERROR
(1) 2445/    1B69 : 7D                  		LD A,L
(1) 2446/    1B6A : B7                  		OR A
(1) 2447/    1B6B : 28 01               		JR Z,LOC_1B6D
(1) 2448/    1B6D : 24                  		INC H
(1) 2449/    1B6E : 7C                  LOC_1B6D	LD A,H
(1) 2450/    1B6F : 32 EA 5C            		LD (TRD_5CEA),A		; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 2451/    1B72 : 5F                  		LD E,A
(1) 2452/    1B73 : 16 00               		LD D,0
(1) 2453/    1B75 : 2A 0A 5E            		LD HL,(TRD_5E0A)
(1) 2454/    1B78 : ED 52               		SBC HL,DE
(1) 2455/    1B7A : DA 43 1C            		JP C,LOC_1C45
(1) 2456/    1B7D : E5                  		PUSH HL
(1) 2457/    1B7E : 2A 59 5C            		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 2458/    1B81 : 36 AA               		LD (HL),0XAA
(1) 2459/    1B83 : 23                  		INC HL
(1) 2460/    1B84 : ED 5B D1 5C         		LD DE,(TRD_5CD1)
(1) 2461/    1B88 : 73                  		LD (HL),E
(1) 2462/    1B89 : 23                  		INC HL
(1) 2463/    1B8A : 72                  		LD (HL),D
(1) 2464/    1B8B : 2A DB 5C            		LD HL, (TRD_5CDB)
(1) 2465/    1B8E : 22 E8 5C            		LD (TRD_5CE8),HL	; ÑãàçÄ	èêéÉêÄååõ
(1) 2466/    1B91 : 2A 06 5E            		LD HL,(TRD_5E06)
(1) 2467/    1B94 : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 2468/    1B97 : EB                  		EX DE,HL
(1) 2469/    1B98 : 2A E6 5C            		LD HL,(TRD_5CE6)	; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 2470/    1B9B : 3A EA 5C            		LD A,(TRD_5CEA)		; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 2471/    1B9E : 47                  		LD B,A
(1) 2472/    1B9F : CD 62 1E            		CALL COM_06
(1) 2473/    1BA2 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 2474/    1BA5 : E5                  		PUSH HL
(1) 2475/    1BA6 : CD FD 03            		CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1) 2476/    1BA9 : E1                  		POP HL
(1) 2477/    1BAA : 22 06 5E            		LD (TRD_5E06),HL
(1) 2478/    1BAD : E1                  		POP HL
(1) 2479/    1BAE : 22 0A 5E            		LD (TRD_5E0A),HL
(1) 2480/    1BB1 : 21 09 5E            		LD HL,TRD_5E09
(1) 2481/    1BB4 : 7E                  		LD A,(HL)
(1) 2482/    1BB5 : 32 1E 5D            		LD (TRD_5D1E),A
(1) 2483/    1BB8 : 34                  		INC (HL)
(1) 2484/    1BB9 : E5                  		PUSH HL
(1) 2485/    1BBA : CD 58 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 75 - 12/15/2013 13:00:27


(1) 2486/    1BBD : E1                  		POP HL
(1) 2487/    1BBE : 4E                  		LD C,(HL)
(1) 2488/    1BBF : 0D                  		DEC C
(1) 2489/    1BC0 : 3A E5 5C            		LD A,(TRD_5CE5)		; êÄëòàêÖçàÖ îÄâãÄ
(1) 2490/    1BC3 : FE 42               		CP "B"
(1) 2491/    1BC5 : C0                  		RET NZ
(1) 2492/    1BC6 :                     
(1) 2493/    1BC6 : 2A 59 5C            SET_HEAD_STSZ	LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 2494/    1BC9 : ED 5B 53 5C         		LD DE,(PROG)
(1) 2495/    1BCD : 37                  		SCF
(1) 2496/    1BCE : ED 52               		SBC HL,DE
(1) 2497/    1BD0 : 22 E6 5C            		LD (TRD_5CE6),HL	; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 2498/    1BD3 : 2A 4B 5C            		LD HL,(VARS)
(1) 2499/    1BD6 : ED 52               		SBC HL,DE
(1) 2500/    1BD8 : 22 E8 5C            		LD (TRD_5CE8),HL	; ÑãàçÄ	èêéÉêÄååõ
(1) 2501/    1BDB : C9                  		RET
(1) 2502/    1BDC :                     
(1) 2503/    1BDC : 2A 4B 5C            SET_START_SIZE	LD HL,(VARS)
(1) 2504/    1BDF : ED 5B 53 5C         		LD DE,(PROG)
(1) 2505/    1BE3 : ED 52               		SBC HL,DE
(1) 2506/    1BE5 : 22 DB 5C            		LD (TRD_5CDB),HL
(1) 2507/    1BE8 : 2A 53 5C            		LD HL,(PROG)
(1) 2508/    1BEB : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2509/    1BEE :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2510/    1BEE : 2A 59 5C            		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 2511/    1BF1 : 23                  		INC HL
(1) 2512/    1BF2 : 23                  		INC HL
(1) 2513/    1BF3 : 23                  		INC HL
(1) 2514/    1BF4 : ED 52               		SBC HL,DE
(1) 2515/    1BF6 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2516/    1BF9 : C9                  		RET
(1) 2517/    1BFA :                     
(1) 2518/    1BFA : CD 19 1C            READ_MASSIV	CALL FIND_MASSIV
(1) 2519/    1BFD : D0                  		RET NC
(1) 2520/    1BFE : 21 00 00            		LD HL,0
(1) 2521/    1C01 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2522/    1C04 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 2523/    1C07 : FE FF               		CP 0XFF
(1) 2524/    1C09 : C0                  		RET NZ
(1) 2525/    1C0A : C3 11 1C            		JP LOC_1C13
(1) 2526/    1C0D :                     
(1) 2527/    1C0D : CD 19 1C            CP_MASSIV	CALL FIND_MASSIV
(1) 2528/    1C10 : D0                  		RET NC
(1) 2529/    1C11 : 3E 0E               LOC_1C13	LD A,0X0E
(1) 2530/    1C13 : 21 DA 27            		LD HL,ASC_27DD		; "ARRAY NOT FOUND"
(1) 2531/    1C16 : C3 48 1C            		JP PRINT_TXTERR
(1) 2532/    1C19 :                     
(1) 2533/    1C19 : CD 22 1E            FIND_MASSIV	CALL GET_NEXT_SYM
(1) 2534/    1C1C : CD 9B 1D            		CALL LOOK_VARS
(1) 2535/    1C1F : CB F9               		SET 7,C
(1) 2536/    1C21 : 79                  		LD A,C
(1) 2537/    1C22 : 32 D2 5C            		LD (TRD_5CD2),A
(1) 2538/    1C25 : 30 02               		JR NC,LOC_1C2B
(1) 2539/    1C27 : 37                  LOC_1C29	SCF
(1) 2540/    1C28 : C9                  		RET
(1) 2541/    1C29 :                     
(1) 2542/    1C29 : 20 FC               LOC_1C2B	JR NZ,LOC_1C29
(1) 2543/    1C2B : 23                  		INC HL
(1) 2544/    1C2C : 5E                  		LD E,(HL)
(1) 2545/    1C2D : 23                  		INC HL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 76 - 12/15/2013 13:00:27


(1) 2546/    1C2E : 56                  		LD D,(HL)
(1) 2547/    1C2F : 23                  		INC HL
(1) 2548/    1C30 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2549/    1C33 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2550/    1C33 : ED 53 DB 5C         		LD (TRD_5CDB),DE
(1) 2551/    1C37 : ED 53 D9 5C         		LD (TRD_5CD9),DE	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2552/    1C3B : CD 22 1E            		CALL GET_NEXT_SYM
(1) 2553/    1C3E : FE 29               		CP ")"
(1) 2554/    1C40 : 20 E7               		JR NZ,LOC_1C2B
(1) 2555/    1C42 : C9                  		RET
(1) 2556/    1C43 :                     
(1) 2557/    1C43 : 21 BB 29            LOC_1C45	LD HL,TXT_NOSPACE_
(1) 2558/    1C46 : 3E 03               		LD A,3
(1) 2559/    1C48 : CD C3 03            PRINT_TXTERR	CALL PRINT_ERROR	; èÖóÄíú ëééÅôÖçàü éÅ éòàÅäÖ
(1) 2560/    1C4B : C3 CA 01            		JP END_COMAND
(1) 2561/    1C4E :                     
(1) 2562/    1C4E : 21 C5 29            FILE_EXISTS	LD HL,TXT_FILEEXISTS_
(1) 2563/    1C51 : 3E 02               		LD A,2
(1) 2564/    1C53 : 18 F3               		JR PRINT_TXTERR
(1) 2565/    1C55 :                     
(1) 2566/    1C55 : (MACRO)             		DUPL 0X1C57+4-$,0XFF
(1) 2566/    1C55 :                     DUPL:
(1) 2566/    1C55 : =0H                 $$N             EQU (0X1C57+4-$) / 1024
(1) 2566/    1C55 : =6H                 $$M             EQU (0X1C57+4-$) # 1024
(1) 2566/    1C55 :                                     REPT $$N
(1) 2566/    1C55 :                                     DB 1024 DUP(0XFF)
(1) 2566/    1C55 :                                     ENDM
(1) 2566/    1C55 : =>TRUE                              IF $$M <> 0
(1) 2566/    1C55 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
(1) 2566/    1C5B : [2566]                              ENDIF
(1) 2567/    1C5B : 21 DD 5C            SET_FILENAME	LD HL,TRD_5CDD		; àåü îÄâãÄ
(1) 2568/    1C5E : 06 08               		LD B,8
(1) 2569/    1C60 : 36 20               LOC_1C5C	LD (HL)," "
(1) 2570/    1C62 : 23                  		INC HL
(1) 2571/    1C63 : 10 FB               		DJNZ LOC_1C5C
(1) 2572/    1C65 : CD 35 05            		CALL CP_ON_STKBOT
(1) 2573/    1C68 : EB                  		EX DE,HL
(1) 2574/    1C69 : CD 80 1C            		CALL SETUP_DSK
(1) 2575/    1C6C : 79                  		LD A,C
(1) 2576/    1C6D : FE 09               		CP 9
(1) 2577/    1C6F : 38 02               		JR C,LOC_1C73
(1) 2578/    1C71 : 0E 08               		LD C,8
(1) 2579/    1C73 : 7E                  LOC_1C73	LD A,(HL)
(1) 2580/    1C74 : FE 20               		CP " "
(1) 2581/    1C76 : DA 17 1D            		JP C,SINTAX_ERROR
(1) 2582/    1C79 : 11 DD 5C            		LD DE,TRD_5CDD		; àåü îÄâãÄ
(1) 2583/    1C7C : C5                  		PUSH BC
(1) 2584/    1C7D : C3 49 36            		JP EMU_LDIR_RBC
(1) 2585/    1C80 :                     
(1) 2586/    1C80 :                     ;ÇõÅéê ÑàëäÄ Ñãü îéêåÄíàêéÇÄçàü
(1) 2587/    1C80 : 23                  SETUP_DSK	INC HL
(1) 2588/    1C81 : 7E                  		LD A,(HL)		;Çíéêéâ ëàåÇéã Ç äÄÇõóäÄï
(1) 2589/    1C82 : FE 3A               		CP ":"			;Öëãà çÖ ":", íé
(1) 2590/    1C84 : 20 0D               		JR NZ,LOC_1C98		;èÖêÖïéÑ çÄ ÇõÅéê íÖäìôÖÉé ÑàëäéÇéÑÄ
(1) 2591/    1C86 : 2B                  		DEC HL
(1) 2592/    1C87 : 7E                  		LD A,(HL)		;àçÄóÖ áÄÅàêÄÖå àá ëíêéäà ÅìäÇì ÑàëäéÇéÑÄ
(1) 2593/    1C88 : CD 28 05            		CALL NUMDSK2BYTE	;ìëíÄçéÇäÄ ÑàëäéÇéÑÄ çÄ äéíéêéå ÅìÑÖí îéêåÄíàêéÇÄçàÖ
(1) 2594/    1C8B : CD 97 1C            		CALL LOC_1C9C		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1) 2595/    1C8E : 0B                  		DEC BC
(1) 2596/    1C8F : 0B                  		DEC BC			;èêéèìëäÄÖå àåü ÑàëäéÇéÑÄ Ç àåÖçà ÑàëäÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 77 - 12/15/2013 13:00:27


(1) 2597/    1C90 : 23                  		INC HL
(1) 2598/    1C91 : 23                  		INC HL			;ëÑÇàçìãà ìäÄáÄíÖãú Ç ÇÇÖÑÖççéâ ëíêéäÖ çÄ çÄóÄãé àåÖçà ÑàëäÄ
(1) 2599/    1C92 : C9                  		RET
(1) 2600/    1C93 :                     
(1) 2601/    1C93 : 2B                  LOC_1C98	DEC HL
(1) 2602/    1C94 : 3A 19 5D            		LD A,(TRD_5D19)		; ÑàëäéÇéÑ èé ìåéãóÄçàû
(1) 2603/    1C97 : C5                  LOC_1C9C	PUSH BC
(1) 2604/    1C98 : E5                  		PUSH HL
(1) 2605/    1C99 : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1) 2606/    1C9C : E1                  		POP HL
(1) 2607/    1C9D : C1                  		POP BC
(1) 2608/    1C9E : C9                  		RET
(1) 2609/    1C9F :                     
(1) 2610/    1C9F : 69                  FIND_HEAD_BUF	LD L,C
(1) 2611/    1CA0 : 26 00               		LD H,0
(1) 2612/    1CA2 : 29                  		ADD HL,HL
(1) 2613/    1CA3 : 29                  		ADD HL,HL
(1) 2614/    1CA4 : 29                  		ADD HL,HL
(1) 2615/    1CA5 : 29                  		ADD HL,HL
(1) 2616/    1CA6 : 01 25 5D            		LD BC,TRD_5D25
(1) 2617/    1CA9 : 09                  		ADD HL,BC
(1) 2618/    1CAA : C9                  		RET
(1) 2619/    1CAB :                     
(1) 2620/    1CAB : CD 5B 1C            SET_CP_FILENAME	CALL SET_FILENAME
(1) 2621/    1CAE :                     ; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 2622/    1CAE : CD E8 03            FIND_FILENAME	CALL RD_0SEC2BUF	; óíÖçàÖ ëÖäíéêÄ 0 äÄíÄãéÉÄ
(1) 2623/    1CB1 : 01 00 80            		LD BC,0X8000
(1) 2624/    1CB4 : C5                  LOC_1CBA	PUSH BC
(1) 2625/    1CB5 : CD 9F 1C            		CALL FIND_HEAD_BUF
(1) 2626/    1CB8 : CD 10 05            		CALL CP_END_BUF
(1) 2627/    1CBB : C1                  		POP BC
(1) 2628/    1CBC : C5                  		PUSH BC
(1) 2629/    1CBD : 79                  		LD A,C
(1) 2630/    1CBE : FE 10               		CP 0X10
(1) 2631/    1CC0 : 20 05               		JR NZ,LOC_1CCD
(1) 2632/    1CC2 : C1                  		POP BC
(1) 2633/    1CC3 : 0E 00               		LD C,0
(1) 2634/    1CC5 : 18 ED               		JR LOC_1CBA
(1) 2635/    1CC7 :                     
(1) 2636/    1CC7 : 11 DD 5C            LOC_1CCD	LD DE,TRD_5CDD		; àåü îÄâãÄ
(1) 2637/    1CCA : 3A 06 5D            		LD A,(TRD_5D06)		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1) 2638/    1CCD : 47                  		LD B,A
(1) 2639/    1CCE : AF                  		XOR A
(1) 2640/    1CCF : BE                  		CP (HL)
(1) 2641/    1CD0 : 20 03               		JR NZ,LOC_1CDB
(1) 2642/    1CD2 : C1                  		POP BC
(1) 2643/    1CD3 : 18 09               		JR LOC_1CE4
(1) 2644/    1CD5 :                     
(1) 2645/    1CD5 : CD DD 26            LOC_1CDB	CALL COMPARE_B_SYM
(1) 2646/    1CD8 : C1                  		POP BC
(1) 2647/    1CD9 : 28 06               		JR Z,LOC_1CE7
(1) 2648/    1CDB : 0C                  		INC C
(1) 2649/    1CDC : 10 D6               		DJNZ LOC_1CBA
(1) 2650/    1CDE : F6 FF               LOC_1CE4	OR 0XFF
(1) 2651/    1CE0 : C9                  		RET
(1) 2652/    1CE1 :                     
(1) 2653/    1CE1 : 3E 80               LOC_1CE7	LD A,0X80
(1) 2654/    1CE3 : 90                  		SUB B
(1) 2655/    1CE4 : 4F                  		LD C,A
(1) 2656/    1CE5 : 32 1E 5D            		LD (TRD_5D1E),A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 78 - 12/15/2013 13:00:27


(1) 2657/    1CE8 : AF                  		XOR A
(1) 2658/    1CE9 : C9                  		RET
(1) 2659/    1CEA :                     
(1) 2660/    1CEA :                     ;èéàëä îÄâãÄ èé àåÖçà à êÄëòàêÖçàû
(1) 2661/    1CEA : CD AE 1C            COM_0A		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 2662/    1CED : 21 0F 5D            		LD HL,TRD_5D0F		; çéåÖê	éòàÅäà TR-DOS
(1) 2663/    1CF0 : 71                  		LD (HL),C
(1) 2664/    1CF1 : C8                  		RET Z
(1) 2665/    1CF2 : 36 FF               		LD (HL),0XFF
(1) 2666/    1CF4 : C9                  		RET
(1) 2667/    1CF5 :                     
(1) 2668/    1CF5 : CD 75 1D            RETURN		CALL EXIT_IF_SINTAX
(1) 2669/    1CF8 : CD E6 20            		CALL DELETE_BUF
(1) 2670/    1CFB : CD F4 20            		CALL CLRBUF_EDITOR
(1) 2671/    1CFE : FD CB 01 9E         		RES 3,(IY+1)
(1) 2672/    1D02 : CD 32 02            		CALL RESTORE_SP		; ÇéëëíÄçéÇãÖçàÖ èÖêÖïÇÄíóàäÄ éòàÅéä
(1) 2673/    1D05 : ED 7B 1C 5D         		LD SP,(TRD_5D1C)	; ëéïêÄçÖçàÖ êÖÉàëíêÄ SP
(1) 2674/    1D09 : D9                  		EXX		;LD HL,(ERR_SP)
(1) 2675/    1D0A : 21 58 27            		LD HL,0X2758	;DEC HL
(1) 2676/    1D0D : D9                  		EXX		;LD A,0X12
(1) 2677/    1D0E : 2B                  		DEC HL		;CP (HL)
(1) 2678/    1D0F : 3E 12               		LD A,0X12	;JR NZ,LOCRET_1D19
(1) 2679/    1D11 : BE                  		CP (HL)		;DEC HL
(1) 2680/    1D12 : C0                  		RET NZ		;LD (ERR_SP),HL
(1) 2681/    1D13 : 2B                  		DEC HL		;LOCRET_1D19	RET
(1) 2682/    1D14 : C3 35 02            		JP LOC_0235
(1) 2683/    1D17 :                     
(1) 2684/    1D17 : FD CB 00 7E         SINTAX_ERROR	BIT 7,(IY+0)
(1) 2685/    1D1B : 28 05               		JR Z,LOC_1D25
(1) 2686/    1D1D : 3E 0B               		LD A,0X0B
(1) 2687/    1D1F : 32 3A 5C            		LD (ERR_NR),A
(1) 2688/    1D22 : 3C                  LOC_1D25	INC A
(1) 2689/    1D23 : 21 B2 29            		LD HL,TXT_ERROR_
(1) 2690/    1D26 : CD C3 03            LOC_1D29	CALL PRINT_ERROR	; èÖóÄíú ëééÅôÖçàü éÅ éòàÅäÖ
(1) 2691/    1D29 : C3 CA 01            		JP END_COMAND
(1) 2692/    1D2C :                     
(1) 2693/    1D2C : 3A 3A 5C            LOC_1D2F	LD A,(ERR_NR)
(1) 2694/    1D2F : 21 C7 27            		LD HL,ASC_27CA		; "*BREAK*"
(1) 2695/    1D32 : FE 14               		CP 0X14
(1) 2696/    1D34 : 28 F0               		JR Z,LOC_1D29
(1) 2697/    1D36 : FE 0C               		CP 0X0C
(1) 2698/    1D38 : 28 EC               		JR Z,LOC_1D29
(1) 2699/    1D3A : 21 CF 27            		LD HL,ASC_27D2		; "OUT OF RAM"
(1) 2700/    1D3D : FE 03               		CP 3
(1) 2701/    1D3F : 28 E5               		JR Z,LOC_1D29
(1) 2702/    1D41 : 21 DA 27            		LD HL,ASC_27DD		; "ARRAY NOT FOUND"
(1) 2703/    1D44 : FE 01               		CP 1
(1) 2704/    1D46 : 28 DE               		JR Z,LOC_1D29
(1) 2705/    1D48 : 18 CD               		JR SINTAX_ERROR
(1) 2706/    1D4A :                     
(1) 2707/    1D4A : CD 52 18            RUN		CALL ZERO2HIGH_ERR
(1) 2708/    1D4D : CD 36 18            		CALL LOAD_FILE
(1) 2709/    1D50 : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 2710/    1D53 : 3A E5 5C            		LD A,(TRD_5CE5)		; êÄëòàêÖçàÖ îÄâãÄ
(1) 2711/    1D56 : FE 42               		CP "B"
(1) 2712/    1D58 : CA 26 01            		JP Z,WORK4AUTORUN	; éÅêÄÅéíäÄ ëíêéäà ÄÇíéáÄèìëäÄ ÅÖâëàäÄ
(1) 2713/    1D5B : FE 43               		CP "C"
(1) 2714/    1D5D : C2 17 1D            		JP NZ,SINTAX_ERROR
(1) 2715/    1D60 : C3 3D 1E            		JP RUNCODE
(1) 2716/    1D63 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 79 - 12/15/2013 13:00:27


(1) 2717/    1D63 : 21 0E 5D            CLEAR_WORKSPACE	LD HL,TRD_5D0E		; #FF-êÄÅéíÄÖí BASIC,àçÄóÖ TR-DOS
(1) 2718/    1D66 : 7E                  		LD A,(HL)
(1) 2719/    1D67 : FE FF               LOC_1D67	CP 0XFF
(1) 2720/    1D69 : 36 00               		LD (HL),0
(1) 2721/    1D6B : C0                  		RET NZ
(1) 2722/    1D6C : E7                  		RST 0X20
(1) 2723/    1D6D : BF 16               		DW 0X16BF		; éóàëíäÄ êÄÅéóÖâ éÅãÄëíà à ëíÖäÄ äÄãúäìãüíéêÄ
(1) 2724/    1D6F : C9                  		RET
(1) 2725/    1D70 :                     
(1) 2726/    1D70 : FD CB 01 7E         CP_SINTAX	BIT 7,(IY+1)
(1) 2727/    1D74 : C9                  		RET
(1) 2728/    1D75 :                     
(1) 2729/    1D75 : CD 70 1D            EXIT_IF_SINTAX	CALL CP_SINTAX
(1) 2730/    1D78 : C0                  		RET NZ
(1) 2731/    1D79 : E1                  		POP HL
(1) 2732/    1D7A : C9                  		RET
(1) 2733/    1D7B :                     
(1) 2734/    1D7B :                     ; áÄçÖëÖçàÖ óàëãÄ çÄ ëíÖä äÄãúäìãüíéêÄ
(1) 2735/    1D7B : CD 22 1E            CHISLO2STKBOT	CALL GET_NEXT_SYM
(1) 2736/    1D7E : CD B6 1D            		CALL BC2STKBOT
(1) 2737/    1D81 : 18 ED               		JR CP_SINTAX
(1) 2738/    1D83 :                     
(1) 2739/    1D83 :                     ; éíäêõíàÖ äÄçÄãÄ 0
(1) 2740/    1D83 : AF                  OPEN_CHAN_0	XOR A
(1) 2741/    1D84 : E7                  OPENSTREAM	RST 0X20
(1) 2742/    1D85 : 01 16               		DW 0X1601		; éíäêõíàÖ äÄçÄãÄ
(1) 2743/    1D87 : C9                  		RET
(1) 2744/    1D88 :                     
(1) 2745/    1D88 :                     ; éíäêõíàÖ äÄçÄãÄ 2
(1) 2746/    1D88 : 3E 02               OPEN_CHAN_2	LD A,2
(1) 2747/    1D8A : 18 F8               		JR OPENSTREAM
(1) 2748/    1D8C :                     
(1) 2749/    1D8C : E7                  GET_SYMSTR	RST 0X20
(1) 2750/    1D8D : 18 00               		DW 0X18			; ÇõÅéêäÄ ëàåÇéãÄ àá (CH_ADD)
(1) 2751/    1D8F : C9                  		RET
(1) 2752/    1D90 :                     
(1) 2753/    1D90 : CD 83 1D            CALL2BASEDIT	CALL OPEN_CHAN_0	; éíäêõíàÖ äÄçÄãÄ 0
(1) 2754/    1D93 : E7                  		RST 0X20
(1) 2755/    1D94 : 2C 0F               		DW 0X0F2C		; êÖÑÄäíéê äéåÄçÑçéâ ëíêéäà
(1) 2756/    1D96 : C9                  		RET
(1) 2757/    1D97 :                     
(1) 2758/    1D97 :                     ; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1) 2759/    1D97 : E7                  CLEAR_SCREEN	RST 0X20
(1) 2760/    1D98 : 6B 0D               		DW 0X0D6B		; éóàëíäÄ ùäêÄçÄ
(1) 2761/    1D9A : C9                  		RET
(1) 2762/    1D9B :                     
(1) 2763/    1D9B : E7                  LOOK_VARS	RST 0X20
(1) 2764/    1D9C : B2 28               		DW 0X28B2		; LOOK-VARS. îàÉ áçÄÖí óÖ ÑÖãÄÖí
(1) 2765/    1D9E : C9                  		RET
(1) 2766/    1D9F :                     
(1) 2767/    1D9F :                     ; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1) 2768/    1D9F : E7                  CLEAR_DOWN_SCR	RST 0X20
(1) 2769/    1DA0 : 6E 0D               		DW 0X0D6E		; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1) 2770/    1DA2 : C9                  		RET
(1) 2771/    1DA3 :                     
(1) 2772/    1DA3 : 4F                  PRINT_CHISLO_A_	LD C,A
(1) 2773/    1DA4 : 06 00               CONV2_2BYTES	LD B,0
(1) 2774/    1DA6 :                     
(1) 2775/    1DA6 : E7                  PRINT_CHISLO	RST 0X20
(1) 2776/    1DA7 : 1B 1A               		DW 0X1A1B		; èÖóÄíú ëééÅôÖçàâ à çéåÖêéÇ ëíêéä
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 80 - 12/15/2013 13:00:27


(1) 2777/    1DA9 : C9                  		RET
(1) 2778/    1DAA :                     
(1) 2779/    1DAA : E7                  GET_STKBOT_	RST 0X20
(1) 2780/    1DAB : F1 2B               		DW 0X2BF1		; óíÖçàÖ ÑçÄ ëíÖäÄ äÄãúäìãüíéêÄ
(1) 2781/    1DAD : C9                  		RET
(1) 2782/    1DAE :                     
(1) 2783/    1DAE : E7                  FIND_LAST	RST 0X20
(1) 2784/    1DAF : 99 1E               		DW 0X1E99		; èéàëä	èéëãÖÑçÖÉé ñÖãéÉé óàëãÄ
(1) 2785/    1DB1 : C9                  		RET
(1) 2786/    1DB2 :                     
(1) 2787/    1DB2 : E7                  PUT_NUMDSK_STK	RST 0X20
(1) 2788/    1DB3 : 8C 1C               		DW 0X1C8C
(1) 2789/    1DB5 : C9                  		RET
(1) 2790/    1DB6 :                     
(1) 2791/    1DB6 : E7                  BC2STKBOT	RST 0X20
(1) 2792/    1DB7 : 82 1C               		DW 0X1C82
(1) 2793/    1DB9 : C9                  		RET
(1) 2794/    1DBA :                     
(1) 2795/    1DBA : 3E 0D               PRINT_0D	LD A,0X0D
(1) 2796/    1DBC : E7                  PRINT_A_	RST 0X20
(1) 2797/    1DBD : 10 00               		DW 0X10
(1) 2798/    1DBF : C9                  		RET
(1) 2799/    1DC0 :                     
(1) 2800/    1DC0 : 2A 11 5D            SET_CH_ADD	LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 2801/    1DC3 : 23                  		INC HL
(1) 2802/    1DC4 : 22 5D 5C            		LD (CH_ADD), HL
(1) 2803/    1DC7 : C9                  		RET
(1) 2804/    1DC8 :                     
(1) 2805/    1DC8 :                     INPUT_2STR2STKBOT
(1) 2806/    1DC8 : CD D8 1D            		CALL SET_AND_PUT
(1) 2807/    1DCB : CD 8C 1D            LOC_1DD0	CALL GET_SYMSTR
(1) 2808/    1DCE : FE 2C               		CP ","
(1) 2809/    1DD0 : C2 17 1D            		JP NZ,SINTAX_ERROR
(1) 2810/    1DD3 : CD 22 1E            		CALL GET_NEXT_SYM
(1) 2811/    1DD6 : 18 DA               		JR PUT_NUMDSK_STK
(1) 2812/    1DD8 :                     
(1) 2813/    1DD8 : CD C0 1D            SET_AND_PUT	CALL SET_CH_ADD
(1) 2814/    1DDB : C3 B2 1D            		JP PUT_NUMDSK_STK
(1) 2815/    1DDE :                     
(1) 2816/    1DDE : CD 8C 1D            GET_START_SIZE	CALL GET_SYMSTR
(1) 2817/    1DE1 : FE AF               		CP 0XAF
(1) 2818/    1DE3 : C0                  		RET NZ
(1) 2819/    1DE4 : CD 7B 1D            INPUT_PARAMS	CALL CHISLO2STKBOT	; áÄçÖëÖçàÖ óàëãÄ çÄ ëíÖä äÄãúäìãüíéêÄ
(1) 2820/    1DE7 : 28 0B               		JR Z,LOC_1DFB
(1) 2821/    1DE9 : CD AE 1D            		CALL FIND_LAST
(1) 2822/    1DEC : ED 43 D9 5C         		LD (TRD_5CD9),BC	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2823/    1DF0 : ED 43 DB 5C         		LD (TRD_5CDB),BC
(1) 2824/    1DF4 : CD 8C 1D            LOC_1DFB	CALL GET_SYMSTR
(1) 2825/    1DF7 : FE 2C               		CP ","
(1) 2826/    1DF9 : 28 08               		JR Z,SET_NUM_CHAN
(1) 2827/    1DFB : FE 0D               		CP 0X0D
(1) 2828/    1DFD : C2 17 1D            		JP NZ,SINTAX_ERROR
(1) 2829/    1E00 : C3 75 1D            		JP EXIT_IF_SINTAX
(1) 2830/    1E03 :                     
(1) 2831/    1E03 : CD 7B 1D            SET_NUM_CHAN	CALL CHISLO2STKBOT	; áÄçÖëÖçàÖ óàëãÄ çÄ ëíÖä äÄãúäìãüíéêÄ
(1) 2832/    1E06 : C8                  		RET Z
(1) 2833/    1E07 : CD AE 1D            		CALL FIND_LAST
(1) 2834/    1E0A : ED 43 DB 5C         		LD (TRD_5CDB),BC
(1) 2835/    1E0E : 3E 03               		LD A,3
(1) 2836/    1E10 : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 81 - 12/15/2013 13:00:27


(1) 2837/    1E13 : C9                  		RET
(1) 2838/    1E14 :                     
(1) 2839/    1E14 : 2A 11 5D            DEL_5BYTES	LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 2840/    1E17 : E7                  		RST 0X20
(1) 2841/    1E18 : A7 11               		DW 0X11A7		; ìÑÄãÖçàÖ àá äéåÄçÑçéâ	ëíPéäà èüíàÅÄâíçõï óàëÖã
(1) 2842/    1E1A : C9                  		RET
(1) 2843/    1E1B :                     
(1) 2844/    1E1B : 2A 61 5C            CREATE_FREERAM	LD HL,(WORKSP)
(1) 2845/    1E1E : E7                  		RST 0X20
(1) 2846/    1E1F : 30 00               		DW 0X30			; ëéáÑÄçàÖ ëÇéÅéÑçéÉé åÖëíÄ
(1) 2847/    1E21 : C9                  		RET
(1) 2848/    1E22 :                     
(1) 2849/    1E22 : E7                  GET_NEXT_SYM	RST 0X20
(1) 2850/    1E23 : 20 00               		DW 0X20			; èÖóÄíú ëãÖÑìûôÖÉé ëàåÇéãÄ
(1) 2851/    1E25 : C9                  		RET
(1) 2852/    1E26 :                     
(1) 2853/    1E26 : E7                  DEL_WORKRAM	RST 0X20
(1) 2854/    1E27 : E8 19               		DW 0X19E8		; ìÑÄãÖçàÖ éÅãÄëíà èÄåüíà
(1) 2855/    1E29 : C9                  		RET
(1) 2856/    1E2A :                     
(1) 2857/    1E2A : E7                  RESERV_RAM	RST 0X20
(1) 2858/    1E2B : 55 16               		DW 0X1655
(1) 2859/    1E2D : C9                  		RET
(1) 2860/    1E2E :                     
(1) 2861/    1E2E : (MACRO)             		DUPL 0X1E36-$,0XFF
(1) 2861/    1E2E :                     DUPL:
(1) 2861/    1E2E : =0H                 $$N             EQU (0X1E36-$) / 1024
(1) 2861/    1E2E : =8H                 $$M             EQU (0X1E36-$) # 1024
(1) 2861/    1E2E :                                     REPT $$N
(1) 2861/    1E2E :                                     DB 1024 DUP(0XFF)
(1) 2861/    1E2E :                                     ENDM
(1) 2861/    1E2E : =>TRUE                              IF $$M <> 0
(1) 2861/    1E2E : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF 
(1) 2861/    1E36 : [2861]                              ENDIF
(1) 2862/    1E36 : CD B2 3E            WR_NUM_TRACK	CALL GET_NUM_TRACK	;FIX
(1) 2863/    1E39 : 7C                  		LD A,H
(1) 2864/    1E3A : =>TRUE              		IF EMU3D2F=1
(1) 2865/    1E3A : D3 4F               		OUT (0X4F),A
(1) 2866/    1E3C : =>FALSE             		ELSE
(1) 2867/    1E3C :                     		OUT (0X3F),A
(1) 2868/    1E3C : [2864]              		ENDIF
(1) 2869/    1E3C : C9                  		RET
(1) 2870/    1E3D :                     
(1) 2871/    1E3D : 21 63 0F            RUNCODE		LD HL,RUN_CODE
(1) 2872/    1E40 : 22 1A 5D            		LD (TRD_5D1A),HL
(1) 2873/    1E43 : C3 CA 01            		JP END_COMAND
(1) 2874/    1E46 :                     
(1) 2875/    1E46 : (MACRO)             		DUPL 0X1E52-$,0XFF
(1) 2875/    1E46 :                     DUPL:
(1) 2875/    1E46 : =0H                 $$N             EQU (0X1E52-$) / 1024
(1) 2875/    1E46 : =CH                 $$M             EQU (0X1E52-$) # 1024
(1) 2875/    1E46 :                                     REPT $$N
(1) 2875/    1E46 :                                     DB 1024 DUP(0XFF)
(1) 2875/    1E46 :                                     ENDM
(1) 2875/    1E46 : =>TRUE                              IF $$M <> 0
(1) 2875/    1E46 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
(1) 2875/    1E52 : [2875]                              ENDIF
(1) 2876/    1E52 :                     ;óíÖçàÖ ëÖäíéêéÇ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 82 - 12/15/2013 13:00:27


(1) 2877/    1E52 : AF                  COM_05		XOR A
(1) 2878/    1E53 : 18 0F               		JR LOC_1E64
(1) 2879/    1E55 :                     
(1) 2880/    1E55 :                     WR_HEAD_FILENAME
(1) 2881/    1E55 : CD 5D 16            		CALL SET_HEAD_FILENAME	; ëéïêÄçÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 2882/    1E58 : ED 5B F4 5C         REWRITE_9SEC	LD DE,(TRD_5CF4)	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 2883/    1E5C : 1B                  		DEC DE
(1) 2884/    1E5D : 06 01               		LD B,1
(1) 2885/    1E5F : 21 25 5D            		LD HL,TRD_5D25
(1) 2886/    1E62 :                     ;áÄèàëú ëÖäíéêéÇ
(1) 2887/    1E62 : 3E FF               COM_06		LD A,0XFF
(1) 2888/    1E64 : 32 CE 5C            LOC_1E64	LD (TRD_5CCE),A		; #00-óíÖçàÖ ëÖäíéêÄ,#FF-áÄèàëú	ëÖäíéêÄ
(1) 2889/    1E67 : ED 53 F4 5C         LOC_1E67	LD (TRD_5CF4),DE
(1) 2890/    1E6B : C5                  		PUSH BC
(1) 2891/    1E6C : E5                  		PUSH HL
(1) 2892/    1E6D : CD 5F 0C            		CALL SV_LD_RAMDISK
(1) 2893/    1E70 : E1                  		POP HL
(1) 2894/    1E71 : C1                  		POP BC
(1) 2895/    1E72 : AF                  		XOR A
(1) 2896/    1E73 : B0                  		OR B
(1) 2897/    1E74 : C8                  		RET Z
(1) 2898/    1E75 : C5                  LOC_1E75	PUSH BC
(1) 2899/    1E76 : E5                  		PUSH HL
(1) 2900/    1E77 : CD 06 3F            		CALL COM_04
(1) 2901/    1E7A : 3A F4 5C            		LD A,(TRD_5CF4)
(1) 2902/    1E7D : CD 02 3F            		CALL COM_03
(1) 2903/    1E80 : 3A F5 5C            		LD A,(TRD_5CF5)
(1) 2904/    1E83 : CD 63 3E            		CALL COM_02
(1) 2905/    1E86 : 3A CE 5C            		LD A,(TRD_5CCE)		; #00-óíÖçàÖ ëÖäíéêÄ,#FF-áÄèàëú	ëÖäíéêÄ
(1) 2906/    1E89 : B7                  		OR A
(1) 2907/    1E8A : F5                  		PUSH AF
(1) 2908/    1E8B : CC 0E 3F            		CALL Z,LOAD_SECTOR
(1) 2909/    1E8E : F1                  		POP AF
(1) 2910/    1E8F : C4 0A 3F            		CALL NZ,SAVE_SECTOR
(1) 2911/    1E92 : 3E 10               		LD A,0X10
(1) 2912/    1E94 : 21 F4 5C            		LD HL,TRD_5CF4
(1) 2913/    1E97 : 34                  		INC (HL)
(1) 2914/    1E98 : BE                  		CP (HL)
(1) 2915/    1E99 : 20 04               		JR NZ,LOC_1EA7
(1) 2916/    1E9B : 36 00               		LD (HL),0
(1) 2917/    1E9D : 23                  		INC HL
(1) 2918/    1E9E : 34                  		INC (HL)
(1) 2919/    1E9F : E1                  LOC_1EA7	POP HL
(1) 2920/    1EA0 : C1                  		POP BC
(1) 2921/    1EA1 : 24                  		INC H
(1) 2922/    1EA2 : 10 D1               		DJNZ LOC_1E75
(1) 2923/    1EA4 : C9                  		RET
(1) 2924/    1EA5 :                     
(1) 2925/    1EA5 : E5                  KOLWO_SECS	PUSH HL
(1) 2926/    1EA6 : 67                  		LD H,A
(1) 2927/    1EA7 : 2E 00               		LD L,0
(1) 2928/    1EA9 : E5                  		PUSH HL
(1) 2929/    1EAA : ED 52               		SBC HL,DE
(1) 2930/    1EAC : DC B5 1E            		CALL C,LOAD_FILLFILE
(1) 2931/    1EAF : E1                  		POP HL
(1) 2932/    1EB0 : 7C                  		LD A,H
(1) 2933/    1EB1 : E1                  		POP HL
(1) 2934/    1EB2 : D8                  		RET C
(1) 2935/    1EB3 : 7A                  		LD A,D
(1) 2936/    1EB4 : C9                  		RET
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 83 - 12/15/2013 13:00:27


(1) 2937/    1EB5 :                     
(1) 2938/    1EB5 : AF                  LOAD_FILLFILE	XOR A
(1) 2939/    1EB6 : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 2940/    1EB9 : 37                  		SCF
(1) 2941/    1EBA : C9                  		RET
(1) 2942/    1EBB :                     
(1) 2943/    1EBB : 21 FF FF            FORMAT		LD HL,0XFFFF
(1) 2944/    1EBE : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2945/    1EC1 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2946/    1EC1 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2947/    1EC4 : 22 D1 5C            		LD (TRD_5CD1),HL
(1) 2948/    1EC7 : CD 2D 04            		CALL CP_SECOND_SYM
(1) 2949/    1ECA : CA 17 1D            		JP Z,SINTAX_ERROR
(1) 2950/    1ECD : CD D8 1D            		CALL SET_AND_PUT
(1) 2951/    1ED0 : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 2952/    1ED3 : CD 5B 1C            		CALL SET_FILENAME
(1) 2953/    1ED6 : CD 48 0E            		CALL FORMAT_RAM
(1) 2954/    1ED9 : 28 2C               		JR Z,END_FORMAT
(1) 2955/    1EDB : 3E 50               		LD A,0X50
(1) 2956/    1EDD : 32 D7 5C            LOC_1EE8	LD (TRD_5CD7),A		; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2957/    1EE0 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2958/    1EE0 : CD 98 3D            		CALL COM_00
(1) 2959/    1EE3 : CD F6 1F            		CALL COM_17
(1) 2960/    1EE6 : CD A0 3E            		CALL PAUSE_3_C_A
(1) 2961/    1EE9 : 1E 01               		LD E,1
(1) 2962/    1EEB : CD FD 1F            		CALL FORMAT_TREK
(1) 2963/    1EEE : CD EB 1F            		CALL COM_16
(1) 2964/    1EF1 : 1E 00               		LD E,0
(1) 2965/    1EF3 : CD FD 1F            		CALL FORMAT_TREK
(1) 2966/    1EF6 : CD F6 1F            		CALL COM_17
(1) 2967/    1EF9 : CD A0 3E            		CALL PAUSE_3_C_A
(1) 2968/    1EFC : CD B5 3E            		CALL LOC_3EB5
(1) 2969/    1EFF : 3E 80               		LD A,0X80
(1) 2970/    1F01 : 32 DA 5C            		LD (TRD_5CDA),A
(1) 2971/    1F04 : CD BD 20            LOC_1F1B	CALL FORMAT_DISK
(1) 2972/    1F07 : CD 2A 0E            END_FORMAT	CALL CP_TYPEDRIVE
(1) 2973/    1F0A : CC A7 0E            		CALL Z,CREATE_TRDTABL
(1) 2974/    1F0D : CD 9F 1D            		CALL CLEAR_DOWN_SCR
(1) 2975/    1F10 : 21 25 5D            		LD HL,TRD_5D25
(1) 2976/    1F13 : 11 26 5D            		LD DE,TRD_5D26
(1) 2977/    1F16 : 01 FF 00            		LD BC,0XFF
(1) 2978/    1F19 : 70                  		LD (HL),B
(1) 2979/    1F1A : ED B0               		LDIR
(1) 2980/    1F1C : 3E 16               		LD A,0X16
(1) 2981/    1F1E : 21 F0 09            		LD HL,0X9F0
(1) 2982/    1F21 : 32 08 5E            LOC_1F55	LD (TRD_5E08),A
(1) 2983/    1F24 : 22 0A 5E            		LD (TRD_5E0A),HL
(1) 2984/    1F27 : 3E 01               		LD A,1
(1) 2985/    1F29 : 32 07 5E            		LD (TRD_5E07),A
(1) 2986/    1F2C : 3E 10               		LD A,0X10
(1) 2987/    1F2E : 32 0C 5E            		LD (TRD_5E0C),A
(1) 2988/    1F31 : 21 0F 5E            		LD HL,TRD_5E0F
(1) 2989/    1F34 : 11 10 5E            		LD DE,TRD_5E10
(1) 2990/    1F37 : 01 08 00            		LD BC,8
(1) 2991/    1F3A : 36 20               		LD (HL)," "
(1) 2992/    1F3C : ED B0               		LDIR
(1) 2993/    1F3E : 21 DD 5C            		LD HL,TRD_5CDD		; àåü îÄâãÄ
(1) 2994/    1F41 : 11 1A 5E            		LD DE,TRD_5E1A
(1) 2995/    1F44 : 0E 08               		LD C,8
(1) 2996/    1F46 : ED B0               		LDIR			;èÖêÖçéë àåÖçà ÑàëäÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 84 - 12/15/2013 13:00:27


(1) 2997/    1F48 : CD EB 1F            		CALL COM_16
(1) 2998/    1F4B : 06 01               		LD B,1
(1) 2999/    1F4D : 11 08 00            		LD DE,8
(1) 3000/    1F50 : 21 25 5D            		LD HL,TRD_5D25
(1) 3001/    1F53 : CD 62 1E            		CALL COM_06
(1) 3002/    1F56 : 3A D6 5C            		LD A,(TRD_5CD6)		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 3003/    1F59 : F5                  		PUSH AF
(1) 3004/    1F5A : AF                  		XOR A
(1) 3005/    1F5B : 32 E5 5C            		LD (TRD_5CE5),A		; êÄëòàêÖçàÖ îÄâãÄ
(1) 3006/    1F5E : 2A 0A 5E            		LD HL,(TRD_5E0A)
(1) 3007/    1F61 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3008/    1F64 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3009/    1F64 : 21 DD 5C            		LD HL,TRD_5CDD		; àåü îÄâãÄ
(1) 3010/    1F67 : CD B5 0F            		CALL PRINT8SYM
(1) 3011/    1F6A : 3E 0D               		LD A,0X0D
(1) 3012/    1F6C : D7                  		RST 0X10
(1) 3013/    1F6D : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3014/    1F70 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3015/    1F70 : F1                  		POP AF
(1) 3016/    1F71 : E5                  		PUSH HL
(1) 3017/    1F72 : 16 00               		LD D,0
(1) 3018/    1F74 : 5F                  		LD E,A
(1) 3019/    1F75 : ED 52               		SBC HL,DE
(1) 3020/    1F77 : 44                  		LD B,H
(1) 3021/    1F78 : 4D                  		LD C,L
(1) 3022/    1F79 : CD A6 1D            		CALL PRINT_CHISLO	; èÖóÄíú óàëãÄ
(1) 3023/    1F7C : 3E 2F               		LD A,"/"
(1) 3024/    1F7E : D7                  		RST 0X10
(1) 3025/    1F7F : C1                  		POP BC
(1) 3026/    1F80 : CD A6 1D            		CALL PRINT_CHISLO	; èÖóÄíú óàëãÄ
(1) 3027/    1F83 : C3 CA 01            		JP END_COMAND
(1) 3028/    1F86 :                     
(1) 3029/    1F86 :                     ;íÄÅãàñÄ çéåÖêéÇ ëÖäíéêéÇ Ñãü îéêåÄíàêéÇÄçàü
(1) 3030/    1F86 : 01 02 03 04 05 06   TABL_SECTORS	DB 0X01,0X02,0X03,0X04,0X05,0X06,0X07,0X08,0X09,0X0A,0X0B,0X0C,0X0D,0X0E,0X0F,0X10,0X01
                    07 08 09 0A 0B 0C 
                    0D 0E 0F 10 01 
(1) 3031/    1F97 :                     
(1) 3032/    1F97 : (MACRO)             		DUPL 0X1FEB-$,0XFF
(1) 3032/    1F97 :                     DUPL:
(1) 3032/    1F97 : =0H                 $$N             EQU (0X1FEB-$) / 1024
(1) 3032/    1F97 : =54H                $$M             EQU (0X1FEB-$) # 1024
(1) 3032/    1F97 :                                     REPT $$N
(1) 3032/    1F97 :                                     DB 1024 DUP(0XFF)
(1) 3032/    1F97 :                                     ENDM
(1) 3032/    1F97 : =>TRUE                              IF $$M <> 0
(1) 3032/    1F97 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
(1) 3032/    1FEB : [3032]                              ENDIF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 85 - 12/15/2013 13:00:27


(1) 3033/    1FEB :                     ;ìëíÄçéÇäÄ ëíéêéçõ 0 ÑàëäÄ
(1) 3034/    1FEB : 3A 16 5D            COM_16		LD A,(TRD_5D16)		; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí #FF)
(1) 3035/    1FEE : F6 3C               		OR 0X3C
(1) 3036/    1FF0 : 32 16 5D            LOC_1FF0	LD (TRD_5D16),A		; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí #FF)
(1) 3037/    1FF3 : =>TRUE              		IF EMUWRFF
(1) 3038/    1FF3 : F7                  		RST 0X30
(1) 3039/    1FF4 : 04                  		DB WOUTFF
(1) 3040/    1FF5 : =>FALSE             		ELSE
(1) 3041/    1FF5 :                     		OUT (0XFF),A
(1) 3042/    1FF5 : [3037]              		ENDIF
(1) 3043/    1FF5 : C9                  		RET
(1) 3044/    1FF6 :                     
(1) 3045/    1FF6 :                     ;ìëíÄçéÇäÄ ëíéêéçõ 1 ÑàëäÄ
(1) 3046/    1FF6 : 3A 16 5D            COM_17		LD A,(TRD_5D16)		; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí #FF)
(1) 3047/    1FF9 : E6 6F               		AND 0X6F
(1) 3048/    1FFB : 18 F3               		JR LOC_1FF0
(1) 3049/    1FFD :                     
(1) 3050/    1FFD : F3                  FORMAT_TREK	DI
(1) 3051/    1FFE : 3E F4               		LD A,0XF4
(1) 3052/    2000 : =>TRUE              		IF EMU3D2F=1
(1) 3053/    2000 : F7                  		RST 0X30
(1) 3054/    2001 : 00                  		DB WOUT1F
(1) 3055/    2002 : =>FALSE             		ELSE
(1) 3056/    2002 :                     		OUT (0X1F),A
(1) 3057/    2002 : [3052]              		ENDIF		
(1) 3058/    2002 : 21 86 1F            		LD HL,TABL_SECTORS
(1) 3059/    2005 : 0E 7F               		LD C,0X7F
(1) 3060/    2007 : 06 0A               LOC_2007	LD B,0X0A
(1) 3061/    2009 : 16 4E               		LD D,0X4E
(1) 3062/    200B : CD B1 20            		CALL WRITE_C_D_B
(1) 3063/    200E : 06 0C               		LD B,0X0C
(1) 3064/    2010 : 16 00               		LD D,0
(1) 3065/    2012 : CD B1 20            		CALL WRITE_C_D_B
(1) 3066/    2015 : 06 03               		LD B,3
(1) 3067/    2017 : 16 F5               		LD D,0XF5
(1) 3068/    2019 : CD B1 20            		CALL WRITE_C_D_B
(1) 3069/    201C : 16 FE               		LD D,0XFE
(1) 3070/    201E : CD AF 20            		CALL WRITE_C_D_1
(1) 3071/    2021 : 53                  		LD D,E
(1) 3072/    2022 : CD AF 20            		CALL WRITE_C_D_1
(1) 3073/    2025 : 16 00               		LD D,0
(1) 3074/    2027 : CD AF 20            		CALL WRITE_C_D_1
(1) 3075/    202A : 56                  		LD D,(HL)
(1) 3076/    202B : CD AF 20            		CALL WRITE_C_D_1
(1) 3077/    202E : 16 01               		LD D,1
(1) 3078/    2030 : CD AF 20            		CALL WRITE_C_D_1
(1) 3079/    2033 : 16 F7               		LD D,0XF7
(1) 3080/    2035 : CD AF 20            		CALL WRITE_C_D_1
(1) 3081/    2038 : 06 16               		LD B,0X16
(1) 3082/    203A : 16 4E               		LD D,0X4E
(1) 3083/    203C : CD B1 20            		CALL WRITE_C_D_B
(1) 3084/    203F : 06 0C               		LD B,0X0C
(1) 3085/    2041 : 16 00               		LD D,0
(1) 3086/    2043 : CD B1 20            		CALL WRITE_C_D_B
(1) 3087/    2046 : 06 03               		LD B,3
(1) 3088/    2048 : 16 F5               		LD D,0XF5
(1) 3089/    204A : CD B1 20            		CALL WRITE_C_D_B
(1) 3090/    204D : 16 FB               		LD D,0XFB
(1) 3091/    204F : CD AF 20            		CALL WRITE_C_D_1
(1) 3092/    2052 : 06 00               		LD B,0
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 86 - 12/15/2013 13:00:27


(1) 3093/    2054 : 16 00               		LD D,0
(1) 3094/    2056 : CD B1 20            		CALL WRITE_C_D_B
(1) 3095/    2059 : 16 F7               		LD D,0XF7
(1) 3096/    205B : CD AF 20            		CALL WRITE_C_D_1
(1) 3097/    205E : 06 3C               		LD B,0X3C;0X32
(1) 3098/    2060 : 16 4E               		LD D,0X4E
(1) 3099/    2062 : CD B1 20            		CALL WRITE_C_D_B
(1) 3100/    2065 : 7E                  		LD A,(HL)
(1) 3101/    2066 : 23                  		INC HL
(1) 3102/    2067 : FE 10               		CP 0X10
(1) 3103/    2069 : 20 9C               		JR NZ,LOC_2007
(1) 3104/    206B : 06 00               		LD B,0
(1) 3105/    206D : CD B1 20            		CALL WRITE_C_D_B
(1) 3106/    2070 : FA 76 20            		JP M,LOC_2076
(1) 3107/    2073 : CD B1 20            		CALL WRITE_C_D_B
(1) 3108/    2076 : =>TRUE              LOC_2076	IF EMU3D2F=1
(1) 3109/    2076 : F7                  		RST 0X30
(1) 3110/    2077 : 06                  		DB WIN1F
(1) 3111/    2078 : =>FALSE             		ELSE
(1) 3112/    2078 :                     		IN A,(0X1F)
(1) 3113/    2078 : [3108]              		ENDIF
(1) 3114/    2078 : E6 40               		AND 0X40
(1) 3115/    207A : C2 39 3F            		JP NZ,LOC_3F39		; READ ONLY
(1) 3116/    207D : 3A D8 5C            CP_NUM_TRACK	LD A,(TRD_5CD8)		; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3117/    2080 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3118/    2080 : B7                  		OR A
(1) 3119/    2081 : C0                  		RET NZ
(1) 3120/    2082 : 0E 7F               		LD C,0X7F
(1) 3121/    2084 : 7B                  		LD A,E
(1) 3122/    2085 : =>TRUE              		IF EMU3D2F=1
(1) 3123/    2085 : D3 4F               		OUT (0X4F),A
(1) 3124/    2087 : =>FALSE             		ELSE
(1) 3125/    2087 :                     		OUT (0X3F),A
(1) 3126/    2087 : [3122]              		ENDIF
(1) 3127/    2087 : 21 87 1F            		LD HL,TABL_SECTORS+1
(1) 3128/    208A : 06 03               LOC_208A	LD B,3
(1) 3129/    208C : 7E                  		LD A,(HL)
(1) 3130/    208D : =>TRUE              		IF EMU3D2F=1
(1) 3131/    208D : D3 6F               		OUT (0X6F),A
(1) 3132/    208F : =>FALSE             		ELSE
(1) 3133/    208F :                     		OUT (0X5F),A
(1) 3134/    208F : [3130]              		ENDIF
(1) 3135/    208F : E5                  		PUSH HL
(1) 3136/    2090 : F3                  LOC_2090	DI
(1) 3137/    2091 : 3E 80               		LD A,0X80
(1) 3138/    2093 : =>TRUE              		IF EMU3D2F=1
(1) 3139/    2093 : F7                  		RST 0X30
(1) 3140/    2094 : 00                  		DB WOUT1F
(1) 3141/    2095 : =>FALSE             		ELSE
(1) 3142/    2095 :                     		OUT (0X1F),A
(1) 3143/    2095 : [3138]              		ENDIF
(1) 3144/    2095 : C5                  		PUSH BC
(1) 3145/    2096 : CD E5 3F            		CALL RD_DATAPORT
(1) 3146/    2099 : =>TRUE              		IF EMU3D2F=1
(1) 3147/    2099 : F7                  		RST 0X30
(1) 3148/    209A : 06                  		DB WIN1F
(1) 3149/    209B : =>FALSE             		ELSE
(1) 3150/    209B :                     		IN A,(0X1F)
(1) 3151/    209B : [3146]              		ENDIF
(1) 3152/    209B : E6 7F               		AND 0X7F
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 87 - 12/15/2013 13:00:27


(1) 3153/    209D : C1                  		POP BC
(1) 3154/    209E : 28 06               		JR Z,LOC_20A6
(1) 3155/    20A0 : 10 EE               		DJNZ LOC_2090
(1) 3156/    20A2 : 21 D6 5C            		LD HL,TRD_5CD6		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 3157/    20A5 : 34                  		INC (HL)
(1) 3158/    20A6 : E1                  LOC_20A6	POP HL
(1) 3159/    20A7 : 7E                  		LD A,(HL)
(1) 3160/    20A8 : 23                  		INC HL
(1) 3161/    20A9 : FE 01               		CP 1
(1) 3162/    20AB : 20 DD               		JR NZ,LOC_208A
(1) 3163/    20AD : FB                  		EI
(1) 3164/    20AE : C9                  		RET
(1) 3165/    20AF :                     
(1) 3166/    20AF : 06 01               WRITE_C_D_1	LD B,1
(1) 3167/    20B1 : =>TRUE              WRITE_C_D_B	IF EMU3D2F=1
(1) 3168/    20B1 : F7                  		RST 0X30
(1) 3169/    20B2 : 0A                  		DB WINFF
(1) 3170/    20B3 : =>FALSE             		ELSE
(1) 3171/    20B3 :                     		IN A,(0XFF)
(1) 3172/    20B3 : [3167]              		ENDIF
(1) 3173/    20B3 : E6 C0               		AND 0XC0
(1) 3174/    20B5 : 28 FA               		JR Z,WRITE_C_D_B
(1) 3175/    20B7 : F8                  		RET M
(1) 3176/    20B8 : =>TRUE              		IF EMU3D2F=1
(1) 3177/    20B8 : F7                  		RST 0X30
(1) 3178/    20B9 : 0C                  		DB WOUTCD
(1) 3179/    20BA : =>FALSE             		ELSE
(1) 3180/    20BA :                     		OUT (C),D
(1) 3181/    20BA : [3176]              		ENDIF
(1) 3182/    20BA : 10 F5               		DJNZ WRITE_C_D_B
(1) 3183/    20BC : C9                  		RET
(1) 3184/    20BD :                     
(1) 3185/    20BD : 21 D7 5C            FORMAT_DISK	LD HL,TRD_5CD7		; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3186/    20C0 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3187/    20C0 : 46                  		LD B,(HL)
(1) 3188/    20C1 : AF                  		XOR A
(1) 3189/    20C2 : 23                  		INC HL
(1) 3190/    20C3 : 77                  		LD (HL),A
(1) 3191/    20C4 : 1E FF               		LD E,0XFF
(1) 3192/    20C6 : C5                  LOC_20C6	PUSH BC
(1) 3193/    20C7 : 1C                  		INC E
(1) 3194/    20C8 : 7B                  		LD A,E
(1) 3195/    20C9 : 06 18               		LD B,0X18;B
(1) 3196/    20CB : CD 44 3E            		CALL HEAD_POSITION
(1) 3197/    20CE : CD EB 1F            		CALL COM_16
(1) 3198/    20D1 : A7                  		AND A
(1) 3199/    20D2 : CD 7A 0F            		CALL PRINT_NUM_TRK
(1) 3200/    20D5 : CD FD 1F            		CALL FORMAT_TREK
(1) 3201/    20D8 : CD F6 1F            		CALL COM_17
(1) 3202/    20DB : 37                  		SCF
(1) 3203/    20DC : CD 7A 0F            		CALL PRINT_NUM_TRK
(1) 3204/    20DF : CD FD 1F            		CALL FORMAT_TREK
(1) 3205/    20E2 : C1                  LOC_20E1	POP BC
(1) 3206/    20E3 : 10 E1               		DJNZ LOC_20C6
(1) 3207/    20E5 : C9                  		RET
(1) 3208/    20E6 :                     
(1) 3209/    20E6 : F5                  DELETE_BUF	PUSH AF
(1) 3210/    20E7 : 3A F8 5C            		LD A,(TRD_5CF8)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 3211/    20EA : FE FF               		CP 0XFF
(1) 3212/    20EC : 28 04               		JR Z,LOC_211C
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 88 - 12/15/2013 13:00:27


(1) 3213/    20EE : F1                  		POP AF
(1) 3214/    20EF : C3 6F 29            		JP DEL_BUF
(1) 3215/    20F2 :                     
(1) 3216/    20F2 : F1                  LOC_211C	POP AF
(1) 3217/    20F3 : C9                  		RET
(1) 3218/    20F4 :                     
(1) 3219/    20F4 :                     ;ìÑÄãÖçàÖ ÇÇÖÑÖççéâ ëíêéäà èéëãÖ ÇõèéãçÖçàü äéåÄçÑõ
(1) 3220/    20F4 : 2A 5B 5C            CLRBUF_EDITOR	LD HL,(K_CUR)
(1) 3221/    20F7 : ED 5B 59 5C         		LD DE,(E_LINE)
(1) 3222/    20FB : E7                  		RST 0X20
(1) 3223/    20FC : E5 19               		DW 0X19E5
(1) 3224/    20FE : E7                  		RST 0X20
(1) 3225/    20FF : BF 16               		DW 0X16BF
(1) 3226/    2101 : 2A 59 5C            		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 3227/    2104 : 36 0D               		LD (HL),0X0D
(1) 3228/    2106 : 22 5B 5C            		LD (K_CUR),HL
(1) 3229/    2109 : 23                  		INC HL
(1) 3230/    210A : 36 80               		LD (HL),0X80
(1) 3231/    210C : C9                  		RET
(1) 3232/    210D :                     
(1) 3233/    210D :                     ;ÇéëëíÄçéÇãÖçàÖ ÇÇÖÑÖçéâ ëíêéäà Ç ÅìîÖêÖ êÖÑÄäíéêÄ
(1) 3234/    210D : ED 5B 59 5C         RESTORE_COMSTR	LD DE,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 3235/    2111 : 21 20 5D            		LD HL,TRD_5D20		; Ñãü ëéïêÄçÖçàü 3 ëàåÇéãéÇ ÇÇÖÑÖçéâ ëíêéäà
(1) 3236/    2114 : C3 AF 02            		JP LDI3_HL2DE		; èÖêÖçéë 3 ÅÄâí
(1) 3237/    2117 :                     
(1) 3238/    2117 :                     ; èêàçüíàÖ à éÅêÄÅéíäÄ äéåÄçÑ
(1) 3239/    2117 : 3A 0F 5D            GET_COMMAND	LD A,(TRD_5D0F)		; çéåÖê	éòàÅäà TR-DOS
(1) 3240/    211A : A7                  		AND A
(1) 3241/    211B : F5                  		PUSH AF
(1) 3242/    211C : C4 0D 21            		CALL NZ,RESTORE_COMSTR	;Öëãà ÅõãÄ éòàÅäÄ, íé ÇéáÇêÄôÄÖå 3 ëéïêÄççÖçõï ÅÄâíÄ
(1) 3243/    211F : F1                  		POP AF
(1) 3244/    2120 : CC F4 20            		CALL Z,CLRBUF_EDITOR	;Öëãà éòàÅäà çÖ Åõãé, íé éóàëíäÄ ÅìîÖêÄ ëíêéäà êÖÑÄäíàêéÇÄçàü
(1) 3245/    2123 : 2A 59 5C            		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 3246/    2126 : CD BA 1D            		CALL PRINT_0D
(1) 3247/    2129 : 3A 19 5D            		LD A,(TRD_5D19)		; ÑàëäéÇéÑ èé ìåéãóÄçàû
(1) 3248/    212C : CD 5E 36            		CALL GET_COMMAND2
(1) 3249/    212F : 3E 3E               		LD A,">"
(1) 3250/    2131 : D7                  		RST 0X10
(1) 3251/    2132 : 21 3A 5C            		LD HL,ERR_NR
(1) 3252/    2135 : 36 FF               		LD (HL),0XFF
(1) 3253/    2137 : C3 90 1D            		JP CALL2BASEDIT
(1) 3254/    213A :                     
(1) 3255/    213A : CD 22 1E            SUB_2158	CALL GET_NEXT_SYM
(1) 3256/    213D : CD 8C 1D            		CALL GET_SYMSTR
(1) 3257/    2140 : FE 2C               		CP ","
(1) 3258/    2142 : C2 17 1D            		JP NZ,SINTAX_ERROR
(1) 3259/    2145 : 2A DB 5C            		LD HL,(TRD_5CDB)
(1) 3260/    2148 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 3261/    214B : CD 03 1E            		CALL SET_NUM_CHAN
(1) 3262/    214E : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 3263/    2151 : 2A DB 5C            		LD HL,(TRD_5CDB)
(1) 3264/    2154 : 7C                  		LD A,H
(1) 3265/    2155 : B7                  		OR A
(1) 3266/    2156 : C2 17 1D            		JP NZ,SINTAX_ERROR
(1) 3267/    2159 : 23                  		INC HL
(1) 3268/    215A : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3269/    215D :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3270/    215D : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 3271/    2160 : 22 DB 5C            		LD (TRD_5CDB), HL
(1) 3272/    2163 : C9                  		RET
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 89 - 12/15/2013 13:00:27


(1) 3273/    2164 :                     
(1) 3274/    2164 : 2A 11 5D            OPEN		LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 3275/    2167 : 22 5D 5C            		LD (CH_ADD),HL
(1) 3276/    216A : CD 03 1E            		CALL SET_NUM_CHAN
(1) 3277/    216D : CD CB 1D            		CALL LOC_1DD0
(1) 3278/    2170 : CD 8C 1D            LOC_218E	CALL GET_SYMSTR
(1) 3279/    2173 : FE 41               		CP "A"
(1) 3280/    2175 : 30 05               		JR NC,LOC_219A
(1) 3281/    2177 : CD 22 1E            		CALL GET_NEXT_SYM
(1) 3282/    217A : 18 F4               		JR LOC_218E
(1) 3283/    217C :                     
(1) 3284/    217C : FE A5               LOC_219A	CP 0XA5
(1) 3285/    217E : F5                  		PUSH AF
(1) 3286/    217F : CC 3A 21            		CALL Z,SUB_2158
(1) 3287/    2182 : F1                  		POP AF
(1) 3288/    2183 : 28 0B               		JR Z,LOC_21AE
(1) 3289/    2185 : E6 DF               		AND 0XDF
(1) 3290/    2187 : FE 52               		CP "R"
(1) 3291/    2189 : 28 05               		JR Z,LOC_21AE
(1) 3292/    218B : FE 57               		CP "W"
(1) 3293/    218D : C2 17 1D            		JP NZ,SINTAX_ERROR
(1) 3294/    2190 : 32 09 5D            LOC_21AE	LD (TRD_5D09),A
(1) 3295/    2193 : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 3296/    2196 : 3E 23               		LD A,"#"
(1) 3297/    2198 : 32 E5 5C            		LD (TRD_5CE5),A		; êÄëòàêÖçàÖ îÄâãÄ
(1) 3298/    219B : 3E 00               		LD A,0
(1) 3299/    219D : 32 E6 5C            		LD (TRD_5CE6), A	; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 3300/    21A0 : CD BD 21            		CALL FIND_ENDFILE
(1) 3301/    21A3 : F5                  		PUSH AF
(1) 3302/    21A4 : CD F1 21            		CALL CP_STREAMS
(1) 3303/    21A7 : F1                  		POP AF
(1) 3304/    21A8 : F5                  		PUSH AF
(1) 3305/    21A9 : C4 67 22            		CALL NZ,CREATE_BLOCK0
(1) 3306/    21AC : F1                  		POP AF
(1) 3307/    21AD : CD 21 22            		CALL OPEN_STREAM
(1) 3308/    21B0 : 2A 11 5D            		LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 3309/    21B3 : 01 24 01            		LD BC,0X124
(1) 3310/    21B6 : 09                  		ADD HL,BC
(1) 3311/    21B7 : 22 11 5D            		LD (TRD_5D11),HL	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 3312/    21BA : C3 CA 01            		JP END_COMAND
(1) 3313/    21BD :                     
(1) 3314/    21BD : 3E 0A               FIND_ENDFILE	LD A,0X0A
(1) 3315/    21BF : 32 06 5D            		LD (TRD_5D06),A		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1) 3316/    21C2 : CD AB 1C            		CALL SET_CP_FILENAME
(1) 3317/    21C5 : F5                  		PUSH AF
(1) 3318/    21C6 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 3319/    21C9 : F1                  		POP AF
(1) 3320/    21CA : 20 1C               		JR NZ,LOC_2206
(1) 3321/    21CC : 3A 09 5D            		LD A,(TRD_5D09)
(1) 3322/    21CF : FE 52               		CP "R"
(1) 3323/    21D1 : 28 10               		JR Z,LOC_2201
(1) 3324/    21D3 : 21 E6 5C            LOC_21F1	LD HL,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 3325/    21D6 : 34                  		INC (HL)
(1) 3326/    21D7 : CD AE 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 3327/    21DA : 28 F7               		JR Z,LOC_21F1
(1) 3328/    21DC : 21 E6 5C            		LD HL,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 3329/    21DF : 35                  		DEC (HL)
(1) 3330/    21E0 : CD AE 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 3331/    21E3 : CD 4F 16            LOC_2201	CALL RD_HEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 3332/    21E6 : AF                  		XOR A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 90 - 12/15/2013 13:00:27


(1) 3333/    21E7 : C9                  		RET
(1) 3334/    21E8 :                     
(1) 3335/    21E8 : 3A 09 5D            LOC_2206	LD A,(TRD_5D09)
(1) 3336/    21EB : FE 52               		CP "R"
(1) 3337/    21ED : C0                  		RET NZ
(1) 3338/    21EE : C3 D9 03            		JP ERR_NOFILES
(1) 3339/    21F1 :                     
(1) 3340/    21F1 : 3A DB 5C            CP_STREAMS	LD A,(TRD_5CDB)
(1) 3341/    21F4 : E7                  		RST 0X20
(1) 3342/    21F5 : 27 17               		DW 0X1727
(1) 3343/    21F7 : 78                  		LD A,B
(1) 3344/    21F8 : B1                  		OR C
(1) 3345/    21F9 : C8                  		RET Z
(1) 3346/    21FA :                     
(1) 3347/    21FA : 3E 19               LOC_221B	LD A,0X19
(1) 3348/    21FC : 32 3A 5C            		LD (ERR_NR),A
(1) 3349/    21FF : 21 01 28            		LD HL,ASC_2804		; "STREAM OPENED"
(1) 3350/    2202 : 3E 0A               		LD A,0X0A
(1) 3351/    2204 : C3 48 1C            LOC_2225	JP PRINT_TXTERR
(1) 3352/    2207 :                     
(1) 3353/    2207 : 3E 0B               LOC_2228	LD A,0X0B
(1) 3354/    2209 : 21 0F 28            		LD HL,ASC_2812		; "NOT DISK FILE"
(1) 3355/    220C : 18 F6               		JR LOC_2225
(1) 3356/    220E :                     
(1) 3357/    220E : E5                  INITFREEACCESS	PUSH HL
(1) 3358/    220F : 0E 20               		LD C,0X20
(1) 3359/    2211 : EF                  		RST 0X28
(1) 3360/    2212 : 3A D7 5C            		LD A,(TRD_5CD7)		; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3361/    2215 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3362/    2215 : 77                  		LD (HL),A
(1) 3363/    2216 : 23                  		INC HL
(1) 3364/    2217 : AF                  		XOR A
(1) 3365/    2218 : 77                  		LD (HL),A
(1) 3366/    2219 : 23                  		INC HL
(1) 3367/    221A : 77                  		LD (HL),A
(1) 3368/    221B : 23                  		INC HL
(1) 3369/    221C : 77                  		LD (HL),A
(1) 3370/    221D : 3E 7F               		LD A,0X7F
(1) 3371/    221F : E1                  		POP HL
(1) 3372/    2220 : C9                  		RET
(1) 3373/    2221 :                     
(1) 3374/    2221 : F5                  OPEN_STREAM	PUSH AF
(1) 3375/    2222 : CD F1 21            		CALL CP_STREAMS
(1) 3376/    2225 : EB                  		EX DE,HL
(1) 3377/    2226 : 2A 53 5C            		LD HL,(PROG)
(1) 3378/    2229 : ED 4B 4F 5C         		LD BC,(CHANS)
(1) 3379/    222D : ED 42               		SBC HL,BC
(1) 3380/    222F : EB                  		EX DE,HL
(1) 3381/    2230 : 73                  		LD (HL),E
(1) 3382/    2231 : 23                  		INC HL
(1) 3383/    2232 : 72                  		LD (HL),D
(1) 3384/    2233 : CD 91 22            		CALL CREATE_HEADCHAN
(1) 3385/    2236 : 3A 09 5D            		LD A,(TRD_5D09)
(1) 3386/    2239 : FE A5               		CP 0XA5
(1) 3387/    223B : CC 0E 22            		CALL Z,INITFREEACCESS
(1) 3388/    223E : 28 0A               		JR Z,LOC_226B
(1) 3389/    2240 : 3A 09 5D            		LD A,(TRD_5D09)
(1) 3390/    2243 : FE 52               		CP "R"
(1) 3391/    2245 : 3E FF               		LD A,0XFF
(1) 3392/    2247 : 20 01               		JR NZ,LOC_226B
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 91 - 12/15/2013 13:00:27


(1) 3393/    2249 : AF                  		XOR A
(1) 3394/    224A : 77                  LOC_226B	LD (HL),A
(1) 3395/    224B : F1                  		POP AF
(1) 3396/    224C : C3 4F 22            		JP LOC_2270
(1) 3397/    224F :                     
(1) 3398/    224F : F5                  LOC_2270	PUSH AF
(1) 3399/    2250 : 01 14 00            		LD BC,0X14
(1) 3400/    2253 : 09                  		ADD HL,BC
(1) 3401/    2254 : E5                  		PUSH HL
(1) 3402/    2255 : CD FC 23            		CALL GET_TEKSECFILE
(1) 3403/    2258 : E1                  		POP HL
(1) 3404/    2259 : 23                  		INC HL
(1) 3405/    225A : 06 01               		LD B,1
(1) 3406/    225C : F1                  		POP AF
(1) 3407/    225D : B7                  		OR A
(1) 3408/    225E : F5                  		PUSH AF
(1) 3409/    225F : C4 62 1E            		CALL NZ,COM_06
(1) 3410/    2262 : F1                  		POP AF
(1) 3411/    2263 : CA 52 1E            		JP Z,COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1) 3412/    2266 : C9                  		RET
(1) 3413/    2267 :                     
(1) 3414/    2267 : 2A D7 5C            CREATE_BLOCK0	LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3415/    226A :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3416/    226A : E5                  		PUSH HL
(1) 3417/    226B : 21 00 20            		LD HL,0X2000
(1) 3418/    226E : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3419/    2271 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3420/    2271 : CD 79 22            		CALL CREATE_BLOCK
(1) 3421/    2274 : E1                  		POP HL
(1) 3422/    2275 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3423/    2278 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3424/    2278 : C9                  		RET
(1) 3425/    2279 :                     
(1) 3426/    2279 : 21 00 10            CREATE_BLOCK	LD HL,0X1000
(1) 3427/    227C : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 3428/    227F : CD C5 1A            		CALL CP_FREE_ON_DSK
(1) 3429/    2282 : CD 5A 1B            		CALL SAVE_FILE
(1) 3430/    2285 : 21 00 00            		LD HL,0
(1) 3431/    2288 : 22 E8 5C            		LD (TRD_5CE8),HL	; ÑãàçÄ	èêéÉêÄååõ
(1) 3432/    228B : CD 5D 16            		CALL SET_HEAD_FILENAME
(1) 3433/    228E : C3 58 1E            		JP REWRITE_9SEC		; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 3434/    2291 :                     
(1) 3435/    2291 : 2A 53 5C            CREATE_HEADCHAN	LD HL,(PROG)
(1) 3436/    2294 : 2B                  		DEC HL
(1) 3437/    2295 : 22 51 5C            		LD (CURCHL),HL
(1) 3438/    2298 : E5                  		PUSH HL
(1) 3439/    2299 : 01 24 01            		LD BC,0X124
(1) 3440/    229C : CD 2A 1E            		CALL RESERV_RAM
(1) 3441/    229F : AF                  		XOR A
(1) 3442/    22A0 : 47                  		LD B,A
(1) 3443/    22A1 : 12                  LOC_22C4	LD (DE),A
(1) 3444/    22A2 : 1B                  		DEC DE
(1) 3445/    22A3 : 10 FC               		DJNZ LOC_22C4
(1) 3446/    22A5 : E1                  		POP HL
(1) 3447/    22A6 : E5                  		PUSH HL
(1) 3448/    22A7 : 11 0E 3D            		LD DE, LOC_3D0E
(1) 3449/    22AA : 73                  		LD (HL),E
(1) 3450/    22AB : 23                  		INC HL
(1) 3451/    22AC : 72                  		LD (HL),D
(1) 3452/    22AD : 23                  		INC HL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 92 - 12/15/2013 13:00:27


(1) 3453/    22AE : 11 06 3D            		LD DE,LOC_3D06
(1) 3454/    22B1 : 73                  		LD (HL),E
(1) 3455/    22B2 : 23                  		INC HL
(1) 3456/    22B3 : 72                  		LD (HL),D
(1) 3457/    22B4 : 23                  		INC HL
(1) 3458/    22B5 : 36 44               		LD (HL),"D"
(1) 3459/    22B7 : 23                  		INC HL
(1) 3460/    22B8 : 23                  		INC HL
(1) 3461/    22B9 : 23                  		INC HL
(1) 3462/    22BA : 23                  		INC HL
(1) 3463/    22BB : 23                  		INC HL
(1) 3464/    22BC : 36 24               		LD (HL),"$"
(1) 3465/    22BE : 23                  		INC HL
(1) 3466/    22BF : 36 01               		LD (HL),1
(1) 3467/    22C1 : 23                  		INC HL
(1) 3468/    22C2 : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1) 3469/    22C5 : 77                  		LD (HL), A
(1) 3470/    22C6 : 23                  		INC HL
(1) 3471/    22C7 : 3A 1E 5D            		LD A,(TRD_5D1E)
(1) 3472/    22CA : 77                  		LD (HL),A
(1) 3473/    22CB : 23                  		INC HL
(1) 3474/    22CC : 3A 09 5D            		LD A,(TRD_5D09)
(1) 3475/    22CF : FE 52               		CP "R"
(1) 3476/    22D1 : 36 00               		LD (HL),0
(1) 3477/    22D3 : 28 04               		JR Z,LOC_22FC
(1) 3478/    22D5 : 3A E8 5C            		LD A,(TRD_5CE8)		; ÑãàçÄ	èêéÉêÄååõ
(1) 3479/    22D8 : 77                  		LD (HL),A
(1) 3480/    22D9 : 23                  LOC_22FC	INC HL
(1) 3481/    22DA : 70                  		LD (HL),B
(1) 3482/    22DB : 28 04               		JR Z,LOC_2304
(1) 3483/    22DD : 3A E9 5C            		LD A,(TRD_5CE9)		; ÑãàçÄ	èêéÉêÄååõ
(1) 3484/    22E0 : 77                  		LD (HL),A
(1) 3485/    22E1 : 23                  LOC_2304	INC HL
(1) 3486/    22E2 : EB                  		EX DE,HL
(1) 3487/    22E3 : E1                  		POP HL
(1) 3488/    22E4 : D5                  		PUSH DE
(1) 3489/    22E5 : 11 10 00            		LD DE,0X10
(1) 3490/    22E8 : 19                  		ADD HL,DE
(1) 3491/    22E9 : EB                  		EX DE,HL
(1) 3492/    22EA : 21 DD 5C            		LD HL,TRD_5CDD		; àåü îÄâãÄ
(1) 3493/    22ED : 01 10 00            		LD BC,0X10
(1) 3494/    22F0 : C3 4E 36            		JP EMU_LDIR_RHL
(1) 3495/    22F3 :                     
(1) 3496/    22F3 : 0E 0D               GET_ADRTEKSYM	LD C,0X0D
(1) 3497/    22F5 : EF                  		RST 0X28
(1) 3498/    22F6 : 4E                  		LD C,(HL)
(1) 3499/    22F7 : EF                  		RST 0X28
(1) 3500/    22F8 : 01 24 00            		LD BC,0X24
(1) 3501/    22FB : 09                  		ADD HL,BC
(1) 3502/    22FC : C9                  		RET
(1) 3503/    22FD :                     
(1) 3504/    22FD : 0E 24               GET_ADRTEKFRG	LD C,0X24
(1) 3505/    22FF : 06 00               SUB_2323	LD B,0
(1) 3506/    2301 : 2A 51 5C            		LD HL,(CURCHL)
(1) 3507/    2304 : 09                  		ADD HL,BC
(1) 3508/    2305 : C9                  		RET
(1) 3509/    2306 :                     
(1) 3510/    2306 : 0E 0D               CP_ENDOFSECTOR	LD C,0X0D
(1) 3511/    2308 : EF                  		RST 0X28
(1) 3512/    2309 : 34                  		INC (HL)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 93 - 12/15/2013 13:00:27


(1) 3513/    230A : C0                  		RET NZ
(1) 3514/    230B : E5                  		PUSH HL
(1) 3515/    230C : CD 1C 24            		CALL SET_DSK
(1) 3516/    230F : CD D5 23            		CALL SAVE_TEKSECTOR	; áÄèàëú íÖäìôÖÉé ëÖäíéêÄ
(1) 3517/    2312 : E1                  		POP HL
(1) 3518/    2313 : 23                  		INC HL
(1) 3519/    2314 : 34                  		INC (HL)
(1) 3520/    2315 : E5                  		PUSH HL
(1) 3521/    2316 : CD F1 23            		CALL LOADINGSECTOR
(1) 3522/    2319 : E1                  		POP HL
(1) 3523/    231A : 3E 10               		LD A,0X10
(1) 3524/    231C : BE                  		CP (HL)
(1) 3525/    231D : C0                  		RET NZ
(1) 3526/    231E : E5                  		PUSH HL
(1) 3527/    231F : 0E 0F               		LD C,0X0F
(1) 3528/    2321 : EF                  		RST 0X28
(1) 3529/    2322 : 7E                  		LD A,(HL)
(1) 3530/    2323 : FE 7F               		CP 0X7F
(1) 3531/    2325 : E1                  		POP HL
(1) 3532/    2326 : 28 0C               		JR Z,LOC_2358
(1) 3533/    2328 : 2A 51 5C            		LD HL,(CURCHL)
(1) 3534/    232B : CD AD 26            		CALL SAVE_HEAD_BLK
(1) 3535/    232E : 0E 0E               		LD C,0X0E
(1) 3536/    2330 : EF                  		RST 0X28
(1) 3537/    2331 : C3 55 23            		JP LOC_2379
(1) 3538/    2334 :                     
(1) 3539/    2334 : CD A8 23            LOC_2358	CALL FIND_NEXT_BLK
(1) 3540/    2337 : F5                  		PUSH AF
(1) 3541/    2338 : CC F1 23            		CALL Z,LOADINGSECTOR
(1) 3542/    233B : 0E 0E               		LD C,0X0E
(1) 3543/    233D : EF                  		RST 0X28
(1) 3544/    233E : F1                  		POP AF
(1) 3545/    233F : C2 4C 23            		JP NZ,CREATE_NEWBLOCK
(1) 3546/    2342 : C9                  		RET
(1) 3547/    2343 :                     
(1) 3548/    2343 : 36 00               SUB_2367	LD (HL),0
(1) 3549/    2345 : 0E 19               		LD C,0X19
(1) 3550/    2347 : EF                  		RST 0X28
(1) 3551/    2348 : 16 20               		LD D,0X20
(1) 3552/    234A : 5E                  		LD E,(HL)
(1) 3553/    234B : C9                  		RET
(1) 3554/    234C :                     
(1) 3555/    234C : CD 43 23            CREATE_NEWBLOCK	CALL SUB_2367
(1) 3556/    234F : ED 53 D7 5C         		LD (TRD_5CD7),DE	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3557/    2353 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3558/    2353 : 18 08               		JR CREATE_BLK
(1) 3559/    2355 :                     
(1) 3560/    2355 : CD 43 23            LOC_2379	CALL SUB_2367
(1) 3561/    2358 : 1C                  		INC E
(1) 3562/    2359 : ED 53 D7 5C         		LD (TRD_5CD7), DE	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3563/    235D :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3564/    235D : CD 79 22            CREATE_BLK	CALL CREATE_BLOCK
(1) 3565/    2360 : CD 6F 29            		CALL DEL_BUF
(1) 3566/    2363 : 0E 10               		LD C,0X10
(1) 3567/    2365 : EF                  		RST 0X28
(1) 3568/    2366 : EB                  		EX DE,HL
(1) 3569/    2367 : 21 DD 5C            		LD HL,TRD_5CDD		; àåü îÄâãÄ
(1) 3570/    236A : 01 10 00            		LD BC,0X10
(1) 3571/    236D : ED B0               		LDIR
(1) 3572/    236F : 0E 0C               		LD C,0X0C
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 94 - 12/15/2013 13:00:27


(1) 3573/    2371 : EF                  		RST 0X28
(1) 3574/    2372 : 3A 1E 5D            		LD A,(TRD_5D1E)
(1) 3575/    2375 : 77                  		LD (HL),A
(1) 3576/    2376 : C9                  		RET
(1) 3577/    2377 :                     
(1) 3578/    2377 : 0E 0D               FIND_END_SEC	LD C,0X0D
(1) 3579/    2379 : EF                  		RST 0X28
(1) 3580/    237A : 34                  		INC (HL)
(1) 3581/    237B : C0                  		RET NZ
(1) 3582/    237C : 23                  		INC HL
(1) 3583/    237D : 34                  		INC (HL)
(1) 3584/    237E : E5                  		PUSH HL
(1) 3585/    237F : CD 1C 24            		CALL SET_DSK
(1) 3586/    2382 : 0E 23               		LD C,0X23
(1) 3587/    2384 : EF                  		RST 0X28
(1) 3588/    2385 : 7E                  		LD A,(HL)
(1) 3589/    2386 : B7                  		OR A
(1) 3590/    2387 : 28 09               		JR Z,LOC_23B6
(1) 3591/    2389 : E1                  		POP HL
(1) 3592/    238A : E5                  		PUSH HL
(1) 3593/    238B : 35                  		DEC (HL)
(1) 3594/    238C : CD D5 23            		CALL SAVE_TEKSECTOR	; áÄèàëú íÖäìôÖÉé ëÖäíéêÄ
(1) 3595/    238F : E1                  		POP HL
(1) 3596/    2390 : E5                  		PUSH HL
(1) 3597/    2391 : 34                  		INC (HL)
(1) 3598/    2392 : CD F1 23            LOC_23B6	CALL LOADINGSECTOR
(1) 3599/    2395 : E1                  		POP HL
(1) 3600/    2396 : 3E 10               		LD A,0X10
(1) 3601/    2398 : BE                  		CP (HL)
(1) 3602/    2399 : C0                  		RET NZ
(1) 3603/    239A :                     
(1) 3604/    239A : CD A8 23            OPEN_NEXT_BLK	CALL FIND_NEXT_BLK
(1) 3605/    239D : F5                  		PUSH AF
(1) 3606/    239E : CD 6F 29            		CALL DEL_BUF
(1) 3607/    23A1 : F1                  		POP AF
(1) 3608/    23A2 : C2 64 24            		JP NZ,ERR_ENDOFFILE
(1) 3609/    23A5 : C3 F1 23            		JP LOADINGSECTOR
(1) 3610/    23A8 :                     
(1) 3611/    23A8 : 36 00               FIND_NEXT_BLK	LD (HL),0
(1) 3612/    23AA : 0E 19               		LD C,0X19
(1) 3613/    23AC : EF                  		RST 0X28
(1) 3614/    23AD : 34                  		INC (HL)
(1) 3615/    23AE : 0E 10               		LD C,0X10
(1) 3616/    23B0 : EF                  		RST 0X28
(1) 3617/    23B1 : 11 DD 5C            		LD DE,TRD_5CDD		; àåü îÄâãÄ
(1) 3618/    23B4 : 01 10 00            		LD BC,0X10
(1) 3619/    23B7 : ED B0               		LDIR
(1) 3620/    23B9 : CD AE 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 3621/    23BC : C0                  		RET NZ
(1) 3622/    23BD : CD 4F 16            OPEN_BLK	CALL RD_HEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 3623/    23C0 : 0E 10               		LD C,0X10
(1) 3624/    23C2 : EF                  		RST 0X28
(1) 3625/    23C3 : EB                  		EX DE,HL
(1) 3626/    23C4 : 21 DD 5C            		LD HL,TRD_5CDD		; àåü îÄâãÄ
(1) 3627/    23C7 : 01 10 00            		LD BC,0X10
(1) 3628/    23CA : ED B0               		LDIR
(1) 3629/    23CC : 0E 0C               		LD C,0X0C
(1) 3630/    23CE : EF                  		RST 0X28
(1) 3631/    23CF : 3A 1E 5D            		LD A,(TRD_5D1E)
(1) 3632/    23D2 : 77                  		LD (HL),A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 95 - 12/15/2013 13:00:27


(1) 3633/    23D3 : AF                  		XOR A
(1) 3634/    23D4 : C9                  		RET
(1) 3635/    23D5 :                     
(1) 3636/    23D5 :                     ; áÄèàëú íÖäìôÖÉé ëÖäíéêÄ
(1) 3637/    23D5 : CD FC 23            SAVE_TEKSECTOR	CALL GET_TEKSECFILE
(1) 3638/    23D8 : CD FD 22            		CALL GET_ADRTEKFRG
(1) 3639/    23DB : 06 01               		LD B,1
(1) 3640/    23DD : CD 62 1E            		CALL COM_06
(1) 3641/    23E0 : 0E 0F               		LD C,0X0F
(1) 3642/    23E2 : EF                  		RST 0X28
(1) 3643/    23E3 : 7E                  		LD A,(HL)
(1) 3644/    23E4 : FE 7F               		CP 0X7F
(1) 3645/    23E6 : C8                  		RET Z
(1) 3646/    23E7 : CD FD 22            		CALL GET_ADRTEKFRG
(1) 3647/    23EA : AF                  		XOR A
(1) 3648/    23EB : 47                  		LD B,A
(1) 3649/    23EC : 77                  LOC_2413	LD (HL),A
(1) 3650/    23ED : 23                  		INC HL
(1) 3651/    23EE : 10 FC               		DJNZ LOC_2413
(1) 3652/    23F0 : C9                  		RET
(1) 3653/    23F1 :                     
(1) 3654/    23F1 : CD FC 23            LOADINGSECTOR	CALL GET_TEKSECFILE
(1) 3655/    23F4 : CD FD 22            		CALL GET_ADRTEKFRG
(1) 3656/    23F7 : 06 01               		LD B,1
(1) 3657/    23F9 : C3 52 1E            		JP COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1) 3658/    23FC :                     
(1) 3659/    23FC : 2A 51 5C            GET_TEKSECFILE	LD HL,(CURCHL)
(1) 3660/    23FF : 01 1E 00            		LD BC,0X1E
(1) 3661/    2402 : 09                  		ADD HL,BC
(1) 3662/    2403 : 5E                  		LD E,(HL)
(1) 3663/    2404 : 23                  		INC HL
(1) 3664/    2405 : 56                  		LD D,(HL)
(1) 3665/    2406 : 0E 0E               		LD C,0X0E
(1) 3666/    2408 : EF                  		RST 0X28
(1) 3667/    2409 : 46                  		LD B,(HL)
(1) 3668/    240A : 05                  		DEC B
(1) 3669/    240B : 04                  		INC B
(1) 3670/    240C : F5                  		PUSH AF
(1) 3671/    240D : 3E 10               		LD A,0X10
(1) 3672/    240F : 28 09               		JR Z,LOC_2441
(1) 3673/    2411 : 1C                  LOC_2438	INC E
(1) 3674/    2412 : BB                  		CP E
(1) 3675/    2413 : 20 03               		JR NZ,LOC_243F
(1) 3676/    2415 : 1E 00               		LD E,0
(1) 3677/    2417 : 14                  		INC D
(1) 3678/    2418 : 10 F7               LOC_243F	DJNZ LOC_2438
(1) 3679/    241A : F1                  LOC_2441	POP AF
(1) 3680/    241B : C9                  		RET
(1) 3681/    241C :                     
(1) 3682/    241C : 0E 0B               SET_DSK		LD C,0X0B
(1) 3683/    241E : EF                  		RST 0X28
(1) 3684/    241F : 7E                  		LD A,(HL)
(1) 3685/    2420 : C3 CB 3D            		JP COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1) 3686/    2423 :                     
(1) 3687/    2423 : 21 C2 5C            OUT_SYM2FILE	LD HL,TRD_5CC2		; ëéÑÖêÜàí #C9. Ñãü èÖêÖïéÑÄ àá TR-DOS Ç BASIC
(1) 3688/    2426 : E5                  		PUSH HL
(1) 3689/    2427 : F5                  		PUSH AF
(1) 3690/    2428 : 3E 0A               		LD A,0X0A
(1) 3691/    242A : 32 06 5D            		LD (TRD_5D06),A		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1) 3692/    242D : F1                  		POP AF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 96 - 12/15/2013 13:00:27


(1) 3693/    242E : CD 74 24            		CALL WORK4FREEACCESS
(1) 3694/    2431 : F5                  		PUSH AF
(1) 3695/    2432 : CD 1C 26            		CALL CP_FILE_OPENED
(1) 3696/    2435 : CA 70 24            		JP Z,ERR_INVALID_IO
(1) 3697/    2438 : F1                  		POP AF
(1) 3698/    2439 : CD F3 22            		CALL GET_ADRTEKSYM
(1) 3699/    243C : 77                  		LD (HL),A
(1) 3700/    243D : C3 06 23            		JP CP_ENDOFSECTOR
(1) 3701/    2440 :                     
(1) 3702/    2440 : 0E 0D               CP_END_BLK	LD C,0X0D
(1) 3703/    2442 : EF                  		RST 0X28
(1) 3704/    2443 : 7E                  		LD A,(HL)
(1) 3705/    2444 : 01 0E 00            		LD BC,0X0E
(1) 3706/    2447 : 09                  		ADD HL,BC
(1) 3707/    2448 : BE                  		CP (HL)
(1) 3708/    2449 : C0                  		RET NZ
(1) 3709/    244A : 0E 0E               		LD C,0X0E
(1) 3710/    244C : EF                  		RST 0X28
(1) 3711/    244D : 7E                  		LD A,(HL)
(1) 3712/    244E : 01 0E 00            		LD BC,0X0E
(1) 3713/    2451 : 09                  		ADD HL,BC
(1) 3714/    2452 : BE                  		CP (HL)
(1) 3715/    2453 : C0                  		RET NZ
(1) 3716/    2454 : 21 B6 5C            		LD HL,TRD_5CB6		; Ñãü èêéÇÖêäà çÄãàóàü INTERFACE1
(1) 3717/    2457 : 7E                  		LD A,(HL)
(1) 3718/    2458 : FE F4               		CP 0XF4
(1) 3719/    245A : 28 08               		JR Z,ERR_ENDOFFILE
(1) 3720/    245C : CB 66               		BIT 4,(HL)
(1) 3721/    245E : 28 04               		JR Z,ERR_ENDOFFILE
(1) 3722/    2460 : F6 01               		OR 1
(1) 3723/    2462 : E1                  		POP HL
(1) 3724/    2463 : C9                  		RET
(1) 3725/    2464 :                     
(1) 3726/    2464 : 3E 07               ERR_ENDOFFILE	LD A,7
(1) 3727/    2466 : 32 3A 5C            LOC_2494	LD (ERR_NR),A
(1) 3728/    2469 : CD E6 20            		CALL DELETE_BUF
(1) 3729/    246C : E7                  		RST 0X20
(1) 3730/    246D : 58 00               		DW 0X0058
(1) 3731/    246F : C9                  		RET
(1) 3732/    2470 :                     
(1) 3733/    2470 : 3E 17               ERR_INVALID_IO	LD A,0X17
(1) 3734/    2472 : 18 F2               		JR LOC_2494
(1) 3735/    2474 :                     
(1) 3736/    2474 : 57                  WORK4FREEACCESS	LD D,A
(1) 3737/    2475 : 0E 0F               		LD C,0X0F
(1) 3738/    2477 : EF                  		RST 0X28
(1) 3739/    2478 : 7E                  		LD A,(HL)
(1) 3740/    2479 : FE 7F               		CP 0X7F
(1) 3741/    247B : 7A                  		LD A,D
(1) 3742/    247C : C0                  		RET NZ
(1) 3743/    247D : 01 13 00            		LD BC,0X13
(1) 3744/    2480 : 09                  		ADD HL,BC
(1) 3745/    2481 : 7E                  		LD A,(HL)
(1) 3746/    2482 : B7                  		OR A
(1) 3747/    2483 : 7A                  		LD A,D
(1) 3748/    2484 : 20 21               		JR NZ,LOC_24D5
(1) 3749/    2486 : 2B                  		DEC HL
(1) 3750/    2487 : 7E                  		LD A,(HL)
(1) 3751/    2488 : B7                  		OR A
(1) 3752/    2489 : 20 09               		JR NZ,LOC_24C2
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 97 - 12/15/2013 13:00:27


(1) 3753/    248B : C5                  		PUSH BC
(1) 3754/    248C : E5                  		PUSH HL
(1) 3755/    248D : D5                  		PUSH DE
(1) 3756/    248E : CD CA 24            		CALL W16B2WORKSP
(1) 3757/    2491 : D1                  		POP DE
(1) 3758/    2492 : E1                  		POP HL
(1) 3759/    2493 : C1                  		POP BC
(1) 3760/    2494 : 4E                  LOC_24C2	LD C,(HL)
(1) 3761/    2495 : 7A                  		LD A,D
(1) 3762/    2496 : EB                  		EX DE,HL
(1) 3763/    2497 : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 3764/    249A : 09                  		ADD HL,BC
(1) 3765/    249B : FE 06               		CP 6
(1) 3766/    249D : 77                  		LD (HL),A
(1) 3767/    249E : CC D6 24            		CALL Z,WORK_NUMSAVE
(1) 3768/    24A1 : 0E 21               		LD C,0X21
(1) 3769/    24A3 : EF                  		RST 0X28
(1) 3770/    24A4 : 34                  		INC (HL)
(1) 3771/    24A5 : E1                  		POP HL
(1) 3772/    24A6 : C9                  		RET
(1) 3773/    24A7 :                     
(1) 3774/    24A7 : 2B                  LOC_24D5	DEC HL
(1) 3775/    24A8 : 7E                  		LD A,(HL)
(1) 3776/    24A9 : 2B                  		DEC HL
(1) 3777/    24AA : 3C                  		INC A
(1) 3778/    24AB : BE                  		CP (HL)
(1) 3779/    24AC : 23                  		INC HL
(1) 3780/    24AD : 34                  		INC (HL)
(1) 3781/    24AE : E5                  		PUSH HL
(1) 3782/    24AF : F5                  		PUSH AF
(1) 3783/    24B0 : 0E 23               		LD C,0X23
(1) 3784/    24B2 : EF                  		RST 0X28
(1) 3785/    24B3 : 36 FF               		LD (HL),0XFF
(1) 3786/    24B5 : F1                  		POP AF
(1) 3787/    24B6 : E1                  		POP HL
(1) 3788/    24B7 : 38 07               		JR C,LOC_24EE
(1) 3789/    24B9 : 7A                  		LD A, D
(1) 3790/    24BA : FE 0D               		CP 0X0D
(1) 3791/    24BC : 28 06               		JR Z,LOC_24F2
(1) 3792/    24BE : C1                  		POP BC
(1) 3793/    24BF : C9                  		RET
(1) 3794/    24C0 :                     
(1) 3795/    24C0 : 7A                  LOC_24EE	LD A,D
(1) 3796/    24C1 : FE 0D               		CP 0X0D
(1) 3797/    24C3 : C0                  		RET NZ
(1) 3798/    24C4 : AF                  LOC_24F2	XOR A
(1) 3799/    24C5 : 77                  		LD (HL),A
(1) 3800/    24C6 : 23                  		INC HL
(1) 3801/    24C7 : 77                  		LD (HL),A
(1) 3802/    24C8 : 7A                  		LD A,D
(1) 3803/    24C9 : C9                  		RET
(1) 3804/    24CA :                     
(1) 3805/    24CA : 2A 61 5C            W16B2WORKSP	LD HL,(WORKSP)
(1) 3806/    24CD : 22 CF 5C            		LD (TRD_5CCF),HL	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 3807/    24D0 : 01 10 00            		LD BC,0X10
(1) 3808/    24D3 : C3 1B 1E            		JP CREATE_FREERAM
(1) 3809/    24D6 :                     
(1) 3810/    24D6 : 36 0D               WORK_NUMSAVE	LD (HL),0X0D
(1) 3811/    24D8 : 2A 5D 5C            		LD HL,(CH_ADD)
(1) 3812/    24DB : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 98 - 12/15/2013 13:00:27


(1) 3813/    24DE :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3814/    24DE : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 3815/    24E1 : 22 5D 5C            		LD (CH_ADD),HL
(1) 3816/    24E4 : 21 3B 5C            		LD HL,FLAGS
(1) 3817/    24E7 : CB BE               		RES 7,(HL)
(1) 3818/    24E9 : CD B6 1D            		CALL BC2STKBOT
(1) 3819/    24EC : 21 3B 5C            		LD HL,FLAGS
(1) 3820/    24EF : CB FE               		SET 7,(HL)
(1) 3821/    24F1 : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 3822/    24F4 : 22 5D 5C            		LD (CH_ADD),HL
(1) 3823/    24F7 : CD B6 1D            		CALL BC2STKBOT
(1) 3824/    24FA : CD AE 1D            		CALL FIND_LAST
(1) 3825/    24FD : C5                  		PUSH BC
(1) 3826/    24FE : D1                  		POP DE
(1) 3827/    24FF : 0E 20               		LD C,0X20
(1) 3828/    2501 : EF                  		RST 0X28
(1) 3829/    2502 : 46                  		LD B,(HL)
(1) 3830/    2503 : AF                  		XOR A
(1) 3831/    2504 : 67                  		LD H,A
(1) 3832/    2505 : 6F                  		LD L,A
(1) 3833/    2506 : 22 DB 5C            		LD (TRD_5CDB),HL
(1) 3834/    2509 : 19                  LOC_2538	ADD HL,DE
(1) 3835/    250A : 30 09               		JR NC,LOC_2544
(1) 3836/    250C : E5                  		PUSH HL
(1) 3837/    250D : 2A DB 5C            		LD HL,(TRD_5CDB)
(1) 3838/    2510 : 23                  		INC HL
(1) 3839/    2511 : 22 DB 5C            		LD (TRD_5CDB),HL
(1) 3840/    2514 : E1                  		POP HL
(1) 3841/    2515 : 10 F2               LOC_2544	DJNZ LOC_2538
(1) 3842/    2517 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 3843/    251A : 3A DB 5C            		LD A,(TRD_5CDB)
(1) 3844/    251D : 21 DA 5C            		LD HL,TRD_5CDA
(1) 3845/    2520 : ED 67               		RRD
(1) 3846/    2522 : E6 0F               		AND 0X0F
(1) 3847/    2524 : 32 DB 5C            		LD (TRD_5CDB),A
(1) 3848/    2527 : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3849/    252A :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3850/    252A : 22 5D 5C            		LD (CH_ADD), HL
(1) 3851/    252D : CD 39 25            		CALL OPEN_SAVED
(1) 3852/    2530 : 0E 21               		LD C,0X21
(1) 3853/    2532 : EF                  		RST 0X28
(1) 3854/    2533 : 3E FF               		LD A,0XFF
(1) 3855/    2535 : 77                  		LD (HL),A
(1) 3856/    2536 : 23                  		INC HL
(1) 3857/    2537 : 77                  		LD (HL),A
(1) 3858/    2538 : C9                  		RET
(1) 3859/    2539 :                     
(1) 3860/    2539 : 0E 19               OPEN_SAVED	LD C,0X19
(1) 3861/    253B : EF                  		RST 0X28
(1) 3862/    253C : 3A DA 5C            		LD A,(TRD_5CDA)
(1) 3863/    253F : BE                  		CP (HL)
(1) 3864/    2540 : C2 55 25            		JP NZ,LOC_2584
(1) 3865/    2543 : 0E 0E               		LD C,0X0E
(1) 3866/    2545 : EF                  		RST 0X28
(1) 3867/    2546 : 3A DB 5C            		LD A,(TRD_5CDB)
(1) 3868/    2549 : BE                  		CP (HL)
(1) 3869/    254A : C2 78 25            		JP NZ,LOC_25A7
(1) 3870/    254D : 0E 0D               LOC_257C	LD C,0X0D
(1) 3871/    254F : EF                  		RST 0X28
(1) 3872/    2550 : 3A D9 5C            		LD A,(TRD_5CD9)		; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 99 - 12/15/2013 13:00:27


(1) 3873/    2553 : 77                  		LD (HL),A
(1) 3874/    2554 : C9                  		RET
(1) 3875/    2555 :                     
(1) 3876/    2555 : CD 9A 25            LOC_2584	CALL CPANDZERO23
(1) 3877/    2558 : C4 94 25            		CALL NZ,SAVE_TEK_SEC
(1) 3878/    255B : 3A DA 5C            		LD A,(TRD_5CDA)
(1) 3879/    255E : 0E 19               		LD C,0X19
(1) 3880/    2560 : EF                  		RST 0X28
(1) 3881/    2561 : 77                  		LD (HL),A
(1) 3882/    2562 : 0E 10               		LD C,0X10
(1) 3883/    2564 : EF                  		RST 0X28
(1) 3884/    2565 : 11 DD 5C            		LD DE,TRD_5CDD		; àåü îÄâãÄ
(1) 3885/    2568 : 01 10 00            		LD BC,0X10
(1) 3886/    256B : ED B0               		LDIR
(1) 3887/    256D : CD AE 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 3888/    2570 : C2 A2 25            		JP NZ,LOC_25D2
(1) 3889/    2573 : CD BD 23            		CALL OPEN_BLK
(1) 3890/    2576 : 18 06               		JR LOC_25AD
(1) 3891/    2578 :                     
(1) 3892/    2578 : CD 9A 25            LOC_25A7	CALL CPANDZERO23
(1) 3893/    257B : C4 94 25            		CALL NZ,SAVE_TEK_SEC
(1) 3894/    257E : 3A DB 5C            LOC_25AD	LD A,(TRD_5CDB)
(1) 3895/    2581 : 0E 0E               		LD C,0X0E
(1) 3896/    2583 : EF                  		RST 0X28
(1) 3897/    2584 : 77                  		LD (HL),A
(1) 3898/    2585 : E5                  		PUSH HL
(1) 3899/    2586 : CD 1C 24            		CALL SET_DSK
(1) 3900/    2589 : CD F1 23            		CALL LOADINGSECTOR
(1) 3901/    258C : E1                  		POP HL
(1) 3902/    258D : 2B                  		DEC HL
(1) 3903/    258E : 3A D9 5C            		LD A,(TRD_5CD9)		; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 3904/    2591 : 77                  		LD (HL),A
(1) 3905/    2592 : 18 B9               		JR LOC_257C
(1) 3906/    2594 :                     
(1) 3907/    2594 : CD 1C 24            SAVE_TEK_SEC	CALL SET_DSK
(1) 3908/    2597 : C3 D5 23            		JP SAVE_TEKSECTOR	; áÄèàëú íÖäìôÖÉé ëÖäíéêÄ
(1) 3909/    259A :                     
(1) 3910/    259A : 0E 23               CPANDZERO23	LD C,0X23
(1) 3911/    259C : EF                  		RST 0X28
(1) 3912/    259D : 7E                  		LD A,(HL)
(1) 3913/    259E : B7                  		OR A
(1) 3914/    259F : 36 00               		LD (HL),0
(1) 3915/    25A1 : C9                  		RET
(1) 3916/    25A2 :                     
(1) 3917/    25A2 : 2A DA 5C            LOC_25D2	LD HL,(TRD_5CDA)
(1) 3918/    25A5 : 26 20               		LD H,0X20
(1) 3919/    25A7 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3920/    25AA :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3921/    25AA : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 3922/    25AD : E5                  		PUSH HL
(1) 3923/    25AE : 2A DB 5C            		LD HL,(TRD_5CDB)
(1) 3924/    25B1 : E5                  		PUSH HL
(1) 3925/    25B2 : CD 5D 23            		CALL CREATE_BLK
(1) 3926/    25B5 : E1                  		POP HL
(1) 3927/    25B6 : 22 DB 5C            		LD (TRD_5CDB),HL
(1) 3928/    25B9 : E1                  		POP HL
(1) 3929/    25BA : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 3930/    25BD : 18 BF               		JR LOC_25AD
(1) 3931/    25BF :                     
(1) 3932/    25BF : 21 3C 5C            INPUTDATAFILE	LD HL,TV_FLAG
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 100 - 12/15/2013 13:00:27


(1) 3933/    25C2 : CB 9E               		RES 3,(HL)
(1) 3934/    25C4 : 2A 3D 5C            		LD HL,(ERR_SP)
(1) 3935/    25C7 : 5E                  		LD E,(HL)
(1) 3936/    25C8 : 23                  		INC HL
(1) 3937/    25C9 : 56                  		LD D,(HL)
(1) 3938/    25CA : B7                  		OR A
(1) 3939/    25CB : 21 7F 10            		LD HL,0X107F
(1) 3940/    25CE : ED 52               		SBC HL,DE
(1) 3941/    25D0 : 20 20               		JR NZ,LOC_2626
(1) 3942/    25D2 : ED 7B 3D 5C         		LD SP,(ERR_SP)
(1) 3943/    25D6 : D1                  		POP DE
(1) 3944/    25D7 : D1                  		POP DE
(1) 3945/    25D8 : ED 53 3D 5C         		LD (ERR_SP),DE
(1) 3946/    25DC : CD F7 25            LOC_260F	CALL INPUT_SYM_FILE
(1) 3947/    25DF : 38 08               		JR C,LOC_261D
(1) 3948/    25E1 : 21 C2 5C            LOC_2614	LD HL,TRD_5CC2		; ëéÑÖêÜàí #C9. Ñãü èÖêÖïéÑÄ àá TR-DOS Ç BASIC
(1) 3949/    25E4 : E5                  		PUSH HL
(1) 3950/    25E5 : 21 E6 20            		LD HL,DELETE_BUF
(1) 3951/    25E8 : E9                  		JP (HL)
(1) 3952/    25E9 :                     
(1) 3953/    25E9 : FE 0D               LOC_261D	CP 0X0D
(1) 3954/    25EB : 28 F4               		JR Z,LOC_2614
(1) 3955/    25ED : E7                  		RST 0X20
(1) 3956/    25EE : 85 0F               		DW 0X0F85
(1) 3957/    25F0 : 18 EA               		JR LOC_260F
(1) 3958/    25F2 :                     
(1) 3959/    25F2 : CD F7 25            LOC_2626	CALL INPUT_SYM_FILE
(1) 3960/    25F5 : 18 EA               		JR LOC_2614
(1) 3961/    25F7 :                     
(1) 3962/    25F7 : 3E 0A               INPUT_SYM_FILE	LD A,0X0A
(1) 3963/    25F9 : 32 06 5D            		LD (TRD_5D06),A		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1) 3964/    25FC : CD 1C 26            		CALL CP_FILE_OPENED
(1) 3965/    25FF : 28 0D               		JR Z,LOC_2642
(1) 3966/    2601 : FE 7F               		CP 0X7F
(1) 3967/    2603 : C2 70 24            		JP NZ,ERR_INVALID_IO
(1) 3968/    2606 : 01 13 00            		LD BC,0X13
(1) 3969/    2609 : 09                  		ADD HL,BC
(1) 3970/    260A : 36 00               		LD (HL),0
(1) 3971/    260C : 18 03               		JR LOC_2645
(1) 3972/    260E :                     
(1) 3973/    260E : CD 40 24            LOC_2642	CALL CP_END_BLK
(1) 3974/    2611 : CD F3 22            LOC_2645	CALL GET_ADRTEKSYM
(1) 3975/    2614 : 7E                  		LD A,(HL)
(1) 3976/    2615 : F5                  		PUSH AF
(1) 3977/    2616 : CD 77 23            		CALL FIND_END_SEC
(1) 3978/    2619 : F1                  		POP AF
(1) 3979/    261A : 37                  		SCF
(1) 3980/    261B : C9                  		RET
(1) 3981/    261C :                     
(1) 3982/    261C : 0E 0F               CP_FILE_OPENED	LD C,0X0F
(1) 3983/    261E : EF                  		RST 0X28
(1) 3984/    261F : 7E                  		LD A,(HL)
(1) 3985/    2620 : B7                  		OR A
(1) 3986/    2621 : C9                  		RET
(1) 3987/    2622 :                     
(1) 3988/    2622 : 2A 11 5D            CLOSE		LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 3989/    2625 : 22 5D 5C            		LD (CH_ADD),HL
(1) 3990/    2628 : CD 03 1E            		CALL SET_NUM_CHAN
(1) 3991/    262B : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 3992/    262E : 3A DB 5C            		LD A,(TRD_5CDB)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 101 - 12/15/2013 13:00:27


(1) 3993/    2631 : E7                  		RST 0X20
(1) 3994/    2632 : 27 17               		DW 0X1727
(1) 3995/    2634 : 78                  		LD A,B
(1) 3996/    2635 : B1                  		OR C
(1) 3997/    2636 : CA CA 01            		JP Z,END_COMAND
(1) 3998/    2639 : E5                  		PUSH HL
(1) 3999/    263A : 2A 4F 5C            		LD HL,(CHANS)
(1) 4000/    263D : 09                  		ADD HL,BC
(1) 4001/    263E : 7E                  		LD A,(HL)
(1) 4002/    263F : 21 0E 3D            		LD HL,LOC_3D0E
(1) 4003/    2642 : BC                  		CP H
(1) 4004/    2643 : E1                  		POP HL
(1) 4005/    2644 : C2 07 22            		JP NZ,LOC_2228
(1) 4006/    2647 : 36 00               		LD (HL),0
(1) 4007/    2649 : 23                  		INC HL
(1) 4008/    264A : 36 00               		LD (HL),0
(1) 4009/    264C : ED 43 D9 5C         		LD (TRD_5CD9),BC	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 4010/    2650 : 2A 4F 5C            		LD HL,(CHANS)
(1) 4011/    2653 : 09                  		ADD HL,BC
(1) 4012/    2654 : 2B                  		DEC HL
(1) 4013/    2655 : 22 D7 5C            		LD (TRD_5CD7), HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 4014/    2658 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 4015/    2658 : CD 9A 26            		CALL SUB_26CE
(1) 4016/    265B : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 4017/    265E :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 4018/    265E : 01 24 01            		LD BC,0X124
(1) 4019/    2661 : CD 26 1E            		CALL DEL_WORKRAM
(1) 4020/    2664 : 21 10 5C            		LD HL,STRMS
(1) 4021/    2667 : 06 10               		LD B,0X10
(1) 4022/    2669 : C5                  LOC_269D	PUSH BC
(1) 4023/    266A : ED 4B D9 5C         		LD BC,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 4024/    266E : 5E                  		LD E,(HL)
(1) 4025/    266F : 23                  		INC HL
(1) 4026/    2670 : 56                  		LD D,(HL)
(1) 4027/    2671 : EB                  		EX DE,HL
(1) 4028/    2672 : ED 42               		SBC HL,BC
(1) 4029/    2674 : EB                  		EX DE,HL
(1) 4030/    2675 : 38 11               		JR C,LOC_26BC
(1) 4031/    2677 : 56                  		LD D,(HL)
(1) 4032/    2678 : 2B                  		DEC HL
(1) 4033/    2679 : 5E                  		LD E,(HL)
(1) 4034/    267A : 23                  		INC HL
(1) 4035/    267B : E5                  		PUSH HL
(1) 4036/    267C : EB                  		EX DE,HL
(1) 4037/    267D : 01 24 01            		LD BC,0X124
(1) 4038/    2680 : ED 42               		SBC HL,BC
(1) 4039/    2682 : EB                  		EX DE,HL
(1) 4040/    2683 : E1                  		POP HL
(1) 4041/    2684 : 72                  		LD (HL),D
(1) 4042/    2685 : 2B                  		DEC HL
(1) 4043/    2686 : 73                  		LD (HL),E
(1) 4044/    2687 : 23                  		INC HL
(1) 4045/    2688 : 23                  LOC_26BC	INC HL
(1) 4046/    2689 : C1                  		POP BC
(1) 4047/    268A : 10 DD               		DJNZ LOC_269D
(1) 4048/    268C : 2A 11 5D            		LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 4049/    268F : 01 24 01            		LD BC,0X124
(1) 4050/    2692 : ED 42               		SBC HL,BC
(1) 4051/    2694 : 22 11 5D            		LD (TRD_5D11),HL	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 4052/    2697 : C3 CA 01            		JP END_COMAND
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 102 - 12/15/2013 13:00:27


(1) 4053/    269A :                     
(1) 4054/    269A : 01 0F 00            SUB_26CE	LD BC,0X0F
(1) 4055/    269D : 09                  		ADD HL,BC
(1) 4056/    269E : 7E                  		LD A,(HL)
(1) 4057/    269F : B7                  		OR A
(1) 4058/    26A0 : C8                  		RET Z
(1) 4059/    26A1 : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 4060/    26A4 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 4061/    26A4 : 22 51 5C            		LD (CURCHL),HL
(1) 4062/    26A7 : CD AD 26            		CALL SAVE_HEAD_BLK
(1) 4063/    26AA : C3 D5 23            		JP SAVE_TEKSECTOR	; áÄèàëú íÖäìôÖÉé ëÖäíéêÄ
(1) 4064/    26AD :                     
(1) 4065/    26AD : 01 0D 00            SAVE_HEAD_BLK	LD BC,0X0D
(1) 4066/    26B0 : 09                  		ADD HL,BC
(1) 4067/    26B1 : 5E                  		LD E,(HL)
(1) 4068/    26B2 : 23                  		INC HL
(1) 4069/    26B3 : 56                  		LD D,(HL)
(1) 4070/    26B4 : 01 0D 00            		LD BC,0X0D
(1) 4071/    26B7 : 09                  		ADD HL,BC
(1) 4072/    26B8 : 73                  		LD (HL),E
(1) 4073/    26B9 : 23                  		INC HL
(1) 4074/    26BA : 72                  		LD (HL),D
(1) 4075/    26BB : 0E 10               		LD C,0X10
(1) 4076/    26BD : EF                  		RST 0X28
(1) 4077/    26BE : 11 DD 5C            		LD DE,TRD_5CDD		; àåü îÄâãÄ
(1) 4078/    26C1 : 01 10 00            		LD BC,0X10
(1) 4079/    26C4 : ED B0               		LDIR
(1) 4080/    26C6 : CD 1C 24            		CALL SET_DSK
(1) 4081/    26C9 : 0E 0C               		LD C,0X0C
(1) 4082/    26CB : EF                  		RST 0X28
(1) 4083/    26CC : 4E                  		LD C,(HL)
(1) 4084/    26CD : CD 5D 16            		CALL SET_HEAD_FILENAME
(1) 4085/    26D0 : C3 58 1E            		JP REWRITE_9SEC		; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 4086/    26D3 :                     
(1) 4087/    26D3 : 7E                  PRINT_MSG	LD A,(HL)
(1) 4088/    26D4 : E6 7F               		AND 0X7F
(1) 4089/    26D6 : D7                  		RST 0X10
(1) 4090/    26D7 : CB 7E               		BIT 7,(HL)
(1) 4091/    26D9 : 23                  		INC HL
(1) 4092/    26DA : C0                  		RET NZ
(1) 4093/    26DB : 18 F6               		JR PRINT_MSG		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 4094/    26DD :                     
(1) 4095/    26DD : 1A                  COMPARE_B_SYM	LD A,(DE)
(1) 4096/    26DE : BE                  		CP (HL)
(1) 4097/    26DF : C0                  		RET NZ
(1) 4098/    26E0 : 13                  		INC DE
(1) 4099/    26E1 : 23                  		INC HL
(1) 4100/    26E2 : 10 F9               		DJNZ COMPARE_B_SYM
(1) 4101/    26E4 : C9                  		RET
(1) 4102/    26E5 :                     
(1) 4103/    26E5 : 21 F9 27            LOC_271B	LD HL,TXT_NODISK_	; "NO DISK"
(1) 4104/    26E8 : 3E 06               		LD A,6
(1) 4105/    26EA : C3 48 1C            		JP PRINT_TXTERR
(1) 4106/    26ED :                     
(1) 4107/    26ED : 21 EA 27            ERR_DIRFULL	LD HL,ASC_27ED		; "DIRECTORY FULL"
(1) 4108/    26F0 : 3E 04               		LD A,4
(1) 4109/    26F2 : C3 48 1C            		JP PRINT_TXTERR
(1) 4110/    26F5 :                     
(1) 4111/    26F5 : 3E 1A               SET_TAPELDERR	LD A,0X1A
(1) 4112/    26F7 : 32 3A 5C            SET_NUM_ERR	LD (ERR_NR),A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 103 - 12/15/2013 13:00:27


(1) 4113/    26FA : C9                  		RET
(1) 4114/    26FB :                     
(1) 4115/    26FB : (MACRO)             		DUPL 0X2739-$,0XFF
(1) 4115/    26FB :                     DUPL:
(1) 4115/    26FB : =0H                 $$N             EQU (0X2739-$) / 1024
(1) 4115/    26FB : =3EH                $$M             EQU (0X2739-$) # 1024
(1) 4115/    26FB :                                     REPT $$N
(1) 4115/    26FB :                                     DB 1024 DUP(0XFF)
(1) 4115/    26FB :                                     ENDM
(1) 4115/    26FB : =>TRUE                              IF $$M <> 0
(1) 4115/    26FB : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF 
(1) 4115/    2739 : [4115]                              ENDIF
(1) 4116/    2739 :                     ;èêéÇÖêäÄ ÑéêéÜäà
(1) 4117/    2739 : AF                  COM_15		XOR A
(1) 4118/    273A : 32 D8 5C            		LD (TRD_5CD8),A		; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 4119/    273D :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 4120/    273D : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 4121/    2740 : =>TRUE              		IF EMU3D2F=1
(1) 4122/    2740 : F7                  		RST 0X30
(1) 4123/    2741 : 06                  		DB WIN1F
(1) 4124/    2742 : =>FALSE             		ELSE
(1) 4125/    2742 :                     		IN A,(0X1F)
(1) 4126/    2742 : [4121]              		ENDIF
(1) 4127/    2742 : 32 CD 5C            		LD (TRD_5CCD),A		; #80-ÉéíéÇçéëíú ÑàëäéÇéÑÄ
(1) 4128/    2745 : 5A                  		LD E,D
(1) 4129/    2746 : D5                  		PUSH DE
(1) 4130/    2747 : 7B                  		LD A,E
(1) 4131/    2748 : =>TRUE              		IF EMU3D2F=1
(1) 4132/    2748 : D3 8F               		OUT (0X8F),A
(1) 4133/    274A : =>FALSE             		ELSE
(1) 4134/    274A :                     		OUT (0X7F),A
(1) 4135/    274A : [4131]              		ENDIF
(1) 4136/    274A : 3E 18               		LD A,0X18;0X1B
(1) 4137/    274C : CD 9A 3D            		CALL COM2VG_WAIT
(1) 4138/    274F : 3A CD 5C            		LD A,(TRD_5CCD)		; #80-ÉéíéÇçéëíú ÑàëäéÇéÑÄ
(1) 4139/    2752 : E6 80               		AND 0X80
(1) 4140/    2754 : C4 A0 3E            		CALL NZ,PAUSE_3_C_A
(1) 4141/    2757 : D1                  		POP DE
(1) 4142/    2758 : CD 7D 20            		CALL CP_NUM_TRACK
(1) 4143/    275B : 3A D6 5C            		LD A,(TRD_5CD6)		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 4144/    275E : B7                  		OR A
(1) 4145/    275F : C8                  		RET Z
(1) 4146/    2760 : 3E 07               		LD A,7
(1) 4147/    2762 : 32 0F 5D            		LD (TRD_5D0F),A		; çéåÖê	éòàÅäà TR-DOS
(1) 4148/    2765 : C9                  		RET
(1) 4149/    2766 :                     
(1) 4150/    2766 : (MACRO)             TXT_OK_		DC "O.K."
(1) 4150/    2766 : =>TRUE                              IF STRLEN("O.K.")>1
(1) 4150/    2766 : 4F 2E 4B                            DB SUBSTR("O.K.",0,STRLEN("O.K.")-1)
(1) 4150/    2769 : [4150]                              ENDIF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 104 - 12/15/2013 13:00:27


(1) 4150/    2769 : =>TRUE                              IF STRLEN("O.K.")>0
(1) 4150/    2769 : AE                                  DB CHARFROMSTR("O.K.",STRLEN("O.K.")-1)|80H
(1) 4150/    276A : [4150]                              ENDIF
(1) 4151/    276A : 56 65 72 69 66 79   ASC_276B	DB "Verify Error.",0X8D
                    20 45 72 72 6F 72 
                    2E 8D 
(1) 4152/    2778 : 42 41 43 4B 55 50   ASC_2779	DB "BACKUP DISK",0X8D
                    20 44 49 53 4B 8D 
(1) 4153/    2784 : 49 6E 73 65 72 74   ASC_2785	DB "Insert Destination disk",0X0D
                    20 44 65 73 74 69 
                    6E 61 74 69 6F 6E 
                    20 64 69 73 6B 0D 
(1) 4154/    279C : (MACRO)             		DC "Then press Y"
(1) 4154/    279C : =>TRUE                              IF STRLEN("Then press Y")>1
(1) 4154/    279C : 54 68 65 6E 20 70                   DB SUBSTR("Then press Y",0,STRLEN("Then press Y")-1)
                    72 65 73 73 20 
(1) 4154/    27A7 : [4154]                              ENDIF
(1) 4154/    27A7 : =>TRUE                              IF STRLEN("Then press Y")>0
(1) 4154/    27A7 : D9                                  DB CHARFROMSTR("Then press Y",STRLEN("Then press Y")-1)|80H
(1) 4154/    27A8 : [4154]                              ENDIF
(1) 4155/    27A8 : (MACRO)             ASC_27AA	DC "Insert Source disk then press Y"
(1) 4155/    27A8 : =>TRUE                              IF STRLEN("Insert Source disk then press Y")>1
(1) 4155/    27A8 : 49 6E 73 65 72 74                   DB SUBSTR("Insert Source disk then press Y",0,STRLEN("Insert Source disk then press Y")-1)
                    20 53 6F 75 72 63 
                    65 20 64 69 73 6B 
                    20 74 68 65 6E 20 
                    70 72 65 73 73 20 
(1) 4155/    27C6 : [4155]                              ENDIF
(1) 4155/    27C6 : =>TRUE                              IF STRLEN("Insert Source disk then press Y")>0
(1) 4155/    27C6 : D9                                  DB CHARFROMSTR("Insert Source disk then press Y",STRLEN("Insert Source disk then press Y")-1)|80H
(1) 4155/    27C7 : [4155]                              ENDIF
(1) 4156/    27C7 : 2A 42 52 45 41 4B   ASC_27CA	DB "*BREAK*",0X8D
                    2A 8D 
(1) 4157/    27CF : 4F 75 74 20 4F 66   ASC_27D2	DB "Out Of RAM",0X8D
                    20 52 41 4D 8D 
(1) 4158/    27DA : 41 72 72 61 79 20   ASC_27DD	DB "Array not found",0X8D
                    6E 6F 74 20 66 6F 
                    75 6E 64 8D 
(1) 4159/    27EA : 44 69 72 65 63 74   ASC_27ED	DB "Directory full",0X8D
                    6F 72 79 20 66 75 
                    6C 6C 8D 
(1) 4160/    27F9 : 4E 6F 20 64 69 73   TXT_NODISK_	DB "No disk",0X8D
                    6B 8D 
(1) 4161/    2801 : 53 74 72 65 61 6D   ASC_2804	DB "Stream opened",0X8D
                    20 6F 70 65 6E 65 
                    64 8D 
(1) 4162/    280F : 4E 6F 74 20 64 69   ASC_2812	DB "Not disk file",0X8D
                    73 6B 20 66 69 6C 
                    65 8D 
(1) 4163/    281D : 46 69 6C 65 20 65   ASC_2820	DB "File exists",0X0D
                    78 69 73 74 73 0D 
(1) 4164/    2829 : (MACRO)             		DC "Over write?(Y/N)"
(1) 4164/    2829 : =>TRUE                              IF STRLEN("Over write?(Y/N)")>1
(1) 4164/    2829 : 4F 76 65 72 20 77                   DB SUBSTR("Over write?(Y/N)",0,STRLEN("Over write?(Y/N)")-1)
                    72 69 74 65 3F 28 
                    59 2F 4E 
(1) 4164/    2838 : [4164]                              ENDIF
(1) 4164/    2838 : =>TRUE                              IF STRLEN("Over write?(Y/N)")>0
(1) 4164/    2838 : A9                                  DB CHARFROMSTR("Over write?(Y/N)",STRLEN("Over write?(Y/N)")-1)|80H
(1) 4164/    2839 : [4164]                              ENDIF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 105 - 12/15/2013 13:00:27


(1) 4165/    2839 :                     
(1) 4166/    2839 : CD 1F 32            CALL_3D13	CALL SET_RWPORT0
(1) 4167/    283C : ED 53 04 5D         		LD (TRD_5D04),DE
(1) 4168/    2840 : 22 02 5D            		LD (TRD_5D02),HL
(1) 4169/    2843 : 21 01 02            		LD HL,CP_ERROR		; ÄÑêÖë	áÄÇÖêòÖçàü àçíÖêèêÖíÄíéêÄ
(1) 4170/    2846 : 22 1A 5D            		LD (TRD_5D1A),HL	; ÇçìíêÖççàâ ÄÑêÖë áÄÇÖêòÖçàü àçíÖêèêÖíÄíéêÄ äéåÄçÑ
(1) 4171/    2849 : 21 00 00            		LD HL,0
(1) 4172/    284C : 39                  		ADD HL,SP
(1) 4173/    284D : 22 1C 5D            		LD (TRD_5D1C),HL	; ëéïêÄçÖçàÖ íÖäìôÖÉé ëíÖäÄ
(1) 4174/    2850 : 2B                  		DEC HL
(1) 4175/    2851 : 2B                  		DEC HL
(1) 4176/    2852 : F9                  		LD SP,HL
(1) 4177/    2853 : F5                  		PUSH AF
(1) 4178/    2854 : 3E FF               		LD A,0XFF
(1) 4179/    2856 : 32 15 5D            		LD (TRD_5D15),A		; Öëãà 0,èÖóÄíÄíú òÄèäì	TR-DOS.àçÄóÖ çÖ	èÖóÄíÄíú
(1) 4180/    2859 : 32 1F 5D            		LD (TRD_5D1F),A
(1) 4181/    285C : CD 1D 02            		CALL MARK_SP		; ìëíÄçéÇäÄ ëíÖäÄ Ñãü èÖêÖïÇÄíÄ	éòàÅéä
(1) 4182/    285F : 21 7E 28            		LD HL,COMAND_TBL
(1) 4183/    2862 : 79                  		LD A,C
(1) 4184/    2863 : FE 1A               		CP LOW ((ECOMAND_TBL-COMAND_TBL)/2)+1
(1) 4185/    2865 : D2 CA 01            		JP NC,END_COMAND
(1) 4186/    2868 : 87                  		ADD A,A
(1) 4187/    2869 : 5F                  		LD E,A
(1) 4188/    286A : F1                  		POP AF
(1) 4189/    286B : 16 00               		LD D,0
(1) 4190/    286D : 19                  		ADD HL,DE
(1) 4191/    286E : 5E                  		LD E,(HL)
(1) 4192/    286F : 23                  		INC HL
(1) 4193/    2870 : 56                  		LD D,(HL)
(1) 4194/    2871 : 21 CA 01            		LD HL,END_COMAND
(1) 4195/    2874 : E5                  		PUSH HL
(1) 4196/    2875 : D5                  		PUSH DE
(1) 4197/    2876 : 2A 02 5D            		LD HL,(TRD_5D02)
(1) 4198/    2879 : ED 5B 04 5D         		LD DE,(TRD_5D04)
(1) 4199/    287D : C9                  		RET
(1) 4200/    287E :                     
(1) 4201/    287E : 98 3D               COMAND_TBL	DW COM_00		;ÇéëëíÄçéÇãÖçàÖ ÇÉ93
(1) 4202/    2880 : CB 3D               		DW COM_01		;çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1) 4203/    2882 : 63 3E               		DW COM_02		;ìëíÄçéÇäÄ ÉéãéÇäà çÄ ÑéêéÜäì
(1) 4204/    2884 : 02 3F               		DW COM_03		;ìëíÄçéÇäÄ çéåÖêÄ ëÖäíéêÄ
(1) 4205/    2886 : 06 3F               		DW COM_04		;ìëíÄçéÇäÄ ÄÑêÖëÄ ÅìîÖêÄ
(1) 4206/    2888 : 52 1E               		DW COM_05		;óíÖçàÖ ëÖäíéêéÇ
(1) 4207/    288A : 62 1E               		DW COM_06		;áÄèàëú ëÖäíéêéÇ
(1) 4208/    288C : B0 28               		DW COM_07		;ÇõÇéÑ äÄíÄãéÉÄ Ç äÄçÄã
(1) 4209/    288E : 4E 16               		DW COM_08		;ëóàíõÇÄçàÖ éèàëÄíÖãü Ç ÅìîÖê 0X5CDD
(1) 4210/    2890 : 56 16               		DW COM_09		;áÄèàëú éèàëÄíÖãü îÄâãÄ çÄ Ñàëä
(1) 4211/    2892 : EA 1C               		DW COM_0A		;èéàëä îÄâãÄ èé àåÖçà à êÄëòàêÖçàû
(1) 4212/    2894 : D3 28               		DW COM_0B		;áÄèàëú ÅãéäÄ äéÑéÇ çÄ Ñàëä
(1) 4213/    2896 : CA 28               		DW COM_0C		;áÄèàëú ÅÖâëàä èêéÉêÄååõ çÄ Ñàëä
(1) 4214/    2898 : CA 01               		DW END_COMAND
(1) 4215/    289A : 0F 29               		DW COM_0E		;áÄÉêìáäÄ àãà èêéÇÖêäÄ îÄâãÄ
(1) 4216/    289C : CA 01               		DW END_COMAND
(1) 4217/    289E : CA 01               		DW END_COMAND
(1) 4218/    28A0 : CA 01               		DW END_COMAND
(1) 4219/    28A2 : 26 29               		DW COM_12		;ìÑÄãÖçàÖ îÄâãÄ
(1) 4220/    28A4 : B8 28               		DW COM_13		;èÖêÖçéë éèàëÄíÖãü îÄâãÄ Ç ÅìîÖê 0X5CDD
(1) 4221/    28A6 : BB 28               		DW COM_14		;èÖêÖçéë éèàëÄíÖãü îÄâãÄ àá ÅìîÖêÄ 0X5CDD
(1) 4222/    28A8 : 39 27               		DW COM_15		;èêéÇÖêäÄ ÑéêéÜäà
(1) 4223/    28AA : EB 1F               		DW COM_16		;ìëíÄçéÇäÄ ëíéêéçõ 0 ÑàëäÄ
(1) 4224/    28AC : F6 1F               		DW COM_17		;ìëíÄçéÇäÄ ëíéêéçõ 1 ÑàëäÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 106 - 12/15/2013 13:00:27


(1) 4225/    28AE : 05 04               		DW COM_18		;çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 4226/    28B0 :                     ECOMAND_TBL
(1) 4227/    28B0 :                     
(1) 4228/    28B0 :                     ;ÇõÇéÑ äÄíÄãéÉÄ Ç äÄçÄã
(1) 4229/    28B0 : F5                  COM_07		PUSH AF
(1) 4230/    28B1 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 4231/    28B4 : F1                  		POP AF
(1) 4232/    28B5 : C3 7B 04            		JP LOC_479
(1) 4233/    28B8 :                     
(1) 4234/    28B8 :                     ;èÖêÖçéë éèàëÄíÖãü îÄâãÄ Ç ÅìîÖê 0X5CDD
(1) 4235/    28B8 : AF                  COM_13		XOR A
(1) 4236/    28B9 : 18 02               		JR LOC_28E5
(1) 4237/    28BB :                     
(1) 4238/    28BB :                     ;èÖêÖçéë éèàëÄíÖãü îÄâãÄ àá ÅìîÖêÄ 0X5CDD
(1) 4239/    28BB : 3E FF               COM_14		LD A,0XFF
(1) 4240/    28BD : 11 DD 5C            LOC_28E5	LD DE,TRD_5CDD		; àåü îÄâãÄ
(1) 4241/    28C0 : 01 10 00            		LD BC,0X10
(1) 4242/    28C3 : B7                  		OR A
(1) 4243/    28C4 : 28 01               		JR Z,LOC_28EF
(1) 4244/    28C6 : EB                  		EX DE,HL
(1) 4245/    28C7 : C3 02 36            LOC_28EF	JP EMU_LDIR
(1) 4246/    28CA :                     
(1) 4247/    28CA :                     ;áÄèàëú ÅÖâëàä èêéÉêÄååõ çÄ Ñàëä
(1) 4248/    28CA : CD 05 04            COM_0C		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 4249/    28CD : CD C5 1A            		CALL CP_FREE_ON_DSK
(1) 4250/    28D0 : C3 28 1B            		JP LOC_1B27
(1) 4251/    28D3 :                     
(1) 4252/    28D3 :                     ;áÄèàëú ÅãéäÄ äéÑéÇ çÄ Ñàëä
(1) 4253/    28D3 : 22 D7 5C            COM_0B		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 4254/    28D6 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 4255/    28D6 : ED 53 D9 5C         		LD (TRD_5CD9),DE	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 4256/    28DA : ED 53 DB 5C         		LD (TRD_5CDB),DE
(1) 4257/    28DE : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 4258/    28E1 : CD C5 1A            		CALL CP_FREE_ON_DSK
(1) 4259/    28E4 : C3 54 1B            		JP LOC_1B53
(1) 4260/    28E7 :                     
(1) 4261/    28E7 : (MACRO)             		DUPL 0X290F-$,0XFF
(1) 4261/    28E7 :                     DUPL:
(1) 4261/    28E7 : =0H                 $$N             EQU (0X290F-$) / 1024
(1) 4261/    28E7 : =28H                $$M             EQU (0X290F-$) # 1024
(1) 4261/    28E7 :                                     REPT $$N
(1) 4261/    28E7 :                                     DB 1024 DUP(0XFF)
(1) 4261/    28E7 :                                     ENDM
(1) 4261/    28E7 : =>TRUE                              IF $$M <> 0
(1) 4261/    28E7 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF 
(1) 4261/    290F : [4261]                              ENDIF
(1) 4262/    290F :                     ;áÄÉêìáäÄ àãà èêéÇÖêäÄ îÄâãÄ
(1) 4263/    290F : B7                  COM_0E		OR A
(1) 4264/    2910 : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 4265/    2913 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 4266/    2916 : ED 53 DB 5C         		LD (TRD_5CDB),DE
(1) 4267/    291A : CD AE 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 4268/    291D : CD A4 18            		CALL FIND_RD_HEAD
(1) 4269/    2920 : CD AA 18            		CALL CP_PARAMS		;WDC
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 107 - 12/15/2013 13:00:27


(1) 4270/    2923 : C3 22 19            		JP RD_FILE
(1) 4271/    2926 :                     
(1) 4272/    2926 :                     ;ìÑÄãÖçàÖ îÄâãÄ
(1) 4273/    2926 : CD 05 04            COM_12		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 4274/    2929 : CD AE 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 4275/    292C : C3 9F 07            		JP ERASE_FILES
(1) 4276/    292F :                     
(1) 4277/    292F :                     ; èéàëä	îÄâãÄ èé àåÖçà
(1) 4278/    292F : CD 5B 1C            FIND_FILE	CALL SET_FILENAME
(1) 4279/    2932 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 4280/    2935 : C3 AE 1C            		JP FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 4281/    2938 :                     
(1) 4282/    2938 : (MACRO)             		DUPL 0X294A-$,0XFF
(1) 4282/    2938 :                     DUPL:
(1) 4282/    2938 : =0H                 $$N             EQU (0X294A-$) / 1024
(1) 4282/    2938 : =12H                $$M             EQU (0X294A-$) # 1024
(1) 4282/    2938 :                                     REPT $$N
(1) 4282/    2938 :                                     DB 1024 DUP(0XFF)
(1) 4282/    2938 :                                     ENDM
(1) 4282/    2938 : =>TRUE                              IF $$M <> 0
(1) 4282/    2938 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
(1) 4282/    294A : [4282]                              ENDIF
(1) 4283/    294A :                     ; ëéáÑÄçàÖ ÅìîÖêÄ
(1) 4284/    294A : E5                  CREATE_BUF	PUSH HL
(1) 4285/    294B : D5                  		PUSH DE
(1) 4286/    294C : C5                  		PUSH BC
(1) 4287/    294D : F5                  		PUSH AF
(1) 4288/    294E : 21 0C 5D            		LD HL,TRD_5D0C
(1) 4289/    2951 : 7E                  		LD A,(HL)
(1) 4290/    2952 : B7                  		OR A
(1) 4291/    2953 : 28 3B               		JR Z,LOC_2992
(1) 4292/    2955 : E5                  		PUSH HL
(1) 4293/    2956 : 01 01 01            		LD BC,0X101
(1) 4294/    2959 : C5                  		PUSH BC
(1) 4295/    295A : CD FE 19            		CALL CP_FREE_RAM
(1) 4296/    295D : C1                  		POP BC
(1) 4297/    295E : E1                  		POP HL
(1) 4298/    295F : 36 00               		LD (HL),0
(1) 4299/    2961 : 21 25 5D            		LD HL,TRD_5D25
(1) 4300/    2964 : C5                  		PUSH BC
(1) 4301/    2965 : CD 2A 1E            		CALL RESERV_RAM
(1) 4302/    2968 : C1                  		POP BC
(1) 4303/    2969 : 2A 11 5D            		LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 4304/    296C : 09                  		ADD HL,BC
(1) 4305/    296D : 18 1E               		JR LOC_298F
(1) 4306/    296F :                     
(1) 4307/    296F : E5                  DEL_BUF		PUSH HL
(1) 4308/    2970 : D5                  		PUSH DE
(1) 4309/    2971 : C5                  		PUSH BC
(1) 4310/    2972 : F5                  		PUSH AF
(1) 4311/    2973 : 21 0C 5D            		LD HL,TRD_5D0C
(1) 4312/    2976 : 7E                  		LD A,(HL)
(1) 4313/    2977 : B7                  		OR A
(1) 4314/    2978 : 20 16               		JR NZ,LOC_2992
(1) 4315/    297A : 36 FF               		LD (HL),0XFF
(1) 4316/    297C : 21 25 5D            		LD HL,TRD_5D25
(1) 4317/    297F : 01 01 01            		LD BC,0X101
(1) 4318/    2982 : C5                  		PUSH BC
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 108 - 12/15/2013 13:00:27


(1) 4319/    2983 : CD 26 1E            		CALL DEL_WORKRAM
(1) 4320/    2986 : C1                  		POP BC
(1) 4321/    2987 : B7                  		OR A
(1) 4322/    2988 : 2A 11 5D            		LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 4323/    298B : ED 42               		SBC HL,BC
(1) 4324/    298D : 22 11 5D            LOC_298F	LD (TRD_5D11),HL	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 4325/    2990 : F1                  LOC_2992	POP AF
(1) 4326/    2991 : C1                  		POP BC
(1) 4327/    2992 : D1                  		POP DE
(1) 4328/    2993 : E1                  		POP HL
(1) 4329/    2994 : C9                  		RET
(1) 4330/    2995 :                     
(1) 4331/    2995 : (MACRO)             		DUPL 0X29B2-$,0XFF
(1) 4331/    2995 :                     DUPL:
(1) 4331/    2995 : =0H                 $$N             EQU (0X29B2-$) / 1024
(1) 4331/    2995 : =1DH                $$M             EQU (0X29B2-$) # 1024
(1) 4331/    2995 :                                     REPT $$N
(1) 4331/    2995 :                                     DB 1024 DUP(0XFF)
(1) 4331/    2995 :                                     ENDM
(1) 4331/    2995 : =>TRUE                              IF $$M <> 0
(1) 4331/    2995 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF 
(1) 4331/    29B2 : [4331]                              ENDIF
(1) 4332/    29B2 : 0D 2A 45 52 52 4F   TXT_ERROR_	DB 0X0D,"*ERROR*",0X8D
                    52 2A 8D 
(1) 4333/    29BB : 0D 4E 6F 20 53 70   TXT_NOSPACE_	DB 0X0D,"No Space",0X8D
                    61 63 65 8D 
(1) 4334/    29C5 : 0D 46 69 6C 65 20   TXT_FILEEXISTS_	DB 0X0D,"File exists",0X8D
                    65 78 69 73 74 73 
                    8D 
(1) 4335/    29D2 : 20 46 72 65 65 8D   TXT_FREE_	DB " Free",0X8D
(1) 4336/    29D8 : 0D                  READ_ONLY	DB 0X0D
(1) 4337/    29D9 : (MACRO)             		DC "Read Only"
(1) 4337/    29D9 : =>TRUE                              IF STRLEN("Read Only")>1
(1) 4337/    29D9 : 52 65 61 64 20 4F                   DB SUBSTR("Read Only",0,STRLEN("Read Only")-1)
                    6E 6C 
(1) 4337/    29E1 : [4337]                              ENDIF
(1) 4337/    29E1 : =>TRUE                              IF STRLEN("Read Only")>0
(1) 4337/    29E1 : F9                                  DB CHARFROMSTR("Read Only",STRLEN("Read Only")-1)|80H
(1) 4337/    29E2 : [4337]                              ENDIF
(1) 4338/    29E2 : 0D                  TXT_DISCERROR_	DB 0X0D
(1) 4339/    29E3 : (MACRO)             		DC "Disc Error"
(1) 4339/    29E3 : =>TRUE                              IF STRLEN("Disc Error")>1
(1) 4339/    29E3 : 44 69 73 63 20 45                   DB SUBSTR("Disc Error",0,STRLEN("Disc Error")-1)
                    72 72 6F 
(1) 4339/    29EC : [4339]                              ENDIF
(1) 4339/    29EC : =>TRUE                              IF STRLEN("Disc Error")>0
(1) 4339/    29EC : F2                                  DB CHARFROMSTR("Disc Error",STRLEN("Disc Error")-1)|80H
(1) 4339/    29ED : [4339]                              ENDIF
(1) 4340/    29ED : 0D                  TXT_R_O		DB 0X0D
(1) 4341/    29EE : (MACRO)             		DC "Rec.  O/F"
(1) 4341/    29EE : =>TRUE                              IF STRLEN("Rec.  O/F")>1
(1) 4341/    29EE : 52 65 63 2E 20 20                   DB SUBSTR("Rec.  O/F",0,STRLEN("Rec.  O/F")-1)
                    4F 2F 
(1) 4341/    29F6 : [4341]                              ENDIF
(1) 4341/    29F6 : =>TRUE                              IF STRLEN("Rec.  O/F")>0
(1) 4341/    29F6 : C6                                  DB CHARFROMSTR("Rec.  O/F",STRLEN("Rec.  O/F")-1)|80H
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 109 - 12/15/2013 13:00:27


(1) 4341/    29F7 : [4341]                              ENDIF
(1) 4342/    29F7 : (MACRO)             TXT_TITLE_	DC "Title: "
(1) 4342/    29F7 : =>TRUE                              IF STRLEN("Title: ")>1
(1) 4342/    29F7 : 54 69 74 6C 65 3A                   DB SUBSTR("Title: ",0,STRLEN("Title: ")-1)
(1) 4342/    29FD : [4342]                              ENDIF
(1) 4342/    29FD : =>TRUE                              IF STRLEN("Title: ")>0
(1) 4342/    29FD : A0                                  DB CHARFROMSTR("Title: ",STRLEN("Title: ")-1)|80H
(1) 4342/    29FE : [4342]                              ENDIF
(1) 4343/    29FE : 0D                  TXT_RIA_	DB 0X0D
(1) 4344/    29FF : (MACRO)             		DC "Retry,Abort,Ignore?"
(1) 4344/    29FF : =>TRUE                              IF STRLEN("Retry,Abort,Ignore?")>1
(1) 4344/    29FF : 52 65 74 72 79 2C                   DB SUBSTR("Retry,Abort,Ignore?",0,STRLEN("Retry,Abort,Ignore?")-1)
                    41 62 6F 72 74 2C 
                    49 67 6E 6F 72 65 
(1) 4344/    2A11 : [4344]                              ENDIF
(1) 4344/    2A11 : =>TRUE                              IF STRLEN("Retry,Abort,Ignore?")>0
(1) 4344/    2A11 : BF                                  DB CHARFROMSTR("Retry,Abort,Ignore?",STRLEN("Retry,Abort,Ignore?")-1)|80H
(1) 4344/    2A12 : [4344]                              ENDIF
(1) 4345/    2A12 : 0D                  TXT_TRK_	DB 0X0D
(1) 4346/    2A13 : (MACRO)             		DC "Trk "
(1) 4346/    2A13 : =>TRUE                              IF STRLEN("Trk ")>1
(1) 4346/    2A13 : 54 72 6B                            DB SUBSTR("Trk ",0,STRLEN("Trk ")-1)
(1) 4346/    2A16 : [4346]                              ENDIF
(1) 4346/    2A16 : =>TRUE                              IF STRLEN("Trk ")>0
(1) 4346/    2A16 : A0                                  DB CHARFROMSTR("Trk ",STRLEN("Trk ")-1)|80H
(1) 4346/    2A17 : [4346]                              ENDIF
(1) 4347/    2A17 : (MACRO)             TXT_SEC_	DC " sec "
(1) 4347/    2A17 : =>TRUE                              IF STRLEN(" sec ")>1
(1) 4347/    2A17 : 20 73 65 63                         DB SUBSTR(" sec ",0,STRLEN(" sec ")-1)
(1) 4347/    2A1B : [4347]                              ENDIF
(1) 4347/    2A1B : =>TRUE                              IF STRLEN(" sec ")>0
(1) 4347/    2A1B : A0                                  DB CHARFROMSTR(" sec ",STRLEN(" sec ")-1)|80H
(1) 4347/    2A1C : [4347]                              ENDIF
(1) 4348/    2A1C : 20 44 65 6C 2E 20   TXT_DELFILE_	DB " Del. File",0X8D
                    46 69 6C 65 8D 
(1) 4349/    2A27 : 0D                  TXT_NOFILES_	DB 0X0D
(1) 4350/    2A28 : 4E 6F 20 46 69 6C   TXT_NOFILES	DB "No File(s)",0X8D
                    65 28 73 29 8D 
(1) 4351/    2A33 :                     
(1) 4352/    2A33 :                     ;============DELETED MAGIC & GOTO===============
(1) 4353/    2A33 : (MACRO)             		DUPL 0X2A3B-$,0XFF
(1) 4353/    2A33 :                     DUPL:
(1) 4353/    2A33 : =0H                 $$N             EQU (0X2A3B-$) / 1024
(1) 4353/    2A33 : =8H                 $$M             EQU (0X2A3B-$) # 1024
(1) 4353/    2A33 :                                     REPT $$N
(1) 4353/    2A33 :                                     DB 1024 DUP(0XFF)
(1) 4353/    2A33 :                                     ENDM
(1) 4353/    2A33 : =>TRUE                              IF $$M <> 0
(1) 4353/    2A33 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF 
(1) 4353/    2A3B : [4353]                              ENDIF
(1) 4354/    2A3B : C3 02 36            		JP EMU_LDIR
(1) 4355/    2A3E :                     
(1) 4356/    2A3E : (MACRO)             		DUPL 0X2A4E-$,0XFF
(1) 4356/    2A3E :                     DUPL:
(1) 4356/    2A3E : =0H                 $$N             EQU (0X2A4E-$) / 1024
(1) 4356/    2A3E : =10H                $$M             EQU (0X2A4E-$) # 1024
(1) 4356/    2A3E :                                     REPT $$N
(1) 4356/    2A3E :                                     DB 1024 DUP(0XFF)
(1) 4356/    2A3E :                                     ENDM
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 110 - 12/15/2013 13:00:27


(1) 4356/    2A3E : =>TRUE                              IF $$M <> 0
(1) 4356/    2A3E : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF 
(1) 4356/    2A4E : [4356]                              ENDIF
(1) 4357/    2A4E : 01 FD 7F            		LD BC,0X7FFD
(1) 4358/    2A51 : 3E 10               		LD A,0X10
(1) 4359/    2A53 : C3 F4 35            		JP LOC_2A53_
(1) 4360/    2A56 :                     
(1) 4361/    2A56 : (MACRO)             		DUPL 0X2D87-$,0XFF
(1) 4361/    2A56 :                     DUPL:
(1) 4361/    2A56 : =0H                 $$N             EQU (0X2D87-$) / 1024
(1) 4361/    2A56 : =331H               $$M             EQU (0X2D87-$) # 1024
(1) 4361/    2A56 :                                     REPT $$N
(1) 4361/    2A56 :                                     DB 1024 DUP(0XFF)
(1) 4361/    2A56 :                                     ENDM
(1) 4361/    2A56 : =>TRUE                              IF $$M <> 0
(1) 4361/    2A56 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 111 - 12/15/2013 13:00:27


                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 112 - 12/15/2013 13:00:27


                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF 
(1) 4361/    2D87 : [4361]                              ENDIF
(1) 4362/    2D87 : =>TRUE              		IF EMU3D2F=1
(1) 4363/    2D87 : F7                  		RST 0X30
(1) 4364/    2D88 : 06                  		DB WIN1F
(1) 4365/    2D89 : =>FALSE             		ELSE
(1) 4366/    2D89 :                     		IN A,(0X1F)
(1) 4367/    2D89 : [4362]              		ENDIF
(1) 4368/    2D89 : E6 7F               		AND 0X7F
(1) 4369/    2D8B : C8                  		RET Z
(1) 4370/    2D8C : 15                  		DEC D
(1) 4371/    2D8D : E5                  		PUSH HL
(1) 4372/    2D8E : D5                  		PUSH DE
(1) 4373/    2D8F : 76                  		HALT
(1) 4374/    2D90 :                     
(1) 4375/    2D90 : (MACRO)             		DUPL 0X2F0A-$,0XFF
(1) 4375/    2D90 :                     DUPL:
(1) 4375/    2D90 : =0H                 $$N             EQU (0X2F0A-$) / 1024
(1) 4375/    2D90 : =17AH               $$M             EQU (0X2F0A-$) # 1024
(1) 4375/    2D90 :                                     REPT $$N
(1) 4375/    2D90 :                                     DB 1024 DUP(0XFF)
(1) 4375/    2D90 :                                     ENDM
(1) 4375/    2D90 : =>TRUE                              IF $$M <> 0
(1) 4375/    2D90 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 113 - 12/15/2013 13:00:27


                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
(1) 4375/    2F0A : [4375]                              ENDIF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 114 - 12/15/2013 13:00:27


(1) 4376/    2F0A : F6 3C               		OR 0X3C
(1) 4377/    2F0C : =>TRUE              LOC_2F0C	IF EMUWRFF
(1) 4378/    2F0C : F7                  		RST 0X30		;RST 0X30
(1) 4379/    2F0D : 04                  		DB WOUTFF
(1) 4380/    2F0E : =>FALSE             		ELSE
(1) 4381/    2F0E :                     		OUT (0XFF),A
(1) 4382/    2F0E : [4377]              		ENDIF
(1) 4383/    2F0E : C9                  		RET
(1) 4384/    2F0F :                     
(1) 4385/    2F0F : (MACRO)             		DUPL 0X2F17-$,0XFF
(1) 4385/    2F0F :                     DUPL:
(1) 4385/    2F0F : =0H                 $$N             EQU (0X2F17-$) / 1024
(1) 4385/    2F0F : =8H                 $$M             EQU (0X2F17-$) # 1024
(1) 4385/    2F0F :                                     REPT $$N
(1) 4385/    2F0F :                                     DB 1024 DUP(0XFF)
(1) 4385/    2F0F :                                     ENDM
(1) 4385/    2F0F : =>TRUE                              IF $$M <> 0
(1) 4385/    2F0F : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF 
(1) 4385/    2F17 : [4385]                              ENDIF
(1) 4386/    2F17 : E6 6F               		AND 0X6F		;LORD OF CHAOS
(1) 4387/    2F19 : 18 F1               		JR LOC_2F0C
(1) 4388/    2F1B :                     
(1) 4389/    2F1B : 7B                  LOC_2F1B	LD A,E			;EXOLON
(1) 4390/    2F1C : 3C                  		INC A
(1) 4391/    2F1D : =>TRUE              		IF EMU3D2F=1
(1) 4392/    2F1D : D3 6F               		OUT (0X6F),A
(1) 4393/    2F1F : =>FALSE             		ELSE
(1) 4394/    2F1F :                     		OUT (0X5F),A
(1) 4395/    2F1F : [4391]              		ENDIF
(1) 4396/    2F1F : E5                  		PUSH HL
(1) 4397/    2F20 : 16 14               		LD D,0X14
(1) 4398/    2F22 : D5                  		PUSH DE
(1) 4399/    2F23 : F3                  LOC_2F23	DI
(1) 4400/    2F24 : 0E 7F               		LD C,0X7F
(1) 4401/    2F26 : 3E 80               		LD A,0X80
(1) 4402/    2F28 : =>TRUE              		IF EMU3D2F=1
(1) 4403/    2F28 : F7                  		RST 0X30
(1) 4404/    2F29 : 00                  		DB WOUT1F
(1) 4405/    2F2A : =>FALSE             		ELSE
(1) 4406/    2F2A :                     		OUT (0X1F),A
(1) 4407/    2F2A : [4402]              		ENDIF
(1) 4408/    2F2A : CD E5 3F            		CALL RD_DATAPORT
(1) 4409/    2F2D : D1                  		POP DE
(1) 4410/    2F2E : E1                  		POP HL
(1) 4411/    2F2F : =>TRUE              		IF EMU3D2F=1
(1) 4412/    2F2F : F7                  		RST 0X30
(1) 4413/    2F30 : 06                  		DB WIN1F
(1) 4414/    2F31 : =>FALSE             		ELSE
(1) 4415/    2F31 :                     		IN A,(0X1F)
(1) 4416/    2F31 : [4411]              		ENDIF
(1) 4417/    2F31 : E6 7F               		AND 0X7F
(1) 4418/    2F33 : C8                  		RET Z
(1) 4419/    2F34 : 15                  		DEC D
(1) 4420/    2F35 : E5                  		PUSH HL
(1) 4421/    2F36 : D5                  		PUSH DE
(1) 4422/    2F37 : 20 EA               		JR NZ,LOC_2F23
(1) 4423/    2F39 : 76                  		HALT
(1) 4424/    2F3A :                     
(1) 4425/    2F3A : (MACRO)             		DUPL 0X2F4D-$,0XFF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 115 - 12/15/2013 13:00:27


(1) 4425/    2F3A :                     DUPL:
(1) 4425/    2F3A : =0H                 $$N             EQU (0X2F4D-$) / 1024
(1) 4425/    2F3A : =13H                $$M             EQU (0X2F4D-$) # 1024
(1) 4425/    2F3A :                                     REPT $$N
(1) 4425/    2F3A :                                     DB 1024 DUP(0XFF)
(1) 4425/    2F3A :                                     ENDM
(1) 4425/    2F3A : =>TRUE                              IF $$M <> 0
(1) 4425/    2F3A : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF 
(1) 4425/    2F4D : [4425]                              ENDIF
(1) 4426/    2F4D : =>TRUE              		IF EMUWRFF
(1) 4427/    2F4D : F7                  		RST 0X30		;RST 0X30
(1) 4428/    2F4E : 04                  		DB WOUTFF
(1) 4429/    2F4F : =>FALSE             		ELSE
(1) 4430/    2F4F :                     		OUT (0XFF),A
(1) 4431/    2F4F : [4426]              		ENDIF
(1) 4432/    2F4F : 79                  		LD A,C
(1) 4433/    2F50 : =>TRUE              		IF EMU3D2F=1
(1) 4434/    2F50 : D3 8F               		OUT (0X8F),A
(1) 4435/    2F52 : =>FALSE             		ELSE
(1) 4436/    2F52 :                     		OUT (0X7F),A
(1) 4437/    2F52 : [4433]              		ENDIF
(1) 4438/    2F52 : (MACRO)             		DUPL 3,0		;CALL PAUSE725779TAKTS
(1) 4438/    2F52 :                     DUPL:
(1) 4438/    2F52 : =0H                 $$N             EQU (3) / 1024
(1) 4438/    2F52 : =3H                 $$M             EQU (3) # 1024
(1) 4438/    2F52 :                                     REPT $$N
(1) 4438/    2F52 :                                     DB 1024 DUP(0)
(1) 4438/    2F52 :                                     ENDM
(1) 4438/    2F52 : =>TRUE                              IF $$M <> 0
(1) 4438/    2F52 : 00 00 00                            DB $$M DUP(0)
(1) 4438/    2F55 : [4438]                              ENDIF
(1) 4439/    2F55 : 3E 18               		LD A,0X18		;0X1B
(1) 4440/    2F57 : =>TRUE              LOC_2F57	IF EMU3D2F=1
(1) 4441/    2F57 : F7                  		RST 0X30
(1) 4442/    2F58 : 00                  		DB WOUT1F
(1) 4443/    2F59 : =>FALSE             		ELSE
(1) 4444/    2F59 :                     		OUT (0X1F),A
(1) 4445/    2F59 : [4440]              		ENDIF
(1) 4446/    2F59 : =>TRUE              LOC_2F59	IF EMU3D2F=1
(1) 4447/    2F59 : F7                  		RST 0X30
(1) 4448/    2F5A : 0A                  		DB WINFF
(1) 4449/    2F5B : =>FALSE             		ELSE
(1) 4450/    2F5B :                     		IN A,(0XFF)
(1) 4451/    2F5B : [4446]              		ENDIF
(1) 4452/    2F5B : E6 80               		AND 0X80
(1) 4453/    2F5D : 28 FA               		JR Z,LOC_2F59
(1) 4454/    2F5F : C9                  		RET
(1) 4455/    2F60 :                     
(1) 4456/    2F60 : (MACRO)             		DUPL 0X2F65-$,0XFF
(1) 4456/    2F60 :                     DUPL:
(1) 4456/    2F60 : =0H                 $$N             EQU (0X2F65-$) / 1024
(1) 4456/    2F60 : =5H                 $$M             EQU (0X2F65-$) # 1024
(1) 4456/    2F60 :                                     REPT $$N
(1) 4456/    2F60 :                                     DB 1024 DUP(0XFF)
(1) 4456/    2F60 :                                     ENDM
(1) 4456/    2F60 : =>TRUE                              IF $$M <> 0
(1) 4456/    2F60 : FF FF FF FF FF                      DB $$M DUP(0XFF)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 116 - 12/15/2013 13:00:27


(1) 4456/    2F65 : [4456]                              ENDIF
(1) 4457/    2F65 : 3E 08               		LD A,0X08;0X0B		;SOLDIER OF THE FUTURE
(1) 4458/    2F67 : 18 EE               		JR LOC_2F57
(1) 4459/    2F69 :                     ;============DELETED MAGIC & GOTO===============
(1) 4460/    2F69 :                     
(1) 4461/    2F69 : (MACRO)             		DUPL 0X2F6F-$,0XFF
(1) 4461/    2F69 :                     DUPL:
(1) 4461/    2F69 : =0H                 $$N             EQU (0X2F6F-$) / 1024
(1) 4461/    2F69 : =6H                 $$M             EQU (0X2F6F-$) # 1024
(1) 4461/    2F69 :                                     REPT $$N
(1) 4461/    2F69 :                                     DB 1024 DUP(0XFF)
(1) 4461/    2F69 :                                     ENDM
(1) 4461/    2F69 : =>TRUE                              IF $$M <> 0
(1) 4461/    2F69 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
(1) 4461/    2F6F : [4461]                              ENDIF
(1) 4462/    2F6F : 22 02 5D            CALL2BASIC	LD (TRD_5D02),HL
(1) 4463/    2F72 : ED 53 04 5D         		LD (TRD_5D04),DE
(1) 4464/    2F76 : E1                  		POP HL
(1) 4465/    2F77 : 5E                  		LD E,(HL)
(1) 4466/    2F78 : 23                  		INC HL
(1) 4467/    2F79 : 56                  		LD D,(HL)
(1) 4468/    2F7A : 23                  		INC HL
(1) 4469/    2F7B : E5                  		PUSH HL
(1) 4470/    2F7C : 21 2F 3D            		LD HL,LOC_3D2F
(1) 4471/    2F7F : E5                  		PUSH HL
(1) 4472/    2F80 : D5                  		PUSH DE
(1) 4473/    2F81 : 21 C2 5C            		LD HL,TRD_5CC2
(1) 4474/    2F84 : E5                  		PUSH HL
(1) 4475/    2F85 : 2A 02 5D            		LD HL,(TRD_5D02)
(1) 4476/    2F88 : ED 5B 04 5D         		LD DE,(TRD_5D04)
(1) 4477/    2F8C : C9                  		RET
(1) 4478/    2F8D :                     
(1) 4479/    2F8D : 21 08 08            SET_VARS	LD HL,0X0808
(1) 4480/    2F90 : 22 FA 5C            		LD (TRD_5CFA),HL	; ÇêÖåü	èÖêÖåÖôÖçàü ÑàëäéÇéÑÄ A
(1) 4481/    2F93 : 22 FC 5C            		LD (TRD_5CFC),HL	; ÇêÖåü	èÖêÖåÖôÖçàü ÑàëäéÇéÑÄ C
(1) 4482/    2F96 : 21 83 83            		LD HL,0X8383
(1) 4483/    2F99 : 22 C8 5C            		LD (TRD_5CC8),HL	; êÖÜàå	êÄÅéíÄ ÑàëäéÇéÑÄ A
(1) 4484/    2F9C : 22 CA 5C            		LD (TRD_5CCA),HL	; êÖÜàå	êÄÅéíÄ ÑàëäéÇéÑÄ C
(1) 4485/    2F9F : AF                  		XOR A
(1) 4486/    2FA0 : 32 17 5D            		LD (TRD_5D17),A		; êàëéÇÄçàÖ áÄëíÄÇäà, Öëãà #AA
(1) 4487/    2FA3 : 32 18 5D            		LD (TRD_5D18),A
(1) 4488/    2FA6 : 32 0F 5D            		LD (TRD_5D0F),A		; çéåÖê	éòàÅäà TR-DOS
(1) 4489/    2FA9 : 32 1F 5D            		LD (TRD_5D1F),A
(1) 4490/    2FAC : CD 36 0E            		CALL SET_DRIVENAME
(1) 4491/    2FAF : 32 16 5D            		LD (TRD_5D16),A		; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí #FF)
(1) 4492/    2FB2 : =>TRUE              		IF EMUWRFF
(1) 4493/    2FB2 : F7                  		RST 0X30
(1) 4494/    2FB3 : 04                  		DB WOUTFF
(1) 4495/    2FB4 : =>FALSE             		ELSE
(1) 4496/    2FB4 :                     		OUT (0XFF),A
(1) 4497/    2FB4 : [4492]              		ENDIF
(1) 4498/    2FB4 : 3E FF               		LD A,0XFF
(1) 4499/    2FB6 : 32 3A 5C            		LD (ERR_NR),A
(1) 4500/    2FB9 : 32 0C 5D            		LD (TRD_5D0C),A
(1) 4501/    2FBC : 3E C9               		LD A,0XC9
(1) 4502/    2FBE : 32 C2 5C            		LD (TRD_5CC2),A
(1) 4503/    2FC1 : 3E D0               		LD A,0XD0
(1) 4504/    2FC3 : =>TRUE              		IF EMU3D2F=1
(1) 4505/    2FC3 : F7                  		RST 0X30
(1) 4506/    2FC4 : 00                  		DB WOUT1F
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 117 - 12/15/2013 13:00:27


(1) 4507/    2FC5 : =>FALSE             		ELSE
(1) 4508/    2FC5 :                     		OUT (0X1F),A	;FIX
(1) 4509/    2FC5 : [4504]              		ENDIF
(1) 4510/    2FC5 : C9                  		RET
(1) 4511/    2FC6 :                     
(1) 4512/    2FC6 : CD 10 05            CP_END_CAT	CALL CP_END_BUF
(1) 4513/    2FC9 : 7E                  		LD A,(HL)
(1) 4514/    2FCA : B7                  		OR A
(1) 4515/    2FCB : CA AC 03            		JP Z,END_OUT_DIR
(1) 4516/    2FCE : FE 01               		CP 1
(1) 4517/    2FD0 : CC 0B 05            		CALL Z,ADD_10
(1) 4518/    2FD3 : C0                  		RET NZ
(1) 4519/    2FD4 : 18 F0               		JR CP_END_CAT
(1) 4520/    2FD6 :                     
(1) 4521/    2FD6 : 06 01               LOAD_SEC2BUF	LD B,1
(1) 4522/    2FD8 : 21 25 5D            		LD HL,TRD_5D25
(1) 4523/    2FDB : C3 67 1E            		JP LOC_1E67
(1) 4524/    2FDE :                     
(1) 4525/    2FDE : E5                  LOAD_END_FILE	PUSH HL
(1) 4526/    2FDF : ED 5B F4 5C         		LD DE,(TRD_5CF4)
(1) 4527/    2FE3 : CD D6 2F            		CALL LOAD_SEC2BUF
(1) 4528/    2FE6 : 3A DB 5C            		LD A,(TRD_5CDB)
(1) 4529/    2FE9 : D1                  		POP DE
(1) 4530/    2FEA : B7                  		OR A
(1) 4531/    2FEB : C8                  		RET Z
(1) 4532/    2FEC : 4F                  		LD C,A
(1) 4533/    2FED : 21 25 5D            		LD HL,TRD_5D25
(1) 4534/    2FF0 : C3 02 36            		JP EMU_LDIR
(1) 4535/    2FF3 :                     
(1) 4536/    2FF3 : 2A 59 5C            SAE2E_LINE	LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 4537/    2FF6 : 22 11 5D            		LD (TRD_5D11),HL	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 4538/    2FF9 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 4539/    2FFC : 3E FF               		LD A,0XFF
(1) 4540/    2FFE : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 4541/    3001 : 21 DB 5C            		LD HL,TRD_5CDB
(1) 4542/    3004 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 4543/    3007 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 4544/    3007 : 18 0F               		JR LOC_3057
(1) 4545/    3009 :                     
(1) 4546/    3009 : 22 11 5D            SAE2_HL_	LD (TRD_5D11),HL	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 4547/    300C : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 4548/    300F : CD A5 30            		CALL CP_ADR_STR
(1) 4549/    3012 : C0                  		RET NZ
(1) 4550/    3013 : 23                  		INC HL
(1) 4551/    3014 : 23                  		INC HL
(1) 4552/    3015 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 4553/    3018 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 4554/    3018 : CD 8F 32            LOC_3057	CALL CMP_SPECSYM	;CALL FIND_KEYWORD
(1) 4555/    301B : 20 2E               		JR NZ,LOC_3087
(1) 4556/    301D : EB                  		EX DE,HL
(1) 4557/    301E : 13                  		INC DE
(1) 4558/    301F : 06 00               		LD B,0
(1) 4559/    3021 : 21 BC 31            		LD HL,BYTES_COM
(1) 4560/    3024 : 09                  		ADD HL,BC
(1) 4561/    3025 : 7E                  		LD A,(HL)
(1) 4562/    3026 : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 4563/    3029 : 77                  		LD (HL),A
(1) 4564/    302A : 23                  		INC HL
(1) 4565/    302B : EB                  		EX DE,HL
(1) 4566/    302C : E7                  		RST 0X20
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 118 - 12/15/2013 13:00:27


(1) 4567/    302D : DD 19               		DW 0X19DD
(1) 4568/    302F : C5                  		PUSH BC
(1) 4569/    3030 : E7                  		RST 0X20
(1) 4570/    3031 : E8 19               		DW 0X19E8
(1) 4571/    3033 : E7                  		RST 0X20
(1) 4572/    3034 : B0 16               		DW 0X16B0
(1) 4573/    3036 : C1                  		POP BC
(1) 4574/    3037 : 3A D6 5C            		LD A,(TRD_5CD6)		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 4575/    303A : B7                  		OR A
(1) 4576/    303B : 20 0E               		JR NZ,LOC_3087
(1) 4577/    303D : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 4578/    3040 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 4579/    3040 : 5E                  		LD E,(HL)
(1) 4580/    3041 : 23                  		INC HL
(1) 4581/    3042 : 56                  		LD D,(HL)
(1) 4582/    3043 : EB                  		EX DE,HL
(1) 4583/    3044 : B7                  		OR A
(1) 4584/    3045 : ED 42               		SBC HL,BC
(1) 4585/    3047 : EB                  		EX DE,HL
(1) 4586/    3048 : 72                  		LD (HL),D
(1) 4587/    3049 : 2B                  		DEC HL
(1) 4588/    304A : 73                  		LD (HL),E
(1) 4589/    304B : 2A D9 5C            LOC_3087	LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 4590/    304E : 7E                  		LD A,(HL)
(1) 4591/    304F : FE 0D               		CP 0X0D
(1) 4592/    3051 : C8                  		RET Z
(1) 4593/    3052 : 23                  		INC HL
(1) 4594/    3053 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 4595/    3056 : 7E                  		LD A,(HL)
(1) 4596/    3057 : FE 0D               		CP 0X0D
(1) 4597/    3059 : C8                  		RET Z
(1) 4598/    305A : FE 22               		CP 0X22
(1) 4599/    305C : 20 BA               		JR NZ, LOC_3057
(1) 4600/    305E : 23                  LOC_309A	INC HL
(1) 4601/    305F : 7E                  		LD A,(HL)
(1) 4602/    3060 : FE 0D               		CP 0X0D
(1) 4603/    3062 : C8                  		RET Z
(1) 4604/    3063 : FE 22               		CP 0X22
(1) 4605/    3065 : 20 F7               		JR NZ,LOC_309A
(1) 4606/    3067 : 23                  		INC HL
(1) 4607/    3068 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 4608/    306B : 18 AB               		JR LOC_3057
(1) 4609/    306D :                     
(1) 4610/    306D : 2A D9 5C            FIND_KEYWORD	LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 4611/    3070 : 11 FA 30            		LD DE,TBL_KEYWORD	; "SAVE"
(1) 4612/    3073 : 0E 00               		LD C,0
(1) 4613/    3075 : 7E                  LOC_30B1	LD A,(HL)
(1) 4614/    3076 : E6 DF               		AND 0XDF
(1) 4615/    3078 : 47                  		LD B,A
(1) 4616/    3079 : B7                  		OR A
(1) 4617/    307A : 20 03               		JR NZ,LOC_30BB
(1) 4618/    307C : 23                  		INC HL
(1) 4619/    307D : 18 F6               		JR LOC_30B1
(1) 4620/    307F :                     
(1) 4621/    307F : 1A                  LOC_30BB	LD A,(DE)
(1) 4622/    3080 : E6 80               		AND 0X80
(1) 4623/    3082 : 20 08               		JR NZ,LOC_30C8
(1) 4624/    3084 : 1A                  		LD A,(DE)
(1) 4625/    3085 : B8                  		CP B
(1) 4626/    3086 : 20 15               		JR NZ,LOC_30D9
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 119 - 12/15/2013 13:00:27


(1) 4627/    3088 : 23                  		INC HL
(1) 4628/    3089 : 13                  		INC DE
(1) 4629/    308A : 18 E9               		JR LOC_30B1
(1) 4630/    308C :                     
(1) 4631/    308C : 1A                  LOC_30C8	LD A,(DE)
(1) 4632/    308D : E6 7F               		AND 0X7F
(1) 4633/    308F : B8                  		CP B
(1) 4634/    3090 : C8                  		RET Z
(1) 4635/    3091 : 0C                  LOC_30CD	INC C
(1) 4636/    3092 : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 4637/    3095 : 13                  		INC DE
(1) 4638/    3096 : 1A                  		LD A,(DE)
(1) 4639/    3097 : FE FF               		CP 0XFF
(1) 4640/    3099 : 20 DA               		JR NZ,LOC_30B1
(1) 4641/    309B : B7                  		OR A
(1) 4642/    309C : C9                  		RET
(1) 4643/    309D :                     
(1) 4644/    309D : 13                  LOC_30D9	INC DE
(1) 4645/    309E : 1A                  		LD A,(DE)
(1) 4646/    309F : E6 80               		AND 0X80
(1) 4647/    30A1 : 28 FA               		JR Z,LOC_30D9
(1) 4648/    30A3 : 18 EC               		JR LOC_30CD
(1) 4649/    30A5 :                     
(1) 4650/    30A5 : 2A 45 5C            CP_ADR_STR	LD HL,(PPC)
(1) 4651/    30A8 : 23                  		INC HL
(1) 4652/    30A9 : 23                  		INC HL
(1) 4653/    30AA : 7C                  		LD A,H
(1) 4654/    30AB : B5                  		OR L
(1) 4655/    30AC : 28 0A               		JR Z,LOC_30F4
(1) 4656/    30AE : AF                  		XOR A
(1) 4657/    30AF : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 4658/    30B2 : 2B                  		DEC HL
(1) 4659/    30B3 : 2B                  		DEC HL
(1) 4660/    30B4 : E7                  		RST 0X20
(1) 4661/    30B5 : 6E 19               		DW 0X196E
(1) 4662/    30B7 : C9                  		RET
(1) 4663/    30B8 :                     
(1) 4664/    30B8 : 3E FF               LOC_30F4	LD A,0XFF
(1) 4665/    30BA : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 4666/    30BD : 2A 59 5C            		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 4667/    30C0 : C9                  		RET
(1) 4668/    30C1 :                     
(1) 4669/    30C1 :                     ; íÄÅãàñÄ ÅÖâëàä äéåÄçÑ Ñãü TR-DOS
(1) 4670/    30C1 : CF                  CODE_BYTE_COM	DB 0XCF		;CAT
(1) 4671/    30C2 : 2A                  		DB "*"
(1) 4672/    30C3 : D0                  		DB 0XD0		;FORMAT
(1) 4673/    30C4 : D1                  		DB 0XD1		;MOVE
(1) 4674/    30C5 : E6                  		DB 0XE6		;NEW
(1) 4675/    30C6 : D2                  		DB 0XD2		;ERASE
(1) 4676/    30C7 : EF                  		DB 0XEF		;LOAD
(1) 4677/    30C8 : F8                  		DB 0XF8		;SAVE
(1) 4678/    30C9 : FE                  		DB 0XFE		;RETURN
(1) 4679/    30CA : BE                  		DB 0XBE		;PEEK
(1) 4680/    30CB : F4                  		DB 0XF4		;POKE
(1) 4681/    30CC : D5                  		DB 0XD5		;MERGE
(1) 4682/    30CD : F7                  		DB 0XF7		;RUN
(1) 4683/    30CE : D3                  		DB 0XD3		;OPEN
(1) 4684/    30CF : D4                  		DB 0XD4		;CLOSE
(1) 4685/    30D0 : FF                  		DB 0XFF		;COPY
(1) 4686/    30D1 : F0                  		DB 0XF0		;LIST
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 120 - 12/15/2013 13:00:27


(1) 4687/    30D2 : D6                  		DB 0XD6		;VERIFY
(1) 4688/    30D3 : 2E                  		DB "."
(1) 4689/    30D4 :                     ECODE_BYTE_COM
(1) 4690/    30D4 :                     
(1) 4691/    30D4 :                     ; íÄÅãàñÄ ÄÑêÖëéÇ àëèéãçÖçàü äéåÄçÑ
(1) 4692/    30D4 : 35 04               SPIS_ADR_COM	DW CAT
(1) 4693/    30D6 : C3 0F               		DW COM_STAR
(1) 4694/    30D8 : BB 1E               		DW FORMAT
(1) 4695/    30DA : 9D 16               		DW MOVE
(1) 4696/    30DC : 43 05               		DW NEW			; ÇõèéãçÖçàÖ äéåÄçÑõ NEW
(1) 4697/    30DE : 82 07               		DW ERASE		; ÇõèéãçÖçàÖ äéåÄçÑõ ERASE
(1) 4698/    30E0 : 15 18               		DW LOAD
(1) 4699/    30E2 : D1 1A               		DW SAVE
(1) 4700/    30E4 : F5 1C               		DW RETURN
(1) 4701/    30E6 : A6 19               		DW PEEK
(1) 4702/    30E8 : AA 19               		DW POKE
(1) 4703/    30EA : B2 19               		DW MERGE
(1) 4704/    30EC : 4A 1D               		DW RUN
(1) 4705/    30EE : 64 21               		DW OPEN
(1) 4706/    30F0 : 22 26               		DW CLOSE
(1) 4707/    30F2 : 93 06               		DW COPY
(1) 4708/    30F4 : BC 11               		DW LIST
(1) 4709/    30F6 : 10 18               		DW VERIFY
(1) 4710/    30F8 : 1A 33               		DW COM_DOT
(1) 4711/    30FA :                     
(1) 4712/    30FA :                     ;íÄÅãàñÄ äãûóÖÇõï ëãéÇ
(1) 4713/    30FA : 53 41 56 45 80      TBL_KEYWORD	DB "SAVE",0X80
(1) 4714/    30FF : (MACRO)             		DC "SAVE"
(1) 4714/    30FF : =>TRUE                              IF STRLEN("SAVE")>1
(1) 4714/    30FF : 53 41 56                            DB SUBSTR("SAVE",0,STRLEN("SAVE")-1)
(1) 4714/    3102 : [4714]                              ENDIF
(1) 4714/    3102 : =>TRUE                              IF STRLEN("SAVE")>0
(1) 4714/    3102 : C5                                  DB CHARFROMSTR("SAVE",STRLEN("SAVE")-1)|80H
(1) 4714/    3103 : [4714]                              ENDIF
(1) 4715/    3103 : 4C 4F 41 44 80      		DB "LOAD",0X80
(1) 4716/    3108 : (MACRO)             		DC "LOAD"
(1) 4716/    3108 : =>TRUE                              IF STRLEN("LOAD")>1
(1) 4716/    3108 : 4C 4F 41                            DB SUBSTR("LOAD",0,STRLEN("LOAD")-1)
(1) 4716/    310B : [4716]                              ENDIF
(1) 4716/    310B : =>TRUE                              IF STRLEN("LOAD")>0
(1) 4716/    310B : C4                                  DB CHARFROMSTR("LOAD",STRLEN("LOAD")-1)|80H
(1) 4716/    310C : [4716]                              ENDIF
(1) 4717/    310C : 52 55 4E 80         		DB "RUN",0X80
(1) 4718/    3110 : (MACRO)             		DC "RUN"
(1) 4718/    3110 : =>TRUE                              IF STRLEN("RUN")>1
(1) 4718/    3110 : 52 55                               DB SUBSTR("RUN",0,STRLEN("RUN")-1)
(1) 4718/    3112 : [4718]                              ENDIF
(1) 4718/    3112 : =>TRUE                              IF STRLEN("RUN")>0
(1) 4718/    3112 : CE                                  DB CHARFROMSTR("RUN",STRLEN("RUN")-1)|80H
(1) 4718/    3113 : [4718]                              ENDIF
(1) 4719/    3113 : 43 41 54 80         		DB "CAT",0X80
(1) 4720/    3117 : (MACRO)             		DC "CAT"
(1) 4720/    3117 : =>TRUE                              IF STRLEN("CAT")>1
(1) 4720/    3117 : 43 41                               DB SUBSTR("CAT",0,STRLEN("CAT")-1)
(1) 4720/    3119 : [4720]                              ENDIF
(1) 4720/    3119 : =>TRUE                              IF STRLEN("CAT")>0
(1) 4720/    3119 : D4                                  DB CHARFROMSTR("CAT",STRLEN("CAT")-1)|80H
(1) 4720/    311A : [4720]                              ENDIF
(1) 4721/    311A : 45 52 41 53 45 80   		DB "ERASE",0X80
(1) 4722/    3120 : (MACRO)             		DC "ERASE"
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 121 - 12/15/2013 13:00:27


(1) 4722/    3120 : =>TRUE                              IF STRLEN("ERASE")>1
(1) 4722/    3120 : 45 52 41 53                         DB SUBSTR("ERASE",0,STRLEN("ERASE")-1)
(1) 4722/    3124 : [4722]                              ENDIF
(1) 4722/    3124 : =>TRUE                              IF STRLEN("ERASE")>0
(1) 4722/    3124 : C5                                  DB CHARFROMSTR("ERASE",STRLEN("ERASE")-1)|80H
(1) 4722/    3125 : [4722]                              ENDIF
(1) 4723/    3125 : 4E 45 57 80         		DB "NEW",0X80
(1) 4724/    3129 : (MACRO)             		DC "NEW"
(1) 4724/    3129 : =>TRUE                              IF STRLEN("NEW")>1
(1) 4724/    3129 : 4E 45                               DB SUBSTR("NEW",0,STRLEN("NEW")-1)
(1) 4724/    312B : [4724]                              ENDIF
(1) 4724/    312B : =>TRUE                              IF STRLEN("NEW")>0
(1) 4724/    312B : D7                                  DB CHARFROMSTR("NEW",STRLEN("NEW")-1)|80H
(1) 4724/    312C : [4724]                              ENDIF
(1) 4725/    312C : 4D 4F 56 45 80      		DB "MOVE",0X80
(1) 4726/    3131 : (MACRO)             		DC "MOVE"
(1) 4726/    3131 : =>TRUE                              IF STRLEN("MOVE")>1
(1) 4726/    3131 : 4D 4F 56                            DB SUBSTR("MOVE",0,STRLEN("MOVE")-1)
(1) 4726/    3134 : [4726]                              ENDIF
(1) 4726/    3134 : =>TRUE                              IF STRLEN("MOVE")>0
(1) 4726/    3134 : C5                                  DB CHARFROMSTR("MOVE",STRLEN("MOVE")-1)|80H
(1) 4726/    3135 : [4726]                              ENDIF
(1) 4727/    3135 : 4D 45 52 47 45 80   		DB "MERGE",0X80
(1) 4728/    313B : (MACRO)             		DC "MERGE"
(1) 4728/    313B : =>TRUE                              IF STRLEN("MERGE")>1
(1) 4728/    313B : 4D 45 52 47                         DB SUBSTR("MERGE",0,STRLEN("MERGE")-1)
(1) 4728/    313F : [4728]                              ENDIF
(1) 4728/    313F : =>TRUE                              IF STRLEN("MERGE")>0
(1) 4728/    313F : C5                                  DB CHARFROMSTR("MERGE",STRLEN("MERGE")-1)|80H
(1) 4728/    3140 : [4728]                              ENDIF
(1) 4729/    3140 : 50 45 45 4B 80      		DB "PEEK",0X80
(1) 4730/    3145 : (MACRO)             		DC "PEEK"
(1) 4730/    3145 : =>TRUE                              IF STRLEN("PEEK")>1
(1) 4730/    3145 : 50 45 45                            DB SUBSTR("PEEK",0,STRLEN("PEEK")-1)
(1) 4730/    3148 : [4730]                              ENDIF
(1) 4730/    3148 : =>TRUE                              IF STRLEN("PEEK")>0
(1) 4730/    3148 : CB                                  DB CHARFROMSTR("PEEK",STRLEN("PEEK")-1)|80H
(1) 4730/    3149 : [4730]                              ENDIF
(1) 4731/    3149 : 50 4F 4B 45 80      		DB "POKE",0X80
(1) 4732/    314E : (MACRO)             		DC "POKE"
(1) 4732/    314E : =>TRUE                              IF STRLEN("POKE")>1
(1) 4732/    314E : 50 4F 4B                            DB SUBSTR("POKE",0,STRLEN("POKE")-1)
(1) 4732/    3151 : [4732]                              ENDIF
(1) 4732/    3151 : =>TRUE                              IF STRLEN("POKE")>0
(1) 4732/    3151 : C5                                  DB CHARFROMSTR("POKE",STRLEN("POKE")-1)|80H
(1) 4732/    3152 : [4732]                              ENDIF
(1) 4733/    3152 : 4F 50 45 4E 83      		DB "OPEN",0X83
(1) 4734/    3157 : 43 4C 4F 53 45 83   		DB "CLOSE",0X83
(1) 4735/    315D : 43 4F 44 45 80      		DB "CODE",0X80
(1) 4736/    3162 : (MACRO)             		DC "CODE"
(1) 4736/    3162 : =>TRUE                              IF STRLEN("CODE")>1
(1) 4736/    3162 : 43 4F 44                            DB SUBSTR("CODE",0,STRLEN("CODE")-1)
(1) 4736/    3165 : [4736]                              ENDIF
(1) 4736/    3165 : =>TRUE                              IF STRLEN("CODE")>0
(1) 4736/    3165 : C5                                  DB CHARFROMSTR("CODE",STRLEN("CODE")-1)|80H
(1) 4736/    3166 : [4736]                              ENDIF
(1) 4737/    3166 : 52 4E 44 80         		DB "RND",0X80
(1) 4738/    316A : (MACRO)             		DC "RND"
(1) 4738/    316A : =>TRUE                              IF STRLEN("RND")>1
(1) 4738/    316A : 52 4E                               DB SUBSTR("RND",0,STRLEN("RND")-1)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 122 - 12/15/2013 13:00:27


(1) 4738/    316C : [4738]                              ENDIF
(1) 4738/    316C : =>TRUE                              IF STRLEN("RND")>0
(1) 4738/    316C : C4                                  DB CHARFROMSTR("RND",STRLEN("RND")-1)|80H
(1) 4738/    316D : [4738]                              ENDIF
(1) 4739/    316D : 44 41 54 41 80      		DB "DATA",0X80
(1) 4740/    3172 : (MACRO)             		DC "DATA"
(1) 4740/    3172 : =>TRUE                              IF STRLEN("DATA")>1
(1) 4740/    3172 : 44 41 54                            DB SUBSTR("DATA",0,STRLEN("DATA")-1)
(1) 4740/    3175 : [4740]                              ENDIF
(1) 4740/    3175 : =>TRUE                              IF STRLEN("DATA")>0
(1) 4740/    3175 : C1                                  DB CHARFROMSTR("DATA",STRLEN("DATA")-1)|80H
(1) 4740/    3176 : [4740]                              ENDIF
(1) 4741/    3176 : 53 43 52 45 45 4E   		DB "SCREEN",4,0X84
                    04 84 
(1) 4742/    317E : 53 43 52 45 45 4E   		DB "SCREEN",0X84
                    84 
(1) 4743/    3185 : 43 4F 50 59 80      		DB "COPY",0X80
(1) 4744/    318A : (MACRO)             		DC "COPY"
(1) 4744/    318A : =>TRUE                              IF STRLEN("COPY")>1
(1) 4744/    318A : 43 4F 50                            DB SUBSTR("COPY",0,STRLEN("COPY")-1)
(1) 4744/    318D : [4744]                              ENDIF
(1) 4744/    318D : =>TRUE                              IF STRLEN("COPY")>0
(1) 4744/    318D : D9                                  DB CHARFROMSTR("COPY",STRLEN("COPY")-1)|80H
(1) 4744/    318E : [4744]                              ENDIF
(1) 4745/    318E : 46 4F 52 4D 41 54   		DB "FORMAT",0X80
                    80 
(1) 4746/    3195 : (MACRO)             		DC "FORMAT"
(1) 4746/    3195 : =>TRUE                              IF STRLEN("FORMAT")>1
(1) 4746/    3195 : 46 4F 52 4D 41                      DB SUBSTR("FORMAT",0,STRLEN("FORMAT")-1)
(1) 4746/    319A : [4746]                              ENDIF
(1) 4746/    319A : =>TRUE                              IF STRLEN("FORMAT")>0
(1) 4746/    319A : D4                                  DB CHARFROMSTR("FORMAT",STRLEN("FORMAT")-1)|80H
(1) 4746/    319B : [4746]                              ENDIF
(1) 4747/    319B : 4C 49 53 54 80      		DB "LIST",0X80
(1) 4748/    31A0 : (MACRO)             		DC "LIST"
(1) 4748/    31A0 : =>TRUE                              IF STRLEN("LIST")>1
(1) 4748/    31A0 : 4C 49 53                            DB SUBSTR("LIST",0,STRLEN("LIST")-1)
(1) 4748/    31A3 : [4748]                              ENDIF
(1) 4748/    31A3 : =>TRUE                              IF STRLEN("LIST")>0
(1) 4748/    31A3 : D4                                  DB CHARFROMSTR("LIST",STRLEN("LIST")-1)|80H
(1) 4748/    31A4 : [4748]                              ENDIF
(1) 4749/    31A4 : 4C 49 4E 45 80      		DB "LINE",0X80
(1) 4750/    31A9 : (MACRO)             		DC "LINE"
(1) 4750/    31A9 : =>TRUE                              IF STRLEN("LINE")>1
(1) 4750/    31A9 : 4C 49 4E                            DB SUBSTR("LINE",0,STRLEN("LINE")-1)
(1) 4750/    31AC : [4750]                              ENDIF
(1) 4750/    31AC : =>TRUE                              IF STRLEN("LINE")>0
(1) 4750/    31AC : C5                                  DB CHARFROMSTR("LINE",STRLEN("LINE")-1)|80H
(1) 4750/    31AD : [4750]                              ENDIF
(1) 4751/    31AD : 56 45 52 49 46 59   		DB "VERIFY",0X80
                    80 
(1) 4752/    31B4 : (MACRO)             		DC "VERIFY"
(1) 4752/    31B4 : =>TRUE                              IF STRLEN("VERIFY")>1
(1) 4752/    31B4 : 56 45 52 49 46                      DB SUBSTR("VERIFY",0,STRLEN("VERIFY")-1)
(1) 4752/    31B9 : [4752]                              ENDIF
(1) 4752/    31B9 : =>TRUE                              IF STRLEN("VERIFY")>0
(1) 4752/    31B9 : D9                                  DB CHARFROMSTR("VERIFY",STRLEN("VERIFY")-1)|80H
(1) 4752/    31BA : [4752]                              ENDIF
(1) 4753/    31BA : FF FF               		DB 0XFF,0XFF
(1) 4754/    31BC :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 123 - 12/15/2013 13:00:27


(1) 4755/    31BC :                     ;ÅÄâíéÇõÖ äéÑõ äãûóÖÇõï ëãéÇ
(1) 4756/    31BC : F8 F8               BYTES_COM	DW 0XF8F8	;SAVE
(1) 4757/    31BE : EF EF               		DW 0XEFEF	;LOAD
(1) 4758/    31C0 : F7 F7               		DW 0XF7F7	;RUN
(1) 4759/    31C2 : CF CF               		DW 0XCFCF	;CAT
(1) 4760/    31C4 : D2 D2               		DW 0XD2D2	;ERASE
(1) 4761/    31C6 : E6 E6               		DW 0XE6E6	;NEW
(1) 4762/    31C8 : D1 D1               		DW 0XD1D1	;MOVE
(1) 4763/    31CA : D5 D5               		DW 0XD5D5	;MERGE
(1) 4764/    31CC : BE BE               		DW 0XBEBE	;PEEK
(1) 4765/    31CE : F4 F4               		DW 0XF4F4	;POKE
(1) 4766/    31D0 : D3 D4               		DW 0XD4D3	;OPEN CLOSE
(1) 4767/    31D2 : AF AF               		DW 0XAFAF	;CODE
(1) 4768/    31D4 : A5 A5               		DW 0XA5A5	;RND
(1) 4769/    31D6 : E4 E4               		DW 0XE4E4	;DATA
(1) 4770/    31D8 : AA AA               		DW 0XAAAA	;SCREEN
(1) 4771/    31DA : FF FF               		DW 0XFFFF	;COPY
(1) 4772/    31DC : D0 D0               		DW 0XD0D0	;FORMAT
(1) 4773/    31DE : F0 F0               		DW 0XF0F0	;LIST
(1) 4774/    31E0 : CA CA               		DW 0XCACA	;LINE
(1) 4775/    31E2 : D6 D6               		DW 0XD6D6	;VERIFY
(1) 4776/    31E4 : 00                  		DB 0
(1) 4777/    31E5 :                     
(1) 4778/    31E5 :                     ;===============FREE SPACE 2============
(1) 4779/    31E5 :                     		include extend.a80
(2)    1/    31E5 :                     
(2)    2/    31E5 :                     ;LAST UPDATE: 13.12.2013 savelij
(2)    3/    31E5 :                     
(2)    4/    31E5 :                     ;àçîÄ Ñãü ëéáÑÄçàü 9 ëÖäíéêÄ çéÇéÉé ÑàëäÄ
(2)    5/    31E5 : 00                  DSKINFO		DB 0			;+0XE1-çéåÖê èÖêÇéÉé ëÇéÅéÑçéÉé ëÖäíéêÄ
(2)    6/    31E6 : 01                  		DB 1			;+0XE2-çéåÖê èÖêÇéÉé ëÇéÅéÑçéÉé íêÖäÄ
(2)    7/    31E7 : 16                  		DB 0X16			;+0XE3-íàè ÑàëäÖíõ
(2)    8/    31E8 : 00                  		DB 0			;+0XE4-äéãàóÖëíÇé îÄâãéÇ çÄ ÑàëäÖíÖ
(2)    9/    31E9 : F0 09               SECFREE		DW 2544			;+0XE5-äéãàóÖëíÇé ëÇéÅéÑçõï ëÖäíéêéÇ
(2)   10/    31EB : 10                  		DB 0X10			;+0XE7-àÑÖçíàîàäÄñàéççõâ äéÑ TRDOS
(2)   11/    31EC : 00 00               		DW 0			;+0XE8-2 ÅÄâíÄ 0
(2)   12/    31EE : (MACRO)             		DUPL 9," "		;+0XEA-9 ÅÄâí 0X20
(2)   12/    31EE :                     DUPL:
(2)   12/    31EE : =0H                 $$N             EQU (9) / 1024
(2)   12/    31EE : =9H                 $$M             EQU (9) # 1024
(2)   12/    31EE :                                     REPT $$N
(2)   12/    31EE :                                     DB 1024 DUP(" ")
(2)   12/    31EE :                                     ENDM
(2)   12/    31EE : =>TRUE                              IF $$M <> 0
(2)   12/    31EE : 20 20 20 20 20 20                   DB $$M DUP(" ")
                    20 20 20 
(2)   12/    31F7 : [12]                                ENDIF
(2)   13/    31F7 : 00                  		DB 0			;+0XF3-1 ÅÄâí 0
(2)   14/    31F8 : 00                  		DB 0			;+0XF4-äéãàóÖëíÇé ìÑÄãÖççõï îÄâãéÇ
(2)   15/    31F9 : 52 41 4D 44 49 53   		DB "RAMDISKO"		;+0XF5-àåü ÑàëäÖíõ
                    4B 4F 
(2)   16/    3201 :                     DSK_END
(2)   17/    3201 :                     
(2)   18/    3201 : E5                  DISK_NONE	PUSH HL
(2)   19/    3202 : C5                  		PUSH BC
(2)   20/    3203 : 3E 09               		LD A,PAGE_RAMDISK
(2)   21/    3205 : 01 F7 77            		LD BC,WIN_P1
(2)   22/    3208 : ED 79               		OUT (C),A
(2)   23/    320A : 21 FF 7F            		LD HL,0X7FFF
(2)   24/    320D : 7E                  		LD A,(HL)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 124 - 12/15/2013 13:00:27


(2)   25/    320E : 25                  		DEC H
(2)   26/    320F : FE 52               		CP "R"
(2)   27/    3211 : 20 03               		JR NZ,DISK_NONE1
(2)   28/    3213 : 7E                  		LD A,(HL)
(2)   29/    3214 : FE 44               		CP "D"
(2)   30/    3216 : 08                  DISK_NONE1	EX AF,AF'
(2)   31/    3217 : 3E FA               		LD A,0XFA
(2)   32/    3219 : ED 79               		OUT (C),A
(2)   33/    321B : 08                  		EX AF,AF'
(2)   34/    321C : C1                  		POP BC
(2)   35/    321D : E1                  		POP HL
(2)   36/    321E : C9                  		RET
(2)   37/    321F :                     
(2)   38/    321F : C5                  SET_RWPORT0	PUSH BC
(2)   39/    3220 : F5                  		PUSH AF
(2)   40/    3221 : 01 F7 DE            		LD BC,CMOSD_SET_ADR
(2)   41/    3224 : 3E EB               		LD A,VIRT_REAL_DRIVE
(2)   42/    3226 : ED 79               		OUT (C),A
(2)   43/    3228 : 06 BE               		LD B,HIGH (CMOSD_RD_WR)
(2)   44/    322A : ED 78               		IN A,(C)
(2)   45/    322C : E6 0F               		AND 0X0F
(2)   46/    322E : 4F                  		LD C,A
(2)   47/    322F : DB 2F               		IN A,(RW_PORT0)
(2)   48/    3231 : E6 F0               		AND 0XF0
(2)   49/    3233 : B1                  		OR C
(2)   50/    3234 : D3 2F               		OUT (RW_PORT0),A
(2)   51/    3236 : F1                  		POP AF
(2)   52/    3237 : C1                  		POP BC
(2)   53/    3238 : C9                  		RET
(2)   54/    3239 :                     
(2)   55/    3239 : E3                  DOS2RST8	EX (SP),HL			;HL
(2)   56/    323A : F5                  		PUSH AF				;AF
(2)   57/    323B : C5                  		PUSH BC				;BC
(2)   58/    323C : ED 5F               		LD A,R
(2)   59/    323E : EA 43 32            		JP PE,DOS2RST8_01
(2)   60/    3241 : ED 5F               		LD A,R
(2)   61/    3243 : F3                  DOS2RST8_01	DI
(2)   62/    3244 : F5                  		PUSH AF				;RF
(2)   63/    3245 : E5                  		PUSH HL				;ADR_RET
(2)   64/    3246 : D5                  		PUSH DE				;DE
(2)   65/    3247 : DB BF               		IN A,(PEVO_CONF)
(2)   66/    3249 : 6F                  		LD L,A
(2)   67/    324A : F6 01               		OR 1
(2)   68/    324C : D3 BF               		OUT (PEVO_CONF),A
(2)   69/    324E : 01 BE 04            		LD BC,RD_1WINA0
(2)   70/    3251 : ED 78               		IN A,(C)
(2)   71/    3253 : E6 3E               		AND 0X3E
(2)   72/    3255 : 01 BE 04            		LD BC,RD_1WINA0
(2)   73/    3258 : ED 60               		IN H,(C)
(2)   74/    325A : CB 84               		RES 0,H
(2)   75/    325C : 06 09               		LD B,HIGH (RD_DOS7FFD)
(2)   76/    325E : ED 58               		IN E,(C)
(2)   77/    3260 : CB A3               		RES 4,E
(2)   78/    3262 : 05                  		DEC B
(2)   79/    3263 : ED 50               		IN D,(C)
(2)   80/    3265 : 01 F7 3F            		LD BC,WIN_A0
(2)   81/    3268 : ED 79               		OUT (C),A
(2)   82/    326A : 06 37               		LD B,HIGH (WIN_P0)
(2)   83/    326C : AF                  		XOR A
(2)   84/    326D : C3 14 00            		JP ADR_SEL_ROM
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 125 - 12/15/2013 13:00:27


(2)   85/    3270 :                     
(2)   86/    3270 : 01 1E 0F            EDOS2RST8	LD BC,DOS_NOEMUL
(2)   87/    3273 : 0A                  		LD A,(BC)
(2)   88/    3274 : E6 3E               		AND 0X3E
(2)   89/    3276 : BB                  		CP E
(2)   90/    3277 : 28 01               		JR Z,EDOS2RST02
(2)   91/    3279 : 03                  		INC BC
(2)   92/    327A : 0A                  EDOS2RST02	LD A,(BC)
(2)   93/    327B : 01 F7 3F            		LD BC,WIN_A0
(2)   94/    327E : CD 2B 3D            		CALL WR_BYTE_RET
(2)   95/    3281 : 7D                  		LD A,L
(2)   96/    3282 : D3 BF               		OUT (PEVO_CONF),A
(2)   97/    3284 : D1                  		POP DE
(2)   98/    3285 : E1                  		POP HL
(2)   99/    3286 : F1                  		POP AF
(2)  100/    3287 : E2 8B 32            		JP PO,EDOS2RST01
(2)  101/    328A : FB                  		EI
(2)  102/    328B : C1                  EDOS2RST01	POP BC
(2)  103/    328C : F1                  		POP AF
(2)  104/    328D : E3                  		EX (SP),HL
(2)  105/    328E : C9                  		RET
(2)  106/    328F :                     
(2)  107/    328F : 2A D9 5C            CMP_SPECSYM	LD HL,(TRD_5CD9)
(2)  108/    3292 : 7E                  		LD A,(HL)
(2)  109/    3293 : FE 2E               		CP "."
(2)  110/    3295 : C2 6D 30            		JP NZ,FIND_KEYWORD
(2)  111/    3298 : E1                  		POP HL
(2)  112/    3299 : C9                  		RET
(2)  113/    329A :                     
(2)  114/    329A :                     ;ABCDEFGHIJKLMNOPQRSTUVWXYZ
(2)  115/    329A :                     EXTEND_COM	
(2)  116/    329A : 02 43 44            		DB 2,"CD"
(2)  117/    329D : B4 34               		DW CD
(2)  118/    329F : 07 43 4C 52 43 4D   		DB 7,"CLRCMOS"
                    4F 53 
(2)  119/    32A7 : 9F 35               		DW CLRCMOS
(2)  120/    32A9 : 03 44 49 52         		DB 3,"DIR"
(2)  121/    32AD : 22 34               		DW DIR
(2)  122/    32AF : 05 44 52 49 56 45   		DB 5,"DRIVE"
(2)  123/    32B5 : 05 34               		DW DRIVE
(2)  124/    32B7 : 04 48 45 4C 50      		DB 4,"HELP"
(2)  125/    32BC : A3 35               		DW HELP
(2)  126/    32BE : 05 4D 4F 55 4E 54   		DB 5,"MOUNT"
(2)  127/    32C4 : DA 34               		DW MOUNT
(2)  128/    32C6 : 06 55 4D 4F 55 4E   		DB 6,"UMOUNT"
                    54 
(2)  129/    32CD : 82 35               		DW UMOUNT
(2)  130/    32CF : 03 56 45 52         		DB 3,"VER"
(2)  131/    32D3 : 97 33               		DW PRT_VERS
(2)  132/    32D5 : 04 56 49 52 54      		DB 4,"VIRT"
(2)  133/    32DA : 71 33               		DW SET_VIRT
(2)  134/    32DC : 00                  		DB 0
(2)  135/    32DD :                     
(2)  136/    32DD : 13                  END_EXT_COM	INC DE
(2)  137/    32DE : 1A                  		LD A,(DE)
(2)  138/    32DF : FE 3A               		CP ":"
(2)  139/    32E1 : 1B                  		DEC DE
(2)  140/    32E2 : C2 17 1D            		JP NZ,SINTAX_ERROR
(2)  141/    32E5 : 1A                  		LD A,(DE)
(2)  142/    32E6 : E6 DF               		AND 0DFH
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 126 - 12/15/2013 13:00:27


(2)  143/    32E8 : D6 41               		SUB "A"
(2)  144/    32EA : DA 17 1D            		JP C,SINTAX_ERROR
(2)  145/    32ED : FE 04               		CP 4
(2)  146/    32EF : 30 15               		JR NC,SELFATDRV
(2)  147/    32F1 : 32 F6 5C            		LD (TRD_5CF6),A			; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(2)  148/    32F4 : 32 19 5D            		LD (TRD_5D19),A			; ÑàëäéÇéÑ èé ìåéãóÄçàû
(2)  149/    32F7 : 47                  		LD B,A
(2)  150/    32F8 : 3A 16 5D            		LD A,(TRD_5D16)			; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí #FF)
(2)  151/    32FB : E6 7C               		AND 7CH
(2)  152/    32FD : B0                  		OR B
(2)  153/    32FE : 32 16 5D            		LD (TRD_5D16),A			; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí #FF)
(2)  154/    3301 : F7                  		RST 0X30
(2)  155/    3302 : 04                  		DB WOUTFF
(2)  156/    3303 : C3 E1 03            		JP ERR_OK
(2)  157/    3306 :                     
(2)  158/    3306 : D6 04               SELFATDRV	SUB 4
(2)  159/    3308 : F5                  		PUSH AF
(2)  160/    3309 : CF                  		RST 8
(2)  161/    330A : 50                  		DB _COM_DEV
(2)  162/    330B : 00                  		DB _DEVFIND
(2)  163/    330C : CF                  		RST 8
(2)  164/    330D : 50                  		DB _COM_DEV
(2)  165/    330E : 02                  		DB _KOL_VOL
(2)  166/    330F : F1                  		POP AF
(2)  167/    3310 : BB                  		CP E
(2)  168/    3311 : D2 17 1D            		JP NC,SINTAX_ERROR
(2)  169/    3314 : CF                  		RST 8
(2)  170/    3315 : 50                  		DB _COM_DEV
(2)  171/    3316 : 01                  		DB _SET_VOL
(2)  172/    3317 : C3 E1 03            		JP ERR_OK
(2)  173/    331A :                     
(2)  174/    331A : CD 75 1D            COM_DOT		CALL EXIT_IF_SINTAX
(2)  175/    331D : 21 9A 32            		LD HL,EXTEND_COM
(2)  176/    3320 : 3E 01               NEXT_CMP_COM	LD A,1
(2)  177/    3322 : 32 EF 5C            		LD (TRD_5CEF),A
(2)  178/    3325 : ED 5B 11 5D         		LD DE,(TRD_5D11)
(2)  179/    3329 : 13                  		INC DE
(2)  180/    332A : 7E                  		LD A,(HL)
(2)  181/    332B : 23                  		INC HL
(2)  182/    332C : A7                  		AND A
(2)  183/    332D : CA DD 32            		JP Z,END_EXT_COM
(2)  184/    3330 : 47                  		LD B,A
(2)  185/    3331 : 1A                  LOC_C34		LD A,(DE)
(2)  186/    3332 : E6 DF               		AND 0DFH
(2)  187/    3334 : BE                  		CP (HL)
(2)  188/    3335 : 20 0F               		JR NZ,PROPUSK
(2)  189/    3337 : 13                  		INC DE
(2)  190/    3338 : 23                  		INC HL
(2)  191/    3339 : 10 F6               		DJNZ LOC_C34
(2)  192/    333B : 1A                  		LD A,(DE)
(2)  193/    333C : FE 0D               		CP 0DH
(2)  194/    333E : 28 0E               		JR Z,NO_PARAM
(2)  195/    3340 : FE 20               		CP " "
(2)  196/    3342 : 28 09               		JR Z,GET_PARAM
(2)  197/    3344 : 18 03               		JR LOC_C58
(2)  198/    3346 :                     
(2)  199/    3346 : 23                  PROPUSK		INC HL
(2)  200/    3347 : 10 FD               		DJNZ PROPUSK
(2)  201/    3349 : 23                  LOC_C58		INC HL
(2)  202/    334A : 23                  		INC HL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 127 - 12/15/2013 13:00:27


(2)  203/    334B : 18 D3               		JR NEXT_CMP_COM
(2)  204/    334D :                     
(2)  205/    334D : 13                  GET_PARAM	INC DE
(2)  206/    334E : 7E                  NO_PARAM	LD A,(HL)
(2)  207/    334F : 23                  		INC HL
(2)  208/    3350 : 66                  		LD H,(HL)
(2)  209/    3351 : 6F                  		LD L,A
(2)  210/    3352 : E5                  		PUSH HL
(2)  211/    3353 : 21 CA 01            		LD HL,END_COMAND
(2)  212/    3356 : E3                  		EX (SP),HL
(2)  213/    3357 : E9                  		JP (HL)
(2)  214/    3358 :                     
(2)  215/    3358 :                     ;ÇõÇéÑ àåÖçà ÇàêíìÄãúçéÉé ÑàëäÄ Öëãà çÖ ìäÄáÄçé àåü Ñãü àáåÖçÖçàü
(2)  216/    3358 : 21 2F 0A            PRT_NUM_VIRT	LD HL,TXT4VIRTDRV
(2)  217/    335B : 06 0E               		LD B,ETXT4VIRTDRV-TXT4VIRTDRV-1
(2)  218/    335D : CD DC 33            		CALL PRT_B_HL_
(2)  219/    3360 : 3E 20               		LD A," "
(2)  220/    3362 : D7                  		RST 0X10
(2)  221/    3363 : 26 EB               		LD H,VIRT_REAL_DRIVE
(2)  222/    3365 : CD 0C 0E            		CALL READCMOS
(2)  223/    3368 : E6 03               		AND 3
(2)  224/    336A : C6 41               		ADD A,"A"
(2)  225/    336C : D7                  		RST 0X10
(2)  226/    336D : 3E 0D               		LD A,0X0D
(2)  227/    336F : D7                  		RST 0X10
(2)  228/    3370 : C9                  		RET
(2)  229/    3371 :                     
(2)  230/    3371 :                     ;ìëíÄçéÇäÄ ÇàêíìÄãúçéÉé ÑàëäÄ
(2)  231/    3371 : 1A                  SET_VIRT	LD A,(DE)
(2)  232/    3372 : FE 0D               		CP 0X0D
(2)  233/    3374 : 28 E2               		JR Z,PRT_NUM_VIRT
(2)  234/    3376 : 4F                  		LD C,A
(2)  235/    3377 : 13                  		INC DE
(2)  236/    3378 : 1A                  		LD A,(DE)
(2)  237/    3379 : FE 3A               		CP ":"
(2)  238/    337B : C2 17 1D            		JP NZ,SINTAX_ERROR
(2)  239/    337E : 79                  		LD A,C
(2)  240/    337F : CD 28 05            		CALL NUMDSK2BYTE		;èéãìóàãà çéÇõâ çéåÖê ÑàëäéÇéÑÄ ìäÄáÄççõâ Ç äéåÄçÑçéâ ëíêéäÖ
(2)  241/    3382 : 57                  		LD D,A				;ëéïêÄçàãà ÇêÖåÖççé ëÑÇàçìíõâ çéÇõâ çéåÖê ÇàêíìÄãúçéÉé ÑàëäéÇéÑÄ
(2)  242/    3383 : DB 2F               		IN A,(RW_PORT0)
(2)  243/    3385 : E6 FC               		AND %11111100
(2)  244/    3387 : B2                  		OR D
(2)  245/    3388 : D3 2F               		OUT (RW_PORT0),A
(2)  246/    338A : 26 EB               		LD H,VIRT_REAL_DRIVE
(2)  247/    338C : CD 0C 0E            		CALL READCMOS
(2)  248/    338F : E6 FC               		AND %11111100			;ëÅêéë ëíÄêéÉé çéåÖêÄ ÇàêíìÄãúçéÉé ÑàëäéÇéÑÄ
(2)  249/    3391 : B2                  		OR D				;ÑéÅÄÇàãà çéÇõâ çéåÖê ÇàêíìÄãúçéÉé ÑàëäéÇéÑÄ
(2)  250/    3392 : 6F                  		LD L,A
(2)  251/    3393 : CF                  		RST 8
(2)  252/    3394 : 55                  		DB _CMOS_RW
(2)  253/    3395 : 02                  		DB _WRITE_CMOS
(2)  254/    3396 : C9                  		RET
(2)  255/    3397 :                     
(2)  256/    3397 :                     ;èÖóÄíú ÇÖêëàà ÑéëÄ à ÑÄíõ äéåèàãüñàà
(2)  257/    3397 : 21 F8 3F            PRT_VERS	LD HL,0X3FF8
(2)  258/    339A : 06 06               		LD B,6
(2)  259/    339C : CD DC 33            		CALL PRT_B_HL_
(2)  260/    339F : 3E 20               		LD A," "
(2)  261/    33A1 : D7                  		RST 0X10
(2)  262/    33A2 : 4E                  		LD C,(HL)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 128 - 12/15/2013 13:00:27


(2)  263/    33A3 : 23                  		INC HL
(2)  264/    33A4 : 46                  		LD B,(HL)
(2)  265/    33A5 : C5                  		PUSH BC
(2)  266/    33A6 : 21 6C 03            		LD HL,ZASTAVKA_VER
(2)  267/    33A9 : 06 09               		LD B,9
(2)  268/    33AB : CD DC 33            		CALL PRT_B_HL_
(2)  269/    33AE : 3E 20               		LD A," "
(2)  270/    33B0 : D7                  		RST 0X10
(2)  271/    33B1 : C1                  		POP BC
(2)  272/    33B2 : 79                  		LD A,C
(2)  273/    33B3 : E6 1F               		AND 0X1F			;çìÜçõ 5 Åàí-óàëãé åÖëüñÄ
(2)  274/    33B5 : CD E7 33            		CALL A2TXT			;äéçÇÖêëàü à ìäãÄÑäÄ ÑÄíõ
(2)  275/    33B8 : CB 38               		SRL B
(2)  276/    33BA : CB 19               		RR C				;ëÑÇàçìãà Ñãü ñÖãéëíçéëíà çéåÖêÄ åÖëüñÄ
(2)  277/    33BC : 3E 2E               		LD A,"."
(2)  278/    33BE : D7                  		RST 0X10
(2)  279/    33BF : 79                  		LD A,C				;Çáüãà Åàíõ åÖëüñÄ
(2)  280/    33C0 : 0F                  		RRCA
(2)  281/    33C1 : 0F                  		RRCA
(2)  282/    33C2 : 0F                  		RRCA
(2)  283/    33C3 : 0F                  		RRCA				;ëÑÇàçìãà Ç åãÄÑòàÖ Åàíõ
(2)  284/    33C4 : E6 0F               		AND 0X0F			;çÄå çìÜçõ íéãúäé 4 ÅàíÄ åÖëüñÄ
(2)  285/    33C6 : CD E7 33            		CALL A2TXT			;äéçÇÖêëàü à ìäãÄÑäÄ åÖëüñÄ
(2)  286/    33C9 : 3E 2E               		LD A,"."
(2)  287/    33CB : D7                  		RST 0X10
(2)  288/    33CC : 78                  		LD A,B				;Çáüãà çéåÖê ÉéÑÄ
(2)  289/    33CD : E6 3F               		AND 0X3F			;çìÜçõ íéãúäé 6 Åàí
(2)  290/    33CF : CD E7 33            		CALL A2TXT			;äéçÇÖêëàü à ìäãÄÑäÄ ÉéÑÄ
(2)  291/    33D2 : CB 70               		BIT 6,B				;Öëãà Åàí 6 (ëÑÇàçìíõâ Åàí 7) ìëíÄçéÇãÖç
(2)  292/    33D4 : 21 E2 33            		LD HL,TXT_BETA
(2)  293/    33D7 : DF                  		RST 0X18
(2)  294/    33D8 : 3E 0D               		LD A,0X0D
(2)  295/    33DA : D7                  		RST 0X10
(2)  296/    33DB : C9                  		RET
(2)  297/    33DC :                     
(2)  298/    33DC :                     ;èÖóÄíú B=äéãàóÖëíÇé ëàåÇéãéÇ àá HL=ÄÑêÖë íÖäëíÄ Ñãü ÇõÇéÑÄ
(2)  299/    33DC : 7E                  PRT_B_HL_	LD A,(HL)
(2)  300/    33DD : 23                  		INC HL
(2)  301/    33DE : D7                  		RST 0X10
(2)  302/    33DF : 10 FB               		DJNZ PRT_B_HL_
(2)  303/    33E1 : C9                  		RET
(2)  304/    33E2 :                     
(2)  305/    33E2 : (MACRO)             TXT_BETA	DC " beta"
(2)  305/    33E2 : =>TRUE                              IF STRLEN(" beta")>1
(2)  305/    33E2 : 20 62 65 74                         DB SUBSTR(" beta",0,STRLEN(" beta")-1)
(2)  305/    33E6 : [305]                               ENDIF
(2)  305/    33E6 : =>TRUE                              IF STRLEN(" beta")>0
(2)  305/    33E6 : E1                                  DB CHARFROMSTR(" beta",STRLEN(" beta")-1)|80H
(2)  305/    33E7 : [305]                               ENDIF
(2)  306/    33E7 :                     
(2)  307/    33E7 :                     ;èÖêÖÇéÑ "A" Ç ÑÖëüíàóäì à Ç íÖäëí
(2)  308/    33E7 : 6F                  A2TXT		LD L,A
(2)  309/    33E8 : 26 00               		LD H,0
(2)  310/    33EA : 11 0A 00            		LD DE,10
(2)  311/    33ED : AF                  		XOR A
(2)  312/    33EE : 3D                  		DEC A
(2)  313/    33EF : 3C                  		INC A
(2)  314/    33F0 : ED 52               		SBC HL,DE
(2)  315/    33F2 : 30 FB               		JR NC,$-3
(2)  316/    33F4 : 19                  		ADD HL,DE
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 129 - 12/15/2013 13:00:27


(2)  317/    33F5 : C6 30               		ADD A,"0"
(2)  318/    33F7 : D7                  		RST 0X10
(2)  319/    33F8 : 7D                  		LD A,L
(2)  320/    33F9 : C6 30               		ADD A,"0"
(2)  321/    33FB : D7                  		RST 0X10
(2)  322/    33FC : C9                  		RET
(2)  323/    33FD :                     
(2)  324/    33FD : (MACRO)             DRIVES		DC "Drives: "
(2)  324/    33FD : =>TRUE                              IF STRLEN("Drives: ")>1
(2)  324/    33FD : 44 72 69 76 65 73                   DB SUBSTR("Drives: ",0,STRLEN("Drives: ")-1)
                    3A 
(2)  324/    3404 : [324]                               ENDIF
(2)  324/    3404 : =>TRUE                              IF STRLEN("Drives: ")>0
(2)  324/    3404 : A0                                  DB CHARFROMSTR("Drives: ",STRLEN("Drives: ")-1)|80H
(2)  324/    3405 : [324]                               ENDIF
(2)  325/    3405 :                     EDRIVES
(2)  326/    3405 :                     
(2)  327/    3405 : CF                  DRIVE		RST 8
(2)  328/    3406 : 50                  		DB _COM_DEV
(2)  329/    3407 : 00                  		DB _DEVFIND
(2)  330/    3408 : CF                  		RST 8
(2)  331/    3409 : 50                  		DB _COM_DEV
(2)  332/    340A : 02                  		DB _KOL_VOL
(2)  333/    340B : 3E 44               		LD A,"D"
(2)  334/    340D : 83                  		ADD A,E
(2)  335/    340E : F5                  		PUSH AF
(2)  336/    340F : 21 FD 33            		LD HL,DRIVES
(2)  337/    3412 : DF                  		RST 0X18
(2)  338/    3413 : 3E 45               		LD A,"E"
(2)  339/    3415 : D7                  		RST 0X10
(2)  340/    3416 : 3E 2D               		LD A,"-"
(2)  341/    3418 : D7                  		RST 0X10
(2)  342/    3419 : F1                  		POP AF
(2)  343/    341A : D7                  		RST 0X10
(2)  344/    341B : C9                  		RET
(2)  345/    341C :                     
(2)  346/    341C : (MACRO)             TXT_DIR		DC "<DIR> "
(2)  346/    341C : =>TRUE                              IF STRLEN("<DIR> ")>1
(2)  346/    341C : 3C 44 49 52 3E                      DB SUBSTR("<DIR> ",0,STRLEN("<DIR> ")-1)
(2)  346/    3421 : [346]                               ENDIF
(2)  346/    3421 : =>TRUE                              IF STRLEN("<DIR> ")>0
(2)  346/    3421 : A0                                  DB CHARFROMSTR("<DIR> ",STRLEN("<DIR> ")-1)|80H
(2)  346/    3422 : [346]                               ENDIF
(2)  347/    3422 :                     
(2)  348/    3422 : 06 00               DIR		LD B,0
(2)  349/    3424 : 1A                  		LD A,(DE)
(2)  350/    3425 : 13                  		INC DE
(2)  351/    3426 : FE 2F               		CP "/"
(2)  352/    3428 : 20 08               		JR NZ,DIR06
(2)  353/    342A : 1A                  		LD A,(DE)
(2)  354/    342B : E6 DF               		AND 0XDF
(2)  355/    342D : FE 4C               		CP "L"
(2)  356/    342F : 20 01               		JR NZ,DIR06
(2)  357/    3431 : 47                  		LD B,A
(2)  358/    3432 : CF                  DIR06		RST 8
(2)  359/    3433 : 50                  		DB _COM_DEV
(2)  360/    3434 : 00                  		DB _DEVFIND
(2)  361/    3435 : DD E5               		PUSH IX
(2)  362/    3437 : DD 68               		LD IXL,B
(2)  363/    3439 : CD 97 1D            		CALL CLEAR_SCREEN
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 130 - 12/15/2013 13:00:27


(2)  364/    343C : CD 88 1D            		CALL OPEN_CHAN_2
(2)  365/    343F : 3E 02               		LD A,2
(2)  366/    3441 : CF                  		RST 8
(2)  367/    3442 : 51                  		DB _COM_FAT
(2)  368/    3443 : 0B                  		DB _POS_FILES
(2)  369/    3444 : 1E 17               DIR05		LD E,0X17
(2)  370/    3446 : D5                  DIR01		PUSH DE
(2)  371/    3447 : C5                  		PUSH BC
(2)  372/    3448 : 21 25 5D            		LD HL,TRD_5D25
(2)  373/    344B : CF                  		RST 8
(2)  374/    344C : 51                  		DB _COM_FAT
(2)  375/    344D : 01                  		DB _READ_DIR
(2)  376/    344E : 11 0B 00            		LD DE,0X0B
(2)  377/    3451 : 19                  		ADD HL,DE
(2)  378/    3452 : 7E                  		LD A,(HL)
(2)  379/    3453 : ED 52               		SBC HL,DE
(2)  380/    3455 : E6 10               		AND 0X10
(2)  381/    3457 : 28 06               		JR Z,DIR04
(2)  382/    3459 : E5                  		PUSH HL
(2)  383/    345A : 21 1C 34            		LD HL,TXT_DIR
(2)  384/    345D : DF                  		RST 0X18
(2)  385/    345E : E1                  		POP HL
(2)  386/    345F : DD 7D               DIR04		LD A,IXL
(2)  387/    3461 : A7                  		AND A
(2)  388/    3462 : 28 0D               		JR Z,DIR08
(2)  389/    3464 : E5                  		PUSH HL
(2)  390/    3465 : CF                  		RST 8
(2)  391/    3466 : 51                  		DB _COM_FAT
(2)  392/    3467 : 04                  		DB _GET_LONGNAME
(2)  393/    3468 : E1                  		POP HL
(2)  394/    3469 : 7E                  DIR03		LD A,(HL)
(2)  395/    346A : A7                  		AND A
(2)  396/    346B : 28 2E               		JR Z,DIR02
(2)  397/    346D : 23                  		INC HL
(2)  398/    346E : D7                  		RST 0X10
(2)  399/    346F : 18 F8               		JR DIR03
(2)  400/    3471 :                     
(2)  401/    3471 : 06 08               DIR08		LD B,8
(2)  402/    3473 : 7E                  DIR081		LD A,(HL)
(2)  403/    3474 : FE 20               		CP " "
(2)  404/    3476 : 28 04               		JR Z,DIR082
(2)  405/    3478 : D7                  		RST 0X10
(2)  406/    3479 : 23                  		INC HL
(2)  407/    347A : 10 F7               		DJNZ DIR081
(2)  408/    347C : 78                  DIR082		LD A,B
(2)  409/    347D : A7                  		AND A
(2)  410/    347E : 28 08               		JR Z,DIR085
(2)  411/    3480 : 7E                  DIR086		LD A,(HL)
(2)  412/    3481 : FE 20               		CP " "
(2)  413/    3483 : 20 03               		JR NZ,DIR085
(2)  414/    3485 : 23                  		INC HL
(2)  415/    3486 : 10 F8               		DJNZ DIR086
(2)  416/    3488 : 7E                  DIR085		LD A,(HL)
(2)  417/    3489 : FE 20               		CP " "
(2)  418/    348B : 28 03               		JR Z,DIR084
(2)  419/    348D : 3E 2E               		LD A,"."
(2)  420/    348F : D7                  		RST 0X10
(2)  421/    3490 : 06 03               DIR084		LD B,3
(2)  422/    3492 : 7E                  DIR083		LD A,(HL)
(2)  423/    3493 : FE 20               		CP " "
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 131 - 12/15/2013 13:00:27


(2)  424/    3495 : 28 04               		JR Z,DIR02
(2)  425/    3497 : D7                  		RST 0X10
(2)  426/    3498 : 23                  		INC HL
(2)  427/    3499 : 10 F7               		DJNZ DIR083
(2)  428/    349B : 3E 0D               DIR02		LD A,0X0D
(2)  429/    349D : D7                  		RST 0X10
(2)  430/    349E : 3E 04               		LD A,4
(2)  431/    34A0 : 06 01               		LD B,1
(2)  432/    34A2 : CF                  		RST 8
(2)  433/    34A3 : 51                  		DB _COM_FAT
(2)  434/    34A4 : 0B                  		DB _POS_FILES
(2)  435/    34A5 : E1                  		POP HL
(2)  436/    34A6 : A7                  		AND A
(2)  437/    34A7 : ED 42               		SBC HL,BC
(2)  438/    34A9 : D1                  		POP DE
(2)  439/    34AA : 28 05               		JR Z,DIR07
(2)  440/    34AC : 1D                  		DEC E
(2)  441/    34AD : 20 97               		JR NZ,DIR01
(2)  442/    34AF : 18 93               		JR DIR05
(2)  443/    34B1 :                     
(2)  444/    34B1 : DD E1               DIR07		POP IX
(2)  445/    34B3 : C9                  		RET
(2)  446/    34B4 :                     
(2)  447/    34B4 : D5                  CD		PUSH DE
(2)  448/    34B5 : CF                  		RST 8
(2)  449/    34B6 : 50                  		DB _COM_DEV
(2)  450/    34B7 : 00                  		DB _DEVFIND
(2)  451/    34B8 : E1                  		POP HL
(2)  452/    34B9 : CF                  		RST 8
(2)  453/    34BA : 51                  		DB _COM_FAT
(2)  454/    34BB : 05                  		DB _FIND_NAME
(2)  455/    34BC : DA 17 1D            		JP C,SINTAX_ERROR
(2)  456/    34BF : CF                  		RST 8
(2)  457/    34C0 : 51                  		DB _COM_FAT
(2)  458/    34C1 : 02                  		DB _ENTER_DIR
(2)  459/    34C2 : C9                  		RET
(2)  460/    34C3 :                     
(2)  461/    34C3 : CF                  NOMER_DRV	RST 8
(2)  462/    34C4 : 50                  		DB _COM_DEV
(2)  463/    34C5 : 00                  		DB _DEVFIND
(2)  464/    34C6 : CF                  		RST 8
(2)  465/    34C7 : 50                  		DB _COM_DEV
(2)  466/    34C8 : 02                  		DB _KOL_VOL
(2)  467/    34C9 : CD 4A 29            		CALL CREATE_BUF
(2)  468/    34CC : 21 25 5D            		LD HL,TRD_5D25
(2)  469/    34CF : CF                  		RST 8
(2)  470/    34D0 : 51                  		DB _COM_FAT
(2)  471/    34D1 : 03                  		DB _GET_PATH
(2)  472/    34D2 : CD 74 36            		CALL PRINT2ZERO
(2)  473/    34D5 : CD 6F 29            		CALL DEL_BUF
(2)  474/    34D8 : 37                  		SCF
(2)  475/    34D9 : C9                  		RET
(2)  476/    34DA :                     
(2)  477/    34DA : D5                  MOUNT		PUSH DE
(2)  478/    34DB : CF                  		RST 8
(2)  479/    34DC : 50                  		DB _COM_DEV
(2)  480/    34DD : 00                  		DB _DEVFIND
(2)  481/    34DE : EB                  		EX DE,HL
(2)  482/    34DF : E1                  		POP HL
(2)  483/    34E0 : E5                  		PUSH HL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 132 - 12/15/2013 13:00:27


(2)  484/    34E1 : CF                  		RST 8
(2)  485/    34E2 : 51                  		DB _COM_FAT
(2)  486/    34E3 : 05                  		DB _FIND_NAME
(2)  487/    34E4 : DA 17 1D            		JP C,SINTAX_ERROR
(2)  488/    34E7 : D1                  		POP DE
(2)  489/    34E8 : 06 0C               		LD B,0X0C
(2)  490/    34EA : 1A                  MOUNT02		LD A,(DE)
(2)  491/    34EB : FE 21               		CP "!"
(2)  492/    34ED : 38 03               		JR C,MOUNT01
(2)  493/    34EF : 13                  		INC DE
(2)  494/    34F0 : 10 F8               		DJNZ MOUNT02
(2)  495/    34F2 : 1A                  MOUNT01		LD A,(DE)
(2)  496/    34F3 : FE 0D               		CP 0X0D
(2)  497/    34F5 : CA 17 1D            		JP Z,SINTAX_ERROR
(2)  498/    34F8 : FE 20               		CP " "
(2)  499/    34FA : C2 17 1D            		JP NZ,SINTAX_ERROR
(2)  500/    34FD : 13                  		INC DE
(2)  501/    34FE : 1A                  		LD A,(DE)
(2)  502/    34FF : FE 41               		CP "A"
(2)  503/    3501 : DA 17 1D            		JP C,SINTAX_ERROR
(2)  504/    3504 : E6 DF               		AND 0XDF
(2)  505/    3506 : FE 45               		CP "E"
(2)  506/    3508 : D2 17 1D            		JP NC,SINTAX_ERROR
(2)  507/    350B : D6 41               		SUB "A"
(2)  508/    350D : 4F                  		LD C,A
(2)  509/    350E : 13                  		INC DE
(2)  510/    350F : 1A                  		LD A,(DE)
(2)  511/    3510 : FE 3A               		CP ":"
(2)  512/    3512 : C2 17 1D            		JP NZ,SINTAX_ERROR
(2)  513/    3515 : 79                  		LD A,C
(2)  514/    3516 : CF                  		RST 8
(2)  515/    3517 : 53                  		DB _MOUNTER
(2)  516/    3518 : 00                  		DB _OPEN_MOUNT
(2)  517/    3519 : C9                  		RET
(2)  518/    351A :                     
(2)  519/    351A : DD E5               WR_RD_SEC_M	PUSH IX
(2)  520/    351C : ED 73 D0 3C         		LD (TEMP_SP),SP
(2)  521/    3520 : 2A AC 3C            		LD HL,(DOS_STEK)
(2)  522/    3523 : 11 D2 3C            		LD DE,SAVED_RAM
(2)  523/    3526 : 01 10 00            		LD BC,0X10
(2)  524/    3529 : ED B0               		LDIR
(2)  525/    352B : F9                  		LD SP,HL
(2)  526/    352C : DB 4F               		IN A,(RW_PORT1)			;Çáüãà çéåÖê íêÖäÄ
(2)  527/    352E : 87                  		ADD A,A				;ëíéêéç 2
(2)  528/    352F : 57                  		LD D,A
(2)  529/    3530 : 3A B0 3C            		LD A,(WR_FF)
(2)  530/    3533 : E6 10               		AND 0X10			;èêéÇÖêäÄ äÄäÄü ëíéêéçÄ ÑàëäÄ
(2)  531/    3535 : 20 01               		JR NZ,WRRDSECM1
(2)  532/    3537 : 14                  		INC D				;Ñãü ëíéêéçõ 1
(2)  533/    3538 : DB 6F               WRRDSECM1	IN A,(RW_PORT2)			;Çáüãà çéåÖê ëÖäíéêÄ
(2)  534/    353A : 5F                  		LD E,A				;D-íêÖä, E-ëÖäíéê
(2)  535/    353B : 2A BC 3C            		LD HL,(REG_L)			;HL=ÄÑêÖë óíÖçàü/áÄèàëà
(2)  536/    353E : 3A B0 3C            		LD A,(WR_FF)
(2)  537/    3541 : E6 03               		AND 3
(2)  538/    3543 : 4F                  		LD C,A				;çéåÖê ÑàëäéÇéÑÄ
(2)  539/    3544 : DD 7D               		LD A,IXL
(2)  540/    3546 : A7                  		AND A				;BIT 7=0-óíÖçàÖ
(2)  541/    3547 : 28 02               		JR Z,WRRDSECM2
(2)  542/    3549 : 3E 80               		LD A,0X80			;BIT 7=1-áÄèàëú
(2)  543/    354B : B1                  WRRDSECM2	OR C
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 133 - 12/15/2013 13:00:27


(2)  544/    354C : DD 6F               		LD IXL,A			;A=çéåÖê ÑàëäéÇéÑÄ+Åàí óíÖçàü/áÄèàëà
(2)  545/    354E : 3A CE 3C            		LD A,(TEK_ROMPAGE)
(2)  546/    3551 : E6 3E               		AND 0X3E
(2)  547/    3553 : DD 67               		LD IXH,A
(2)  548/    3555 : 01 F7 3F            		LD BC,WIN_A0
(2)  549/    3558 : ED 79               		OUT (C),A
(2)  550/    355A : DD 7D               		LD A,IXL
(2)  551/    355C : CF                  		RST 8
(2)  552/    355D : 53                  		DB _MOUNTER
(2)  553/    355E : 01                  		DB _RDWR_MOUNT
(2)  554/    355F : 01 F7 3F            		LD BC,WIN_A0
(2)  555/    3562 : DD 7C               		LD A,IXH
(2)  556/    3564 : ED 79               		OUT (C),A
(2)  557/    3566 : 06 37               		LD B,HIGH (WIN_P0)
(2)  558/    3568 : 3E 02               		LD A,PAGE_EVODOS
(2)  559/    356A : ED 79               		OUT (C),A
(2)  560/    356C : 22 BC 3C            		LD (REG_L),HL			;éÅçéÇàãà ÄÑêÖë óíÖçàü/áÄèàëà
(2)  561/    356F : 21 D2 3C            		LD HL,SAVED_RAM
(2)  562/    3572 : ED 5B AC 3C         		LD DE,(DOS_STEK)
(2)  563/    3576 : 01 10 00            		LD BC,0X10
(2)  564/    3579 : ED B0               		LDIR
(2)  565/    357B : ED 7B D0 3C         		LD SP,(TEMP_SP)
(2)  566/    357F : DD E1               		POP IX
(2)  567/    3581 : C9                  		RET
(2)  568/    3582 :                     
(2)  569/    3582 : 1A                  UMOUNT		LD A,(DE)
(2)  570/    3583 : 13                  		INC DE
(2)  571/    3584 : E6 DF               		AND 0XDF
(2)  572/    3586 : 47                  		LD B,A
(2)  573/    3587 : 1A                  		LD A,(DE)
(2)  574/    3588 : 13                  		INC DE
(2)  575/    3589 : FE 3A               		CP ":"
(2)  576/    358B : C2 17 1D            		JP NZ,SINTAX_ERROR
(2)  577/    358E : 78                  		LD A,B
(2)  578/    358F : FE 41               		CP "A"
(2)  579/    3591 : DA 17 1D            		JP C,SINTAX_ERROR
(2)  580/    3594 : FE 45               		CP "E"
(2)  581/    3596 : D2 17 1D            		JP NC,SINTAX_ERROR
(2)  582/    3599 : D6 41               		SUB "A"
(2)  583/    359B : CF                  		RST 8
(2)  584/    359C : 53                  		DB _MOUNTER
(2)  585/    359D : 04                  		DB _CLOSEMOUNT
(2)  586/    359E : C9                  		RET
(2)  587/    359F :                     
(2)  588/    359F : CF                  CLRCMOS		RST 8
(2)  589/    35A0 : 55                  		DB _CMOS_RW
(2)  590/    35A1 : 03                  		DB _CLEAR_CMOS
(2)  591/    35A2 : C9                  		RET
(2)  592/    35A3 :                     
(2)  593/    35A3 : CD 97 1D            HELP		CALL CLEAR_SCREEN
(2)  594/    35A6 : CD 88 1D            		CALL OPEN_CHAN_2
(2)  595/    35A9 : 21 9A 32            		LD HL,EXTEND_COM
(2)  596/    35AC : 0E 03               HELP4		LD C,3
(2)  597/    35AE : 7E                  HELP2		LD A,(HL)
(2)  598/    35AF : A7                  		AND A
(2)  599/    35B0 : C8                  		RET Z
(2)  600/    35B1 : 23                  		INC HL
(2)  601/    35B2 : 47                  		LD B,A
(2)  602/    35B3 : C5                  		PUSH BC
(2)  603/    35B4 : 3E 2E               		LD A,"."
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 134 - 12/15/2013 13:00:27


(2)  604/    35B6 : D7                  		RST 0X10
(2)  605/    35B7 : 7E                  HELP1		LD A,(HL)
(2)  606/    35B8 : 23                  		INC HL
(2)  607/    35B9 : D7                  		RST 0X10
(2)  608/    35BA : 10 FB               		DJNZ HELP1
(2)  609/    35BC : 23                  		INC HL
(2)  610/    35BD : 23                  		INC HL
(2)  611/    35BE : C1                  		POP BC
(2)  612/    35BF : 3E 09               		LD A,9
(2)  613/    35C1 : 90                  		SUB B
(2)  614/    35C2 : 47                  		LD B,A
(2)  615/    35C3 : 3E 20               HELP3		LD A," "
(2)  616/    35C5 : D7                  		RST 0X10
(2)  617/    35C6 : 10 FB               		DJNZ HELP3
(2)  618/    35C8 : 0D                  		DEC C
(2)  619/    35C9 : 20 E3               		JR NZ,HELP2
(2)  620/    35CB : 3E 0D               		LD A,0X0D
(2)  621/    35CD : D7                  		RST 0X10
(2)  622/    35CE : 18 DC               		JR HELP4
(2)  623/    35D0 :                     
(2)  624/    35D0 : F5                  BUGFIX_3EBF	PUSH AF
(2)  625/    35D1 : E5                  		PUSH HL
(2)  626/    35D2 : CD 08 3E            		CALL GET_TIME_HEAD
(2)  627/    35D5 : 47                  		LD B,A
(2)  628/    35D6 : E1                  		POP HL
(2)  629/    35D7 : F1                  		POP AF
(2)  630/    35D8 : C3 44 3E            		JP HEAD_POSITION
(2)  631/    35DB :                     
(1) 4780/    35DB :                     		include raznoe.a80
(2)    1/    35DB :                     
(2)    2/    35DB :                     ;LAST UPDATE: 10.11.2013 savelij
(2)    3/    35DB :                     
(2)    4/    35DB : CD 1F 32            CP_VARSTRDOS_	CALL SET_RWPORT0
(2)    5/    35DE : 2A 4F 5C            		LD HL,(CHANS)
(2)    6/    35E1 : C9                  		RET
(2)    7/    35E2 :                     
(2)    8/    35E2 : CD 36 0E            SET_DRIVENAME_	CALL SET_DRIVENAME
(2)    9/    35E5 : 32 16 5D            		LD (TRD_5D16),A		; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí #FF)
(2)   10/    35E8 : C9                  		RET
(2)   11/    35E9 :                     
(2)   12/    35E9 : CD 13 3E            GET_TYPE_DISK_	CALL GET_TYPE_DISK
(2)   13/    35EC : E6 80               		AND 0X80
(2)   14/    35EE : 3E 28               		LD A,0X28
(2)   15/    35F0 : C8                  		RET Z
(2)   16/    35F1 : 3E 50               		LD A,0X50
(2)   17/    35F3 : C9                  		RET
(2)   18/    35F4 :                     
(2)   19/    35F4 : =F5H                BCMP_EMU	EQU 0XF5
(2)   20/    35F4 :                     
(2)   21/    35F4 : =>TRUE              LOC_2A53_	IF EMU3D2F=1
(2)   22/    35F4 : F7                  		RST 0X30
(2)   23/    35F5 : 0F                  		DB WOUTCA
(2)   24/    35F6 : C9                  		RET
(2)   25/    35F7 : C9                  		RET
(2)   26/    35F8 : =>FALSE             		ELSE
(2)   27/    35F8 :                     		PUSH AF
(2)   28/    35F8 :                     		INC C
(2)   29/    35F8 :                     		JR Z,LOC2A53
(2)   30/    35F8 : [21]                		ENDIF
(2)   31/    35F8 : 0D                  		DEC C
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(raznoe.a80) - page 135 - 12/15/2013 13:00:27


(2)   32/    35F9 : F1                  		POP AF
(2)   33/    35FA : ED 79               		OUT (C),A
(2)   34/    35FC : C9                  		RET
(2)   35/    35FD :                     
(2)   36/    35FD : 0D                  LOC2A53		DEC C
(2)   37/    35FE : F1                  		POP AF
(2)   38/    35FF : F7                  		RST 0X30
(2)   39/    3600 : 0F                  		DB WOUTCA
(2)   40/    3601 : C9                  		RET
(2)   41/    3602 :                     
(2)   42/    3602 : F5                  EMU_LDIR	PUSH AF
(2)   43/    3603 : 7C                  		LD A,H
(2)   44/    3604 : FE 2A               		CP 0X2A
(2)   45/    3606 : 20 1A               		JR NZ,EMU_LDIR2
(2)   46/    3608 : 7D                  		LD A,L
(2)   47/    3609 : FE 54               		CP 0X54
(2)   48/    360B : 30 15               		JR NC,EMU_LDIR2
(2)   49/    360D : FE 50               		CP 0X50
(2)   50/    360F : 38 11               		JR C,EMU_LDIR2
(2)   51/    3611 : 09                  		ADD HL,BC
(2)   52/    3612 : E5                  		PUSH HL
(2)   53/    3613 : 21 ED 3F            		LD HL,0X3FF0-3
(2)   54/    3616 : FE 53               		CP 0X53
(2)   55/    3618 : 20 03               		JR NZ,EMU_LDIR0
(2)   56/    361A : 21 F0 3F            		LD HL,0X3FF0
(2)   57/    361D : ED B0               EMU_LDIR0	LDIR
(2)   58/    361F : E1                  		POP HL
(2)   59/    3620 : F1                  		POP AF
(2)   60/    3621 : C9                  		RET
(2)   61/    3622 :                     
(2)   62/    3622 : C5                  EMU_LDIR2	PUSH BC
(2)   63/    3623 : E5                  		PUSH HL
(2)   64/    3624 : 3A F4 35            		LD A,(LOC_2A53_)
(2)   65/    3627 : FE F5               		CP BCMP_EMU
(2)   66/    3629 : 21 1E 0F            		LD HL,DOS_NOEMUL
(2)   67/    362C : 01 F7 40            		LD BC,WIN_A0+0X100
(2)   68/    362F : C4 3B 3D            		CALL NZ,WRPORT_RET
(2)   69/    3632 : E1                  		POP HL
(2)   70/    3633 : C1                  		POP BC
(2)   71/    3634 : ED B0               		LDIR
(2)   72/    3636 : FE F5               EMU_LDIR4	CP BCMP_EMU
(2)   73/    3638 : 28 0D               		JR Z,EMU_LDIR3
(2)   74/    363A : E5                  		PUSH HL
(2)   75/    363B : C5                  		PUSH BC
(2)   76/    363C : 21 1F 0F            		LD HL,DOS_EMUL
(2)   77/    363F : 01 F7 40            		LD BC,WIN_A0+0X100
(2)   78/    3642 : CD 3B 3D            		CALL WRPORT_RET
(2)   79/    3645 : C1                  		POP BC
(2)   80/    3646 : E1                  		POP HL
(2)   81/    3647 : F1                  EMU_LDIR3	POP AF
(2)   82/    3648 : C9                  		RET
(2)   83/    3649 :                     
(2)   84/    3649 : CD 02 36            EMU_LDIR_RBC	CALL EMU_LDIR
(2)   85/    364C : C1                  		POP BC
(2)   86/    364D : C9                  		RET
(2)   87/    364E :                     
(2)   88/    364E : CD 02 36            EMU_LDIR_RHL	CALL EMU_LDIR
(2)   89/    3651 : E1                  		POP HL
(2)   90/    3652 : C9                  		RET
(2)   91/    3653 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(raznoe.a80) - page 136 - 12/15/2013 13:00:27


(2)   92/    3653 : 26 EB               PRINT_VIRTDRV	LD H,VIRT_REAL_DRIVE
(2)   93/    3655 : CD 0C 0E            		CALL READCMOS		;óíÖçàÖ çéåÖêÄ ÇàêíìÄãúçéÉé ÑàëäÄ
(2)   94/    3658 : E6 03               		AND 3			;çÄå çìÜçõ íéãúäé 2 åãÄÑòàï ÅàíÄ
(2)   95/    365A : C6 41               		ADD A,"A"		;èêÖéÅêÄáéÇÄãà Ç íÖäëí
(2)   96/    365C : D7                  		RST 0X10		;çÄèÖóÄíÄãà ÅìäÇì
(2)   97/    365D : C9                  		RET
(2)   98/    365E :                     
(2)   99/    365E :                     ;Öëãà äéåÄçÑÄ êÄëòàêÖççÄü íé èÖóÄíú àåÖçà FAT ìëíêéâëíÇÄ
(2)  100/    365E :                     ;àçÄóÖ èÖóÄíú àåÖçà TR-DOS ÑàëäéÇéÑÄ
(2)  101/    365E : 3A EF 5C            GET_COMMAND2	LD A,(TRD_5CEF)
(2)  102/    3661 : A7                  		AND A
(2)  103/    3662 : C4 C3 34            		CALL NZ,NOMER_DRV	;èÖóÄíú àåÖçà FAT ìëíêéâëíÇÄ Öëãà äéåÄçÑÄ çóàçÄÖíëü ë "."
(2)  104/    3665 : D8                  		RET C			;ÇõïéÑ Öëãà ìÜÖ çÄèÖóÄíÄçÄ ÅìäÇÄ FAT ìëíêéâëíÇÄ
(2)  105/    3666 : 3A 19 5D            		LD A,(TRD_5D19)
(2)  106/    3669 : C6 41               		ADD A,"A"
(2)  107/    366B : D7                  		RST 0X10
(2)  108/    366C : C9                  		RET
(2)  109/    366D :                     
(2)  110/    366D : CD 82 0E            CMP_RAMDISK_	CALL CMP_RAMDISK
(2)  111/    3670 : 21 8D 2F            		LD HL,SET_VARS
(2)  112/    3673 : C9                  		RET
(2)  113/    3674 :                     
(2)  114/    3674 : 7E                  PRINT2ZERO	LD A,(HL)
(2)  115/    3675 : 23                  		INC HL
(2)  116/    3676 : A7                  		AND A
(2)  117/    3677 : C8                  		RET Z
(2)  118/    3678 : D7                  		RST 0X10
(2)  119/    3679 : 18 F9               		JR PRINT2ZERO
(2)  120/    367B :                     
(1) 4781/    367B :                     ;===============FREE SPACE 2============
(1) 4782/    367B :                     
(1) 4783/    367B : (MACRO)             		DUPL 0X3BFF-$,0XFF
(1) 4783/    367B :                     DUPL:
(1) 4783/    367B : =1H                 $$N             EQU (0X3BFF-$) / 1024
(1) 4783/    367B : =184H               $$M             EQU (0X3BFF-$) # 1024
(1) 4783/    367B :                                     REPT $$N
(1) 4783/    367B :                                     DB 1024 DUP(0XFF)
(1) 4783/    367B :                                     ENDM
(1) 4783/    367B : FF FF FF FF FF FF                   DB 1024 DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 137 - 12/15/2013 13:00:27


                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 138 - 12/15/2013 13:00:27


                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 139 - 12/15/2013 13:00:27


                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF 
(1) 4783/    3A7B : =>TRUE                              IF $$M <> 0
(1) 4783/    3A7B : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 140 - 12/15/2013 13:00:27


                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF 
(1) 4783/    3BFF : [4783]                              ENDIF
(1) 4784/    3BFF : 38 00               		DW 0X0038			;áÄÉãìòäÄ èêÖêõÇÄçàâ çÄ ÇêÖåü êÄÅéíõ DOS
(1) 4785/    3C01 :                     
(1) 4786/    3C01 : 18 03               		JR LOC_3C06
(1) 4787/    3C03 :                     
(1) 4788/    3C03 : FF                  		DB 0XFF
(1) 4789/    3C04 : 18 03               		JR LOC_3C09
(1) 4790/    3C06 :                     
(1) 4791/    3C06 : C3 00 3D            LOC_3C06	JP LOC_3D00
(1) 4792/    3C09 :                     
(1) 4793/    3C09 : C3 03 3D            LOC_3C09	JP LOC_3D03
(1) 4794/    3C0C :                     
(1) 4795/    3C0C :                     ;===============FREE SPACE 3============
(1) 4796/    3C0C : (MACRO)             		DUPL 0X3C30-$,0XFF
(1) 4796/    3C0C :                     DUPL:
(1) 4796/    3C0C : =0H                 $$N             EQU (0X3C30-$) / 1024
(1) 4796/    3C0C : =24H                $$M             EQU (0X3C30-$) # 1024
(1) 4796/    3C0C :                                     REPT $$N
(1) 4796/    3C0C :                                     DB 1024 DUP(0XFF)
(1) 4796/    3C0C :                                     ENDM
(1) 4796/    3C0C : =>TRUE                              IF $$M <> 0
(1) 4796/    3C0C : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 141 - 12/15/2013 13:00:27


                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
(1) 4796/    3C30 : [4796]                              ENDIF
(1) 4797/    3C30 : DB 1F               		IN A,(0X1F)
(1) 4798/    3C32 : C9                  		RET
(1) 4799/    3C33 :                     
(1) 4800/    3C33 : (MACRO)             		DUPL ADR_RST8END-$-0X40,0XFF
(1) 4800/    3C33 :                     DUPL:
(1) 4800/    3C33 : =0H                 $$N             EQU (ADR_RST8END-$-0X40) / 1024
(1) 4800/    3C33 : =75H                $$M             EQU (ADR_RST8END-$-0X40) # 1024
(1) 4800/    3C33 :                                     REPT $$N
(1) 4800/    3C33 :                                     DB 1024 DUP(0XFF)
(1) 4800/    3C33 :                                     ENDM
(1) 4800/    3C33 : =>TRUE                              IF $$M <> 0
(1) 4800/    3C33 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF 
(1) 4800/    3CA8 : [4800]                              ENDIF
(1) 4801/    3CA8 : 00                  IREG_E		DB 0
(1) 4802/    3CA9 : 00                  IREG_D		DB 0
(1) 4803/    3CAA : 00                  IREG_L		DB 0
(1) 4804/    3CAB : 00                  IREG_H		DB 0
(1) 4805/    3CAC : 00 00               DOS_STEK	DW 0			;2 ëéïêÄçÖçàÖ éëçéÇçéÉé ëíÖäÄ à Ñçé ÇçìíêÖççÖÉé ëíÖäÄ
(1) 4806/    3CAE : 00                  WR_1F		DB 0			;1 äéèàü áÄèàëÄççéÉé Ç èéêí 1F (êÖÉàëíê äéåÄçÑ)
(1) 4807/    3CAF : 00                  RD_1F		DB 0			;1 éíÇÖí Ñãü óíÖçàü àá èéêíÄ
(1) 4808/    3CB0 : 00                  WR_FF		DB 0			;1 äéèàü áÄèàëÄççéÉé Ç èéêí FF
(1) 4809/    3CB1 : 00                  RD_FF		DB 0			;1 éíÇÖí Ñãü óíÖçàü àá èéêíÄ
(1) 4810/    3CB2 : 00 00               BUFF_SECT	DW 0			;2 ÄÑêÖë óíÖçàü/áÄèàëà ëÖäíéêÄ
(1) 4811/    3CB4 : 00 00               ADDR_RET	DW 0			;2 ÄÑêÖë ÇéáÇêÄíÄ
(1) 4812/    3CB6 : 00                  REG_IF		DB 0			;1
(1) 4813/    3CB7 : 00                  REG_I		DB 0			;1
(1) 4814/    3CB8 : 00                  REG_C		DB 0			;1 
(1) 4815/    3CB9 : 00                  REG_B		DB 0			;1
(1) 4816/    3CBA : 00                  REG_F		DB 0			;1
(1) 4817/    3CBB : 00                  REG_A		DB 0			;1
(1) 4818/    3CBC : 00                  REG_L		DB 0			;1 ÄÑêÖë áÄÉêìáäà/áÄèàëà
(1) 4819/    3CBD : 00                  REG_H		DB 0			;1
(1) 4820/    3CBE : 00                  WR_BF		DB 0			;1
(1) 4821/    3CBF : 00                  WR_77		DB 0			;1
(1) 4822/    3CC0 : 00                  WR_EFF7		DB 0			;1
(1) 4823/    3CC1 : 00                  WR_7FFD		DB 0			;1
(1) 4824/    3CC2 : 00                  WR_DOS7FFD	DB 0			;1
(1) 4825/    3CC3 : 00                  WR_RAMNROM	DB 0			;1
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 142 - 12/15/2013 13:00:27


(1) 4826/    3CC4 : 00                  WR_1WINA3	DB 0			;1
(1) 4827/    3CC5 : 00                  WR_1WINA2	DB 0			;1
(1) 4828/    3CC6 : 00                  WR_1WINA1	DB 0			;1
(1) 4829/    3CC7 : 00                  WR_1WINA0	DB 0			;1
(1) 4830/    3CC8 : 00                  WR_0WINA3	DB 0			;1
(1) 4831/    3CC9 : 00                  WR_0WINA2	DB 0			;1
(1) 4832/    3CCA : 00                  WR_0WINA1	DB 0			;1
(1) 4833/    3CCB : 00                  WR_0WINA0	DB 0			;1
(1) 4834/    3CCC : 00 00               MINT_STACK	DW 0			;2
(1) 4835/    3CCE : 00                  TEK_ROMPAGE	DB 0			;1
(1) 4836/    3CCF : 00                  MASK_DRV	DB 0			;1
(1) 4837/    3CD0 : 00 00               TEMP_SP		DW 0			;2
(1) 4838/    3CD2 : (MACRO)             SAVED_RAM	DUPL 0X10,0		;10
(1) 4838/    3CD2 :                     DUPL:
(1) 4838/    3CD2 : =0H                 $$N             EQU (0X10) / 1024
(1) 4838/    3CD2 : =10H                $$M             EQU (0X10) # 1024
(1) 4838/    3CD2 :                                     REPT $$N
(1) 4838/    3CD2 :                                     DB 1024 DUP(0)
(1) 4838/    3CD2 :                                     ENDM
(1) 4838/    3CD2 : =>TRUE                              IF $$M <> 0
(1) 4838/    3CD2 : 00 00 00 00 00 00                   DB $$M DUP(0)
                    00 00 00 00 00 00 
                    00 00 00 00 
(1) 4838/    3CE2 : [4838]                              ENDIF
(1) 4839/    3CE2 :                     END_VARS
(1) 4840/    3CE2 :                     
(1) 4841/    3CE2 : (MACRO)             		DUPL ADR_RST8END-$,0XFF
(1) 4841/    3CE2 :                     DUPL:
(1) 4841/    3CE2 : =0H                 $$N             EQU (ADR_RST8END-$) / 1024
(1) 4841/    3CE2 : =6H                 $$M             EQU (ADR_RST8END-$) # 1024
(1) 4841/    3CE2 :                                     REPT $$N
(1) 4841/    3CE2 :                                     DB 1024 DUP(0XFF)
(1) 4841/    3CE2 :                                     ENDM
(1) 4841/    3CE2 : =>TRUE                              IF $$M <> 0
(1) 4841/    3CE2 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
(1) 4841/    3CE8 : [4841]                              ENDIF
(1) 4842/    3CE8 : C3 70 32            		JP EDOS2RST8
(1) 4843/    3CEB :                     ;===============FREE SPACE 3============
(1) 4844/    3CEB :                     
(1) 4845/    3CEB : (MACRO)             		DUPL 0X3CFA-$,0XFF
(1) 4845/    3CEB :                     DUPL:
(1) 4845/    3CEB : =0H                 $$N             EQU (0X3CFA-$) / 1024
(1) 4845/    3CEB : =FH                 $$M             EQU (0X3CFA-$) # 1024
(1) 4845/    3CEB :                                     REPT $$N
(1) 4845/    3CEB :                                     DB 1024 DUP(0XFF)
(1) 4845/    3CEB :                                     ENDM
(1) 4845/    3CEB : =>TRUE                              IF $$M <> 0
(1) 4845/    3CEB : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF 
(1) 4845/    3CFA : [4845]                              ENDIF
(1) 4846/    3CFA : 00                  LOC_3CFA	NOP
(1) 4847/    3CFB : 18 32               		JR LOC_3D2F
(1) 4848/    3CFD :                     
(1) 4849/    3CFD : C3 39 28            LOC_3CFD	JP CALL_3D13
(1) 4850/    3D00 :                     
(1) 4851/    3D00 :                     ;ÇïéÑ Ç DOS (15616)
(1) 4852/    3D00 : 00                  LOC_3D00	NOP
(1) 4853/    3D01 : 18 2E               		JR IN_DOS_15616
(1) 4854/    3D03 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 143 - 12/15/2013 13:00:27


(1) 4855/    3D03 :                     ;éÅêÄôÖçàÖ àá ÅÖâëàäÄ (15619)
(1) 4856/    3D03 : 00                  LOC_3D03	NOP
(1) 4857/    3D04 : 18 14               		JR IN_DOS_15619
(1) 4858/    3D06 :                     
(1) 4859/    3D06 : 00                  LOC_3D06	NOP
(1) 4860/    3D07 : C3 BF 25            		JP INPUTDATAFILE
(1) 4861/    3D0A :                     
(1) 4862/    3D0A : C3 23 24            LOC_3D0A	JP OUT_SYM2FILE
(1) 4863/    3D0D :                     
(1) 4864/    3D0D : 00                  		NOP
(1) 4865/    3D0E : 18 FA               LOC_3D0E	JR LOC_3D0A
(1) 4866/    3D10 :                     
(1) 4867/    3D10 : 00                  		NOP
(1) 4868/    3D11 : 18 E7               		JR LOC_3CFA
(1) 4869/    3D13 :                     
(1) 4870/    3D13 : 00                  		NOP
(1) 4871/    3D14 : 18 E7               		JR LOC_3CFD
(1) 4872/    3D16 :                     
(1) 4873/    3D16 : 00                  LOC_3D16	NOP
(1) 4874/    3D17 : C3 47 0F            		JP WORK4ERROR
(1) 4875/    3D1A :                     
(1) 4876/    3D1A : CD 21 3D            IN_DOS_15619	CALL CREATE_VARS_TRD
(1) 4877/    3D1D : E5                  		PUSH HL
(1) 4878/    3D1E : C3 66 01            		JP CONTINUE_15619
(1) 4879/    3D21 :                     
(1) 4880/    3D21 : C3 50 0F            CREATE_VARS_TRD	JP CP_VARSTRDOS
(1) 4881/    3D24 :                     
(1) 4882/    3D24 : (MACRO)             		DUPL 0X3D2B-$,0XFF
(1) 4882/    3D24 :                     DUPL:
(1) 4882/    3D24 : =0H                 $$N             EQU (0X3D2B-$) / 1024
(1) 4882/    3D24 : =7H                 $$M             EQU (0X3D2B-$) # 1024
(1) 4882/    3D24 :                                     REPT $$N
(1) 4882/    3D24 :                                     DB 1024 DUP(0XFF)
(1) 4882/    3D24 :                                     ENDM
(1) 4882/    3D24 : =>TRUE                              IF $$M <> 0
(1) 4882/    3D24 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF 
(1) 4882/    3D2B : [4882]                              ENDIF
(1) 4883/    3D2B : ED 79               WR_BYTE_RET	OUT (C),A
(1) 4884/    3D2D : 00                  		NOP
(1) 4885/    3D2E : 00                  		NOP
(1) 4886/    3D2F : 00                  LOC_3D2F	NOP
(1) 4887/    3D30 : C9                  		RET
(1) 4888/    3D31 :                     
(1) 4889/    3D31 : CD 21 3D            IN_DOS_15616	CALL CREATE_VARS_TRD
(1) 4890/    3D34 : E5                  		PUSH HL
(1) 4891/    3D35 : C3 39 02            		JP IN_COMMAND_CPU	; ÇïéÜÑÖçàÖ Ç äéåÄçÑçõâ	èêéñÖëëéê ÑéëÄ
(1) 4892/    3D38 :                     
(1) 4893/    3D38 : (MACRO)             		DUPL 0X3D3B-$,0XFF
(1) 4893/    3D38 :                     DUPL:
(1) 4893/    3D38 : =0H                 $$N             EQU (0X3D3B-$) / 1024
(1) 4893/    3D38 : =3H                 $$M             EQU (0X3D3B-$) # 1024
(1) 4893/    3D38 :                                     REPT $$N
(1) 4893/    3D38 :                                     DB 1024 DUP(0XFF)
(1) 4893/    3D38 :                                     ENDM
(1) 4893/    3D38 : =>TRUE                              IF $$M <> 0
(1) 4893/    3D38 : FF FF FF                            DB $$M DUP(0XFF)
(1) 4893/    3D3B : [4893]                              ENDIF
(1) 4894/    3D3B : ED A3               WRPORT_RET	OUTI
(1) 4895/    3D3D : 00                  		NOP
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 144 - 12/15/2013 13:00:27


(1) 4896/    3D3E : 00                  		NOP
(1) 4897/    3D3F : C9                  		RET		
(1) 4898/    3D40 :                     
(1) 4899/    3D40 : (MACRO)             		DUPL 0X3D46-$,0XFF
(1) 4899/    3D40 :                     DUPL:
(1) 4899/    3D40 : =0H                 $$N             EQU (0X3D46-$) / 1024
(1) 4899/    3D40 : =6H                 $$M             EQU (0X3D46-$) # 1024
(1) 4899/    3D40 :                                     REPT $$N
(1) 4899/    3D40 :                                     DB 1024 DUP(0XFF)
(1) 4899/    3D40 :                                     ENDM
(1) 4899/    3D40 : =>TRUE                              IF $$M <> 0
(1) 4899/    3D40 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
(1) 4899/    3D46 : [4899]                              ENDIF
(1) 4900/    3D46 : 3E 01               		LD A,1
(1) 4901/    3D48 : C9                  		RET
(1) 4902/    3D49 :                     
(1) 4903/    3D49 : (MACRO)             		DUPL 0X3D5A-$,0XFF
(1) 4903/    3D49 :                     DUPL:
(1) 4903/    3D49 : =0H                 $$N             EQU (0X3D5A-$) / 1024
(1) 4903/    3D49 : =11H                $$M             EQU (0X3D5A-$) # 1024
(1) 4903/    3D49 :                                     REPT $$N
(1) 4903/    3D49 :                                     DB 1024 DUP(0XFF)
(1) 4903/    3D49 :                                     ENDM
(1) 4903/    3D49 : =>TRUE                              IF $$M <> 0
(1) 4903/    3D49 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF 
(1) 4903/    3D5A : [4903]                              ENDIF
(1) 4904/    3D5A : ED B0               		LDIR				;ADS
(1) 4905/    3D5C : 21 2F 3D            		LD HL,0X3D2F
(1) 4906/    3D5F : E5                  		PUSH HL
(1) 4907/    3D60 : E5                  		PUSH HL
(1) 4908/    3D61 : C3 92 5C            		JP MEMBOT
(1) 4909/    3D64 :                     
(1) 4910/    3D64 : (MACRO)             		DUPL 0X3D67-$,0XFF
(1) 4910/    3D64 :                     DUPL:
(1) 4910/    3D64 : =0H                 $$N             EQU (0X3D67-$) / 1024
(1) 4910/    3D64 : =3H                 $$M             EQU (0X3D67-$) # 1024
(1) 4910/    3D64 :                                     REPT $$N
(1) 4910/    3D64 :                                     DB 1024 DUP(0XFF)
(1) 4910/    3D64 :                                     ENDM
(1) 4910/    3D64 : =>TRUE                              IF $$M <> 0
(1) 4910/    3D64 : FF FF FF                            DB $$M DUP(0XFF)
(1) 4910/    3D67 : [4910]                              ENDIF
(1) 4911/    3D67 : CD 82 0E            CREATE_VARS	CALL CMP_RAMDISK
(1) 4912/    3D6A : 21 8D 2F            		LD HL,SET_VARS
(1) 4913/    3D6D : E5                  		PUSH HL
(1) 4914/    3D6E : 21 2F 3D            		LD HL,LOC_3D2F
(1) 4915/    3D71 : E5                  		PUSH HL
(1) 4916/    3D72 : 21 55 16            		LD HL,0X1655
(1) 4917/    3D75 : E5                  		PUSH HL
(1) 4918/    3D76 : 21 C2 5C            		LD HL,TRD_5CC2
(1) 4919/    3D79 : E5                  		PUSH HL
(1) 4920/    3D7A : 36 C9               		LD (HL),0XC9
(1) 4921/    3D7C : 21 B5 5C            		LD HL,P_RAMT+1
(1) 4922/    3D7F : 01 70 00            		LD BC,0X70
(1) 4923/    3D82 : C9                  		RET
(1) 4924/    3D83 :                     
(1) 4925/    3D83 : (MACRO)             		DUPL 0X3D98-$,0XFF
(1) 4925/    3D83 :                     DUPL:
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 145 - 12/15/2013 13:00:27


(1) 4925/    3D83 : =0H                 $$N             EQU (0X3D98-$) / 1024
(1) 4925/    3D83 : =15H                $$M             EQU (0X3D98-$) # 1024
(1) 4925/    3D83 :                                     REPT $$N
(1) 4925/    3D83 :                                     DB 1024 DUP(0XFF)
(1) 4925/    3D83 :                                     ENDM
(1) 4925/    3D83 : =>TRUE                              IF $$M <> 0
(1) 4925/    3D83 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF 
(1) 4925/    3D98 : [4925]                              ENDIF
(1) 4926/    3D98 :                     ;ÇéëëíÄçéÇãÖçàÖ ÇÉ93
(1) 4927/    3D98 : 3E 08               COM_00		LD A,0X08		;0X0B
(1) 4928/    3D9A : =>TRUE              COM2VG_WAIT	IF EMU3D2F=1
(1) 4929/    3D9A : F7                  		RST 0X30
(1) 4930/    3D9B : 00                  		DB WOUT1F
(1) 4931/    3D9C : =>FALSE             		ELSE
(1) 4932/    3D9C :                     		OUT (0X1F),A
(1) 4933/    3D9C : [4928]              		ENDIF
(1) 4934/    3D9C : E5                  LOC_3D9C	PUSH HL
(1) 4935/    3D9D : E7                  		RST 0X20
(1) 4936/    3D9E : 54 1F               		DW 0X1F54
(1) 4937/    3DA0 : 38 03               		JR C,LOC_3DA5
(1) 4938/    3DA2 : E7                  		RST 0X20
(1) 4939/    3DA3 : 7B 1B               		DW 0X1B7B
(1) 4940/    3DA5 : E1                  LOC_3DA5	POP HL
(1) 4941/    3DA6 : =>TRUE              		IF EMU3D2F=1
(1) 4942/    3DA6 : F7                  		RST 0X30
(1) 4943/    3DA7 : 0A                  		DB WINFF
(1) 4944/    3DA8 : =>FALSE             		ELSE
(1) 4945/    3DA8 :                     		IN A,(0XFF)
(1) 4946/    3DA8 : [4941]              		ENDIF
(1) 4947/    3DA8 : E6 80               		AND 0X80
(1) 4948/    3DAA : 28 F0               		JR Z,LOC_3D9C
(1) 4949/    3DAC : C9                  		RET
(1) 4950/    3DAD :                     
(1) 4951/    3DAD : 3E 08               CP_PRESENT_DSK	LD A,0X08		;0X0B
(1) 4952/    3DAF : CD 9A 3D            		CALL COM2VG_WAIT
(1) 4953/    3DB2 : 11 00 00            		LD DE,0
(1) 4954/    3DB5 : =>TRUE              		IF EMU3D2F=1
(1) 4955/    3DB5 : F7                  		RST 0X30
(1) 4956/    3DB6 : 06                  		DB WIN1F
(1) 4957/    3DB7 : =>FALSE             		ELSE
(1) 4958/    3DB7 :                     		IN A,(0X1F)
(1) 4959/    3DB7 : [4954]              		ENDIF
(1) 4960/    3DB7 : E6 02               		AND 2
(1) 4961/    3DB9 : 47                  		LD B,A
(1) 4962/    3DBA : =>TRUE              LOC_3DBA	IF EMU3D2F=1
(1) 4963/    3DBA : F7                  		RST 0X30
(1) 4964/    3DBB : 06                  		DB WIN1F
(1) 4965/    3DBC : =>FALSE             		ELSE
(1) 4966/    3DBC :                     		IN A,(0X1F)
(1) 4967/    3DBC : [4962]              		ENDIF
(1) 4968/    3DBC : E6 02               		AND 2
(1) 4969/    3DBE : B8                  		CP B
(1) 4970/    3DBF : =>TRUE              		IF EMU3D2F=1
(1) 4971/    3DBF : C9                  		RET
(1) 4972/    3DC0 : =>FALSE             		ELSE
(1) 4973/    3DC0 :                     		RET NZ
(1) 4974/    3DC0 : [4970]              		ENDIF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 146 - 12/15/2013 13:00:27


(1) 4975/    3DC0 : 13                  		INC DE
(1) 4976/    3DC1 : 7B                  		LD A,E
(1) 4977/    3DC2 : B2                  		OR D
(1) 4978/    3DC3 : 20 F5               		JR NZ,LOC_3DBA
(1) 4979/    3DC5 : C3 E7 3E            		JP LOC_3EE7
(1) 4980/    3DC8 :                     
(1) 4981/    3DC8 :                     ;ÇõÅéê ÑàëäéÇéÑÄ èé ìåéãóÄçàû
(1) 4982/    3DC8 : 3A 19 5D            ACTIV_DEF_DSK	LD A,(TRD_5D19)		; ÑàëäéÇéÑ èé ìåéãóÄçàû
(1) 4983/    3DCB :                     ;çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1) 4984/    3DCB : 32 F6 5C            COM_01		LD (TRD_5CF6),A		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1) 4985/    3DCE : 21 16 5D            		LD HL,TRD_5D16		; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí #FF)
(1) 4986/    3DD1 : F6 3C               		OR 0X3C
(1) 4987/    3DD3 : 77                  		LD (HL),A
(1) 4988/    3DD4 : =>TRUE              		IF EMUWRFF
(1) 4989/    3DD4 : F7                  		RST 0X30
(1) 4990/    3DD5 : 04                  		DB WOUTFF
(1) 4991/    3DD6 : =>FALSE             		ELSE
(1) 4992/    3DD6 :                     		OUT (0XFF),A
(1) 4993/    3DD6 : [4988]              		ENDIF
(1) 4994/    3DD6 : 06 00               		LD B,0
(1) 4995/    3DD8 : =>TRUE              		IF EMU3D2F
(1) 4996/    3DD8 : DB 4F               		IN A,(0X4F)
(1) 4997/    3DDA : =>FALSE             		ELSE
(1) 4998/    3DDA :                     		IN A,(0X3F)
(1) 4999/    3DDA : [4995]              		ENDIF
(1) 5000/    3DDA : =>TRUE              		IF EMU3D2F=1
(1) 5001/    3DDA : D3 8F               		OUT (0X8F),A
(1) 5002/    3DDC : =>FALSE             		ELSE
(1) 5003/    3DDC :                     		OUT (0X7F),A
(1) 5004/    3DDC : [5000]              		ENDIF
(1) 5005/    3DDC : 3E 18               		LD A,%00011000			;ÅÖá èêéÇÖêäà çéåÖêÄ ÑéêéÜäà
(1) 5006/    3DDE : =>TRUE              		IF EMU3D2F=1
(1) 5007/    3DDE : F7                  		RST 0X30
(1) 5008/    3DDF : 00                  		DB WOUT1F
(1) 5009/    3DE0 : =>FALSE             		ELSE
(1) 5010/    3DE0 :                     		OUT (0X1F),A
(1) 5011/    3DE0 : [5006]              		ENDIF
(1) 5012/    3DE0 : 10 FE               		DJNZ $				;èÄìáÄ
(1) 5013/    3DE2 : =>TRUE              COM_011		IF EMU3D2F=1
(1) 5014/    3DE2 : F7                  		RST 0X30
(1) 5015/    3DE3 : 06                  		DB WIN1F
(1) 5016/    3DE4 : =>FALSE             		ELSE
(1) 5017/    3DE4 :                     		IN A,(0X1F)
(1) 5018/    3DE4 : [5013]              		ENDIF
(1) 5019/    3DE4 : E6 80               		AND 0X80
(1) 5020/    3DE6 : C2 E7 3E            		JP NZ,LOC_3EE7
(1) 5021/    3DE9 : C3 36 1E            LOC_3DFA	JP WR_NUM_TRACK
(1) 5022/    3DEC :                     
(1) 5023/    3DEC : (MACRO)             		DUPL 0X3DFD-$,0XFF
(1) 5023/    3DEC :                     DUPL:
(1) 5023/    3DEC : =0H                 $$N             EQU (0X3DFD-$) / 1024
(1) 5023/    3DEC : =11H                $$M             EQU (0X3DFD-$) # 1024
(1) 5023/    3DEC :                                     REPT $$N
(1) 5023/    3DEC :                                     DB 1024 DUP(0XFF)
(1) 5023/    3DEC :                                     ENDM
(1) 5023/    3DEC : =>TRUE                              IF $$M <> 0
(1) 5023/    3DEC : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF 
(1) 5023/    3DFD : [5023]                              ENDIF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 147 - 12/15/2013 13:00:27


(1) 5024/    3DFD :                     PAUSE725779TAKTS
(1) 5025/    3DFD : 3E 50               		LD A,0X50
(1) 5026/    3DFF : 0E FF               PAUSE_C_A	LD C,0XFF
(1) 5027/    3E01 : 0D                  LOC_3E01	DEC C
(1) 5028/    3E02 : 20 FD               		JR NZ,LOC_3E01
(1) 5029/    3E04 : 3D                  		DEC A
(1) 5030/    3E05 : 20 F8               		JR NZ,PAUSE_C_A
(1) 5031/    3E07 : C9                  		RET
(1) 5032/    3E08 :                     
(1) 5033/    3E08 :                     ; èéãìóÖçàÖ ÇêÖåÖçà èÖêÖåÖôÖçàü	ÉéãéÇäà
(1) 5034/    3E08 : D5                  GET_TIME_HEAD	PUSH DE
(1) 5035/    3E09 : 11 FA 5C            		LD DE,TRD_5CFA		; ÇêÖåü	èÖêÖåÖôÖçàü ÑàëäéÇéÑÄ A
(1) 5036/    3E0C : 2A F6 5C            LOC_3E0B	LD HL,(TRD_5CF6)	; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1) 5037/    3E0F : 19                  		ADD HL,DE
(1) 5038/    3E10 : D1                  		POP DE
(1) 5039/    3E11 : 7E                  		LD A,(HL)
(1) 5040/    3E12 : C9                  		RET
(1) 5041/    3E13 :                     
(1) 5042/    3E13 : D5                  GET_TYPE_DISK	PUSH DE
(1) 5043/    3E14 : 11 C8 5C            		LD DE,TRD_5CC8		; êÖÜàå	êÄÅéíÄ ÑàëäéÇéÑÄ A
(1) 5044/    3E17 : 18 F3               		JR LOC_3E0B
(1) 5045/    3E19 :                     
(1) 5046/    3E19 : (MACRO)             		DUPL 0X3E3A-$,0XFF
(1) 5046/    3E19 :                     DUPL:
(1) 5046/    3E19 : =0H                 $$N             EQU (0X3E3A-$) / 1024
(1) 5046/    3E19 : =21H                $$M             EQU (0X3E3A-$) # 1024
(1) 5046/    3E19 :                                     REPT $$N
(1) 5046/    3E19 :                                     DB 1024 DUP(0XFF)
(1) 5046/    3E19 :                                     ENDM
(1) 5046/    3E19 : =>TRUE                              IF $$M <> 0
(1) 5046/    3E19 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF 
(1) 5046/    3E3A : [5046]                              ENDIF
(1) 5047/    3E3A : DB 1F               		IN A,(0X1F)
(1) 5048/    3E3C : E6 04               		AND 4
(1) 5049/    3E3E : C0                  		RET NZ
(1) 5050/    3E3F : 04                  LOC_3E3F	INC B
(1) 5051/    3E40 : 0D                  		DEC C
(1) 5052/    3E41 : C9                  		RET
(1) 5053/    3E42 :                     
(1) 5054/    3E42 : (MACRO)             		DUPL 0X3E44-$,0XFF
(1) 5054/    3E42 :                     DUPL:
(1) 5054/    3E42 : =0H                 $$N             EQU (0X3E44-$) / 1024
(1) 5054/    3E42 : =2H                 $$M             EQU (0X3E44-$) # 1024
(1) 5054/    3E42 :                                     REPT $$N
(1) 5054/    3E42 :                                     DB 1024 DUP(0XFF)
(1) 5054/    3E42 :                                     ENDM
(1) 5054/    3E42 : =>TRUE                              IF $$M <> 0
(1) 5054/    3E42 : FF FF                               DB $$M DUP(0XFF)
(1) 5054/    3E44 : [5054]                              ENDIF
(1) 5055/    3E44 : =>TRUE              HEAD_POSITION	IF EMU3D2F=1
(1) 5056/    3E44 : D3 8F               		OUT (0X8F),A
(1) 5057/    3E46 : =>FALSE             		ELSE
(1) 5058/    3E46 :                     		OUT (0X7F),A
(1) 5059/    3E46 : [5055]              		ENDIF
(1) 5060/    3E46 : 3E 18               FIND_TREK	LD A,0X18
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 148 - 12/15/2013 13:00:27


(1) 5061/    3E48 : C3 9A 3D            		JP COM2VG_WAIT
(1) 5062/    3E4B :                     
(1) 5063/    3E4B : (MACRO)             		DUPL 0X3E4C-$,0XFF
(1) 5063/    3E4B :                     DUPL:
(1) 5063/    3E4B : =0H                 $$N             EQU (0X3E4C-$) / 1024
(1) 5063/    3E4B : =1H                 $$M             EQU (0X3E4C-$) # 1024
(1) 5063/    3E4B :                                     REPT $$N
(1) 5063/    3E4B :                                     DB 1024 DUP(0XFF)
(1) 5063/    3E4B :                                     ENDM
(1) 5063/    3E4B : =>TRUE                              IF $$M <> 0
(1) 5063/    3E4B : FF                                  DB $$M DUP(0XFF)
(1) 5063/    3E4C : [5063]                              ENDIF
(1) 5064/    3E4C : =>TRUE              POSITIONIREN	IF EMU3D2F=1
(1) 5065/    3E4C : D3 8F               		OUT (0X8F),A
(1) 5066/    3E4E : =>FALSE             		ELSE
(1) 5067/    3E4E :                     		OUT (0X7F),A
(1) 5068/    3E4E : [5064]              		ENDIF
(1) 5069/    3E4E : C5                  		PUSH BC
(1) 5070/    3E4F : 47                  		LD B,A
(1) 5071/    3E50 : =>TRUE              		IF EMU3D2F
(1) 5072/    3E50 : DB 4F               		IN A,(0X4F)
(1) 5073/    3E52 : =>FALSE             		ELSE
(1) 5074/    3E52 :                     		IN A,(0X3F)
(1) 5075/    3E52 : [5071]              		ENDIF
(1) 5076/    3E52 : B8                  		CP B
(1) 5077/    3E53 : C1                  		POP BC
(1) 5078/    3E54 : F5                  		PUSH AF
(1) 5079/    3E55 : CD 46 3E            		CALL FIND_TREK		;COM2VG_WAIT
(1) 5080/    3E58 : F1                  		POP AF
(1) 5081/    3E59 : C9                  		RET
(1) 5082/    3E5A :                     
(1) 5083/    3E5A : (MACRO)             		DUPL 0X3E63-$,0XFF
(1) 5083/    3E5A :                     DUPL:
(1) 5083/    3E5A : =0H                 $$N             EQU (0X3E63-$) / 1024
(1) 5083/    3E5A : =9H                 $$M             EQU (0X3E63-$) # 1024
(1) 5083/    3E5A :                                     REPT $$N
(1) 5083/    3E5A :                                     DB 1024 DUP(0XFF)
(1) 5083/    3E5A :                                     ENDM
(1) 5083/    3E5A : =>TRUE                              IF $$M <> 0
(1) 5083/    3E5A : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF 
(1) 5083/    3E63 : [5083]                              ENDIF
(1) 5084/    3E63 :                     ;ìëíÄçéÇäÄ ÉéãéÇäà çÄ ÑéêéÜäì
(1) 5085/    3E63 : 4F                  COM_02		LD C,A
(1) 5086/    3E64 : CD EB 1F            		CALL COM_16
(1) 5087/    3E67 : CD 13 3E            		CALL GET_TYPE_DISK
(1) 5088/    3E6A : E6 02               		AND 2
(1) 5089/    3E6C : C4 AA 3E            		CALL NZ,SET_SIDE_DSK
(1) 5090/    3E6F : C5                  		PUSH BC
(1) 5091/    3E70 : CB 7E               		BIT 7,(HL)
(1) 5092/    3E72 : 28 0F               		JR Z,LOC_3E83
(1) 5093/    3E74 : CB 46               		BIT 0,(HL)
(1) 5094/    3E76 : 20 0B               		JR NZ,LOC_3E83
(1) 5095/    3E78 : =>TRUE              		IF EMU3D2F=1
(1) 5096/    3E78 : DB 4F               		IN A,(0X4F)
(1) 5097/    3E7A : =>FALSE             		ELSE
(1) 5098/    3E7A :                     		IN A,(0X3F)
(1) 5099/    3E7A : [5095]              		ENDIF
(1) 5100/    3E7A : B9                  		CP C
(1) 5101/    3E7B : 28 05               		JR Z,LOC_3E82
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 149 - 12/15/2013 13:00:27


(1) 5102/    3E7D : 07                  		RLCA
(1) 5103/    3E7E : =>TRUE              		IF EMU3D2F=1
(1) 5104/    3E7E : D3 4F               		OUT (0X4F),A
(1) 5105/    3E80 : =>FALSE             		ELSE
(1) 5106/    3E80 :                     		OUT (0X3F),A
(1) 5107/    3E80 : [5103]              		ENDIF
(1) 5108/    3E80 : 79                  		LD A,C
(1) 5109/    3E81 : 07                  		RLCA
(1) 5110/    3E82 : 4F                  LOC_3E82	LD C,A
(1) 5111/    3E83 : CD 08 3E            LOC_3E83	CALL GET_TIME_HEAD	; èéãìóÖçàÖ ÇêÖåÖçà èÖêÖåÖôÖçàü	ÉéãéÇäà
(1) 5112/    3E86 : 47                  		LD B,A
(1) 5113/    3E87 : 79                  		LD A,C
(1) 5114/    3E88 : CD 4C 3E            		CALL POSITIONIREN
(1) 5115/    3E8B : C1                  		POP BC
(1) 5116/    3E8C : 79                  		LD A,C
(1) 5117/    3E8D : =>TRUE              		IF EMU3D2F=1
(1) 5118/    3E8D : D3 4F               		OUT (0X4F),A
(1) 5119/    3E8F : =>FALSE             		ELSE
(1) 5120/    3E8F :                     		OUT (0X3F),A
(1) 5121/    3E8F : [5117]              		ENDIF
(1) 5122/    3E8F : 3A CD 5C            		LD A,(TRD_5CCD)		; #80-ÉéíéÇçéëíú ÑàëäéÇéÑÄ
(1) 5123/    3E92 : B7                  		OR A
(1) 5124/    3E93 : C8                  		RET Z
(1) 5125/    3E94 : AF                  		XOR A
(1) 5126/    3E95 : 32 CD 5C            		LD (TRD_5CCD),A		; #80-ÉéíéÇçéëíú ÑàëäéÇéÑÄ
(1) 5127/    3E98 : C9                  		RET
(1) 5128/    3E99 :                     
(1) 5129/    3E99 : (MACRO)             		DUPL 0X3EA0-$,0XFF
(1) 5129/    3E99 :                     DUPL:
(1) 5129/    3E99 : =0H                 $$N             EQU (0X3EA0-$) / 1024
(1) 5129/    3E99 : =7H                 $$M             EQU (0X3EA0-$) # 1024
(1) 5129/    3E99 :                                     REPT $$N
(1) 5129/    3E99 :                                     DB 1024 DUP(0XFF)
(1) 5129/    3E99 :                                     ENDM
(1) 5129/    3E99 : =>TRUE                              IF $$M <> 0
(1) 5129/    3E99 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF 
(1) 5129/    3EA0 : [5129]                              ENDIF
(1) 5130/    3EA0 : 06 03               PAUSE_3_C_A	LD B,3
(1) 5131/    3EA2 : 3E FF               LOC_3EA2	LD A,0XFF
(1) 5132/    3EA4 : CD FF 3D            		CALL PAUSE_C_A
(1) 5133/    3EA7 : 10 F9               		DJNZ LOC_3EA2
(1) 5134/    3EA9 : C9                  		RET
(1) 5135/    3EAA :                     
(1) 5136/    3EAA : 79                  SET_SIDE_DSK	LD A,C
(1) 5137/    3EAB : B7                  		OR A
(1) 5138/    3EAC : 1F                  		RRA
(1) 5139/    3EAD : 4F                  		LD C,A
(1) 5140/    3EAE : D0                  		RET NC
(1) 5141/    3EAF : C3 F6 1F            		JP COM_17
(1) 5142/    3EB2 :                     
(1) 5143/    3EB2 : CD EB 1F            GET_NUM_TRACK	CALL COM_16
(1) 5144/    3EB5 : =>TRUE              LOC_3EB5	IF EMU3D2F=1
(1) 5145/    3EB5 : F7                  		RST 0X30
(1) 5146/    3EB6 : 06                  		DB WIN1F
(1) 5147/    3EB7 : =>FALSE             		ELSE
(1) 5148/    3EB7 :                     		IN A,(0X1F)
(1) 5149/    3EB7 : [5144]              		ENDIF
(1) 5150/    3EB7 : E6 80               		AND 0X80
(1) 5151/    3EB9 : 32 CD 5C            		LD (TRD_5CCD),A		; #80-ÉéíéÇçéëíú ÑàëäéÇéÑÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 150 - 12/15/2013 13:00:27


(1) 5152/    3EBC : =>TRUE              		IF EMU3D2F=1
(1) 5153/    3EBC : DB 4F               		IN A,(0X4F)
(1) 5154/    3EBE : =>FALSE             		ELSE
(1) 5155/    3EBE :                     		IN A,(0X3F)
(1) 5156/    3EBE : [5152]              		ENDIF
(1) 5157/    3EBE : 67                  		LD H,A
(1) 5158/    3EBF : CD D0 35            		CALL BUGFIX_3EBF	;HEAD_POSITION
(1) 5159/    3EC2 : 0E 7F               		LD C,0X7F
(1) 5160/    3EC4 : 16 01               		LD D,1
(1) 5161/    3EC6 : F3                  		DI
(1) 5162/    3EC7 : 3E C0               		LD A,0XC0
(1) 5163/    3EC9 : =>TRUE              		IF EMU3D2F=1
(1) 5164/    3EC9 : F7                  		RST 0X30
(1) 5165/    3ECA : 00                  		DB WOUT1F
(1) 5166/    3ECB : =>FALSE             		ELSE
(1) 5167/    3ECB :                     		OUT (0X1F),A
(1) 5168/    3ECB : [5163]              		ENDIF
(1) 5169/    3ECB : C5                  		PUSH BC
(1) 5170/    3ECC : 06 03               		LD B,3
(1) 5171/    3ECE : =>TRUE              LOC_3ECE	IF EMU3D2F=1
(1) 5172/    3ECE : F7                  		RST 0X30
(1) 5173/    3ECF : 0A                  		DB WINFF
(1) 5174/    3ED0 : =>FALSE             		ELSE
(1) 5175/    3ED0 :                     		IN A,(0XFF)
(1) 5176/    3ED0 : [5171]              		ENDIF
(1) 5177/    3ED0 : E6 C0               		AND 0XC0
(1) 5178/    3ED2 : 20 1E               		JR NZ,LOC_3EF2
(1) 5179/    3ED4 : 13                  		INC DE
(1) 5180/    3ED5 : 7B                  		LD A,E
(1) 5181/    3ED6 : B2                  		OR D
(1) 5182/    3ED7 : 20 F5               		JR NZ,LOC_3ECE
(1) 5183/    3ED9 : 10 F3               		DJNZ LOC_3ECE
(1) 5184/    3EDB : C1                  		POP BC
(1) 5185/    3EDC : FB                  		EI
(1) 5186/    3EDD : 3E D0               		LD A,0XD0
(1) 5187/    3EDF : =>TRUE              		IF EMU3D2F=1
(1) 5188/    3EDF : F7                  		RST 0X30
(1) 5189/    3EE0 : 00                  		DB WOUT1F
(1) 5190/    3EE1 : =>FALSE             		ELSE
(1) 5191/    3EE1 :                     		OUT (0X1F),A
(1) 5192/    3EE1 : [5187]              		ENDIF
(1) 5193/    3EE1 : 3A 17 5D            		LD A,(TRD_5D17)		;(TRD_5CD1)
(1) 5194/    3EE4 : FE FF               		CP 0XFF
(1) 5195/    3EE6 : C8                  		RET Z
(1) 5196/    3EE7 : CD F5 26            LOC_3EE7	CALL SET_TAPELDERR
(1) 5197/    3EEA : 3E FF               		LD A,0XFF
(1) 5198/    3EEC : 32 17 5D            		LD (TRD_5D17),A		; êàëéÇÄçàÖ áÄëíÄÇäà, Öëãà #AA
(1) 5199/    3EEF : C3 E5 26            		JP LOC_271B
(1) 5200/    3EF2 :                     
(1) 5201/    3EF2 : C1                  LOC_3EF2	POP BC
(1) 5202/    3EF3 : =>TRUE              		IF EMU3D2F=1
(1) 5203/    3EF3 : F7                  		RST 0X30
(1) 5204/    3EF4 : 0D                  		DB WINHC
(1) 5205/    3EF5 : =>FALSE             		ELSE
(1) 5206/    3EF5 :                     		IN H,(C)
(1) 5207/    3EF5 : [5202]              		ENDIF
(1) 5208/    3EF5 : =>TRUE              LOC_3EF5	IF EMU3D2F=1
(1) 5209/    3EF5 : F7                  		RST 0X30
(1) 5210/    3EF6 : 0A                  		DB WINFF
(1) 5211/    3EF7 : =>FALSE             		ELSE
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 151 - 12/15/2013 13:00:27


(1) 5212/    3EF7 :                     		IN A,(0XFF)
(1) 5213/    3EF7 : [5208]              		ENDIF
(1) 5214/    3EF7 : E6 C0               		AND 0XC0
(1) 5215/    3EF9 : 28 FA               		JR Z,LOC_3EF5
(1) 5216/    3EFB : FB                  		EI
(1) 5217/    3EFC : F8                  		RET M
(1) 5218/    3EFD : F3                  		DI
(1) 5219/    3EFE : DB 7F               		IN A,(0X7F)
(1) 5220/    3F00 : 18 F3               		JR LOC_3EF5
(1) 5221/    3F02 :                     
(1) 5222/    3F02 :                     ;ìëíÄçéÇäÄ çéåÖêÄ ëÖäíéêÄ
(1) 5223/    3F02 : 32 FF 5C            COM_03		LD (TRD_5CFF),A
(1) 5224/    3F05 : C9                  		RET
(1) 5225/    3F06 :                     
(1) 5226/    3F06 :                     ;ìëíÄçéÇäÄ ÄÑêÖëÄ ÅìîÖêÄ
(1) 5227/    3F06 : 22 00 5D            COM_04		LD (TRD_5D00),HL
(1) 5228/    3F09 : C9                  		RET
(1) 5229/    3F0A :                     
(1) 5230/    3F0A : 3E A0               SAVE_SECTOR	LD A,0XA0
(1) 5231/    3F0C : 18 02               		JR LOC_3F10
(1) 5232/    3F0E :                     
(1) 5233/    3F0E : 3E 80               LOAD_SECTOR	LD A,0X80
(1) 5234/    3F10 : 32 FE 5C            LOC_3F10	LD (TRD_5CFE),A
(1) 5235/    3F13 : 16 0A               LOC_3F13	LD D,0X0A
(1) 5236/    3F15 : D5                  LOC_3F15	PUSH DE
(1) 5237/    3F16 : F3                  		DI
(1) 5238/    3F17 : 3A FF 5C            		LD A,(TRD_5CFF)
(1) 5239/    3F1A : 3C                  		INC A
(1) 5240/    3F1B : =>TRUE              		IF EMU3D2F=1
(1) 5241/    3F1B : D3 6F               		OUT (0X6F),A
(1) 5242/    3F1D : =>FALSE             		ELSE
(1) 5243/    3F1D :                     		OUT (0X5F),A
(1) 5244/    3F1D : [5240]              		ENDIF
(1) 5245/    3F1D : 2A 00 5D            		LD HL,(TRD_5D00)
(1) 5246/    3F20 : 0E 7F               		LD C,0X7F
(1) 5247/    3F22 : 3A FE 5C            		LD A,(TRD_5CFE)
(1) 5248/    3F25 : =>TRUE              		IF EMU3D2F=1
(1) 5249/    3F25 : F7                  		RST 0X30
(1) 5250/    3F26 : 00                  		DB WOUT1F
(1) 5251/    3F27 : =>FALSE             		ELSE
(1) 5252/    3F27 :                     		OUT (0X1F),A
(1) 5253/    3F27 : [5248]              		ENDIF
(1) 5254/    3F27 : FE A0               		CP 0XA0
(1) 5255/    3F29 : F5                  		PUSH AF
(1) 5256/    3F2A : CC BA 3F            		CALL Z,WRITE_SEC
(1) 5257/    3F2D : F1                  		POP AF
(1) 5258/    3F2E : C4 D5 3F            		CALL NZ,READ_SEC
(1) 5259/    3F31 : D1                  		POP DE
(1) 5260/    3F32 : FB                  		EI
(1) 5261/    3F33 : =>TRUE              		IF EMU3D2F=1
(1) 5262/    3F33 : F7                  		RST 0X30
(1) 5263/    3F34 : 06                  		DB WIN1F
(1) 5264/    3F35 : =>FALSE             		ELSE
(1) 5265/    3F35 :                     		IN A,(0X1F)
(1) 5266/    3F35 : [5261]              		ENDIF
(1) 5267/    3F35 : 47                  		LD B,A
(1) 5268/    3F36 : E6 7F               		AND 0X7F
(1) 5269/    3F38 : C8                  		RET Z
(1) 5270/    3F39 : 21 D8 29            LOC_3F39	LD HL,READ_ONLY		; READ ONLY
(1) 5271/    3F3C : E6 40               		AND 0X40
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 152 - 12/15/2013 13:00:27


(1) 5272/    3F3E : 20 0B               		JR NZ,LOC_3F4B
(1) 5273/    3F40 : 78                  		LD A,B
(1) 5274/    3F41 : E6 04               		AND 4
(1) 5275/    3F43 : 28 5B               		JR Z,LOC_3FA0
(1) 5276/    3F45 : 15                  		DEC D
(1) 5277/    3F46 : 20 CD               		JR NZ,LOC_3F15
(1) 5278/    3F48 : 21 E2 29            LOC_3F48	LD HL,TXT_DISCERROR_	; DISC ERROR
(1) 5279/    3F4B : 3E D0               LOC_3F4B	LD A,0XD0
(1) 5280/    3F4D : =>TRUE              		IF EMU3D2F=1
(1) 5281/    3F4D : F7                  		RST 0X30
(1) 5282/    3F4E : 00                  		DB WOUT1F
(1) 5283/    3F4F : =>FALSE             		ELSE
(1) 5284/    3F4F :                     		OUT (0X1F),A
(1) 5285/    3F4F : [5280]              		ENDIF
(1) 5286/    3F4F : 78                  		LD A,B
(1) 5287/    3F50 : E6 01               		AND 1
(1) 5288/    3F52 : C2 E7 3E            		JP NZ,LOC_3EE7
(1) 5289/    3F55 : =>TRUE              		IF EMU3D2F=1
(1) 5290/    3F55 : DB 4F               		IN A,(0X4F)
(1) 5291/    3F57 : =>FALSE             		ELSE
(1) 5292/    3F57 :                     		IN A,(0X3F)
(1) 5293/    3F57 : [5289]              		ENDIF
(1) 5294/    3F57 : B7                  		OR A
(1) 5295/    3F58 : 20 05               		JR NZ,LOC_3F5F
(1) 5296/    3F5A : =>TRUE              		IF EMU3D2F=1
(1) 5297/    3F5A : DB 6F               		IN A,(0X6F)
(1) 5298/    3F5C : =>FALSE             		ELSE
(1) 5299/    3F5C :                     		IN A,(0X5F)
(1) 5300/    3F5C : [5296]              		ENDIF
(1) 5301/    3F5C : FE 0A               		CP 0X0A
(1) 5302/    3F5E : C8                  		RET Z
(1) 5303/    3F5F : E5                  LOC_3F5F	PUSH HL
(1) 5304/    3F60 : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1) 5305/    3F63 : E1                  		POP HL
(1) 5306/    3F64 : DF                  		RST 0X18
(1) 5307/    3F65 : 21 12 2A            		LD HL,TXT_TRK_		; TRACK
(1) 5308/    3F68 : DF                  		RST 0X18
(1) 5309/    3F69 : =>TRUE              		IF EMU3D2F=1
(1) 5310/    3F69 : DB 4F               		IN A,(0X4F)
(1) 5311/    3F6B : =>FALSE             		ELSE
(1) 5312/    3F6B :                     		IN A,(0X3F)
(1) 5313/    3F6B : [5309]              		ENDIF
(1) 5314/    3F6B : CD A3 1D            		CALL PRINT_CHISLO_A_
(1) 5315/    3F6E : 21 17 2A            		LD HL,TXT_SEC_		; SECTOR
(1) 5316/    3F71 : DF                  		RST 0X18
(1) 5317/    3F72 : =>TRUE              		IF EMU3D2F=1
(1) 5318/    3F72 : DB 6F               		IN A,(0X6F)
(1) 5319/    3F74 : =>FALSE             		ELSE
(1) 5320/    3F74 :                     		IN A,(0X5F)
(1) 5321/    3F74 : [5317]              		ENDIF
(1) 5322/    3F74 : CD A3 1D            		CALL PRINT_CHISLO_A_
(1) 5323/    3F77 : 21 FE 29            		LD HL,TXT_RIA_
(1) 5324/    3F7A : DF                  		RST 0X18
(1) 5325/    3F7B : CD FD 0F            LOC_3F7B	CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1) 5326/    3F7E : FE 49               		CP "I"			; IGNORE-RET Ç ÄÑêÖë #1E8E
(1) 5327/    3F80 : C8                  		RET Z
(1) 5328/    3F81 : FE 52               		CP "R"			; RETRY
(1) 5329/    3F83 : 28 0F               		JR Z,PRESS_RETRY
(1) 5330/    3F85 : FE 41               		CP "A"			; ABORT
(1) 5331/    3F87 : 20 F2               		JR NZ,LOC_3F7B
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 153 - 12/15/2013 13:00:27


(1) 5332/    3F89 : CD F5 26            		CALL SET_TAPELDERR	; PRESS	ABORT
(1) 5333/    3F8C : 3E 07               		LD A,7
(1) 5334/    3F8E : 32 0F 5D            		LD (TRD_5D0F),A		; çéåÖê	éòàÅäà TR-DOS
(1) 5335/    3F91 : C3 CA 01            		JP END_COMAND
(1) 5336/    3F94 :                     
(1) 5337/    3F94 : 3A F5 5C            PRESS_RETRY	LD A,(TRD_5CF5)
(1) 5338/    3F97 : CD 63 3E            		CALL COM_02
(1) 5339/    3F9A : CD A0 3E            		CALL PAUSE_3_C_A
(1) 5340/    3F9D : C3 13 3F            		JP LOC_3F13
(1) 5341/    3FA0 :                     
(1) 5342/    3FA0 : 15                  LOC_3FA0	DEC D
(1) 5343/    3FA1 : CA 48 3F            		JP Z,LOC_3F48		; DISC ERROR
(1) 5344/    3FA4 : D5                  		PUSH DE
(1) 5345/    3FA5 : CD 08 3E            		CALL GET_TIME_HEAD	; èéãìóÖçàÖ ÇêÖåÖçà èÖêÖåÖôÖçàü	ÉéãéÇäà
(1) 5346/    3FA8 : E6 02               		AND 2
(1) 5347/    3FAA : 20 01               		JR NZ,LOC_3FAD
(1) 5348/    3FAC : 34                  		INC (HL)
(1) 5349/    3FAD : CD 98 3D            LOC_3FAD	CALL COM_00
(1) 5350/    3FB0 : 3A F5 5C            		LD A,(TRD_5CF5)
(1) 5351/    3FB3 : CD 63 3E            		CALL COM_02
(1) 5352/    3FB6 : D1                  		POP DE
(1) 5353/    3FB7 : C3 15 3F            		JP LOC_3F15
(1) 5354/    3FBA :                     
(1) 5355/    3FBA : 06 04               WRITE_SEC	LD B,4
(1) 5356/    3FBC : =>TRUE              LOC_3FBC	IF EMU3D2F=1
(1) 5357/    3FBC : F7                  		RST 0X30
(1) 5358/    3FBD : 10                  		DB WWRITE_SEC_		;WINFF
(1) 5359/    3FBE : =>FALSE             		ELSE
(1) 5360/    3FBE :                     		IN A,(0XFF)
(1) 5361/    3FBE : [5356]              		ENDIF
(1) 5362/    3FBE : E6 C0               		AND 0XC0
(1) 5363/    3FC0 : 20 0F               		JR NZ,LOC_3FD1
(1) 5364/    3FC2 : 13                  		INC DE
(1) 5365/    3FC3 : 7B                  		LD A,E
(1) 5366/    3FC4 : B2                  		OR D
(1) 5367/    3FC5 : 20 F5               		JR NZ,LOC_3FBC
(1) 5368/    3FC7 : 10 F3               		DJNZ LOC_3FBC
(1) 5369/    3FC9 : C9                  		RET
(1) 5370/    3FCA :                     
(1) 5371/    3FCA : =>TRUE              WR_DATAPORT	IF EMU3D2F=1
(1) 5372/    3FCA : F7                  		RST 0X30
(1) 5373/    3FCB : 10                  		DB WWRITE_SEC_		;WINFF
(1) 5374/    3FCC : =>FALSE             		ELSE
(1) 5375/    3FCC :                     		IN A,(0XFF)
(1) 5376/    3FCC : [5371]              		ENDIF
(1) 5377/    3FCC : E6 C0               		AND 0XC0
(1) 5378/    3FCE : 28 FA               		JR Z,WR_DATAPORT
(1) 5379/    3FD0 : F8                  		RET M
(1) 5380/    3FD1 : =>TRUE              LOC_3FD1	IF EMU3D2F=1
(1) 5381/    3FD1 : F7                  		RST 0X30
(1) 5382/    3FD2 : 10                  		DB WWRITE_SEC_		;WOUTI
(1) 5383/    3FD3 : =>FALSE             		ELSE
(1) 5384/    3FD3 :                     		OUTI
(1) 5385/    3FD3 : [5380]              		ENDIF
(1) 5386/    3FD3 : 18 F5               		JR WR_DATAPORT
(1) 5387/    3FD5 :                     
(1) 5388/    3FD5 : 06 04               READ_SEC	LD B,4
(1) 5389/    3FD7 : =>TRUE              LOC_3FD7	IF EMU3D2F=1
(1) 5390/    3FD7 : F7                  		RST 0X30
(1) 5391/    3FD8 : 11                  		DB WREAD_SEC_		;WINFF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 154 - 12/15/2013 13:00:27


(1) 5392/    3FD9 : =>FALSE             		ELSE
(1) 5393/    3FD9 :                     		IN A,(0XFF)
(1) 5394/    3FD9 : [5389]              		ENDIF
(1) 5395/    3FD9 : E6 C0               		AND 0XC0
(1) 5396/    3FDB : 20 0F               		JR NZ,LOC_3FEC
(1) 5397/    3FDD : 13                  		INC DE
(1) 5398/    3FDE : 7B                  		LD A,E
(1) 5399/    3FDF : B2                  		OR D
(1) 5400/    3FE0 : 20 F5               		JR NZ,LOC_3FD7
(1) 5401/    3FE2 : 10 F3               		DJNZ LOC_3FD7
(1) 5402/    3FE4 : C9                  		RET
(1) 5403/    3FE5 :                     
(1) 5404/    3FE5 : =>TRUE              RD_DATAPORT	IF EMU3D2F=1
(1) 5405/    3FE5 : F7                  		RST 0X30
(1) 5406/    3FE6 : 11                  		DB WREAD_SEC_		;WINFF
(1) 5407/    3FE7 : =>FALSE             		ELSE
(1) 5408/    3FE7 :                     		IN A,(0XFF)
(1) 5409/    3FE7 : [5404]              		ENDIF
(1) 5410/    3FE7 : E6 C0               		AND 0XC0
(1) 5411/    3FE9 : 28 FA               		JR Z,RD_DATAPORT
(1) 5412/    3FEB : F8                  		RET M
(1) 5413/    3FEC : =>TRUE              LOC_3FEC	IF EMU3D2F=1
(1) 5414/    3FEC : F7                  		RST 0X30
(1) 5415/    3FED : 12                  		DB WINI_RET
(1) 5416/    3FEE : =>FALSE             		ELSE
(1) 5417/    3FEE :                     		INI
(1) 5418/    3FEE : [5413]              		ENDIF
(1) 5419/    3FEE : 18 F5               		JR RD_DATAPORT
(1) 5420/    3FF0 :                     
(1) 5421/    3FF0 : ED 79               		OUT (C),A
(1) 5422/    3FF2 : C9                  FOR_RET		RET
(1) 5423/    3FF3 :                     
(1) 5424/    3FF3 : ED 78               		IN A,(C)
(1) 5425/    3FF5 : C9                  		RET
(1) 5426/    3FF6 :                     
(1) 5427/    3FF6 : (MACRO)             		DUPL 0X3FF8-$,0XFF
(1) 5427/    3FF6 :                     DUPL:
(1) 5427/    3FF6 : =0H                 $$N             EQU (0X3FF8-$) / 1024
(1) 5427/    3FF6 : =2H                 $$M             EQU (0X3FF8-$) # 1024
(1) 5427/    3FF6 :                                     REPT $$N
(1) 5427/    3FF6 :                                     DB 1024 DUP(0XFF)
(1) 5427/    3FF6 :                                     ENDM
(1) 5427/    3FF6 : =>TRUE                              IF $$M <> 0
(1) 5427/    3FF6 : FF FF                               DB $$M DUP(0XFF)
(1) 5427/    3FF8 : [5427]                              ENDIF
(1) 5428/    3FF8 : 45 56 4F 44 4F 53   		DB "EVODOS"
(1) 5429/    3FFE : 8F 9B               		DW DATA_VERS
(1) 5430/    4000 :                     
       8/    4000 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 155 - 12/15/2013 13:00:27


  symbol table (* = unused):
  ------------------------

 A2TXT :                       33E7 C | *ACCESSSDG :                     40 - |
 ACTIV_DEF_DSK :               3DC8 C | *ADDR_RET :                    3CB4 C |
 ADD_10 :                       50B C |  ADD_FILESIZE :                1689 C |
 ADRTEKV :                     ADF4 - | *ADR_PERFECT :                   36 - |
 ADR_RST8END :                 3CE8 - |  ADR_SEL_ROM :                   14 - |
*ARCHITECTURE :  i386-unknown-win32 - |  ASC_10A5 :                    10A5 C |
 ASC_10B3 :                    10B2 C |  ASC_276B :                    276A C |
 ASC_2779 :                    2778 C |  ASC_2785 :                    2784 C |
 ASC_27AA :                    27A8 C |  ASC_27CA :                    27C7 C |
 ASC_27D2 :                    27CF C |  ASC_27DD :                    27DA C |
 ASC_27ED :                    27EA C |  ASC_2804 :                    2801 C |
 ASC_2812 :                    280F C |  ASC_2820 :                    281D C |
 ATTR_P :                      5C8D - |  ATTR_T :                      5C8F - |
*AUTOMOUNT :                     20 - | *BANKM :                       5B5C - |
 BC2STKBOT :                   1DB6 C |  BCMP_EMU :                      F5 - |
*BIGENDIAN :                      0 - | *BLACK :                          0 - |
*BLUE :                           1 - |  BORDCR :                      5C48 - |
*BRANCHEXT :                      0 - | *BREAK_BF :                      10 - |
*BREAK_HIGH_RD :               11BE - | *BREAK_HIGH_WR :                1BD - |
*BREAK_LOW_RD :                10BE - | *BREAK_LOW_WR :                  BD - |
*BR_INK :                        40 - | *BR_PAPER :                      80 - |
 BUFF_SECT :                   3CB2 C |  BUF_256 :                     A300 - |
 BUF_512 :                     AE00 - |  BUF_ALLVOL :                     0 - |
 BUF_DIRCEP :                  3400 - |  BUF_LEVELDIR :                A000 - |
 BUF_PATH :                    A200 - |  BUF_PATHMOUNT :               3000 - |
 BUF_TABLVOL :                 AD00 - |  BUF_TDIRCLS :                 A400 - |
 BUF_TEKVOL :                  AC00 - | *BUF_TEMPSEC :                 3500 - |
*BUF_WINPATH :                 9C00 - |  BUGFIX_3EBF :                 35D0 C |
*BUILD_DEBUG :                    0 - |  BYTES_COM :                   31BC C |
 BYTE_10BA :                   10B9 C |  BYTE_10CA :                   10C8 C |
 BYTE_10CE :                   10CB C |  BYTE_10E2 :                   10DE C |
 BYTE_10F6 :                   10F1 C |  BYTE_110A :                   1104 C |
 BYTE_111E :                   1117 C |  BYTE_112E :                   1126 C |
*B_H :                            1 - | *B_L :                           20 - |
 CALL2BASEDIT :                1D90 C |  CALL2BASIC :                  2F6F C |
 CALL_3D13 :                   2839 C | *CASESENSITIVE :                  1 - |
 CAT :                          435 C |  CD :                          34B4 C |
 CHANS :                       5C4F - |  CHARS :                       5C36 - |
 CHISLO2STKBOT :               1D7B C |  CH_ADD :                      5C5D - |
 CLEAR_DOWN_SCR :              1D9F C |  CLEAR_SCREEN :                1D97 C |
 CLEAR_WORKSPACE :             1D63 C | *CLOCK_VIEW :                    10 - |
 CLOSE :                       2622 C |  CLRBUF_EDITOR :               20F4 C |
 CLRCMOS :                     359F C |  CMOSD_RD_WR :                 BEF7 - |
 CMOSD_SET_ADR :               DEF7 - | *CMOS_BYTE_00 :                  ED - |
*CMOS_BYTE_01 :                  EC - | *CMOS_RD_WR :                  BFF7 - |
*CMOS_SET_ADR :                DFF7 - |  CMP_RAMDISK :                  E82 C |
*CMP_RAMDISK_ :                366D C |  CMP_SPECSYM :                 328F C |
 CODES :                        45F C |  CODE_BYTE_COM :               30C1 C |
 COM2VG_WAIT :                 3D9A C |  COMAND_TBL :                  287E C |
 COMMAND_CPU :                  2CF C |  COMPARE_B_SYM :               26DD C |
 COM_00 :                      3D98 C |  COM_01 :                      3DCB C |
*COM_011 :                     3DE2 C |  COM_02 :                      3E63 C |
 COM_03 :                      3F02 C |  COM_04 :                      3F06 C |
 COM_05 :                      1E52 C |  COM_06 :                      1E62 C |
 COM_07 :                      28B0 C |  COM_08 :                      164E C |
 COM_09 :                      1656 C |  COM_0A :                      1CEA C |
 COM_0B :                      28D3 C |  COM_0C :                      28CA C |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 156 - 12/15/2013 13:00:27


 COM_0E :                      290F C |  COM_12 :                      2926 C |
 COM_13 :                      28B8 C |  COM_14 :                      28BB C |
 COM_15 :                      2739 C |  COM_16 :                      1FEB C |
 COM_17 :                      1FF6 C |  COM_18 :                       405 C |
 COM_DOT :                     331A C |  COM_STAR :                     FC3 C |
*CONF4CUSTOM :                   9C - | *CONF4GLUK :                     94 - |
*CONF4PROF :                     90 - | *CONF_128 :                    7FFD - |
*CONSTPI :        3.141592653589793 - |  CONTINUE_15619 :               166 C |
*CONTINUE_MAGIC :                34 - | *CONT_RST8 :                     2C - |
 CONV2_2BYTES :                1DA4 C |  COPY :                         693 C |
 COPYHBLOCK :                   901 C |  COPY_B :                      152C C |
 COPY_BAS2VARS :                113 C |  COPY_BLOCK :                   801 C |
 COPY_BLOCK1 :                  A01 C |  COPY_FILE :                    732 C |
 COPY_FILE_ON2DSK :             641 C |  COPY_ON1DSK :                 13A0 C |
 COPY_ON1DSK_ :                1439 C |  COPY_S :                      134D C |
 COPY_SECTORS :                15B8 C |  COPY_STAR_STAR :               5D2 C |
 CP4PRINT_HEAD :                3CD C |  CPANDZERO23 :                 259A C |
*CPU0 :                           0 - | *CPU1 :                        4000 - |
 CPU2 :                        8000 - | *CPU3 :                        C000 - |
 CP_0D_OR_80 :                  1BD C |  CP_ADR_STR :                  30A5 C |
 CP_COPY_SECS :                15B2 C |  CP_ENDOFSECTOR :              2306 C |
 CP_END_BLK :                  2440 C |  CP_END_BUF :                   510 C |
 CP_END_CAT :                  2FC6 C |  CP_END_DIR :                   4FA C |
 CP_ERASED_FILE :              1645 C |  CP_ERASED_FILES :              580 C |
 CP_ERROR :                     201 C |  CP_EXT_SHARP :                 5BB C |
 CP_FILE_FREE :                1ABF C |  CP_FILE_OPENED :              261C C |
 CP_FREE4PROG :                19F3 C |  CP_FREESEC :                  13EB C |
 CP_FREE_DEST :                14F0 C |  CP_FREE_ON_DSK :              1AC5 C |
 CP_FREE_RAM :                 19FE C |  CP_FREE_SECS :                1672 C |
 CP_HIGH_ERR :                  57B C |  CP_MASSIV :                   1C0D C |
 CP_NUM_TRACK :                207D C |  CP_ON_STKBOT :                 535 C |
 CP_PARAMS :                   18AA C | *CP_PRESENT_DSK :              3DAD C |
 CP_SECOND_SYM :                42D C |  CP_SINTAX :                   1D70 C |
 CP_STREAMS :                  21F1 C |  CP_TYPEDRIVE :                 E2A C |
 CP_TYPE_DSK :                  417 C |  CP_VARSTRDOS :                 F50 C |
*CP_VARSTRDOS_ :               35DB C | *CRCCMOSHIGH :                   EF - |
*CRCCMOSLOW :                    EE - | *CRC_DRVS :                    ADFE - |
 CREATE_222BYTES :             1148 C |  CREATE_BLK :                  235D C |
 CREATE_BLOCK :                2279 C |  CREATE_BLOCK0 :               2267 C |
 CREATE_BUF :                  294A C |  CREATE_FREERAM :              1E1B C |
 CREATE_HEADCHAN :             2291 C |  CREATE_NEWBLOCK :             234C C |
 CREATE_TRDTABL :               EA7 C |  CREATE_VARS :                 3D67 C |
 CREATE_VARS_TRD :             3D21 C |  CURCHL :                      5C51 - |
*CYAN :                           5 - |  DATADD :                      5C57 - |
 DATA_VERS :                   9B8F - |  DATE :                  12/15/2013 - |
 DDATE :                          F - | *DEBUG_ONOFF :                   13 - |
 DELETE_BUF :                  20E6 C |  DEL_5BYTES :                  1E14 C |
 DEL_BUF :                     296F C |  DEL_WORKRAM :                 1E26 C |
 DEVICES :                     ADE0 - |  DF_SZ :                       5C6B - |
 DIR :                         3422 C |  DIR01 :                       3446 C |
 DIR02 :                       349B C |  DIR03 :                       3469 C |
 DIR04 :                       345F C |  DIR05 :                       3444 C |
 DIR06 :                       3432 C |  DIR07 :                       34B1 C |
 DIR08 :                       3471 C |  DIR081 :                      3473 C |
 DIR082 :                      347C C |  DIR083 :                      3492 C |
 DIR084 :                      3490 C |  DIR085 :                      3488 C |
 DIR086 :                      3480 C |  DISCERROR_ :                   40F C |
*DISKNONE1 :                    B1A C |  DISK_NONE :                   3201 C |
 DISK_NONE1 :                  3216 C |  DOS2RST8 :                    3239 C |
 DOS2RST8_01 :                 3243 C |  DOS_EMUL :                     F1F C |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 157 - 12/15/2013 13:00:27


 DOS_NOEMUL :                   F1E C |  DOS_STEK :                    3CAC C |
 DRIVE :                       3405 C |  DRIVES :                      33FD C |
 DSKINFO :                     31E5 C |  DSK_END :                     3201 C |
*ECHO_E :                      5C82 - |  ECODE_BYTE_COM :              30D4 C |
 ECOMAND_TBL :                 28B0 C |  ECOPY_BLOCK :                  DDF C |
 ECOPY_BLOCK1 :                 DE5 C |  EDOS2RST01 :                  328B C |
 EDOS2RST02 :                  327A C |  EDOS2RST8 :                   3270 C |
*EDRIVES :                     3405 C | *EI_RET :                        3E - |
 ELT1 :                         ECB C |  ELT2 :                         EBF C |
 EMU3D2F :                        1 - | *EMUL_TAPE :                     40 - |
*EMUVG_BF :                      20 - |  EMUWRFF :                        1 - |
 EMU_LDIR :                    3602 C |  EMU_LDIR0 :                   361D C |
 EMU_LDIR2 :                   3622 C |  EMU_LDIR3 :                   3647 C |
*EMU_LDIR4 :                   3636 C |  EMU_LDIR_RBC :                3649 C |
 EMU_LDIR_RHL :                364E C |  END_COM :                      358 C |
 END_COMAND :                   1CA C |  END_EXT_COM :                 32DD C |
 END_FORMAT :                  1F07 C |  END_OUT_DIR :                  3AC C |
*END_VARS :                    3CE2 C |  ERASE :                        782 C |
 ERASE_FILE :                   79B C |  ERASE_FILES :                  79F C |
 ERR_DIRFULL :                 26ED C |  ERR_ENDOFFILE :               2464 C |
 ERR_INVALID_IO :              2470 C |  ERR_NOFILES :                  3D9 C |
 ERR_NR :                      5C3A - |  ERR_OK :                       3E1 C |
 ERR_SP :                      5C3D - |  ETXT4VIRTDRV :                 A3E C |
 EW_DATA :                      A24 C |  EXECUTECOM2HL :                 69 C |
 EXIT_IF_SINTAX :              1D75 C |  EXIT_RST08 :                   A99 C |
 EXIT_RST082 :                  ABF C |  EXIT_RST083 :                  AE1 C |
 EXIT_RST084 :                  AEC C |  EXIT_RST085 :                  AD5 C |
 EXTEND_COM :                  329A C |  E_LINE :                      5C59 - |
*FALSE :                          0 - | *FDI_BLOCK_SMESH :             41FF - |
*FDI_BYTE_SMESH :              41FE - | *FDI_IMAGE1SECT :              4400 - |
*FDI_PAGE_START :              40FF - | *FDI_TABLE_CYL :               4000 - |
 FILE_EXISTS :                 1C4E C |  FIND_ENDFILE :                21BD C |
 FIND_ENDSTR :                  210 C |  FIND_END_BUFDIR :             119E C |
 FIND_END_SEC :                2377 C |  FIND_FILE :                   292F C |
 FIND_FILENAME :               1CAE C |  FIND_FILENAME_0A :             5C4 C |
 FIND_HEAD_BUF :               1C9F C |  FIND_KEYWORD :                306D C |
 FIND_LAST :                   1DAE C |  FIND_MASSIV :                 1C19 C |
 FIND_NEXT_BLK :               23A8 C |  FIND_RD_HEAD :                18A4 C |
 FIND_TREK :                   3E46 C | *FIRST_CRCBYTE :                 EB - |
 FLAGS :                       5C3B - | *FLAGS_DRV :                   ADF8 - |
*FLASH_BF :                       2 - | *FONT_BF :                        4 - |
 FORMAT :                      1EBB C |  FORMAT_DISK :                 20BD C |
 FORMAT_RAM :                   E48 C |  FORMAT_RAM1 :                  E71 C |
 FORMAT_RAM3 :                  E61 C |  FORMAT_TREK :                 1FFD C |
 FOR_RET :                     3FF2 C | *FULLPMMU :                       1 - |
 GET_ADRTEKFRG :               22FD C |  GET_ADRTEKSYM :               22F3 C |
 GET_COMMAND :                 2117 C |  GET_COMMAND2 :                365E C |
 GET_KEYS :                     FFD C |  GET_LOAD_CODE :               1842 C |
 GET_NEXT_SYM :                1E22 C |  GET_NUM_TRACK :               3EB2 C |
 GET_OVERWRITE_ :               58A C |  GET_PARAM :                   334D C |
 GET_PARAMS :                  187A C |  GET_START_SIZE :              1DDE C |
 GET_STKBOT_ :                 1DAA C |  GET_SYMSTR :                  1D8C C |
 GET_TEKSECFILE :              23FC C |  GET_TIME_HEAD :               3E08 C |
 GET_TYPE_DISK :               3E13 C | *GET_TYPE_DISK_ :              35E9 C |
 GO2RUNBOOT :                   2EF C | *GOTO_END :                     3C0 C |
 GO_DEV :                      ADF0 - | *GREEN :                          4 - |
*G_H :                           10 - | *G_L :                           80 - |
*HAS64 :                          1 - | *HASDSP :                         0 - |
*HASFPU :                         0 - | *HASPMMU :                        0 - |
 HEAD_POSITION :               3E44 C |  HELP :                        35A3 C |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 158 - 12/15/2013 13:00:27


 HELP1 :                       35B7 C |  HELP2 :                       35AE C |
 HELP3 :                       35C3 C |  HELP4 :                       35AC C |
 INDEX :                        BEB - | *INEXTMODE :                      0 - |
 INFF_BIT6 :                    B10 C |  INFF_BIT61 :                   B11 C |
*INFF_BIT7 :                    B58 C |  INITFREEACCESS :              220E C |
*INLWORDMODE :                    0 - | *INMAXMODE :                      0 - |
 INPUTDATAFILE :               25BF C |  INPUT_2STR2STKBOT :           1DC8 C |
 INPUT_EXTFILENAME :            FD9 C |  INPUT_PARAMS :                1DE4 C |
 INPUT_SYM_FILE :              25F7 C | *INSRCMODE :                      0 - |
*INST_NMIRST :                   40 - | *INSUPMODE :                      0 - |
 IN_COMMAND_CPU :               239 C |  IN_DOS_15616 :                3D31 C |
 IN_DOS_15619 :                3D1A C |  IN_ROM1 :                      D7A C |
 IN_ROM2 :                      D71 C |  IN_ROM3 :                      D8C C |
*IN_ROM4 :                      D67 C |  IREG_D :                      3CA9 C |
*IREG_E :                      3CA8 C | *IREG_H :                      3CAB C |
*IREG_L :                      3CAA C | *JMP_DBG :                       80 - |
 KOLDVOL :                     ADF2 - |  KOLWO_SECS :                  1EA5 C |
*KOL_MODES :                      4 - | *KSTATE0 :                     5C00 - |
*KSTATE1 :                     5C01 - |  K_CUR :                       5C5B - |
*LATTR :                       31C0 - |  LDI3_HL2DE :                   2AF C |
 LIST :                        11BC C |  LIST4CODES :                  11E6 C |
*LISTON :                         1 - |  LOAD :                        1815 C |
 LOAD4BASIC :                  1A02 C |  LOAD4DATA :                   1A4D C |
 LOADINGSECTOR :               23F1 C |  LOAD_END_FILE :               2FDE C |
 LOAD_FILE :                   1836 C |  LOAD_FILLFILE :               1EB5 C |
 LOAD_FULLFILE :               191C C |  LOAD_SEC2BUF :                2FD6 C |
 LOAD_SECTOR :                 3F0E C | *LOC2A53 :                     35FD C |
 LOC_0235 :                     235 C |  LOC_09 :                         B C |
 LOC_104D :                     FF8 C |  LOC_1056 :                    1001 C |
 LOC_1073 :                    101E C |  LOC_108F :                    103A C |
 LOC_1096 :                    1041 C |  LOC_1161 :                    1158 C |
 LOC_1168 :                    115F C |  LOC_1172 :                    1169 C |
 LOC_1179 :                    1170 C |  LOC_1183 :                    117A C |
 LOC_118A :                    1181 C |  LOC_1194 :                    118B C |
 LOC_119B :                    1192 C |  LOC_11FB :                    11E9 C |
 LOC_1205 :                    11F3 C |  LOC_123E :                    122C C |
 LOC_1292 :                    1282 C |  LOC_12B5 :                    12A5 C |
 LOC_12D0 :                    12C0 C |  LOC_12D4 :                    12C4 C |
 LOC_12D9 :                    12C9 C |  LOC_132C :                    131C C |
 LOC_1333 :                    1323 C |  LOC_1335 :                    1325 C |
 LOC_1375 :                    1360 C |  LOC_1393 :                    137E C |
 LOC_13A5 :                    138E C | *LOC_14 :                        14 C |
 LOC_140 :                      13C C |  LOC_1465 :                    144B C |
 LOC_146F :                    1455 C |  LOC_1484 :                    146A C |
 LOC_14A5 :                    1489 C |  LOC_14CB :                    14AF C |
 LOC_153E :                    153A C |  LOC_1575 :                    1571 C |
 LOC_15D1 :                    15CD C |  LOC_15DB :                    15D7 C |
 LOC_15F8 :                    15F2 C |  LOC_161D :                    1613 C |
 LOC_1644 :                    163A C |  LOC_165E :                    1650 C |
 LOC_166 :                      162 C |  LOC_168F :                    1681 C |
 LOC_16C3 :                    16B5 C |  LOC_16D6 :                    16C8 C |
 LOC_16E5 :                    16D6 C |  LOC_1710 :                    16EA C |
 LOC_17BA :                    1794 C |  LOC_17DD :                    17B7 C |
 LOC_17F0 :                    17C8 C |  LOC_17F7 :                    17CF C |
 LOC_180D :                    17E5 C |  LOC_1818 :                    1818 C |
 LOC_1866 :                    1866 C |  LOC_18B7 :                    18B6 C |
 LOC_18CB :                    18CD C |  LOC_18F6 :                    18F7 C |
 LOC_18F9 :                    18FA C |  LOC_18FD :                    18FE C |
 LOC_192D :                    192E C |  LOC_1937 :                    1938 C |
 LOC_196A :                    196B C |  LOC_1974 :                    1975 C |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 159 - 12/15/2013 13:00:27


 LOC_198E :                    198F C |  LOC_199D :                    199E C |
 LOC_19AB :                    19AC C |  LOC_1A20 :                    1A21 C |
 LOC_1A31 :                    1A32 C |  LOC_1A48 :                    1A49 C |
 LOC_1A5 :                      19B C |  LOC_1A79 :                    1A7A C |
 LOC_1A8 :                      19E C |  LOC_1AA7 :                    1AA8 C |
 LOC_1AAE :                    1AAF C |  LOC_1AB :                      1A1 C |
 LOC_1AB0 :                    1AB1 C |  LOC_1AB6 :                    1AB7 C |
 LOC_1AF8 :                    1AF9 C |  LOC_1B0D :                    1B0E C |
 LOC_1B1F :                    1B20 C |  LOC_1B27 :                    1B28 C |
 LOC_1B2C :                    1B2D C |  LOC_1B39 :                    1B3A C |
 LOC_1B48 :                    1B49 C |  LOC_1B53 :                    1B54 C |
 LOC_1B6D :                    1B6E C |  LOC_1C13 :                    1C11 C |
 LOC_1C29 :                    1C27 C |  LOC_1C2B :                    1C29 C |
 LOC_1C45 :                    1C43 C |  LOC_1C5C :                    1C60 C |
 LOC_1C73 :                    1C73 C |  LOC_1C98 :                    1C93 C |
 LOC_1C9C :                    1C97 C |  LOC_1CBA :                    1CB4 C |
 LOC_1CCD :                    1CC7 C |  LOC_1CDB :                    1CD5 C |
 LOC_1CE4 :                    1CDE C |  LOC_1CE7 :                    1CE1 C |
 LOC_1D25 :                    1D22 C |  LOC_1D29 :                    1D26 C |
 LOC_1D2F :                    1D2C C | *LOC_1D67 :                    1D67 C |
 LOC_1DD0 :                    1DCB C |  LOC_1DFB :                    1DF4 C |
 LOC_1E64 :                    1E64 C |  LOC_1E67 :                    1E67 C |
 LOC_1E75 :                    1E75 C |  LOC_1EA7 :                    1E9F C |
*LOC_1EE8 :                    1EDD C | *LOC_1F1B :                    1F04 C |
 LOC_1F3 :                      1EA C | *LOC_1F55 :                    1F21 C |
 LOC_1FF0 :                    1FF0 C |  LOC_2007 :                    2007 C |
 LOC_2076 :                    2076 C |  LOC_208A :                    208A C |
 LOC_2090 :                    2090 C |  LOC_20A6 :                    20A6 C |
 LOC_20C6 :                    20C6 C | *LOC_20E1 :                    20E2 C |
 LOC_211C :                    20F2 C |  LOC_218E :                    2170 C |
 LOC_219A :                    217C C |  LOC_21AE :                    2190 C |
 LOC_21F1 :                    21D3 C |  LOC_2201 :                    21E3 C |
 LOC_2206 :                    21E8 C | *LOC_221B :                    21FA C |
 LOC_2225 :                    2204 C |  LOC_2228 :                    2207 C |
 LOC_226B :                    224A C |  LOC_2270 :                    224F C |
 LOC_22C4 :                    22A1 C |  LOC_22FC :                    22D9 C |
 LOC_2304 :                    22E1 C |  LOC_2358 :                    2334 C |
 LOC_2379 :                    2355 C |  LOC_23B6 :                    2392 C |
 LOC_24 :                        23 C |  LOC_2413 :                    23EC C |
 LOC_2438 :                    2411 C |  LOC_243F :                    2418 C |
 LOC_2441 :                    241A C |  LOC_2494 :                    2466 C |
 LOC_24C2 :                    2494 C |  LOC_24D5 :                    24A7 C |
 LOC_24EE :                    24C0 C |  LOC_24F2 :                    24C4 C |
 LOC_2538 :                    2509 C |  LOC_2544 :                    2515 C |
 LOC_257C :                    254D C |  LOC_2584 :                    2555 C |
 LOC_25A7 :                    2578 C |  LOC_25AD :                    257E C |
 LOC_25D2 :                    25A2 C |  LOC_260F :                    25DC C |
 LOC_2614 :                    25E1 C |  LOC_261D :                    25E9 C |
 LOC_2626 :                    25F2 C |  LOC_2642 :                    260E C |
 LOC_2645 :                    2611 C |  LOC_269D :                    2669 C |
 LOC_26BC :                    2688 C | *LOC_271 :                      274 C |
 LOC_271B :                    26E5 C |  LOC_27B :                      27B C |
 LOC_28E5 :                    28BD C |  LOC_28EF :                    28C7 C |
 LOC_298F :                    298D C |  LOC_2992 :                    2990 C |
 LOC_2A53_ :                   35F4 C |  LOC_2B :                        2B C |
 LOC_2BB :                      2BB C |  LOC_2F0C :                    2F0C C |
*LOC_2F1B :                    2F1B C |  LOC_2F23 :                    2F23 C |
 LOC_2F57 :                    2F57 C |  LOC_2F59 :                    2F59 C |
 LOC_3057 :                    3018 C |  LOC_3087 :                    304B C |
 LOC_309A :                    305E C |  LOC_30A :                      30D C |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 160 - 12/15/2013 13:00:27


 LOC_30B1 :                    3075 C |  LOC_30BB :                    307F C |
 LOC_30C8 :                    308C C |  LOC_30CD :                    3091 C |
 LOC_30D9 :                    309D C |  LOC_30F4 :                    30B8 C |
 LOC_31A :                      31B C |  LOC_320 :                      321 C |
 LOC_33 :                        33 C |  LOC_3A :                        3A C |
*LOC_3B5 :                      3B5 C |  LOC_3C06 :                    3C06 C |
 LOC_3C09 :                    3C09 C |  LOC_3CFA :                    3CFA C |
 LOC_3CFD :                    3CFD C |  LOC_3D00 :                    3D00 C |
 LOC_3D03 :                    3D03 C |  LOC_3D06 :                    3D06 C |
 LOC_3D0A :                    3D0A C |  LOC_3D0E :                    3D0E C |
 LOC_3D16 :                    3D16 C |  LOC_3D2F :                    3D2F C |
 LOC_3D9C :                    3D9C C |  LOC_3DA5 :                    3DA5 C |
 LOC_3DBA :                    3DBA C | *LOC_3DFA :                    3DE9 C |
 LOC_3E01 :                    3E01 C |  LOC_3E0B :                    3E0C C |
*LOC_3E3F :                    3E3F C |  LOC_3E82 :                    3E82 C |
 LOC_3E83 :                    3E83 C |  LOC_3EA2 :                    3EA2 C |
 LOC_3EB5 :                    3EB5 C |  LOC_3ECE :                    3ECE C |
 LOC_3EE7 :                    3EE7 C |  LOC_3EF2 :                    3EF2 C |
 LOC_3EF5 :                    3EF5 C |  LOC_3F10 :                    3F10 C |
 LOC_3F13 :                    3F13 C |  LOC_3F15 :                    3F15 C |
 LOC_3F39 :                    3F39 C |  LOC_3F48 :                    3F48 C |
 LOC_3F4B :                    3F4B C |  LOC_3F5F :                    3F5F C |
 LOC_3F7B :                    3F7B C |  LOC_3FA0 :                    3FA0 C |
 LOC_3FAD :                    3FAD C |  LOC_3FBC :                    3FBC C |
 LOC_3FD1 :                    3FD1 C |  LOC_3FD7 :                    3FD7 C |
 LOC_3FEC :                    3FEC C |  LOC_425 :                      427 C |
 LOC_460 :                      462 C |  LOC_46A :                      46C C |
 LOC_479 :                      47B C |  LOC_4B6 :                      4BA C |
 LOC_4C4 :                      4C8 C |  LOC_4DF :                      4E3 C |
 LOC_4E3 :                      4E7 C |  LOC_4E8 :                      4EC C |
 LOC_569 :                      572 C |  LOC_5F4 :                      5FB C |
 LOC_634 :                      639 C |  LOC_6F3 :                      6F6 C |
 LOC_744 :                      747 C |  LOC_775 :                      778 C |
 LOC_79 :                        79 C |  LOC_7BC :                      7BB C |
 LOC_7C3 :                      7C2 C |  LOC_7D2 :                      7D1 C |
 LOC_C34 :                     3331 C |  LOC_C58 :                     3349 C |
 LOOK_VARS :                   1D9B C | *LSYM :                         1C0 - |
 M1011 :                         28 - |  M1015 :                         12 - |
 M1020 :                         1D - |  M1035 :                          8 - |
 M1036 :                         10 - |  M1037 :                        331 - |
 M1038 :                        17A - |  M1040 :                          8 - |
 M1043 :                         13 - |  M1044 :                          3 - |
 M1047 :                          5 - |  M1048 :                          6 - |
 M1074 :                          9 - |  M1153 :                        184 - |
 M1156 :                         24 - |  M1157 :                         75 - |
 M1196 :                         10 - |  M1198 :                          6 - |
 M1199 :                          F - |  M1210 :                          7 - |
 M1214 :                          3 - |  M1216 :                          6 - |
 M1217 :                         11 - |  M1218 :                          3 - |
 M1220 :                         15 - |  M1231 :                         11 - |
 M1238 :                         21 - |  M1240 :                          2 - |
 M1243 :                          1 - |  M1245 :                          9 - |
 M1249 :                          7 - |  M1283 :                          2 - |
 M404 :                           1 - |  M405 :                           1 - |
 M407 :                           0 - |  M408 :                           5 - |
 M412 :                           0 - |  M414 :                           0 - |
 M426 :                           1 - |  M429 :                           9 - |
 M432 :                           2 - |  M440 :                           3 - |
 M443 :                           4 - |  M450 :                           2 - |
 M507 :                           1 - |  M646 :                          59 - |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 161 - 12/15/2013 13:00:27


 M694 :                          1E - |  M702 :                           4 - |
 M733 :                          1B - |  M801 :                           6 - |
 M858 :                           8 - |  M861 :                           C - |
 M878 :                          54 - |  M986 :                          3E - |
*MACEXP :                         1 - | *MAGENTA :                        3 - |
 MARK_SP :                      21D C |  MASK_DRV :                    3CCF C |
 MEMBOT :                      5C92 - | *MEMORY_128 :                    30 - |
*MEMORY_48 :                     20 - | *MEMORY_ALL :                    10 - |
 MERGE :                       19B2 C | *MINT_STACK :                  3CCC C |
*MKOL_MODES :                     3 - |  MMOUNTH :                        C - |
*MOMCPU :                      80DC - | *MOMCPUNAME :              Z80UNDOC - |
 MOUNT :                       34DA C |  MOUNT01 :                     34F2 C |
 MOUNT02 :                     34EA C |  MOUNT_CLS :                   1000 - |
 MOUNT_DRIVES :                A100 - |  MOVE :                        169D C |
 MOVE_FILE :                   177F C |  N1011 :                          0 - |
 N1015 :                          0 - |  N1020 :                          0 - |
 N1035 :                          0 - |  N1036 :                          0 - |
 N1037 :                          0 - |  N1038 :                          0 - |
 N1040 :                          0 - |  N1043 :                          0 - |
 N1044 :                          0 - |  N1047 :                          0 - |
 N1048 :                          0 - |  N1074 :                          0 - |
 N1153 :                          1 - |  N1156 :                          0 - |
 N1157 :                          0 - |  N1196 :                          0 - |
 N1198 :                          0 - |  N1199 :                          0 - |
 N1210 :                          0 - |  N1214 :                          0 - |
 N1216 :                          0 - |  N1217 :                          0 - |
 N1218 :                          0 - |  N1220 :                          0 - |
 N1231 :                          0 - |  N1238 :                          0 - |
 N1240 :                          0 - |  N1243 :                          0 - |
 N1245 :                          0 - |  N1249 :                          0 - |
 N1283 :                          0 - |  N404 :                           0 - |
 N405 :                           0 - |  N407 :                           0 - |
 N408 :                           0 - |  N412 :                           0 - |
 N414 :                           0 - |  N426 :                           0 - |
 N429 :                           0 - |  N432 :                           0 - |
 N440 :                           0 - |  N443 :                           0 - |
 N450 :                           0 - |  N507 :                           0 - |
 N646 :                           0 - |  N694 :                           0 - |
 N702 :                           0 - |  N733 :                           0 - |
 N801 :                           0 - |  N858 :                           0 - |
 N861 :                           0 - |  N878 :                           0 - |
 N986 :                           0 - |  NAPRAVL :                      B27 C |
*NESTMAX :                      100 - |  NEW :                          543 C |
 NEWPPC :                      5C42 - |  NEXT_CMP_COM :                3320 C |
*NMI_BF :                         8 - |  NOMER_DRV :                   34C3 C |
 NOT_USED :                    5C81 - |  NO_PARAM :                    334E C |
 NSPPS :                       5C44 - |  NUMBER_VERS :   EVO-DOS Ver 0.36   - |
 NUMDSK2BYTE :                  528 C |  NUM_SEC_FILE :                1A95 C |
*NUM_TXTSCR :                     7 - | *NUM_ZXSCR :                      3 - |
*NXTLIN :                      5C55 - |  OFFSET_BUFSYM :               B000 - |
 OFFSET_FNTSAVE :              B800 - | *OFFSET_SCRSAVE :              2500 - |
 OPEN :                        2164 C |  OPENSTREAM :                  1D84 C |
 OPEN_BLK :                    23BD C |  OPEN_CHAN_0 :                 1D83 C |
 OPEN_CHAN_2 :                 1D88 C | *OPEN_NEXT_BLK :               239A C |
 OPEN_SAVED :                  2539 C |  OPEN_STREAM :                 2221 C |
 OUT_COLOR_LINE :              1019 C |  OUT_SYM2FILE :                2423 C |
*PACKING :                        0 - | *PADDING :                        1 - |
*PAGE4FLASHER :                  40 - | *PAGE4TAP :                      60 - |
*PAGE_ADDSTS :                    6 - |  PAGE_DATARAMD :                  A - |
 PAGE_EVODOS :                    2 - | *PAGE_FATVARS :                   1 - |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 162 - 12/15/2013 13:00:27


*PAGE_MOUNTER :                   4 - | *PAGE_PROFROM :                   3 - |
 PAGE_RAMDISK :                   9 - | *PAGE_SCR_FONT :                  7 - |
*PAGE_STS :                       5 - | *PAGE_TEMP :                      8 - |
*PAUSE725779TAKTS :            3DFD C |  PAUSE_3_C_A :                 3EA0 C |
 PAUSE_C_A :                   3DFF C |  PEEK :                        19A6 C |
*PENT_CONF :                   EFF7 - |  PEVO_CONF :                     BF - |
 POKE :                        19AA C |  POSITIONIREN :                3E4C C |
 PPC :                         5C45 - |  PRESS_RETRY :                 3F94 C |
 PRINT2ZERO :                  3674 C |  PRINT8SYM :                    FB5 C |
 PRINT8SYM1 :                   FB8 C | *PRINTER_AY :                    20 - |
 PRINT_0D :                    1DBA C |  PRINT_A_ :                    1DBC C |
 PRINT_CHISLO :                1DA6 C |  PRINT_CHISLO_A_ :             1DA3 C |
 PRINT_ERROR :                  3C3 C |  PRINT_FILENAME :               F6C C |
 PRINT_HL_CHISLO :             1154 C |  PRINT_MSG :                   26D3 C |
 PRINT_NUM_TRK :                F7A C |  PRINT_TXTERR :                1C48 C |
*PRINT_VIRTDRV :               3653 C |  PRN_ADR_ASTART :              130B C |
 PROG :                        5C53 - |  PROPUSK :                     3346 C |
 PRT_B_HL_ :                   33DC C |  PRT_NUM_VIRT :                3358 C |
 PRT_VERS :                    3397 C |  PUT_NUMDSK_STK :              1DB2 C |
*P_ADDON1 :                       5 - | *P_ADDON2 :                       4 - |
*P_ADDONS :                       6 - |  P_ADD_BAS48 :                    B - |
*P_ADD_DOS :                      A - | *P_ATMCPM :                       8 - |
*P_BAS128 :                       1 - |  P_BAS48 :                        3 - |
*P_DOS :                          2 - | *P_ERS :                          0 - |
*P_MSXDOS :                       9 - |  P_RAMT :                      5CB4 - |
*P_RST8 :                         7 - |  RAMTOP :                      5CB2 - |
 RASP :                        5C38 - | *RATTR :                       21C1 - |
 RBHL1 :                        F43 C |  RD_0SEC2BUF :                  3E8 C |
*RD_0WINA0 :                     BE - | *RD_0WINA1 :                    1BE - |
*RD_0WINA2 :                    2BE - | *RD_0WINA3 :                    3BE - |
 RD_1F :                       3CAF C |  RD_1WINA0 :                    4BE - |
*RD_1WINA1 :                    5BE - | *RD_1WINA2 :                    6BE - |
*RD_1WINA3 :                    7BE - | *RD_77 :                        CBE - |
*RD_7FFD :                      ABE - |  RD_DATAPORT :                 3FE5 C |
 RD_DOS7FFD :                   9BE - | *RD_EFF7 :                      BBE - |
 RD_FF :                       3CB1 C |  RD_FILE :                     1922 C |
 RD_HEAD_COPY :                17C1 C |  RD_HEAD_FILENAME :            164F C |
 RD_OR_VERIFY :                1947 C | *RD_PALITRA :                   DBE - |
*RD_RAMNROM :                   8BE - |  RD_SECTORS :                  195D C |
 READCMOS :                     E0C C |  READ_9SEC :                    3FD C |
 READ_BYTE_HL_ :                F20 C |  READ_MASSIV :                 1BFA C |
 READ_NUM_SEC :                 3EC C |  READ_ONLY :                   29D8 C |
 READ_SEC :                    3FD5 C |  READ_SEC2BUF :                 51B C |
 READ_SEC4NEM :                 3F2 C |  READ_SEC_ :                    CA2 C |
 READ_SEC_1 :                   CC1 C | *RED :                            2 - |
 REG_A :                       3CBB C | *REG_B :                       3CB9 C |
 REG_C :                       3CB8 C |  REG_F :                       3CBA C |
 REG_H :                       3CBD C | *REG_I :                       3CB7 C |
 REG_IF :                      3CB6 C |  REG_L :                       3CBC C |
 REINIT_9SEC :                 1746 C | *RELAXED :                        1 - |
*RELOAD_FONT :                   10 - |  REPDEL :                      5C09 - |
 RESERVED_RAM :                1661 C |  RESERV_RAM :                  1E2A C |
*RESET2CUSTOM :                   3 - | *RESET2EVOSERV :                  0 - |
*RESET2GLUK :                     1 - | *RESET2PROFROM :                  2 - |
 RESTORE_COMSTR :              210D C |  RESTORE_SP :                   232 C |
 RETURN :                      1CF5 C |  RET_PAGE_STD :                 DE9 C |
 REWRITE_9SEC :                1E58 C |  RST08_WORK :                   A3E C |
 RST08_WORK1 :                  A48 C | *RSYM :                        11C0 - |
 RUN :                         1D4A C |  RUNCODE :                     1E3D C |
 RUN_CODE :                     F63 C |  RW_PORT0 :                      2F - |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 163 - 12/15/2013 13:00:27


 RW_PORT1 :                      4F - |  RW_PORT2 :                      6F - |
 RW_PORT3 :                      8F - | *R_H :                            2 - |
*R_L :                           40 - |  SAE2E_LINE :                  2FF3 C |
 SAE2_HL_ :                    3009 C |  SAVE :                        1AD1 C |
 SAVED_RAM :                   3CD2 C |  SAVE_FILE :                   1B5A C |
 SAVE_HEAD_BLK :               26AD C |  SAVE_SECS_DEST :              151F C |
 SAVE_SECTOR :                 3F0A C |  SAVE_TEKSECTOR :              23D5 C |
 SAVE_TEK_SEC :                2594 C |  SAVE_TEK_VOL :                ADF6 - |
*SECFREE :                     31E9 C |  SELFATDRV :                   3306 C |
 SET4MBPAGE :                   F06 C |  SETDVOL :                     ADF3 - |
 SETUP_DSK :                   1C80 C |  SETUP_DSK_DEST :              14E4 C |
 SETUP_DSK_SOURCE :            14D8 C |  SET_AND_PUT :                 1DD8 C |
 SET_CH_ADD :                  1DC0 C |  SET_CP_FILENAME :             1CAB C |
 SET_DRIVENAME :                E36 C | *SET_DRIVENAME_ :              35E2 C |
 SET_DSK :                     241C C |  SET_FILENAME :                1C5B C |
 SET_HEAD_FILENAME :           165D C | *SET_HEAD_STSZ :               1BC6 C |
*SET_MAP :                       40 - |  SET_NUM_CHAN :                1E03 C |
*SET_NUM_ERR :                 26F7 C |  SET_RWPORT0 :                 321F C |
 SET_SIDE_DSK :                3EAA C |  SET_START_SIZE :              1BDC C |
 SET_TAPELDERR :               26F5 C |  SET_VARS :                    2F8D C |
 SET_VIRT :                    3371 C |  SHADOW_BF :                      1 - |
 SINTAX_ERROR :                1D17 C |  SIZEDATE :                       A - |
*SOUNDKEYS :                      8 - |  SPIS_ADR_COM :                30D4 C |
*SPONSL :                      5C8A - |  SP_RAMD0 :                     E05 C |
 SP_RAMD1 :                     D4F C |  SP_RAMD2 :                     D57 C |
 SP_RAMD3 :                     DD1 C |  SP_RAMD4 :                     DA1 C |
 SP_RAMD5 :                     DC3 C |  SP_RAMD6 :                     DC7 C |
 SP_RAMD7 :                     DD7 C |  SP_RAMD8 :                     DF7 C |
 SP_RAMD8_ :                    DFA C |  SP_RAMD9 :                     D43 C |
*START_STS :                   C000 - | *STEP_DBG :                      20 - |
 STKBOT :                      5C63 - |  STKEND :                      5C65 - |
 STOP_MOTOR :                   2B9 C |  STRMS :                       5C10 - |
 SUB_1857 :                    1857 C |  SUB_2158 :                    213A C |
 SUB_2323 :                    22FF C |  SUB_2367 :                    2343 C |
 SUB_26CE :                    269A C |  SVLDRAM1 :                     C74 C |
 SVLDRAM2 :                     C99 C |  SV_LD_RAMDISK :                C5F C |
*SWAP :                        5B00 - | *SWAP_8 :                      5B08 - |
 TABL_SECTORS :                1F86 C |  TBL_KEYWORD :                 30FA C |
 TEK_BUFPATH :                 2000 - |  TEK_ROMPAGE :                 3CCE C |
 TEK_TYPE :                    ADF7 - |  TEMP_SP :                     3CD0 C |
 TEXT4VIRTDRV :                 A2C C | *TIME :                    13:00:27 - |
*TRACE_DBG :                     40 - |  TRD_5CB6 :                    5CB6 - |
 TRD_5CC2 :                    5CC2 - | *TRD_5CC3 :                    5CC3 - |
 TRD_5CC6 :                    5CC6 - |  TRD_5CC8 :                    5CC8 - |
*TRD_5CC9 :                    5CC9 - |  TRD_5CCA :                    5CCA - |
*TRD_5CCB :                    5CCB - |  TRD_5CCC :                    5CCC - |
 TRD_5CCD :                    5CCD - |  TRD_5CCE :                    5CCE - |
 TRD_5CCF :                    5CCF - |  TRD_5CD1 :                    5CD1 - |
 TRD_5CD2 :                    5CD2 - |  TRD_5CD3 :                    5CD3 - |
 TRD_5CD4 :                    5CD4 - |  TRD_5CD5 :                    5CD5 - |
 TRD_5CD6 :                    5CD6 - |  TRD_5CD7 :                    5CD7 - |
 TRD_5CD8 :                    5CD8 - |  TRD_5CD9 :                    5CD9 - |
 TRD_5CDA :                    5CDA - |  TRD_5CDB :                    5CDB - |
 TRD_5CDC :                    5CDC - |  TRD_5CDD :                    5CDD - |
 TRD_5CDF :                    5CDF - |  TRD_5CE1 :                    5CE1 - |
 TRD_5CE3 :                    5CE3 - |  TRD_5CE5 :                    5CE5 - |
 TRD_5CE6 :                    5CE6 - |  TRD_5CE7 :                    5CE7 - |
 TRD_5CE8 :                    5CE8 - |  TRD_5CE9 :                    5CE9 - |
 TRD_5CEA :                    5CEA - |  TRD_5CEB :                    5CEB - |
 TRD_5CED :                    5CED - |  TRD_5CEF :                    5CEF - |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 164 - 12/15/2013 13:00:27


 TRD_5CF1 :                    5CF1 - |  TRD_5CF2 :                    5CF2 - |
 TRD_5CF4 :                    5CF4 - |  TRD_5CF5 :                    5CF5 - |
 TRD_5CF6 :                    5CF6 - |  TRD_5CF7 :                    5CF7 - |
 TRD_5CF8 :                    5CF8 - |  TRD_5CF9 :                    5CF9 - |
 TRD_5CFA :                    5CFA - | *TRD_5CFB :                    5CFB - |
 TRD_5CFC :                    5CFC - | *TRD_5CFD :                    5CFD - |
 TRD_5CFE :                    5CFE - |  TRD_5CFF :                    5CFF - |
 TRD_5D00 :                    5D00 - |  TRD_5D02 :                    5D02 - |
 TRD_5D04 :                    5D04 - |  TRD_5D06 :                    5D06 - |
 TRD_5D07 :                    5D07 - |  TRD_5D08 :                    5D08 - |
 TRD_5D09 :                    5D09 - |  TRD_5D0C :                    5D0C - |
 TRD_5D0D :                    5D0D - |  TRD_5D0E :                    5D0E - |
 TRD_5D0F :                    5D0F - |  TRD_5D10 :                    5D10 - |
 TRD_5D11 :                    5D11 - |  TRD_5D13 :                    5D13 - |
 TRD_5D15 :                    5D15 - |  TRD_5D16 :                    5D16 - |
 TRD_5D17 :                    5D17 - |  TRD_5D18 :                    5D18 - |
 TRD_5D19 :                    5D19 - |  TRD_5D1A :                    5D1A - |
 TRD_5D1C :                    5D1C - |  TRD_5D1E :                    5D1E - |
 TRD_5D1F :                    5D1F - |  TRD_5D20 :                    5D20 - |
 TRD_5D21 :                    5D21 - |  TRD_5D23 :                    5D23 - |
 TRD_5D25 :                    5D25 - |  TRD_5D26 :                    5D26 - |
*TRD_5D33 :                    5D33 - |  TRD_5E06 :                    5E06 - |
 TRD_5E07 :                    5E07 - |  TRD_5E08 :                    5E08 - |
 TRD_5E09 :                    5E09 - |  TRD_5E0A :                    5E0A - |
 TRD_5E0C :                    5E0C - |  TRD_5E0F :                    5E0F - |
 TRD_5E10 :                    5E10 - |  TRD_5E19 :                    5E19 - |
 TRD_5E1A :                    5E1A - | *TRD_5E34 :                    5E34 - |
 TRD_5F00 :                    5F00 - |  TRD_5F10 :                    5F10 - |
 TRD_5F12 :                    5F12 - | *TRUE :                           1 - |
*TSTACK_END :                  5BFF - | *TURBO14 :                       80 - |
*TURBO357 :                      80 - | *TURBO_14 :                      C0 - |
*TURBO_3 :                       40 - | *TURBO_7 :                       80 - |
 TV_FLAG :                     5C3C - |  TXT4VIRTDRV :                  A2F C |
*TXTSCR_MODE :                    2 - |  TXT_BETA :                    33E2 C |
 TXT_DELFILE_ :                2A1C C |  TXT_DIR :                     341C C |
 TXT_DISCERROR_ :              29E2 C |  TXT_ERROR_ :                  29B2 C |
 TXT_FILEEXISTS_ :             29C5 C |  TXT_FORMAT_TRK :               F9F C |
 TXT_FREE_ :                   29D2 C |  TXT_FSIDE :                    FAD C |
 TXT_NODISK_ :                 27F9 C |  TXT_NOFILES :                 2A28 C |
 TXT_NOFILES_ :                2A27 C |  TXT_NOSPACE_ :                29BB C |
 TXT_OK_ :                     2766 C |  TXT_RIA_ :                    29FE C |
 TXT_R_O :                     29ED C |  TXT_SEC_ :                    2A17 C |
 TXT_TITLE_ :                  29F7 C |  TXT_TRK_ :                    2A12 C |
*TYPE_FONT :                      8 - |  UDG :                         5C7B - |
 UMOUNT :                      3582 C | *UNPACK :                        80 - |
*UNP_MICROBOOT :                 43 - |  VARS :                        5C4B - |
 VERIFY :                      1810 C | *VERSION :                     142F - |
*VG_MEM :                        2F - |  VG_RD_1F :                      2F - |
*VG_RD_3F :                      4F - | *VG_RD_5F :                      6F - |
*VG_RD_7F :                      8F - | *VG_RW_1F :                      1F - |
*VG_RW_3F :                      3F - | *VG_RW_5F :                      5F - |
*VG_RW_7F :                      7F - | *VG_RW_FF :                      FF - |
 VIRT_REAL_DRIVE :               EB - | *VMODE7_0 :                      F7 - |
*VMODE7_1 :                      F5 - |  W16B2WORKSP :                 24CA C |
*WHITE :                          7 - |  WIN1F :                          6 - |
 WIN3F :                          7 - |  WIN5F :                          8 - |
 WIN7F :                          9 - |  WINFF :                          A - |
 WINHC :                          D - |  WINI :                           B - |
 WINI_RET :                      12 - |  WIN_A0 :                      3FF7 - |
*WIN_A1 :                      7FF7 - | *WIN_A2 :                      BFF7 - |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 165 - 12/15/2013 13:00:27


*WIN_A3 :                      FFF7 - |  WIN_P0 :                      37F7 - |
 WIN_P1 :                      77F7 - |  WIN_P2 :                      B7F7 - |
*WIN_P3 :                      F7F7 - |  WORK4AUTORUN :                 126 C |
 WORK4ERROR :                   F47 C |  WORK4FREEACCESS :             2474 C |
 WORKSP :                      5C61 - |  WORK_NUMSAVE :                24D6 C |
 WOUT1F :                         0 - |  WOUT3F :                         1 - |
 WOUT5F :                         2 - |  WOUT7F :                         3 - |
 WOUTCA :                         F - |  WOUTCD :                         C - |
 WOUTFF :                         4 - |  WOUTI :                          5 - |
 WREAD_SEC_ :                    11 - | *WRITECMOS :                    E26 C |
 WRITE_C_D_1 :                 20AF C |  WRITE_C_D_B :                 20B1 C |
 WRITE_SEC :                   3FBA C |  WRITE_SEC_ :                   CC8 C |
 WRITE_SEC_1 :                  CCD C |  WRPORT_RET :                  3D3B C |
 WRRDSECM1 :                   3538 C |  WRRDSECM2 :                   354B C |
*WR_0WINA0 :                   3CCB C | *WR_0WINA1 :                   3CCA C |
*WR_0WINA2 :                   3CC9 C | *WR_0WINA3 :                   3CC8 C |
 WR_1F :                       3CAE C | *WR_1WINA0 :                   3CC7 C |
*WR_1WINA1 :                   3CC6 C | *WR_1WINA2 :                   3CC5 C |
*WR_1WINA3 :                   3CC4 C | *WR_77 :                       3CBF C |
*WR_7FFD :                     3CC1 C |  WR_BF :                       3CBE C |
 WR_BYTE_RET :                 3D2B C |  WR_DATAPORT :                 3FCA C |
*WR_DOS7FFD :                  3CC2 C | *WR_EFF7 :                     3CC0 C |
 WR_FF :                       3CB0 C |  WR_HEAD_FILENAME :            1E55 C |
 WR_NEW_FREE_SEC :              7E7 C |  WR_NUM_TRACK :                1E36 C |
*WR_RAMNROM :                  3CC3 C |  WR_RD_SEC_M :                 351A C |
 WWRITE_SEC_ :                   10 - |  WWRRD1 :                       D01 C |
 WWRRD2 :                       D17 C |  WWRRD3 :                       D08 C |
 WWRRD5 :                       D33 C |  WWR_RD_SECT :                    E - |
 W_DATA :                       A06 C |  W_IN1F :                       BDA C |
 W_IN1F1 :                      BEA C |  W_IN1F2 :                      BF1 C |
 W_IN3F :                       BF8 C |  W_IN5F :                       BFE C |
 W_IN7F :                       C04 C |  W_INFF :                       C0A C |
 W_INHC :                       C11 C | *W_INHC1 :                      C14 C |
 W_INHC2 :                      C1F C |  W_INHC3 :                      C29 C |
 W_INHC4 :                      C33 C |  W_INHC5 :                      C3D C |
 W_INHC6 :                      C48 C |  W_INI :                        C52 C |
 W_OUT1F :                      AF2 C |  W_OUT1F10 :                    B01 C |
 W_OUT1F20 :                    B21 C |  W_OUT1F40 :                    B2C C |
 W_OUT1F60 :                    B3C C |  W_OUT1F80 :                    B4C C |
 W_OUT1FA0 :                    B52 C |  W_OUT1FD0 :                    B62 C |
 W_OUT1FE0 :                    B68 C |  W_OUT1FF0 :                    B72 C |
 W_OUT3F :                      B78 C |  W_OUT5F :                      B80 C |
 W_OUT7F :                      B88 C |  W_OUTCA :                      BA5 C |
 W_OUTCA1 :                     BA8 C |  W_OUTCD :                      BC8 C |
 W_OUTFF :                      B90 C |  W_OUTI :                       BCD C |
 W_WR_RD_SECT :                 CDB C | *YELLOW :                         6 - |
 YYEAR :                          D - |  ZASTAVKA :                     360 C |
 ZASTAVKA_VER :                 36C - |  ZASTV_ATR :                   58C7 - |
 ZASTV_PIX :                   40D0 - |  ZASTV_X :                        7 - |
 ZASTV_Y :                        6 - |  ZERO2HIGH_ERR :               1852 C |
*ZXSCR_MODE :                     1 - | *ZX_ROM :                        10 - |
*ZX_SCREEN :                      8 - | *_AY_PRN_A_ :                    41 - |
*_AY_PRN_INIT :                  40 - | *_AY_PRN_SCR :                   43 - |
*_AY_PRN_TOKEN :                 42 - |  _CLEAR_CMOS :                    3 - |
 _CLOSEMOUNT :                    4 - |  _CMOS_RW :                      55 - |
*_COMHDDN :                       7 - |  _COM_DEV :                      50 - |
 _COM_FAT :                      51 - | *_CONTROL_SD :                    6 - |
 _DEVFIND :                       0 - | *_DEV_INIT :                      0 - |
*_DEV_READ :                      2 - | *_DEV_STATUS :                    1 - |
*_DEV_WRITE :                     3 - |  _ENTER_DIR :                     2 - |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 166 - 12/15/2013 13:00:27


*_FIND_FILEITEM :                 6 - | *_FIND_MOUNTED :                  2 - |
 _FIND_NAME :                     5 - | *_FREINIT_VOL :                   8 - |
*_GET_FNDVOLUME :                 3 - |  _GET_LONGNAME :                  4 - |
*_GET_MOUNTED :                   3 - |  _GET_PATH :                      3 - |
*_INIT_CMOS :                     0 - | *_INIT_FATVARS :                  0 - |
*_INIT_TEKDIR :                   A - | *_INST_FATBOOT :                 54 - |
 _KOL_VOL :                       2 - | *_LOADIMAGE :                     5 - |
*_MEM_MODE_128 :                 80 - | *_MEM_MODE_48 :                  40 - |
*_MEM_MODE_PENT :                C0 - |  _MOUNTER :                      53 - |
*_OPEN_FILE :                     8 - |  _OPEN_MOUNT :                    0 - |
 _POS_FILES :                     B - | *_PRINT_A :                      48 - |
*_PRINT_MESSAGE :                47 - |  _RDWR_MOUNT :                    1 - |
*_READ_CMOS :                     1 - |  _READ_DIR :                      1 - |
*_READ_FILE :                     9 - | *_SCROLL_DOWN :                  4A - |
*_SCROLL_UP :                    49 - | *_SETUP_PAL :                    56 - |
*_SET_DEVICE :                    5 - | *_SET_MAP :                      4C - |
*_SET_MASK_EXT :                  7 - | *_SET_MODE :                     4B - |
 _SET_VOL :                       1 - | *_SORT_FINDFILES :               52 - |
*_TAPE_EMUL :                    45 - | *_TAPE_INIT :                    44 - |
*_TO_DRV :                        4 - | *_TURBO_HIGH :                   20 - |
*_TURBO_LOW :                    10 - | *_TURBO_MAX :                    30 - |
*_TXTSCR_MODE :                   2 - | *_WINW :                         46 - |
 _WRITE_CMOS :                    2 - | *_ZXSCR_MODE :                    1 - |

   1360 symbols
    284 unused symbols

 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 167 - 12/15/2013 13:00:27


  defined macros:
  ---------------

DC                                    | DUPL                                 
DZ                                    | EVOPORT                              
PCALL                                 | PEC_OFF                              
PEC_ON                                | SUM_HOB                              
TEXTDATE                              |

      9 macros

 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 168 - 12/15/2013 13:00:27


  defined functions:
  ------------------

LOW                                   | HIGH                                 

 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 169 - 12/15/2013 13:00:27


  codepages:
  ----------

STANDARD (0 changed characters)


0.48 seconds assembly time

   7618 lines source file
   8671 lines incl. macro expansions
      2 passes
      0 errors
      0 warnings
