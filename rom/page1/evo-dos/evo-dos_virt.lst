 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 161 - 11/17/2013 22:45:09


       1/       0 :                     
       2/       0 :                     ;äéåèàãüñàü ë èéãçõå èÖêÖïÇÄíéå áÄèàëÖâ Ç èéêíõ ÇÉ93 (äêéåÖ èéêíéÇ 3F, 5F, 7F)
       3/       0 :                     
       4/       0 : =$1                 EMU3D2F		EQU 1
       5/       0 : =$1                 EMUWRFF		EQU 1
       6/       0 :                     
       7/       0 :                     		include evo-dos.a80
(1)    1/       0 :                     
(1)    2/       0 :                     ;LAST UPDATE: 17.11.2013 savelij
(1)    3/       0 :                     
(1)    4/       0 :                     		include ../../macros.a80
(2)    1/       0 :                     
(2)    2/       0 :                     ;LAST UPDATE: 10.03.2013 savelij
(2)    3/       0 :                     
(2)    4/       0 :                     		RELAXED ON
(2)    5/       0 :                     		CPU Z80UNDOC
(2)    6/       0 :                     
(2)    7/       0 : =0H                 BUILD_DEBUG	EQU 0
(2)    8/       0 :                     
(2)    9/       0 :                     DZ		MACRO DEFZ
(2)   10/       0 :                     		DB DEFZ,0
(2)   11/       0 :                     		ENDM 
(2)   12/       0 :                     
(2)   13/       0 :                     DC		MACRO DEFC
(2)   14/       0 :                     		IF STRLEN(DEFC)>1
(2)   15/       0 :                     		DB SUBSTR(DEFC,0,STRLEN(DEFC)-1)
(2)   16/       0 :                     		ENDIF
(2)   17/       0 :                     		IF STRLEN(DEFC)>0
(2)   18/       0 :                     		DB CHARFROMSTR(DEFC,STRLEN(DEFC)-1)|80H
(2)   19/       0 :                     		ENDIF
(2)   20/       0 :                     		ENDM
(2)   21/       0 :                     
(2)   22/       0 :                     SUM_HOB		MACRO STR,AA,BB,CC
(2)   23/       0 :                     		DB STR
(2)   24/       0 :                     		DW AA
(2)   25/       0 :                     		DW BB
(2)   26/       0 :                     		DB 0
(2)   27/       0 :                     		DB CC
(2)   28/       0 :                     $$I := 0
(2)   29/       0 :                     $$S := 0
(2)   30/       0 :                     		REPT 9
(2)   31/       0 :                     $$N := CHARFROMSTR (STR,STRLEN(STR)+$$S-9)
(2)   32/       0 :                     $$I := ($$I+$$S+$$N+($$N*256))&0XFFFF
(2)   33/       0 :                     $$S := $$S+1
(2)   34/       0 :                     		ENDM
(2)   35/       0 :                     $$I := ($$I+$$S+LOW (AA)+(LOW (AA)*0X100))&0XFFFF
(2)   36/       0 :                     $$S := $$S+1
(2)   37/       0 :                     $$I := ($$I+$$S+HIGH (AA)+(HIGH (AA)*0X100))&0XFFFF
(2)   38/       0 :                     $$S := $$S+1
(2)   39/       0 :                     $$I := ($$I+$$S+LOW (BB)+(LOW (BB)*0X100))&0XFFFF
(2)   40/       0 :                     $$S := $$S+1
(2)   41/       0 :                     $$I := ($$I+$$S+HIGH (BB)+(HIGH (BB)*0X100))&0XFFFF
(2)   42/       0 :                     $$S := $$S+1
(2)   43/       0 :                     $$I := ($$I+$$S+LOW (CC)+(LOW (CC)*0X100))&0XFFFF
(2)   44/       0 :                     $$S := $$S+1
(2)   45/       0 :                     $$I := ($$I+$$S+HIGH (CC)+(HIGH (CC)*0X100))&0XFFFF
(2)   46/       0 :                     $$S := $$S+1
(2)   47/       0 :                     		DW $$I
(2)   48/       0 :                     		ENDM
(2)   49/       0 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(../../macros.a80) - page 1 - 11/17/2013 22:45:09


(2)   50/       0 :                     DUPL		MACRO LEN,FILL
(2)   51/       0 :                     DUPL:
(2)   52/       0 :                     $$N		EQU (LEN) / 1024
(2)   53/       0 :                     $$M		EQU (LEN) # 1024
(2)   54/       0 :                     		REPT $$N
(2)   55/       0 :                     		DB 1024 DUP(FILL)
(2)   56/       0 :                     		ENDM
(2)   57/       0 :                     		IF $$M <> 0
(2)   58/       0 :                     		DB $$M DUP(FILL)
(2)   59/       0 :                     		ENDIF
(2)   60/       0 :                     		ENDM
(2)   61/       0 :                     
(2)   62/       0 :                     HIGH		FUNCTION X,((X >> 8) & 0XFF)
(2)   63/       0 :                     LOW		FUNCTION X,(X & 0XFF)
(2)   64/       0 :                     
(2)   65/       0 :                     PCALL		MACRO ADR,PAGE
(2)   66/       0 :                     		RST 0X30
(2)   67/       0 :                     		DW ADR
(2)   68/       0 :                     		DB PAGE
(2)   69/       0 :                     		ENDM
(2)   70/       0 :                     
(2)   71/       0 :                     EVOPORT		MACRO PORT,BYTE
(2)   72/       0 :                     		LD BC,PORT
(2)   73/       0 :                     		LD A,BYTE
(2)   74/       0 :                     		OUT (C),A
(2)   75/       0 :                     		ENDM
(2)   76/       0 :                     
(2)   77/       0 :                     PEC_ON		MACRO BYTE
(2)   78/       0 :                     		IN A,(PEVO_CONF)
(2)   79/       0 :                     		OR BYTE
(2)   80/       0 :                     		OUT (PEVO_CONF),A
(2)   81/       0 :                     		ENDM
(2)   82/       0 :                     
(2)   83/       0 :                     PEC_OFF		MACRO BYTE
(2)   84/       0 :                     		IN A,(PEVO_CONF)
(2)   85/       0 :                     		AND BYTE!0XFF
(2)   86/       0 :                     		OUT (PEVO_CONF),A
(2)   87/       0 :                     		ENDM
(2)   88/       0 :                     
(2)   89/       0 : =AH                 SIZEDATE	EQU STRLEN (DATE)
(2)   90/       0 :                     
(2)   91/       0 : =>TRUE              		IF SIZEDATE=10
(2)   92/       0 : =BH                 MMOUNTH		EQU (CHARFROMSTR (DATE,0)-0X30)*10+(CHARFROMSTR (DATE,1)-0X30)
(2)   93/       0 : =11H                DDATE		EQU (CHARFROMSTR (DATE,3)-0X30)*10+(CHARFROMSTR (DATE,4)-0X30)
(2)   94/       0 : =DH                 YYEAR		EQU (CHARFROMSTR (DATE,8)-0X30)*10+(CHARFROMSTR (DATE,9)-0X30)
(2)   95/       0 : =>FALSE             		ELSEIF SIZEDATE=8
(2)   96/       0 :                     MMOUNTH		EQU (CHARFROMSTR (DATE,0)-0X30)
(2)   97/       0 :                     DDATE		EQU (CHARFROMSTR (DATE,2)-0X30)
(2)   98/       0 :                     YYEAR		EQU (CHARFROMSTR (DATE,6)-0X30)*10+(CHARFROMSTR (DATE,7)-0X30)
(2)   99/       0 : =>FALSE             		ELSEIF (CHARFROMSTR (DATE,1))=0X2F
(2)  100/       0 :                     MMOUNTH		EQU (CHARFROMSTR (DATE,0)-0X30)
(2)  101/       0 :                     DDATE		EQU (CHARFROMSTR (DATE,2)-0X30)*10+(CHARFROMSTR (DATE,3)-0X30)
(2)  102/       0 :                     YYEAR		EQU (CHARFROMSTR (DATE,7)-0X30)*10+(CHARFROMSTR (DATE,8)-0X30)
(2)  103/       0 : =>FALSE             		ELSE
(2)  104/       0 :                     MMOUNTH		EQU (CHARFROMSTR (DATE,0)-0X30)*10+(CHARFROMSTR (DATE,1)-0X30)
(2)  105/       0 :                     DDATE		EQU (CHARFROMSTR (DATE,3)-0X30)
(2)  106/       0 :                     YYEAR		EQU (CHARFROMSTR (DATE,7)-0X30)*10+(CHARFROMSTR (DATE,8)-0X30)
(2)  107/       0 : [91]                		ENDIF
(2)  108/       0 : =9B71H              DATA_VERS	EQU DDATE+(MMOUNTH<<5)+(YYEAR<<9)+0X8000			;ìÜÖ ìèÄäéÇÄçé
(2)  109/       0 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(../../macros.a80) - page 2 - 11/17/2013 22:45:09


(2)  110/       0 :                     TEXTDATE	MACRO
(2)  111/       0 :                     		IF DDATE<10
(2)  112/       0 :                     TDATE		DB DDATE+0X30
(2)  113/       0 :                     		ELSE
(2)  114/       0 :                     TDATE		DB ((DDATE/10)+0X30),(DDATE#10)+0X30
(2)  115/       0 :                     		ENDIF
(2)  116/       0 :                     		DB "."
(2)  117/       0 :                     		IF MMOUNTH<10
(2)  118/       0 :                     TMOUNTH		DB MMOUNTH+0X30
(2)  119/       0 :                     		ELSE
(2)  120/       0 :                     TMOUNTH		DB MMOUNTH/10+0X30,MMOUNTH#10+0X30
(2)  121/       0 :                     		ENDIF
(2)  122/       0 :                     		DB ".",CHARFROMSTR (DATE,SIZEDATE-4),CHARFROMSTR (DATE,SIZEDATE-3)
(2)  123/       0 :                     		DB CHARFROMSTR (DATE,SIZEDATE-2),CHARFROMSTR (DATE,SIZEDATE-1)
(2)  124/       0 :                     		ENDM
(2)  125/       0 :                     
(1)    5/       0 :                     		include ../../define.a80
(2)    1/       0 :                     
(2)    2/       0 :                     ;LAST UPDATE: 28.06.2013 savelij
(2)    3/       0 :                     
(2)    4/       0 :                     ;çéåÖêÄ îìçäñàâ RST 8, èéêüÑéä åéÜÖí Åõíú àáåÖçÖç!
(2)    5/       0 : =40H                _AY_PRN_INIT	EQU 0X40
(2)    6/       0 : =41H                _AY_PRN_A_	EQU 0X41
(2)    7/       0 : =42H                _AY_PRN_TOKEN	EQU 0X42
(2)    8/       0 : =43H                _AY_PRN_SCR	EQU 0X43
(2)    9/       0 : =44H                _TAPE_INIT	EQU 0X44
(2)   10/       0 : =45H                _TAPE_EMUL	EQU 0X45
(2)   11/       0 : =46H                _WINW		EQU 0X46
(2)   12/       0 : =47H                _PRINT_MESSAGE	EQU 0X47
(2)   13/       0 : =48H                _PRINT_A	EQU 0X48
(2)   14/       0 : =49H                _SCROLL_UP	EQU 0X49
(2)   15/       0 : =4AH                _SCROLL_DOWN	EQU 0X4A
(2)   16/       0 : =4BH                _SET_MODE	EQU 0X4B
(2)   17/       0 : =4CH                _SET_MAP	EQU 0X4C
(2)   18/       0 :                     
(2)   19/       0 : =50H                _COM_DEV	EQU 0X50
(2)   20/       0 : =51H                _COM_FAT	EQU 0X51
(2)   21/       0 : =52H                _SORT_FINDFILES	EQU 0X52
(2)   22/       0 : =53H                _MOUNTER	EQU 0X53
(2)   23/       0 : =54H                _INST_FATBOOT	EQU 0X54
(2)   24/       0 : =55H                _CMOS_RW	EQU 0X55	
(2)   25/       0 : =56H                _SETUP_PAL	EQU 0X56
(2)   26/       0 :                     
(2)   27/       0 :                     ;îìçäñàà àáåÖçÖçàü êÖÜàåéÇ êÄÅéíõ
(2)   28/       0 : =1H                 _ZXSCR_MODE	EQU 1				;ZX SCREEN
(2)   29/       0 : =2H                 _TXTSCR_MODE	EQU 2				;TXT SCREEN
(2)   30/       0 : =10H                _TURBO_LOW	EQU 0X10			;XX01XXXX TURBO 3,5 MHZ
(2)   31/       0 : =20H                _TURBO_HIGH	EQU 0X20			;XX10XXXX TURBO 7,0 MHZ
(2)   32/       0 : =30H                _TURBO_MAX	EQU 0X30			;XX11XXXX TURBO 14,0 MHZ
(2)   33/       0 : =40H                _MEM_MODE_48	EQU 0X40			;01XXXXXX MEMORY MODE 48 KB
(2)   34/       0 : =80H                _MEM_MODE_128	EQU 0X80			;10XXXXXX MEMORY MODE 128 KB
(2)   35/       0 : =C0H                _MEM_MODE_PENT	EQU 0XC0			;11XXXXXX MEMORY MODE PENT 1024 KB
(2)   36/       0 :                     
(2)   37/       0 :                     ;îìçäñàà êÄÅéíõ ë CMOS
(2)   38/       0 : =0H                 _INIT_CMOS	EQU 0
(2)   39/       0 : =1H                 _READ_CMOS	EQU 1
(2)   40/       0 : =2H                 _WRITE_CMOS	EQU 2
(2)   41/       0 : =3H                 _CLEAR_CMOS	EQU 3
(2)   42/       0 :                     
(2)   43/       0 :                     ;îìçäñàà åéçíàêéÇôàäÄ éÅêÄáéÇ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(../../define.a80) - page 3 - 11/17/2013 22:45:09


(2)   44/       0 : =0H                 _OPEN_MOUNT	EQU 0X00
(2)   45/       0 : =1H                 _RDWR_MOUNT	EQU 0X01
(2)   46/       0 : =2H                 _FIND_MOUNTED	EQU 0X02
(2)   47/       0 : =3H                 _GET_MOUNTED	EQU 0X03
(2)   48/       0 : =4H                 _CLOSEMOUNT	EQU 0X04
(2)   49/       0 : =5H                 _LOADIMAGE	EQU 0X05
(2)   50/       0 :                     
(2)   51/       0 :                     ;çéåÖêÄ îìçäñàâ åÖçÖÑÜÖêÄ ìëíêéâëíÇ
(2)   52/       0 : =0H                 _DEVFIND	EQU 0X00			;00 èéàëä ìëíêéâëíÇ                        
(2)   53/       0 : =1H                 _SET_VOL	EQU 0X01			;01 ÇõÅéê êÄáÑÖãÄ                          
(2)   54/       0 : =2H                 _KOL_VOL	EQU 0X02			;02 áÄèêéë çÄâÑÖçéÉé                       
(2)   55/       0 : =3H                 _GET_FNDVOLUME	EQU 0X03			;03 èéãìóàíú íÄÅãàñì çÄâÑÖççõï êÄáÑÖãéÇ
(2)   56/       0 : =4H                 _TO_DRV		EQU 0X04			;04 ÇõáéÇ ÑêÄâÇÖêÄ ÇõÅêÄççéÉé ìëíêéâëíÇÄ   
(2)   57/       0 : =5H                 _SET_DEVICE	EQU 0X05			;05 ìëíÄçéÇäÄ ÅàíéÇ ìëíêéâëíÇÄ à LBA êÖÜàåÄ
(2)   58/       0 : =6H                 _CONTROL_SD	EQU 0X06			;06 äéçíêéãú çÄãàóàü SD äÄêí
(2)   59/       0 : =7H                 _COMHDDN	EQU 0X07			;07 èêüåéâ ÇõáéÇ ÑêÄâÇÖêÄ HDD NEMO (ÇêÖåÖççÄü îìçäñàü)
(2)   60/       0 : =8H                 _FREINIT_VOL	EQU 0X08			;08 èéãçÄü èÖêÖàçàñàÄãàáÄñàü êÄáÑÖãÄ
(2)   61/       0 :                     
(2)   62/       0 :                     ;çéåÖêÄ îìçäñàâ ÇõáéÇÄ ÑêÄâÇÖêÄ ìëíêéâëíÇÄ
(2)   63/       0 : =0H                 _DEV_INIT	EQU 0				;00 èéàëä à àçàñàÄãàáÄñàü ìëíêéâëíÇÄ
(2)   64/       0 : =1H                 _DEV_STATUS	EQU 1				;01 áÄèêéë ëíÄíìëÄ ìëíêéâëíÇÄ. èéäÄ áÄÉãìòÖçÄ
(2)   65/       0 : =2H                 _DEV_READ	EQU 2				;02 óíÖçàÖ ëÖäíéêéÇ
(2)   66/       0 : =3H                 _DEV_WRITE	EQU 3				;03 áÄèàëú ëÖäíéêéÇ
(2)   67/       0 :                     
(2)   68/       0 :                     ;çéåÖêÄ ÇõáõÇÄÖåõï îìçäñàâ FAT ÑêÄâÇÖêÄ
(2)   69/       0 : =0H                 _INIT_FATVARS	EQU 0X00			;àçàñàÄãàáÄñàü èÖêÖåÖççõï FAT
(2)   70/       0 : =1H                 _READ_DIR	EQU 0X01			;èéãìóÖçàÖ éèàëÄíÖãü îÄâãÄ
(2)   71/       0 : =2H                 _ENTER_DIR	EQU 0X02			;ÇïéÑ/ÇõïéÑ Ç Ñàê
(2)   72/       0 : =3H                 _GET_PATH	EQU 0X03			;èéãìóÖçàÖ íÖäìôÖÉé èìíà
(2)   73/       0 : =4H                 _GET_LONGNAME	EQU 0X04			;èéãìóÖçàÖ ÑãàççéÉé àåÖçà îÄâãÄ
(2)   74/       0 : =5H                 _FIND_NAME	EQU 0X05			;èéàëä èé àåÖçà
(2)   75/       0 : =6H                 _FIND_FILEITEM	EQU 0X06			;èéàëä ÇëÖï éèàëÄíÖãÖâ ë ÇõÑÄóÖâ çéåÖêéÇ çÄâÑÖççéÉé
(2)   76/       0 : =7H                 _SET_MASK_EXT	EQU 0X07			;ìëíÄçéÇäÄ åÄëäà êÄëòàêÖçàâ Ñãü èéàëäÄ
(2)   77/       0 : =8H                 _OPEN_FILE	EQU 0X08			;éíäêõíàÖ îÄâãÄ
(2)   78/       0 : =9H                 _READ_FILE	EQU 0X09			;èéëãÖÑéÇÄíÖãúçéÖ óíÖçàÖ éíäêõíéÉé îÄâãÄ
(2)   79/       0 : =AH                 _INIT_TEKDIR	EQU 0X0A			;ëéáÑÄçàÖ íÄÅãàñõ äãÄëíÖêéÇ íÖäìôÖâ ÑàêÖäíéêàà
(2)   80/       0 : =BH                 _POS_FILES	EQU 0X0B			;êÄÅéíÄ ë íÖäìôÖâ èéáàñàÖâ
(2)   81/       0 :                     
(1)    6/       0 :                     		include ../../global_vars.a80
(2)    1/       0 :                     
(2)    2/       0 :                     ;LAST UPDATE: 17.11.2013 savelij
(2)    3/       0 :                     
(2)    4/       0 :                     ;ëíêÄçàñõ RAM
(2)    5/       0 : =F7H                VMODE7_0	EQU 0XF7			;ëíêÄçàñÄ éÑçéëíêÄçàóçéÉé íÖäëíåéÑÄ 0 ùäêÄç
(2)    6/       0 : =F5H                VMODE7_1	EQU 0XF5			;ëíêÄçàñÄ éÑçéëíêÄçàóçéÉé íÖäëíåéÑÄ 1 ùäêÄç
(2)    7/       0 :                     
(2)    8/       0 :                     ;ëíêÄçàñõ RAM
(2)    9/       0 : =1H                 PAGE_FATVARS	EQU 1				;ëíêÄçàñÄ Ñãü èÖêÖåÖçõï FAT
(2)   10/       0 : =2H                 PAGE_EVODOS	EQU 2				;ëíêÄçàñÄ äéèàà EVO-DOS Ñãü èÖêÖïÇÄíÄ
(2)   11/       0 : =3H                 PAGE_PROFROM	EQU 3				;ëíêÄçàñÄ èÖêÖåÖççõï PROFROM
(2)   12/       0 : =4H                 PAGE_MOUNTER	EQU 4				;ëíêÄçàñÄ Ñãü åéçíàêéÇÄçàü éÅêÄáéÇ
(2)   13/       0 : =5H                 PAGE_STS	EQU 5				;ëíêÄçàñÄ Ñãü éíãÄÑóàäÄ STS
(2)   14/       0 : =6H                 PAGE_ADDSTS	EQU 6				;ëíêÄçàñÄ Ñãü éíãÄÑäà ROM
(2)   15/       0 : =7H                 PAGE_SCR_FONT	EQU 7				;ëíêÄçàñÄ ëéïêÄçÖççõï ùäêÄçéÇ à îéçíéÇ
(2)   16/       0 : =8H                 PAGE_TEMP	EQU 8				;ëíêÄçàñÄ Çëüäàï ÇêÖåÖççõï èÖêÖåÖççõï
(2)   17/       0 : =9H                 PAGE_RAMDISK	EQU 9				;ëíêÄçàñÄ çÄóÄãÄ êÄåÑàëäÄ
(2)   18/       0 : =AH                 PAGE_DATARAMD	EQU 0X0A			;ëíêÄçàñÄ çÄóÄãÄ ÑÄççõï êÄåÑàëäÄ
(2)   19/       0 : =40H                PAGE4FLASHER	EQU 0X40			;ëíêÄçàñÄ çÄóÄãÄ áÄÉêìáäà èêéòàÇäà
(2)   20/       0 : =60H                PAGE4TAP	EQU 0X60			;ëíêÄçàñÄ Ñãü áÄÉêìáäà TAP îÄâãÄ
(2)   21/       0 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(../../global_vars.a80) - page 4 - 11/17/2013 22:45:09


(2)   22/       0 :                     ;ëíêÄçàñõ ROM
(2)   23/       0 : =0H                 P_ERS		EQU 0				;çéåÖê ëíêÄçàñõ ROM EVO RESET SERVICE
(2)   24/       0 : =1H                 P_BAS128	EQU 1				;çéåÖê ëíêÄçàñõ ROM BASIC 128
(2)   25/       0 : =2H                 P_DOS		EQU 2				;çéåÖê ëíêÄçàñõ ROM EVO-DOS Ñãü êÖÄãúçéâ ÑàëäÖíõ
(2)   26/       0 : =3H                 P_BAS48		EQU 3				;çéåÖê ëíêÄçàñõ ROM BASIC 48
(2)   27/       0 : =4H                 P_ADDON2	EQU 4				;çéåÖê ëíêÄçàñõ ROM Çëüäàï ÑéèéãçÖçàâ
(2)   28/       0 : =5H                 P_ADDON1	EQU 5				;çéåÖê ëíêÄçàñõ ROM Çëüäàï ÑéèéãçÖçàâ
(2)   29/       0 : =6H                 P_ADDONS	EQU 6				;çéåÖê ëíêÄçàñõ ROM ÑéèéãçÖçàâ RST 8
(2)   30/       0 : =7H                 P_RST8		EQU 7				;çéåÖê ëíêÄçàñõ ROM éÅêÄÅéíäà RST 8
(2)   31/       0 : =9H                 P_MSXDOS	EQU 9				;çéåÖê ëíêÄçàñõ ROM MSX-DOS
(2)   32/       0 : =AH                 P_ADD_DOS	EQU 0X0A			;çéåÖê ëíêÄçàñõ ROM EVO-DOS Ñãü ùåìãüñàà
(2)   33/       0 : =BH                 P_ADD_BAS48	EQU 0X0B			;çéåÖê ëíêÄçàñõ ROM BASIC 48
(2)   34/       0 :                     
(2)   35/       0 : =90H                CONF4PROF	EQU 0X90			;ëíÄêíéÇÄü ëíêÄçàñÄ Ñãü EVO PROFROM 128K
(2)   36/       0 : =94H                CONF4GLUK	EQU 0X94			;ëíÄêíéÇÄü ëíêÄçàñÄ Ñãü GLUK 64K
(2)   37/       0 : =9CH                CONF4CUSTOM	EQU 0X9C			;ëíÄêíéÇÄü ëíêÄçàñÄ Ñãü èéãúáéÇÄíÖãúëäéâ èêéòàÇäà 64ä
(2)   38/       0 :                     
(2)   39/       0 : =0H                 CPU0		EQU 0X0000			;çÄóÄãé éäçÄ èêéÖñàêéÇÄçàü 0
(2)   40/       0 : =4000H              CPU1		EQU 0X4000			;çÄóÄãé éäçÄ èêéÖñàêéÇÄçàü 1
(2)   41/       0 : =8000H              CPU2		EQU 0X8000			;çÄóÄãé éäçÄ èêéÖñàêéÇÄçàü 2
(2)   42/       0 : =C000H              CPU3		EQU 0XC000			;çÄóÄãé éäçÄ èêéÖñàêéÇÄçàü 3
(2)   43/       0 :                     
(2)   44/       0 : =37F7H              WIN_P0		EQU 0X37F7			;ÄÑêÖë 0 ëíêÄçàñõ èêéÖñàêéÇÄçàü PENTEVO
(2)   45/       0 : =77F7H              WIN_P1		EQU 0X77F7			;ÄÑêÖë 1 ëíêÄçàñõ èêéÖñàêéÇÄçàü PENTEVO
(2)   46/       0 : =B7F7H              WIN_P2		EQU 0XB7F7			;ÄÑêÖë 2 ëíêÄçàñõ èêéÖñàêéÇÄçàü PENTEVO
(2)   47/       0 : =F7F7H              WIN_P3		EQU 0XF7F7			;ÄÑêÖë 3 ëíêÄçàñõ èêéÖñàêéÇÄçàü PENTEVO
(2)   48/       0 : =3FF7H              WIN_A0		EQU 0X3FF7			;ÄÑêÖë 0 ëíêÄçàñõ èêéÖñàêéÇÄçàü ATM
(2)   49/       0 : =7FF7H              WIN_A1		EQU 0X7FF7			;ÄÑêÖë 1 ëíêÄçàñõ èêéÖñàêéÇÄçàü ATM
(2)   50/       0 : =BFF7H              WIN_A2		EQU 0XBFF7			;ÄÑêÖë 2 ëíêÄçàñõ èêéÖñàêéÇÄçàü ATM
(2)   51/       0 : =FFF7H              WIN_A3		EQU 0XFFF7			;ÄÑêÖë 3 ëíêÄçàñõ èêéÖñàêéÇÄçàü ATM
(2)   52/       0 : =BFH                PEVO_CONF	EQU 0XBF			;ÄÑêÖë èéêíÄ äéçîàÉÄ PENTEVO
(2)   53/       0 : =DEF7H              CMOSD_SET_ADR	EQU 0XDEF7			;ÄÑêÖë èéêíÄ ìëíÄçéÇäà ÄÑêÖëÄ CMOS üóÖâäà àá DOS
(2)   54/       0 : =BEF7H              CMOSD_RD_WR	EQU 0XBEF7			;ÄÑêÖë èéêíÄ óíÖçàü/áÄèàëà ÅÄâí CMOS àá ÑéëÄ
(2)   55/       0 : =DFF7H              CMOS_SET_ADR	EQU 0XDFF7			;ÄÑêÖë èéêíÄ ìëíÄçéÇäà ÄÑêÖëÄ CMOS üóÖâäà
(2)   56/       0 : =BFF7H              CMOS_RD_WR	EQU 0XBFF7			;ÄÑêÖë èéêíÄ óíÖçàü/áÄèàëà ÅÄâí CMOS
(2)   57/       0 : =EFF7H              PENT_CONF	EQU 0XEFF7			;ÄÑêÖë èéêíÄ äéçîàÉÄ êÖÜàåÄ èÖçíÄÉéçÄ
(2)   58/       0 : =7FFDH              CONF_128	EQU 0X7FFD			;ÄÑêÖë èéêíÄ äéçîàÉÄ 128 èÄåüíà
(2)   59/       0 :                     
(2)   60/       0 :                     ;èéêíÄ Ñãü óíÖçàü èéêíéÇ äéçîàÉìêÄñàà
(2)   61/       0 : =BEH                RD_0WINA0	EQU 0X00BE			;ÄÑêÖë èéêíÄ 0 éäçÄ èêéÖñàêéÇÄçàü 0 åÄèÖêÄ
(2)   62/       0 : =1BEH               RD_0WINA1	EQU 0X01BE			;ÄÑêÖë èéêíÄ 1 éäçÄ èêéÖñàêéÇÄçàü 0 åÄèÖêÄ
(2)   63/       0 : =2BEH               RD_0WINA2	EQU 0X02BE			;ÄÑêÖë èéêíÄ 2 éäçÄ èêéÖñàêéÇÄçàü 0 åÄèÖêÄ
(2)   64/       0 : =3BEH               RD_0WINA3	EQU 0X03BE			;ÄÑêÖë èéêíÄ 3 éäçÄ èêéÖñàêéÇÄçàü 0 åÄèÖêÄ
(2)   65/       0 : =4BEH               RD_1WINA0	EQU 0X04BE			;ÄÑêÖë èéêíÄ 0 éäçÄ èêéÖñàêéÇÄçàü 1 åÄèÖêÄ
(2)   66/       0 : =5BEH               RD_1WINA1	EQU 0X05BE			;ÄÑêÖë èéêíÄ 1 éäçÄ èêéÖñàêéÇÄçàü 1 åÄèÖêÄ
(2)   67/       0 : =6BEH               RD_1WINA2	EQU 0X06BE			;ÄÑêÖë èéêíÄ 2 éäçÄ èêéÖñàêéÇÄçàü 1 åÄèÖêÄ
(2)   68/       0 : =7BEH               RD_1WINA3	EQU 0X07BE			;ÄÑêÖë èéêíÄ 3 éäçÄ èêéÖñàêéÇÄçàü 1 åÄèÖêÄ
(2)   69/       0 : =8BEH               RD_RAMNROM	EQU 0X08BE			;ÄÑêÖë èéêíÄ ÅàíéÇ RAM & ROM
(2)   70/       0 : =9BEH               RD_DOS7FFD	EQU 0X09BE			;ÄÑêÖë èéêíÄ ÅàíéÇ DOS & 7FFD
(2)   71/       0 : =ABEH               RD_7FFD		EQU 0X0ABE			;ÄÑêÖë èéêíÄ 7FFD
(2)   72/       0 : =BBEH               RD_EFF7		EQU 0X0BBE			;ÄÑêÖë èéêíÄ EFF7
(2)   73/       0 : =CBEH               RD_77		EQU 0X0CBE			;ÄÑêÖë èéêíÄ xx77
(2)   74/       0 : =DBEH               RD_PALITRA	EQU 0X0DBE			;ÄÑêÖë èéêíÄ èÄãàíêõ
(2)   75/       0 : =10BEH              BREAK_LOW_RD	EQU 0X10BE			;åãÄÑòàâ ÅÄâí ÄÑêÖëÄ èéêíÄ çÄ óíÖçàÖ ÄÑêÖëÄ BREAK
(2)   76/       0 : =11BEH              BREAK_HIGH_RD	EQU 0X11BE			;ëíÄêòàâ ÅÄâí ÄÑêÖëÄ èéêíÄ çÄ óíÖçàÖ ÄÑêÖëÄ BREAK
(2)   77/       0 :                     
(2)   78/       0 : =BDH                BREAK_LOW_WR	EQU 0X00BD			;åãÄÑòàâ ÅÄâí ÄÑêÖëÄ èéêíÄ çÄ áÄèàëú ÄÑêÖëÄ BREAK
(2)   79/       0 : =1BDH               BREAK_HIGH_WR	EQU 0X01BD			;ëíÄêòàâ ÅÄâí ÄÑêÖëÄ èéêíÄ çÄ áÄèàëú ÄÑêÖëÄ BREAK
(2)   80/       0 :                     
(2)   81/       0 :                     ;èéêíõ ÇÉ93 à ùåìãüíéêÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(../../global_vars.a80) - page 5 - 11/17/2013 22:45:09


(2)   82/       0 : =1FH                VG_RW_1F	EQU 0X1F
(2)   83/       0 : =2FH                VG_RD_1F	EQU 0X2F
(2)   84/       0 : =3FH                VG_RW_3F	EQU 0X3F
(2)   85/       0 : =4FH                VG_RD_3F	EQU 0X4F
(2)   86/       0 : =5FH                VG_RW_5F	EQU 0X5F
(2)   87/       0 : =6FH                VG_RD_5F	EQU 0X6F
(2)   88/       0 : =7FH                VG_RW_7F	EQU 0X7F
(2)   89/       0 : =8FH                VG_RD_7F	EQU 0X8F
(2)   90/       0 : =2FH                VG_MEM		EQU VG_RD_1F;0XAF
(2)   91/       0 : =FFH                VG_RW_FF	EQU 0XFF
(2)   92/       0 :                     
(2)   93/       0 : =2FH                RW_PORT0	EQU 0X2F
(2)   94/       0 : =4FH                RW_PORT1	EQU 0X4F
(2)   95/       0 : =6FH                RW_PORT2	EQU 0X6F
(2)   96/       0 : =8FH                RW_PORT3	EQU 0X8F
(2)   97/       0 :                     
(2)   98/       0 : =1C0H               LSYM		EQU 0X01C0			;ëåÖôÖçàÖ Ç ëíêÄçàñÖ çÄóÄãÄ ãÖÇõï ëàåÇéãéÇ íÖäëíåéÑÄ
(2)   99/       0 : =31C0H              LATTR		EQU 0X31C0			;ëåÖôÖçàÖ Ç ëíêÄçàñÖ çÄóÄãÄ ãÖÇõï ÄíêàÅìíéÇ ëàåÇéãéÇ
(2)  100/       0 : =11C0H              RSYM		EQU 0X11C0			;ëåÖôÖçàÖ Ç ëíêÄçàñÖ çÄóÄãÄ èêÄÇõï ëàåÇéãéÇ íÖäëíåéÑÄ
(2)  101/       0 : =21C1H              RATTR		EQU 0X21C1			;ëåÖôÖçàÖ Ç ëíêÄçàñÖ çÄóÄãÄ èêÄÇõï ÄíêàÅìíéÇ ëàåÇéãéÇ 
(2)  102/       0 :                     
(2)  103/       0 :                     ;ñÇÖíÄ à üêäéëíà
(2)  104/       0 : =0H                 BLACK		EQU 0
(2)  105/       0 : =1H                 BLUE		EQU 1
(2)  106/       0 : =2H                 RED		EQU 2
(2)  107/       0 : =3H                 MAGENTA		EQU 3
(2)  108/       0 : =4H                 GREEN		EQU 4
(2)  109/       0 : =5H                 CYAN		EQU 5
(2)  110/       0 : =6H                 YELLOW		EQU 6
(2)  111/       0 : =7H                 WHITE		EQU 7
(2)  112/       0 : =40H                BR_INK		EQU 0X40
(2)  113/       0 : =80H                BR_PAPER	EQU 0X80
(2)  114/       0 :                     
(2)  115/       0 :                     ;ñÇÖíÄ Ñãü ATM ÇàÑÖéêÖÜàåéÇ
(2)  116/       0 : =80H                G_L		EQU %10000000
(2)  117/       0 : =10H                G_H		EQU %00010000
(2)  118/       0 : =40H                R_L		EQU %01000000
(2)  119/       0 : =2H                 R_H		EQU %00000010
(2)  120/       0 : =20H                B_L		EQU %00100000
(2)  121/       0 : =1H                 B_H		EQU %00000001
(2)  122/       0 :                     
(2)  123/       0 :                     ;åÄëäÄ èéêíÄ 7FFD
(2)  124/       0 : =8H                 ZX_SCREEN	EQU %00001000
(2)  125/       0 : =10H                ZX_ROM		EQU %00010000
(2)  126/       0 :                     
(2)  127/       0 :                     ;åÄëäÄ èéêíÄ 0XBF
(2)  128/       0 : =1H                 SHADOW_BF	EQU %00000001			;Åàí êÄáêÖòÖçàü ÑéëíìèÄ ä íÖçÖÇõå èéêíÄå
(2)  129/       0 : =2H                 FLASH_BF	EQU %00000010			;Åàí êÄáêÖòÖçàü èêéÉêÄååàêéÇÄçàü FLASH
(2)  130/       0 : =4H                 FONT_BF		EQU %00000100			;Åàí êÄáêÖòÖçàü àáåÖçÖçàü òêàîíÄ
(2)  131/       0 : =8H                 NMI_BF		EQU %00001000			;Åàí ÉÖçÖêÄñàà NMI
(2)  132/       0 : =10H                BREAK_BF	EQU %00010000			;Åàí êÄáêÖòÖçàü ëêÄÅÄíõÇÄçàü BREAK çÄ ÄÑêÖëÖ
(2)  133/       0 : =20H                EMUVG_BF	EQU %00100000
(2)  134/       0 :                     
(2)  135/       0 :                     ;åÄëäà êÖÜàåéÇ
(2)  136/       0 : =1H                 ZXSCR_MODE	EQU 1				;çéåÖê ÇàÑÖéêÖÜàåÄ ZX SCREEN MODE
(2)  137/       0 : =2H                 TXTSCR_MODE	EQU 2				;çéåÖê éÑçéëíêÄçàóçéÉé íÖäëíéÇéÉé êÖÜàåÄ
(2)  138/       0 : =10H                MEMORY_ALL	EQU 0X10			;Ñéëíìè ä èÖêÇéåì åÖÉÄÅÄâíì óÖêÖá èéêí EFF7
(2)  139/       0 : =20H                MEMORY_48	EQU 0X20			;ÑéëíìèÖç íéãúäé 48Kb èÄåüíà
(2)  140/       0 : =30H                MEMORY_128	EQU 0X30			;Ñéëíìèçé íéãúäé 128Kb èÄåüíà
(2)  141/       0 : =40H                TURBO_3		EQU 0X40			;óÄëíéíÄ èêéñÖëëéêÄ 3,5 åÉÊ 
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(../../global_vars.a80) - page 6 - 11/17/2013 22:45:09


(2)  142/       0 : =80H                TURBO_7		EQU 0X80			;óÄëíéíÄ èêéñÖëëéêÄ 7 åÉÊ
(2)  143/       0 : =C0H                TURBO_14	EQU 0XC0			;óÄëíéíÄ èêéñÖëëéêÄ 14 åÉÊ
(2)  144/       0 : =3H                 NUM_ZXSCR	EQU 3				;çéåÖê ÇàÑÖéêÖÜàåÄ Ñãü ATM èéêíÄ (ZX SCREEN)
(2)  145/       0 : =7H                 NUM_TXTSCR	EQU 7				;çéåÖê ÇàÑÖéêÖÜàåÄ Ñãü ATM èéêíÄ (éÑçéëíêÄçàóçõâ íÖäëíåéÑ)
(2)  146/       0 :                     
(2)  147/       0 :                     ;åÄëäà éíãÄÑóàäÄ
(2)  148/       0 : =80H                JMP_DBG		EQU 0X80			;ÄäíàÇÖç éíãÄÑóàä
(2)  149/       0 : =40H                TRACE_DBG	EQU 0X40			;íêÄëëàêéÇäÄ
(2)  150/       0 : =20H                STEP_DBG	EQU 0X20			;èéòÄÉéÇÄü éíãÄÑäÄ
(2)  151/       0 :                     
(2)  152/       0 : =4000H              FDI_TABLE_CYL	EQU 0X4000			;ÄÑêÖë íÄÅãàñõ çÄóÄã ÑéêéÜÖä Ç éÅêÄáÖ
(2)  153/       0 : =40FFH              FDI_PAGE_START	EQU 0X40FF			;ëåÖôÖçàÖ Ç ëíêÄçàñÄï çÄóÄãÄ ëÖäíéêéÇ éÅêÄáÄ
(2)  154/       0 : =41FEH              FDI_BYTE_SMESH	EQU 0X41FE			;ëåÖôÖçàÖ Ç ÅÄâíÄï çÄóÄãÄ éÅêÄáÄ áÄÉêìÜÖççéÉé Ç êÄåÑàëä
(2)  155/       0 : =41FFH              FDI_BLOCK_SMESH	EQU 0X41FF			;ëåÖôÖçàÖ Ç ÅãéäÄï (èé 256 ÅÄâí) çÄóÄãÄ ëÖäíéêéÇ éÅêÄáÄ
(2)  156/       0 : =4400H              FDI_IMAGE1SECT	EQU 0X4400			;ÄÑêÖë áÄÉêìáäà èÖêÇéÉé ëÖäíéêÄ Ñãü éèêÖÑÖãÖçàü ëåÖôÖçàü
(2)  157/       0 :                     
(2)  158/       0 :                     ;çéåÖêÄ üóÖÖä CMOS à àï ëéÑÖêÜàåéÖ
(2)  159/       0 : =EFH                CRCCMOSHIGH	EQU 0XEF			;ëíÄêòàâ ÅÄâí CRC CMOS
(2)  160/       0 : =EEH                CRCCMOSLOW	EQU 0XEE			;åãÄÑòàâ ÅÄâí CRC CMOS
(2)  161/       0 : =EDH                CMOS_BYTE_00	EQU 0XED			;ÄÑêÖë ïêÄçÖçàü Ç CMOS
(2)  162/       0 : =ECH                CMOS_BYTE_01	EQU 0XEC			;ÄÑêÖë ïêÄçÖçàü Ç CMOS
(2)  163/       0 : =EBH                VIRT_REAL_DRIVE	EQU 0XEB			;ïêÄçÖçàÖ çéåÖêÄ êÖÄãúçéÉé à ÇàêíìÄãúçéÉé ÑàëäéÇéÑÄ
(2)  164/       0 :                     
(2)  165/       0 : =EBH                FIRST_CRCBYTE	EQU 0XEB			;çéåÖê üóÖâäà ë äéíéêéõâ çÄóàçÄÖíëü CRC äéçíêéãú
(2)  166/       0 :                     
(2)  167/       0 :                     ;üóÖâäÄ CMOS 0XED
(2)  168/       0 : =80H                TURBO14		EQU 0X80			;êÄáêÖòÖçàÖ ÇäãûóÖçàü TURBO 14MHZ
(2)  169/       0 : =40H                EMUL_TAPE	EQU 0X40			;êÄáêÖòÖçàÖ ùåìãüñàà áÄÉêìáäà ë ãÖçíõ
(2)  170/       0 : =20H                PRINTER_AY	EQU 0X20			;êÄáêÖòÖçàÖ èéÑåÖçõ ÑêÄâÇÖêÄ èÖóÄíà Ç BASIC48
(2)  171/       0 : =10H                RELOAD_FONT	EQU 0X10			;êÄáêÖòÖçàÖ èÖêÖáÄÉêìáäà òêàîíÄ èêà ëÅêéëÖ
(2)  172/       0 : =8H                 TYPE_FONT	EQU 0X08			;ÇõÅéê äéÑàêéÇäà òêàîíÄ
(2)  173/       0 :                     
(2)  174/       0 :                     ;üóÖâäÄ CMOS 0XEC
(2)  175/       0 : =80H                TURBO357	EQU 0X80			;íìêÅé êÖÜàå 3,5 àãà 7 åÉñ
(2)  176/       0 : =40H                ACCESSSDG	EQU 0X40			;êÄáêÖòÖçàü ÑéëíìèÄ ë SD äÄêíÖ NEOGS
(2)  177/       0 : =20H                AUTOMOUNT	EQU 0X20			;Çäã/ÇõäÑ ÄÇíéåéçíàêéÇÄçàü àá îÄâãÄ
(2)  178/       0 : =10H                CLOCK_VIEW	EQU 0X10			;ïêÄçÖçàÖ éíéÅêÄÜÖçàÖ óÄëéÇ
(2)  179/       0 : =8H                 SOUNDKEYS	EQU 0X08			;êÄáêÖòÖçàÖ éáÇìóàÇÄçàü çÄÜÄíõï äãÄÇàò
(2)  180/       0 :                     
(2)  181/       0 : =4H                 KOL_MODES	EQU 4				;äéãàóÖëíÇé êÖÜàåéÇ ëÅêéëÄ
(2)  182/       0 : =3H                 MKOL_MODES	EQU 3				;åÄëäÄ Ñãü äéãàóÖëíÇÄ êÖÜàåéÇ ëÅêéëÄ
(2)  183/       0 :                     
(2)  184/       0 :                     ;çéåÖêÄ ëÅêéëéÇ, Åàíõ 1-0 üóÖâäà 0XED (CMOS_BYTE_00)
(2)  185/       0 : =0H                 RESET2EVOSERV	EQU 0				;ëÅêéë Ç EVO SERVICE
(2)  186/       0 : =1H                 RESET2GLUK	EQU 1				;ëÅêéë Ç GLUK SERVICE
(2)  187/       0 : =2H                 RESET2PROFROM	EQU 2				;ëÅêéë Ç PROFROM
(2)  188/       0 : =3H                 RESET2CUSTOM	EQU 3				;ëÅêéë Ç CUSTOM ROM
(2)  189/       0 :                     
(2)  190/       0 :                     ;èÖêÖåÖççõÖ Ñãü 0 éäçÄ èêéÖñàêéÇÄçàü
(2)  191/       0 : =13H                DEBUG_ONOFF	EQU 0X0013			;Çäã/Çõäã éíãÄÑóàäÄ
(2)  192/       0 : =14H                ADR_SEL_ROM	EQU 0X0014			;ÄÑêÖë èÖêÖäãûóÖçàü ëíêÄçàñ ROM
(2)  193/       0 : =2CH                CONT_RST8	EQU 0X002C			;ÄÑêÖë èêéÑéãÜÖçàü éÅêÄÅéíäà RST 8
(2)  194/       0 : =34H                CONTINUE_MAGIC	EQU 0X0034			;ÄÑêÖë èÖêÖïéÑÄ èêéÑéãÜÖçàü éÅêÄÅéíóàäÄ MAGIC
(2)  195/       0 : =36H                ADR_PERFECT	EQU 0X0036			;ÄÑêÖë êÄëèéãéÜÖçàü PERFECT COMANDER
(2)  196/       0 : =3EH                EI_RET		EQU 0X003E			;ÄÑêÖë êÄëèéãéÜÖçàü EI:RET
(2)  197/       0 : =40H                INST_NMIRST	EQU 0X0040			;ÄÑêÖë ìëíÄçéÇôàäÄ NMI à RST éÅêÄÅéíóàäéÇ
(2)  198/       0 : =40H                SET_MAP		EQU 0X0040			;ÄÑêÖë ìëíÄçéÇäà ëíêÄçàñ Ç éäçÄï èêéÖñàêéÇÄçàü
(2)  199/       0 : =43H                UNP_MICROBOOT	EQU 0X0043			;ÄÑêÖë êÄëèÄäéÇäà áÄèìëäÄãäà ë FAT
(2)  200/       0 : =80H                UNPACK		EQU 0X0080			;ÄÑêÖë êÄëèÄäéÇôàäÄ
(2)  201/       0 : =C000H              START_STS	EQU 0XC000			;ÄÑêÖë ÇïéÑÄ Ç éíãÄÑóàä
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(../../global_vars.a80) - page 7 - 11/17/2013 22:45:09


(2)  202/       0 : =3CE8H              ADR_RST8END	EQU 0X3CE8			;ÄÑêÖë ÇéáÇêÄíÄ àá RST 8
(2)  203/       0 :                     
(2)  204/       0 : =2500H              OFFSET_SCRSAVE	EQU 0X4000-0X1B00		;1B00 ëåÖôÖçàÖ Ç ëíêÄçàñÖ Ñãü ëéïêÄçÖçàü ùäêÄçÄ
(2)  205/       0 :                     
(2)  206/       0 : =B800H              OFFSET_FNTSAVE	EQU CPU2+0X4000-0X800		;800 ëåÖôÖçàÖ Ç ëíêÄçàñÖ Ñãü ëéïêÄçÖçàü òêàîíÄ
(2)  207/       0 : =B000H              OFFSET_BUFSYM	EQU OFFSET_FNTSAVE-0X800	;800 ëåÖôÖçàÖ Ç ëíêÄçàñÖ íÖäìôÖÉé òêàîíÄ Ñãü MAGIC êÖÜàåÄ 
(2)  208/       0 : =AE00H              BUF_512		EQU OFFSET_BUFSYM-0X200		;200 ÅìîÖê ëÖäíéêÄ
(2)  209/       0 : =AD00H              BUF_TABLVOL	EQU BUF_512-0X100		;100 ÅìîÖê íÄÅãàñõ çÄâÑÖççõï êÄáÑÖãéÇ
(2)  210/       0 : =AC00H              BUF_TEKVOL	EQU BUF_TABLVOL-0X100		;100 ÅìîÖê ÇõÅêÄççéÉé êÄáÑÖãÄ
(2)  211/       0 : =A400H              BUF_TDIRCLS	EQU BUF_TEKVOL-0X800		;800 ÅìîÖê äãÄëíÖêéÇ íÖäìôÖâ ÑàêÖäíéêàà
(2)  212/       0 : =A300H              BUF_256		EQU BUF_TDIRCLS-0X100		;100 ÅìîÖê 256 ÅÄâí Ñãü èÖêÖçéëéÇ
(2)  213/       0 : =A200H              BUF_PATH	EQU BUF_256-0X100		;100 ÅìîÖê íÖäìôÖÉé èìíà
(2)  214/       0 : =A100H              MOUNT_DRIVES	EQU BUF_PATH-0X100		;100 ÅìîÖê éèàëÄíÖãÖâ èêàåéçíàêéÇÄççõï îÄâãéÇ
(2)  215/       0 : =A000H              BUF_LEVELDIR	EQU MOUNT_DRIVES-0X100		;200 ÅìîÖê ëéïêÄçÖçàü èéáàñàâ éäéç èêà èÖêÖïéÑÄï èé ÑàêÖäíéêàüå
(2)  216/       0 : =9C00H              BUF_WINPATH	EQU BUF_LEVELDIR-0X400		;400 ÅìîÖê ëéïêÄçÖçàü èéáàñàâ Ç éäçÖ èêà ïéÜÑÖçàà èé ÑàêÖäíéêàüå
(2)  217/       0 :                     
(2)  218/       0 :                     ;èÖêÖåÖççõÖ Ñãü åÖçÖÑÜÖêÄ ìëíêéâëíÇ
(2)  219/       0 : =ADE0H              DEVICES		EQU BUF_TABLVOL+0XE0		;10 ëèàëéä éÅçÄêìÜÖççõï ÑÖÇÄâëéÇ
(2)  220/       0 : =ADF0H              GO_DEV		EQU DEVICES+0X10		;2 ÄÑêÖë ÇõáéÇÄ ÑêÄâÇÖêÄ ìëíêéâëíÇÄ
(2)  221/       0 : =ADF2H              KOLDVOL		EQU GO_DEV+2			;1 äéãàóÖëíÇé çÄâÑÖççõï êÄáÑÖãéÇ
(2)  222/       0 : =ADF3H              SETDVOL		EQU KOLDVOL+1			;1 çéåÖê ÇõÅêÄççéÉé êÄáÑÖãÄ
(2)  223/       0 : =ADF4H              ADRTEKV		EQU SETDVOL+1			;2 ÄÑêÖë éèàëÄíÖãü íÖäìôÖÉé êÄáÑÖãÄ
(2)  224/       0 : =ADF6H              SAVE_TEK_VOL	EQU ADRTEKV+2			;1 ÇêÖåÖççéÖ ëéïêÄçÖçàÖ íÖäìôÖÉé êÄáÑÖãÄ
(2)  225/       0 : =ADF7H              TEK_TYPE	EQU SAVE_TEK_VOL+1		;1 ÇêÖåÖççéÖ ïêÄçÖçàÖ íàèÄ íÖäìôÖÉé ìëíêéâëíÇÄ
(2)  226/       0 : =ADF8H              FLAGS_DRV	EQU TEK_TYPE+1			;1 îãÄÉéÇõâ ÅÄâí ÑêÄâÇÖêéÇ
(2)  227/       0 :                     ;7 =0-ÑêÄâÇÖê SD äÄêíõ NEOGS çÖ ìëíÄçéÇãÖç, =1-çÖ ìëíÄçéÇãÖç
(2)  228/       0 :                     ;6
(2)  229/       0 :                     ;5
(2)  230/       0 :                     ;4
(2)  231/       0 :                     ;3
(2)  232/       0 :                     ;2
(2)  233/       0 :                     ;1 =0-SD ZC äÄêíÄ çÖ éÅçÄêìÜÖçÄ, 1-éÅçÄêìÜÖçÄ
(2)  234/       0 :                     ;0 =0-SD NeoGS çÖ éÅçÄêìÜÖçÄ, 1-éÅçÄêìÜÖçÄ
(2)  235/       0 : =ADFEH              CRC_DRVS	EQU BUF_TABLVOL+0XFE		;2 äéçíêéãúçÄü ëìååÄ íÄÅãàñõ çÄâÑÖççõï êÄáÑÖãéÇ
(2)  236/       0 :                     
(2)  237/       0 :                     ;èÖêÖåÖççõÖ Ñãü 1 éäçÄ èêéÖñàêéÇÄçàü
(2)  238/       0 : =0H                 BUF_ALLVOL	EQU 0				;1000 ÅìîÖê èÖêÖåÖççõï Ñãü ÇëÖï êÄáÑÖãéÇ (16 MAX)
(2)  239/       0 : =1000H              MOUNT_CLS	EQU BUF_ALLVOL+0X1000		;1000 ÅìîÖê äãÄëíÖêéÇ èêàåéçíàêéÇÄççõï îÄâãéÇ
(2)  240/       0 : =2000H              TEK_BUFPATH	EQU MOUNT_CLS+0X1000		;1000 ÅìîÖê íÖäìôàï èìíÖâ çÄ êÄáÑÖãÄï
(2)  241/       0 : =3000H              BUF_PATHMOUNT	EQU TEK_BUFPATH+0X1000		;400 ÅìîÖê èìíÖâ Ñãü èéàëäÄ èêàåéçíàêéÇÄççõï îÄâãéÇ
(2)  242/       0 : =3400H              BUF_DIRCEP	EQU BUF_PATHMOUNT+0X400		;100 ÅìîÖê ñÖèéóäà íÖäìôÖâ ÑàêÖäíéêàà
(2)  243/       0 : =3500H              BUF_TEMPSEC	EQU BUF_DIRCEP+0X100		;200 ÅìîÖê ëÖäíéêÄ Ñãü áÄÉêìáäà éÅêÄáéÇ
(2)  244/       0 :                     
(1)    7/       0 :                     		include bas_trd_vars.a80
(2)    1/       0 :                     
(2)    2/       0 :                     ;LAST UPDATE: 13.09.2012 savelij
(2)    3/       0 :                     
(2)    4/       0 : =5B00H              SWAP		EQU 0X5B00
(2)    5/       0 : =5B08H              SWAP_8		EQU 0X5B08
(2)    6/       0 : =5B5CH              BANKM		EQU 0X5B5C
(2)    7/       0 : =5BFFH              TSTACK_END	EQU 0X5BFF
(2)    8/       0 :                     
(2)    9/       0 : =5C00H              KSTATE0		EQU 0X5C00
(2)   10/       0 : =5C01H              KSTATE1		EQU 0X5C01
(2)   11/       0 : =5C09H              REPDEL		EQU 0X5C09
(2)   12/       0 : =5C10H              STRMS		EQU 0X5C10
(2)   13/       0 : =5C36H              CHARS		EQU 0X5C36
(2)   14/       0 : =5C38H              RASP		EQU 0X5C38
(2)   15/       0 : =5C3AH              ERR_NR		EQU 0X5C3A
(2)   16/       0 : =5C3BH              FLAGS		EQU 0X5C3B
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(bas_trd_vars.a80) - page 8 - 11/17/2013 22:45:09


(2)   17/       0 : =5C3CH              TV_FLAG		EQU 0X5C3C
(2)   18/       0 : =5C3DH              ERR_SP		EQU 0X5C3D
(2)   19/       0 : =5C42H              NEWPPC		EQU 0X5C42
(2)   20/       0 : =5C44H              NSPPS		EQU 0X5C44
(2)   21/       0 : =5C45H              PPC		EQU 0X5C45
(2)   22/       0 : =5C48H              BORDCR		EQU 0X5C48
(2)   23/       0 : =5C4BH              VARS		EQU 0X5C4B
(2)   24/       0 : =5C4FH              CHANS		EQU 0X5C4F
(2)   25/       0 : =5C51H              CURCHL		EQU 0X5C51
(2)   26/       0 : =5C53H              PROG		EQU 0X5C53
(2)   27/       0 : =5C55H              NXTLIN		EQU 0X5C55
(2)   28/       0 : =5C57H              DATADD		EQU 0X5C57
(2)   29/       0 : =5C59H              E_LINE		EQU 0X5C59		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(2)   30/       0 : =5C5BH              K_CUR		EQU 0X5C5B
(2)   31/       0 : =5C5DH              CH_ADD		EQU 0X5C5D
(2)   32/       0 : =5C61H              WORKSP		EQU 0X5C61
(2)   33/       0 : =5C63H              STKBOT		EQU 0X5C63
(2)   34/       0 : =5C65H              STKEND		EQU 0X5C65
(2)   35/       0 : =5C6BH              DF_SZ		EQU 0X5C6B
(2)   36/       0 : =5C7BH              UDG		EQU 0X5C7B
(2)   37/       0 : =5C81H              NOT_USED	EQU 0X5C81		;ëíÄêòàâ ÅÄâí ÄÑêÖëÄ ÅìîÖêÄ èêàçíÖêÄ
(2)   38/       0 : =5C82H              ECHO_E		EQU 0X5C82
(2)   39/       0 : =5C8AH              SPONSL		EQU 0X5C8A
(2)   40/       0 : =5C8DH              ATTR_P		EQU 0X5C8D
(2)   41/       0 : =5C8FH              ATTR_T		EQU 0X5C8F
(2)   42/       0 : =5C92H              MEMBOT		EQU 0X5C92
(2)   43/       0 : =5CB2H              RAMTOP		EQU 0X5CB2
(2)   44/       0 : =5CB4H              P_RAMT		EQU 0X5CB4
(2)   45/       0 :                     
(2)   46/       0 : =5CB6H              TRD_5CB6	EQU 0X5CB6
(2)   47/       0 : =5CC2H              TRD_5CC2	EQU 0X5CC2		; ëéÑÖêÜàí C9. Ñãü èÖêÖïéÑÄ àá TR-DOS Ç	BASIC
(2)   48/       0 : =5CC3H              TRD_5CC3	EQU 0X5CC3
(2)   49/       0 : =5CC6H              TRD_5CC6	EQU 0X5CC6		;ÄÑêÖë áÄèìëäÄ Ñãü äéåÄçÑõ RUN "FILENAME" CODE ÄÑêÖë áÄèìëäÄ
(2)   50/       0 : =5CC8H              TRD_5CC8	EQU 0X5CC8		; êÖÜàå	êÄÅéíÄ ÑàëäéÇéÑÄ A
(2)   51/       0 : =5CC9H              TRD_5CC9	EQU 0X5CC9		; êÖÜàå	êÄÅéíÄ ÑàëäéÇéÑÄ B
(2)   52/       0 : =5CCAH              TRD_5CCA	EQU 0X5CCA		; êÖÜàå	êÄÅéíÄ ÑàëäéÇéÑÄ C
(2)   53/       0 : =5CCBH              TRD_5CCB	EQU 0X5CCB		; êÖÜàå	êÄÅéíÄ ÑàëäéÇéÑÄ D
(2)   54/       0 : =5CCCH              TRD_5CCC	EQU 0X5CCC		; íÖäìôàâ çéåÖê	ëÖäíéêÄ	èêà óíÖçàà äÄíÄãéÉÄ
(2)   55/       0 : =5CCDH              TRD_5CCD	EQU 0X5CCD		; 80-ÉéíéÇçéëíú ÑàëäéÇéÑÄ
(2)   56/       0 : =5CCEH              TRD_5CCE	EQU 0X5CCE		; 00-óíÖçàÖ ëÖäíéêÄ,#FF-áÄèàëú	ëÖäíéêÄ
(2)   57/       0 : =5CCFH              TRD_5CCF	EQU 0X5CCF		; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(2)   58/       0 : =5CD1H              TRD_5CD1	EQU 0X5CD1
(2)   59/       0 : =5CD2H              TRD_5CD2	EQU 0X5CD2
(2)   60/       0 : =5CD3H              TRD_5CD3	EQU 0X5CD3
(2)   61/       0 : =5CD4H              TRD_5CD4	EQU 0X5CD4
(2)   62/       0 : =5CD5H              TRD_5CD5	EQU 0X5CD5
(2)   63/       0 : =5CD6H              TRD_5CD6	EQU 0X5CD6		; FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(2)   64/       0 : =5CD7H              TRD_5CD7	EQU 0X5CD7		; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(2)   65/       0 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(2)   66/       0 : =5CD8H              TRD_5CD8	EQU 0X5CD8
(2)   67/       0 : =5CD9H              TRD_5CD9	EQU 0X5CD9		; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(2)   68/       0 : =5CDAH              TRD_5CDA	EQU 0X5CDA
(2)   69/       0 : =5CDBH              TRD_5CDB	EQU 0X5CDB
(2)   70/       0 : =5CDCH              TRD_5CDC	EQU 0X5CDC
(2)   71/       0 : =5CDDH              TRD_5CDD	EQU 0X5CDD		; àåü îÄâãÄ
(2)   72/       0 : =5CDFH              TRD_5CDF	EQU 0X5CDF
(2)   73/       0 : =5CE1H              TRD_5CE1	EQU 0X5CE1
(2)   74/       0 : =5CE3H              TRD_5CE3	EQU 0X5CE3
(2)   75/       0 : =5CE5H              TRD_5CE5	EQU 0X5CE5		; êÄëòàêÖçàÖ îÄâãÄ
(2)   76/       0 : =5CE6H              TRD_5CE6	EQU 0X5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(bas_trd_vars.a80) - page 9 - 11/17/2013 22:45:09


(2)   77/       0 : =5CE7H              TRD_5CE7	EQU 0X5CE7
(2)   78/       0 : =5CE8H              TRD_5CE8	EQU 0X5CE8		; ÑãàçÄ	èêéÉêÄååõ
(2)   79/       0 : =5CE9H              TRD_5CE9	EQU 0X5CE9
(2)   80/       0 : =5CEAH              TRD_5CEA	EQU 0X5CEA		; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(2)   81/       0 : =5CEBH              TRD_5CEB	EQU 0X5CEB		; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(2)   82/       0 : =5CEDH              TRD_5CED	EQU 0X5CED		; çéåÖê	èÖêÇéÉé	íêÖäÄ îÄâãÄ
(2)   83/       0 : =5CEFH              TRD_5CEF	EQU 0X5CEF		; ëéÑÖêÜàí 1 Öëãà Öëíú INTERFACE1
(2)   84/       0 : =5CF1H              TRD_5CF1	EQU 0X5CF1
(2)   85/       0 : =5CF2H              TRD_5CF2	EQU 0X5CF2
(2)   86/       0 : =5CF4H              TRD_5CF4	EQU 0X5CF4
(2)   87/       0 : =5CF5H              TRD_5CF5	EQU 0X5CF5
(2)   88/       0 : =5CF6H              TRD_5CF6	EQU 0X5CF6		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(2)   89/       0 : =5CF7H              TRD_5CF7	EQU 0X5CF7
(2)   90/       0 : =5CF8H              TRD_5CF8	EQU 0X5CF8		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(2)   91/       0 : =5CF9H              TRD_5CF9	EQU 0X5CF9		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(2)   92/       0 : =5CFAH              TRD_5CFA	EQU 0X5CFA		; ÇêÖåü	èÖêÖåÖôÖçàü ÑàëäéÇéÑÄ A
(2)   93/       0 : =5CFBH              TRD_5CFB	EQU 0X5CFB		; ÇêÖåü	èÖêÖåÖôÖçàü ÑàëäéÇéÑÄ B
(2)   94/       0 : =5CFCH              TRD_5CFC	EQU 0X5CFC		; ÇêÖåü	èÖêÖåÖôÖçàü ÑàëäéÇéÑÄ C
(2)   95/       0 : =5CFDH              TRD_5CFD	EQU 0X5CFD		; ÇêÖåü	èÖêÖåÖôÖçàü ÑàëäéÇéÑÄ D
(2)   96/       0 : =5CFEH              TRD_5CFE	EQU 0X5CFE
(2)   97/       0 : =5CFFH              TRD_5CFF	EQU 0X5CFF
(2)   98/       0 : =5D00H              TRD_5D00	EQU 0X5D00
(2)   99/       0 : =5D02H              TRD_5D02	EQU 0X5D02
(2)  100/       0 : =5D04H              TRD_5D04	EQU 0X5D04
(2)  101/       0 : =5D06H              TRD_5D06	EQU 0X5D06		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(2)  102/       0 : =5D07H              TRD_5D07	EQU 0X5D07		; ëóÖíóàä ìÑÄãÖççõï îÄâãéÇ
(2)  103/       0 : =5D08H              TRD_5D08	EQU 0X5D08		; èÖêÇõâ ëàåÇéã	àåÖçà îÄâãÄ
(2)  104/       0 : =5D09H              TRD_5D09	EQU 0X5D09
(2)  105/       0 : =5D0CH              TRD_5D0C	EQU 0X5D0C
(2)  106/       0 : =5D0DH              TRD_5D0D	EQU 0X5D0D
(2)  107/       0 : =5D0EH              TRD_5D0E	EQU 0X5D0E		; FE-êÄÅéíÄÖí BASIC,àçÄóÖ TR-DOS
(2)  108/       0 : =5D0FH              TRD_5D0F	EQU 0X5D0F		; çéåÖê	éòàÅäà TR-DOS
(2)  109/       0 : =5D10H              TRD_5D10	EQU 0X5D10		; ëíÄêòàâ ÅÄâí éòàÅäà
(2)  110/       0 : =5D11H              TRD_5D11	EQU 0X5D11		; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(2)  111/       0 : =5D13H              TRD_5D13	EQU 0X5D13		; äéèàü	ERR_SP
(2)  112/       0 : =5D15H              TRD_5D15	EQU 0X5D15		; Öëãà 0,èÖóÄíÄíú òÄèäì	TR-DOS.àçÄóÖ çÖ	èÖóÄíÄíú
(2)  113/       0 : =5D16H              TRD_5D16	EQU 0X5D16		; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí FF)
(2)  114/       0 : =5D17H              TRD_5D17	EQU 0X5D17		; êàëéÇÄçàÖ áÄëíÄÇäà, Öëãà AA
(2)  115/       0 : =5D18H              TRD_5D18	EQU 0X5D18
(2)  116/       0 : =5D19H              TRD_5D19	EQU 0X5D19		; ÑàëäéÇéÑ èé ìåéãóÄçàû
(2)  117/       0 : =5D1AH              TRD_5D1A	EQU 0X5D1A		; ÇçìíêÖççàâ ÄÑêÖë áÄÇÖêòÖçàü àçíÖêèêÖíÄíéêÄ äéåÄçÑ
(2)  118/       0 : =5D1CH              TRD_5D1C	EQU 0X5D1C		; ëéïêÄçÖçàÖ êÖÉàëíêÄ SP
(2)  119/       0 : =5D1EH              TRD_5D1E	EQU 0X5D1E
(2)  120/       0 : =5D1FH              TRD_5D1F	EQU 0X5D1F
(2)  121/       0 : =5D20H              TRD_5D20	EQU 0X5D20		; Ñãü ëéïêÄçÖçàü 3 ëàåÇéãéÇ ÇÇÖÑÖçéâ ëíêéäà
(2)  122/       0 : =5D21H              TRD_5D21	EQU 0X5D21
(2)  123/       0 : =5D23H              TRD_5D23	EQU 0X5D23
(2)  124/       0 : =5D25H              TRD_5D25	EQU 0X5D25		;ÅìîÖê óíÖçàü ëÖäíéêÄ ÑàëäÄ
(2)  125/       0 : =5D26H              TRD_5D26	EQU 0X5D26
(2)  126/       0 : =5D33H              TRD_5D33	EQU 0X5D33
(2)  127/       0 :                     
(2)  128/       0 : =5E06H              TRD_5E06	EQU 0X5E06
(2)  129/       0 : =5E07H              TRD_5E07	EQU 0X5E07
(2)  130/       0 : =5E08H              TRD_5E08	EQU 0X5E08
(2)  131/       0 : =5E09H              TRD_5E09	EQU 0X5E09
(2)  132/       0 : =5E0AH              TRD_5E0A	EQU 0X5E0A
(2)  133/       0 : =5E0CH              TRD_5E0C	EQU 0X5E0C
(2)  134/       0 : =5E0FH              TRD_5E0F	EQU 0X5E0F
(2)  135/       0 : =5E10H              TRD_5E10	EQU 0X5E10
(2)  136/       0 : =5E19H              TRD_5E19	EQU 0X5E19
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(bas_trd_vars.a80) - page 10 - 11/17/2013 22:45:09


(2)  137/       0 : =5E1AH              TRD_5E1A	EQU 0X5E1A
(2)  138/       0 : =5E34H              TRD_5E34	EQU 0X5E34
(2)  139/       0 : =5F00H              TRD_5F00	EQU 0X5F00
(2)  140/       0 : =5F10H              TRD_5F10	EQU 0X5F10
(2)  141/       0 : =5F12H              TRD_5F12	EQU 0X5F12
(2)  142/       0 :                     
(1)    8/       0 :                     
(1)    9/       0 :                     ;		     0123456789012345678
(1)   10/       0 :                     ;		    "* TR-DOS Ver 5.03 *"
(1)   11/       0 : = EVO-DOS Ve..      NUMBER_VERS	EQU " EVO-DOS Ver 0.35  "
(1)   12/       0 : =7H                 ZASTV_X		EQU 7					;äééêÑàçÄíÄ X èÖóÄíà çÄÑèàëà BETA128
(1)   13/       0 : =7H                 ZASTV_Y		EQU 7					;äééêÑàçÄíÄ Y èÖóÄíà çÄÑèàëà BETA128
(1)   14/       0 : =40F0H              ZASTV_PIX	EQU ZASTV_Y*0X20+0X4000+ZASTV_X+9	;ÄÑêÖë ÇõÇéÑÄ ëäéòÖççõï ìÉéãäéÇ
(1)   15/       0 : =58E7H              ZASTV_ATR	EQU ZASTV_Y*0X20+0X5800+ZASTV_X		;ÄÑêÖë ÇõÇéÑÄ ñÇÖíÄ Ñãü ëäéòÖççõï ìÉéãäéÇ
(1)   16/       0 :                     
(1)   17/       0 :                     		ORG 0X0000
(1)   18/       0 : F3                  		DI
(1)   19/       1 : 3E 07               		LD A,7
(1)   20/       3 : D3 FE               		OUT (0XFE),A
(1)   21/       5 : 18 04               		JR LOC_9
(1)   22/       7 :                     
(1)   23/       7 : 01                  		DB 1				;áÄÉãìòäÄ Ñãü DCU
(1)   24/       8 : C3 96 33            RST_8		JP DOS2RST8			;RST 08
(1)   25/       B :                     
(1)   26/       B : 3E 3F               LOC_9		LD A,0X3F
(1)   27/       D : 18 0C               		JR LOC_1B
(1)   28/       F :                     
(1)   29/       F : 00                  		NOP
(1)   30/      10 : C3 82 3D            RST_10		JP PRINT_A_			;èÖóÄíú ëàåÇéãÄ
(1)   31/      13 :                     
(1)   32/      13 : (MACRO)             		DUPL ADR_SEL_ROM-$,0XFF
(1)   32/      13 :                     DUPL:
(1)   32/      13 : =0H                 $$N             EQU (ADR_SEL_ROM-$) / 1024
(1)   32/      13 : =1H                 $$M             EQU (ADR_SEL_ROM-$) # 1024
(1)   32/      13 :                                     REPT $$N
(1)   32/      13 :                                     DB 1024 DUP(0XFF)
(1)   32/      13 :                                     ENDM
(1)   32/      13 : =>TRUE                              IF $$M <> 0
(1)   32/      13 : FF                                  DB $$M DUP(0XFF)
(1)   32/      14 : [32]                                ENDIF
(1)   33/      14 : ED 79               LOC_14		OUT (C),A
(1)   34/      16 : 00                  		NOP
(1)   35/      17 : C9                  		RET
(1)   36/      18 :                     
(1)   37/      18 : C3 07 27            RST_18		JP PRINT_MSG			;èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1)   38/      1B :                     
(1)   39/      1B : ED 47               LOC_1B		LD I,A
(1)   40/      1D : AF                  		XOR A
(1)   41/      1E : 18 04               		JR LOC_24
(1)   42/      20 :                     
(1)   43/      20 : (MACRO)             		DUPL 0X0020-$,0XFF
(1)   43/      20 :                     DUPL:
(1)   43/      20 : =0H                 $$N             EQU (0X0020-$) / 1024
(1)   43/      20 : =0H                 $$M             EQU (0X0020-$) # 1024
(1)   43/      20 :                                     REPT $$N
(1)   43/      20 :                                     DB 1024 DUP(0XFF)
(1)   43/      20 :                                     ENDM
(1)   43/      20 : =>FALSE                             IF $$M <> 0
(1)   43/      20 :                                     DB $$M DUP(0XFF)
(1)   43/      20 : [43]                                ENDIF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 11 - 11/17/2013 22:45:09


(1)   44/      20 : C3 72 2F            RST_20		JP CALL2BASIC			;ÇõáéÇ èéÑèêéÉêÄåå àá ÅÄëàäÄ 48
(1)   45/      23 :                     
(1)   46/      23 : C9                  		RET
(1)   47/      24 :                     
(1)   48/      24 : 47                  LOC_24		LD B,A
(1)   49/      25 : 4F                  		LD C,A
(1)   50/      26 : 18 03               		JR LOC_2B
(1)   51/      28 :                     
(1)   52/      28 : (MACRO)             		DUPL 0X0028-$,0XFF
(1)   52/      28 :                     DUPL:
(1)   52/      28 : =0H                 $$N             EQU (0X0028-$) / 1024
(1)   52/      28 : =0H                 $$M             EQU (0X0028-$) # 1024
(1)   52/      28 :                                     REPT $$N
(1)   52/      28 :                                     DB 1024 DUP(0XFF)
(1)   52/      28 :                                     ENDM
(1)   52/      28 : =>FALSE                             IF $$M <> 0
(1)   52/      28 :                                     DB $$M DUP(0XFF)
(1)   52/      28 : [52]                                ENDIF
(1)   53/      28 : C3 23 23            RST_28		JP ADR_OPEN_CHAN
(1)   54/      2B :                     
(1)   55/      2B : 31 FF FF            LOC_2B		LD SP,0XFFFF
(1)   56/      2E : 18 0A               		JR LOC_3A
(1)   57/      30 :                     
(1)   58/      30 : C3 3E 0A            RST_30		JP RST08_WORK
(1)   59/      33 :                     
(1)   60/      33 : (MACRO)             		DUPL 0X0038-$,0XFF
(1)   60/      33 :                     DUPL:
(1)   60/      33 : =0H                 $$N             EQU (0X0038-$) / 1024
(1)   60/      33 : =5H                 $$M             EQU (0X0038-$) # 1024
(1)   60/      33 :                                     REPT $$N
(1)   60/      33 :                                     DB 1024 DUP(0XFF)
(1)   60/      33 :                                     ENDM
(1)   60/      33 : =>TRUE                              IF $$M <> 0
(1)   60/      33 : FF FF FF FF FF                      DB $$M DUP(0XFF)
(1)   60/      38 : [60]                                ENDIF
(1)   61/      38 : FB                  RST_38		EI
(1)   62/      39 : C9                  		RET
(1)   63/      3A :                     
(1)   64/      3A :                     LOC_3A		REPT 8
(1)   65/      3A :                     		PUSH BC
(1)   66/      3A :                     		ENDM
(1)   65/      3A : C5                  		PUSH BC
(1)   65/      3B : C5                  		PUSH BC
(1)   65/      3C : C5                  		PUSH BC
(1)   65/      3D : C5                  		PUSH BC
(1)   65/      3E : C5                  		PUSH BC
(1)   65/      3F : C5                  		PUSH BC
(1)   65/      40 : C5                  		PUSH BC
(1)   65/      41 : C5                  		PUSH BC
(1)   67/      42 : 21 00 A5            		LD HL,0XA500
(1)   68/      45 : 39                  		ADD HL,SP
(1)   69/      46 : 38 F2               		JR C,LOC_3A
(1)   70/      48 : 22 B4 5C            		LD (P_RAMT),HL
(1)   71/      4B : 11 AF 3E            		LD DE,0X3EAF
(1)   72/      4E : 01 A8 00            		LD BC,0XA8
(1)   73/      51 : 7B                  		LD A,E
(1)   74/      52 : EB                  		EX DE,HL
(1)   75/      53 : 31 00 60            		LD SP,0X6000
(1)   76/      56 : 22 00 5F            		LD (TRD_5F00),HL
(1)   77/      59 : 21 79 00            		LD HL,LOC_79
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 12 - 11/17/2013 22:45:09


(1)   78/      5C : E5                  		PUSH HL
(1)   79/      5D : 21 2F 3D            		LD HL,LOC_3D2F
(1)   80/      60 : E5                  		PUSH HL
(1)   81/      61 : 21 ED B8            		LD HL,0XB8ED			;äéåÄçÑÄ LDDR
(1)   82/      64 : 18 03               		JR EXECUTECOM2HL
(1)   83/      66 :                     
(1)   84/      66 : C3 56 2A            		JP MAGIC			;éÅêÄÅéíóàä NMI-éíëìëíÇìÖí
(1)   85/      69 :                     
(1)   86/      69 : 22 10 5F            EXECUTECOM2HL	LD (TRD_5F10),HL
(1)   87/      6C : F5                  		PUSH AF
(1)   88/      6D : 3E C9               		LD A,0XC9
(1)   89/      6F : 32 12 5F            		LD (TRD_5F12),A
(1)   90/      72 : F1                  		POP AF
(1)   91/      73 : 2A 00 5F            		LD HL,(TRD_5F00)
(1)   92/      76 : C3 10 5F            		JP TRD_5F10
(1)   93/      79 :                     
(1)   94/      79 : EB                  LOC_79		EX DE,HL
(1)   95/      7A : 23                  		INC HL
(1)   96/      7B : 22 7B 5C            		LD (UDG),HL
(1)   97/      7E : 2B                  		DEC HL
(1)   98/      7F : 01 40 00            		LD BC,0X40		;çÄÑéÖã ùíéí èàëä èé ëÅêéëì
(1)   99/      82 : ED 43 38 5C         		LD (RASP),BC
(1)  100/      86 : 22 B2 5C            		LD (RAMTOP),HL
(1)  101/      89 : 21 00 3C            		LD HL,0X3C00
(1)  102/      8C : 22 36 5C            		LD (CHARS),HL
(1)  103/      8F : 2A B2 5C            		LD HL,(RAMTOP)
(1)  104/      92 : 36 3E               		LD (HL),0X3E
(1)  105/      94 : 2B                  		DEC HL
(1)  106/      95 : F9                  		LD SP,HL
(1)  107/      96 : 2B                  		DEC HL
(1)  108/      97 : 2B                  		DEC HL
(1)  109/      98 : 22 3D 5C            		LD (ERR_SP),HL
(1)  110/      9B : 11 03 13            		LD DE,0X1303
(1)  111/      9E : D5                  		PUSH DE
(1)  112/      9F : ED 56               		IM 1
(1)  113/      A1 : FD 21 3A 5C         		LD IY,ERR_NR
(1)  114/      A5 : 21 B6 5C            		LD HL,TRD_5CB6		; Ñãü èêéÇÖêäà çÄãàóàü INTERFACE1
(1)  115/      A8 : 22 4F 5C            		LD (CHANS),HL
(1)  116/      AB : 11 AF 15            		LD DE,0X15AF
(1)  117/      AE : 01 15 00            		LD BC,0X15
(1)  118/      B1 : EB                  		EX DE,HL
(1)  119/      B2 : CD 17 01            		CALL COPY_BAS2VARS
(1)  120/      B5 : EB                  		EX DE,HL
(1)  121/      B6 : 2B                  		DEC HL
(1)  122/      B7 : 22 57 5C            		LD (DATADD), HL
(1)  123/      BA : 23                  		INC HL
(1)  124/      BB : 22 53 5C            		LD (PROG),HL
(1)  125/      BE : 22 4B 5C            		LD (VARS),HL
(1)  126/      C1 : 36 80               		LD (HL),0X80
(1)  127/      C3 : 23                  		INC HL
(1)  128/      C4 : 22 59 5C            		LD (E_LINE),HL		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1)  129/      C7 : 36 0D               		LD (HL),0X0D
(1)  130/      C9 : 23                  		INC HL
(1)  131/      CA : 36 80               		LD (HL),0X80
(1)  132/      CC : 23                  		INC HL
(1)  133/      CD : 22 61 5C            		LD (WORKSP),HL
(1)  134/      D0 : 22 63 5C            		LD (STKBOT),HL
(1)  135/      D3 : 22 65 5C            		LD (STKEND),HL
(1)  136/      D6 : 3E 38               		LD A,0X38
(1)  137/      D8 : 32 8D 5C            		LD (ATTR_P),A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 13 - 11/17/2013 22:45:09


(1)  138/      DB : 32 8F 5C            		LD (ATTR_T),A
(1)  139/      DE : 32 48 5C            		LD (BORDCR),A
(1)  140/      E1 : 21 23 02            		LD HL,0X0223;0X0523
(1)  141/      E4 : 22 09 5C            		LD (REPDEL),HL
(1)  142/      E7 : FD 35 C6            		DEC (IY-0X3A)
(1)  143/      EA : FD 35 CA            		DEC (IY-0X36)
(1)  144/      ED : 21 C6 15            		LD HL,0X15C6
(1)  145/      F0 : 11 10 5C            		LD DE,STRMS
(1)  146/      F3 : 01 0E 00            		LD BC,0X0E
(1)  147/      F6 : CD 17 01            		CALL COPY_BAS2VARS
(1)  148/      F9 : FD CB 01 CE         		SET 1,(IY+1)
(1)  149/      FD : 21 C2 5C            		LD HL,TRD_5CC2		; ëéÑÖêÜàí #C9.Ñãü èÖêÖïéÑÄ àá TR-DOS Ç	BASIC
(1)  150/     100 : 36 C9               		LD (HL),0XC9
(1)  151/     102 : E7                  		RST 0X20
(1)  152/     103 : DF 0E               		DW 0X0EDF		; éóàëíäÄ ÅìîÖêÄ èêàçíÖêÄ
(1)  153/     105 : 21 6B 5C            		LD HL,DF_SZ		;äéãàóÖëíÇé ëíêéä Ç ëãìÜÖÅçéå ùäêÄçÖ
(1)  154/     108 : 36 02               		LD (HL),2
(1)  155/     10A : 21 8B 12            		LD HL,0X128B
(1)  156/     10D : E5                  		PUSH HL
(1)  157/     10E : 3E AA               		LD A,0XAA
(1)  158/     110 : 32 81 5C            		LD (NOT_USED),A
(1)  159/     113 : FB                  		EI
(1)  160/     114 : C3 31 3D            		JP IN_DOS_15616
(1)  161/     117 :                     
(1)  162/     117 : 22 00 5F            COPY_BAS2VARS	LD (TRD_5F00),HL
(1)  163/     11A : 21 2F 3D            		LD HL,LOC_3D2F
(1)  164/     11D : E5                  		PUSH HL
(1)  165/     11E : 21 ED B0            		LD HL,0XB0ED		;äéåÄçÑÄ LDIR
(1)  166/     121 : 22 10 5F            		LD (TRD_5F10),HL
(1)  167/     124 : 2A 00 5F            		LD HL,(TRD_5F00)
(1)  168/     127 : C3 10 5F            		JP TRD_5F10
(1)  169/     12A :                     
(1)  170/     12A :                     ;éÅêÄÅéíäÄ çéåÖêÄ ëíêéäà ÄÇíéëíÄêíÄ èêéÉêÄååõ çÄ ÅÖâëàäÖ
(1)  171/     12A : CD E5 20            WORK4AUTORUN	CALL DELETE_BUF		;ìÑÄãÖçàÖ ÅìîÖêÄ, Öëãà äÄçÄã çÖ éíäêõí
(1)  172/     12D : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1)  173/     130 : 2A 59 5C            		LD HL,(E_LINE)		;ÄÑêÖë éíäìÑÄ Çáüíú çéåÖê ëíêéäà ÄÇíéëíÄêíÄ
(1)  174/     133 : 23                  		INC HL
(1)  175/     134 : 5E                  		LD E,(HL)
(1)  176/     135 : 23                  		INC HL
(1)  177/     136 : 56                  		LD D,(HL)		;èéãìóàãà çéåÖê ëíêéäà ÄÇíéëíÄêíÄ
(1)  178/     137 : 7A                  		LD A,D
(1)  179/     138 : B3                  		OR E
(1)  180/     139 : EB                  		EX DE,HL
(1)  181/     13A : 28 04               		JR Z,LOC_140		;Öëãà çéåÖê ëíêéäà =0, íé ÅÖá ÄÇíéáÄèìëäÄ
(1)  182/     13C : AF                  		XOR A
(1)  183/     13D : 32 10 5D            		LD (TRD_5D10),A		; ëíÄêòàâ ÅÄâí éòàÅäà
(1)  184/     140 : E5                  LOC_140		PUSH HL
(1)  185/     141 : CD 32 02            		CALL RESTORE_SP		; ÇéëëíÄçéÇãÖçàÖ èÖêÖïÇÄíóàäÄ éòàÅéä
(1)  186/     144 : E1                  		POP HL
(1)  187/     145 : 22 42 5C            		LD (NEWPPC),HL
(1)  188/     148 : AF                  		XOR A
(1)  189/     149 : 32 44 5C            		LD (NSPPS),A
(1)  190/     14C : E7                  		RST 0X20
(1)  191/     14D : B0 16               		DW 0X16B0		; ìëíÄçéÇäÄ éÅãÄëíà êÖÑÄäíàêéÇÄçàü Ñé åàçàåìåÄ
(1)  192/     14F : 2A 53 5C            		LD HL,(PROG)
(1)  193/     152 : 2B                  		DEC HL
(1)  194/     153 : 22 57 5C            		LD (DATADD),HL
(1)  195/     156 : ED 7B 3D 5C         		LD SP,(ERR_SP)
(1)  196/     15A : 3A 10 5D            		LD A,(TRD_5D10)		; ëíÄêòàâ ÅÄâí éòàÅäà
(1)  197/     15D : B7                  		OR A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 14 - 11/17/2013 22:45:09


(1)  198/     15E : 21 76 1B            		LD HL,0X1B76
(1)  199/     161 : 28 03               		JR Z,LOC_166
(1)  200/     163 : E7                  		RST 0X20
(1)  201/     164 : B0 1B               		DW 0X1BB0		; ëééÅôÖçàÖ "OK"
(1)  202/     166 : E5                  LOC_166		PUSH HL
(1)  203/     167 : 21 C2 5C            		LD HL,TRD_5CC2
(1)  204/     16A : E5                  		PUSH HL
(1)  205/     16B : C9                  		RET
(1)  206/     16C :                     
(1)  207/     16C : (MACRO)             CONTINUE_15619	DUPL 3,0
(1)  207/     16C :                     DUPL:
(1)  207/     16C : =0H                 $$N             EQU (3) / 1024
(1)  207/     16C : =3H                 $$M             EQU (3) # 1024
(1)  207/     16C :                                     REPT $$N
(1)  207/     16C :                                     DB 1024 DUP(0)
(1)  207/     16C :                                     ENDM
(1)  207/     16C : =>TRUE                              IF $$M <> 0
(1)  207/     16C : 00 00 00                            DB $$M DUP(0)
(1)  207/     16F : [207]                               ENDIF
(1)  208/     16F : CD 4A 29            		CALL CREATE_BUF		; ëéáÑÄçàÖ ÅìîÖêÄ
(1)  209/     172 : 3E FF               		LD A,0XFF
(1)  210/     174 : 32 15 5D            		LD (TRD_5D15),A		; Öëãà 0, èÖóÄíÄíú òÄèäì TR-DOS. àçÄóÖ çÖ èÖóÄíÄíú
(1)  211/     177 : AF                  		XOR A
(1)  212/     178 : 32 F7 5C            		LD (TRD_5CF7),A
(1)  213/     17B : 3E AA               		LD A,0XAA
(1)  214/     17D : 32 17 5D            		LD (TRD_5D17),A		; êàëéÇÄçàÖ áÄëíÄÇäà, Öëãà #AA
(1)  215/     180 : 21 01 02            		LD HL,CP_ERROR
(1)  216/     183 : 22 1A 5D            		LD (TRD_5D1A),HL	; ÇçìíêÖççàâ ÄÑêÖë áÄÇÖêòÖçàü àçíÖêèêÖíÄíéêÄ äéåÄçÑ
(1)  217/     186 : 21 00 00            		LD HL,0
(1)  218/     189 : 39                  		ADD HL,SP
(1)  219/     18A : 22 1C 5D            		LD (TRD_5D1C),HL	; ëéïêÄçÖçàÖ êÖÉàëíêÄ SP
(1)  220/     18D : 2B                  		DEC HL
(1)  221/     18E : 2B                  		DEC HL
(1)  222/     18F : F9                  		LD SP,HL
(1)  223/     190 : CD 1D 02            		CALL MARK_SP		; ìëíÄçéÇäÄ ëíÖäÄ Ñãü èÖêÖïÇÄíÄ	éòàÅéä
(1)  224/     193 : 2A B2 5C            		LD HL,(RAMTOP)
(1)  225/     196 : ED 5B 5D 5C         		LD DE,(CH_ADD)
(1)  226/     19A : ED 52               		SBC HL,DE
(1)  227/     19C : EB                  		EX DE,HL
(1)  228/     19D : 30 06               		JR NC,LOC_1A5
(1)  229/     19F : B7                  		OR A
(1)  230/     1A0 : 11 01 01            		LD DE,0X101
(1)  231/     1A3 : ED 52               		SBC HL,DE
(1)  232/     1A5 : 22 5D 5C            LOC_1A5		LD (CH_ADD),HL
(1)  233/     1A8 : CD C7 01            LOC_1A8		CALL CP_0D_OR_80
(1)  234/     1AB : CA D3 01            LOC_1AB		JP Z,END_COMAND
(1)  235/     1AE : FE EA               		CP 0XEA			;REM
(1)  236/     1B0 : 23                  		INC HL
(1)  237/     1B1 : 20 F5               		JR NZ,LOC_1A8
(1)  238/     1B3 : CD C7 01            		CALL CP_0D_OR_80
(1)  239/     1B6 : 28 F3               		JR Z,LOC_1AB
(1)  240/     1B8 : FE 3A               		CP ":"
(1)  241/     1BA : C2 D3 01            		JP NZ,END_COMAND
(1)  242/     1BD : 23                  		INC HL
(1)  243/     1BE : CD 48 30            		CALL SAE2_HL_
(1)  244/     1C1 : 2A 11 5D            		LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1)  245/     1C4 : C3 0A 03            		JP LOC_30A
(1)  246/     1C7 :                     
(1)  247/     1C7 : C3 20 0F            CP_0D_OR_80	JP READ_BYTE_HL_	;DCU
(1)  248/     1CA :                     					;LD A,(HL)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 15 - 11/17/2013 22:45:09


(1)  249/     1CA :                     					;CP 0X0D
(1)  250/     1CA : C8                  		RET Z
(1)  251/     1CB : FE 80               		CP 0X80
(1)  252/     1CD : C8                  		RET Z
(1)  253/     1CE : B7                  		OR A
(1)  254/     1CF : C9                  		RET
(1)  255/     1D0 :                     
(1)  256/     1D0 : CD 43 1E            		CALL REWRITE_9SEC
(1)  257/     1D3 :                     ;èéÑèêéÉêÄååÄ áÄÇÖêòÖçàÖ äéåÄçÑçéÉé èêéñÖëëéêÄ
(1)  258/     1D3 : 21 00 00            END_COMAND	LD HL,0
(1)  259/     1D6 : 22 F8 5C            		LD (TRD_5CF8),HL	; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  260/     1D9 : CD E5 20            		CALL DELETE_BUF
(1)  261/     1DC : CD 63 1D            		CALL CLEAR_WORKSPACE
(1)  262/     1DF : 21 17 5D            		LD HL,TRD_5D17		; êàëéÇÄçàÖ áÄëíÄÇäà, Öëãà #AA
(1)  263/     1E2 : 36 AA               		LD (HL),0XAA
(1)  264/     1E4 : 21 1F 5D            		LD HL,TRD_5D1F
(1)  265/     1E7 : 7E                  		LD A,(HL)
(1)  266/     1E8 : B7                  		OR A
(1)  267/     1E9 : 36 00               		LD (HL),0
(1)  268/     1EB : 20 06               		JR NZ,LOC_1F3
(1)  269/     1ED : CD 1C 1E            		CALL DEL_5BYTES
(1)  270/     1F0 : CD 12 02            		CALL FIND_ENDSTR	; èéàëä	äéçñÄ ëíêéäà
(1)  271/     1F3 : ED 7B 1C 5D         LOC_1F3		LD SP,(TRD_5D1C)	; ëéïêÄçÖçàÖ êÖÉàëíêÄ SP
(1)  272/     1F7 : 2A 1A 5D            		LD HL,(TRD_5D1A)	; ÇçìíêÖççàâ ÄÑêÖë áÄÇÖêòÖçàü àçíÖêèêÖíÄíéêÄ äéåÄçÑ
(1)  273/     1FA : ED 4B 0F 5D         		LD BC,(TRD_5D0F)	; çéåÖê	éòàÅäà TR-DOS
(1)  274/     1FE : 06 00               		LD B,0
(1)  275/     200 : E9                  		JP (HL)
(1)  276/     201 :                     
(1)  277/     201 :                     ;DCU (ÇõáõÇÄÖí ë ÄÑêÖëÄ 0X0207)
(1)  278/     201 : CD 32 02            CP_ERROR	CALL RESTORE_SP		; èêéÇÖêäÄ çÄ éòàÅäì
(1)  279/     204 : FD CB 00 7E         		BIT 7,(IY+0)
(1)  280/     208 : C0                  		RET NZ
(1)  281/     209 : 11 C2 5C            		LD DE,TRD_5CC2
(1)  282/     20C : ED 7B 3D 5C         		LD SP,(ERR_SP)
(1)  283/     210 : D5                  		PUSH DE
(1)  284/     211 : C9                  		RET
(1)  285/     212 :                     
(1)  286/     212 :                     ; èéàëä	äéçñÄ ëíêéäà
(1)  287/     212 : CD 8C 1D            FIND_ENDSTR	CALL GET_SYMSTR
(1)  288/     215 : FE 0D               		CP 0X0D
(1)  289/     217 : C8                  		RET Z
(1)  290/     218 : CD 2A 1E            		CALL GET_NEXT_SYM
(1)  291/     21B : 18 F5               		JR FIND_ENDSTR		; èéàëä	äéçñÄ ëíêéäà
(1)  292/     21D :                     
(1)  293/     21D : (MACRO)             		DUPL 0X21D-$,0XFF
(1)  293/     21D :                     DUPL:
(1)  293/     21D : =0H                 $$N             EQU (0X21D-$) / 1024
(1)  293/     21D : =0H                 $$M             EQU (0X21D-$) # 1024
(1)  293/     21D :                                     REPT $$N
(1)  293/     21D :                                     DB 1024 DUP(0XFF)
(1)  293/     21D :                                     ENDM
(1)  293/     21D : =>FALSE                             IF $$M <> 0
(1)  293/     21D :                                     DB $$M DUP(0XFF)
(1)  293/     21D : [293]                               ENDIF
(1)  294/     21D :                     ; ìëíÄçéÇäÄ ëíÖäÄ Ñãü èÖêÖïÇÄíÄ	éòàÅéä
(1)  295/     21D : 2A 3D 5C            MARK_SP		LD HL,(ERR_SP)
(1)  296/     220 : 22 13 5D            		LD (TRD_5D13),HL	; äéèàü	ERR_SP
(1)  297/     223 : 2A 1C 5D            		LD HL,(TRD_5D1C)	; ëéïêÄçÖçàÖ êÖÉàëíêÄ SP
(1)  298/     226 : 2B                  		DEC HL
(1)  299/     227 : 2B                  		DEC HL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 16 - 11/17/2013 22:45:09


(1)  300/     228 : 22 3D 5C            		LD (ERR_SP),HL
(1)  301/     22B : 11 16 3D            		LD DE,LOC_3D16
(1)  302/     22E : 73                  		LD (HL),E
(1)  303/     22F : 23                  		INC HL
(1)  304/     230 : 72                  		LD (HL),D
(1)  305/     231 : C9                  		RET
(1)  306/     232 :                     
(1)  307/     232 :                     ; ÇéëëíÄçéÇãÖçàÖ èÖêÖïÇÄíóàäÄ éòàÅéä
(1)  308/     232 : 2A 13 5D            RESTORE_SP	LD HL,(TRD_5D13)	; äéèàü	ERR_SP
(1)  309/     235 : 22 3D 5C            LOC_0235	LD (ERR_SP),HL
(1)  310/     238 : C9                  		RET
(1)  311/     239 :                     
(1)  312/     239 : 21 00 00            IN_COMMAND_CPU	LD HL,0			; ÇïéÜÑÖçàÖ Ç äéåÄçÑçõâ	èêéñÖëëéê ÑéëÄ
(1)  313/     23C : 22 F7 5C            		LD (TRD_5CF7),HL
(1)  314/     23F : 39                  		ADD HL,SP
(1)  315/     240 : 22 1C 5D            		LD (TRD_5D1C),HL	; ëéïêÄçÖçàÖ êÖÉàëíêÄ SP
(1)  316/     243 : 2B                  		DEC HL
(1)  317/     244 : 2B                  		DEC HL
(1)  318/     245 : F9                  		LD SP,HL
(1)  319/     246 : CD 1D 02            		CALL MARK_SP		; ìëíÄçéÇäÄ ëíÖäÄ Ñãü èÖêÖïÇÄíÄ	éòàÅéä
(1)  320/     249 : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1)  321/     24C : CD 88 1D            		CALL OPEN_CHAN_2	; éíäêõíàÖ äÄçÄãÄ 2
(1)  322/     24F : 21 17 5D            		LD HL,TRD_5D17		; êàëéÇÄçàÖ áÄëíÄÇäà, Öëãà #AA
(1)  323/     252 : 7E                  		LD A,(HL)
(1)  324/     253 : FE AA               		CP 0XAA
(1)  325/     255 : 3E 00               		LD A,0
(1)  326/     257 : 32 0F 5D            		LD (TRD_5D0F),A		; çéåÖê	éòàÅäà TR-DOS
(1)  327/     25A : CA CB 02            		JP Z,COMMAND_CPU
(1)  328/     25D : 36 AA               		LD (HL),0XAA
(1)  329/     25F : 21 60 03            		LD HL,ZASTAVKA		; íÖäëí	áÄëíÄÇäà ÑéëÄ
(1)  330/     262 : DF                  		RST 0X18
(1)  331/     263 : CD 6E 10            		CALL OUT_COLOR_LINE	; êàëéÇÄçàÖ ñÇÖíçõï ãàçàâ áÄëíÄÇäà ÑéëÄ
(1)  332/     266 : 21 2C 0A            		LD HL,TEXT4VIRTDRV	;íÖäëí èêé ÇàêíìÄãúçõâ ÑàëäéÇéÑ
(1)  333/     269 : DF                  		RST 0X18		;èÖóÄíú çÄ ùäêÄçÖ
(1)  334/     26A : CD 1A 33            		CALL PRINT_VIRTDRV
(1)  335/     26D : 3A 81 5C            LOC_271		LD A,(NOT_USED)
(1)  336/     270 : FE AA               		CP 0XAA
(1)  337/     272 : 20 57               		JR NZ,COMMAND_CPU
(1)  338/     274 : (MACRO)             		DUPL 0X027B-$,0
(1)  338/     274 :                     DUPL:
(1)  338/     274 : =0H                 $$N             EQU (0X027B-$) / 1024
(1)  338/     274 : =7H                 $$M             EQU (0X027B-$) # 1024
(1)  338/     274 :                                     REPT $$N
(1)  338/     274 :                                     DB 1024 DUP(0)
(1)  338/     274 :                                     ENDM
(1)  338/     274 : =>TRUE                              IF $$M <> 0
(1)  338/     274 : 00 00 00 00 00 00                   DB $$M DUP(0)
                    00 
(1)  338/     27B : [338]                               ENDIF
(1)  339/     27B : 2A 59 5C            LOC_27B		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1)  340/     27E : 3E 00               		LD A,0
(1)  341/     280 : 32 0E 5D            		LD (TRD_5D0E),A		; #FE-êÄÅéíÄÖí BASIC,àçÄóÖ TR-DOS
(1)  342/     283 : 36 F7               		LD (HL),0XF7
(1)  343/     285 : 23                  		INC HL
(1)  344/     286 : 36 22               		LD (HL),0X22
(1)  345/     288 : 23                  		INC HL
(1)  346/     289 : 36 62               		LD (HL),"b"
(1)  347/     28B : 23                  		INC HL
(1)  348/     28C : 36 6F               		LD (HL),"o"
(1)  349/     28E : 23                  		INC HL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 17 - 11/17/2013 22:45:09


(1)  350/     28F : 36 6F               		LD (HL),"o"
(1)  351/     291 : 23                  		INC HL
(1)  352/     292 : 36 74               		LD (HL),"t"
(1)  353/     294 : 23                  		INC HL
(1)  354/     295 : 36 22               		LD (HL),0X22
(1)  355/     297 : 23                  		INC HL
(1)  356/     298 : 22 5B 5C            		LD (K_CUR),HL
(1)  357/     29B : 36 0D               		LD (HL),0X0D
(1)  358/     29D : 23                  		INC HL
(1)  359/     29E : 36 80               		LD (HL),0X80
(1)  360/     2A0 : 23                  		INC HL
(1)  361/     2A1 : 22 61 5C            		LD (WORKSP),HL
(1)  362/     2A4 : 22 63 5C            		LD (STKBOT),HL
(1)  363/     2A7 : 22 65 5C            		LD (STKEND),HL
(1)  364/     2AA : FD CB 01 DE         		SET 3,(IY+1)
(1)  365/     2AE : 18 3C               		JR GO2RUNBOOT
(1)  366/     2B0 :                     
(1)  367/     2B0 :                     ; èÖêÖçéë 3 ÅÄâí
(1)  368/     2B0 : 06 03               LDI3_HL2DE	LD B,3
(1)  369/     2B2 : 7E                  LOC_2B2		LD A,(HL)
(1)  370/     2B3 : 12                  		LD (DE),A
(1)  371/     2B4 : 23                  		INC HL
(1)  372/     2B5 : 13                  		INC DE
(1)  373/     2B6 : 10 FA               		DJNZ LOC_2B2
(1)  374/     2B8 : C9                  		RET
(1)  375/     2B9 :                     
(1)  376/     2B9 :                     ;FIX
(1)  377/     2B9 :                     ;éëíÄçéÇäÄ åéíéêÄ ÑàëäéÇéÑÄ
(1)  378/     2B9 : 06 20               STOP_MOTOR	LD B,0X20
(1)  379/     2BB : C5                  LOC_2BB		PUSH BC
(1)  380/     2BC : EE 08               		XOR 8
(1)  381/     2BE : D3 FF               		OUT (VG_RW_FF),A
(1)  382/     2C0 : F5                  		PUSH AF
(1)  383/     2C1 : 3E 05               		LD A,5
(1)  384/     2C3 : CD FF 3D            		CALL PAUSE_C_A
(1)  385/     2C6 : F1                  		POP AF
(1)  386/     2C7 : C1                  		POP BC
(1)  387/     2C8 : 10 F1               		DJNZ LOC_2BB
(1)  388/     2CA : C9                  		RET
(1)  389/     2CB :                     
(1)  390/     2CB :                     ;äéåÄçÑçõâ èêéñÖëëéê DOS
(1)  391/     2CB : 2A 1C 5D            COMMAND_CPU	LD HL,(TRD_5D1C)	; ëéïêÄçÖçàÖ êÖÉàëíêÄ SP
(1)  392/     2CE : 2B                  		DEC HL
(1)  393/     2CF : 2B                  		DEC HL
(1)  394/     2D0 : F9                  		LD SP,HL
(1)  395/     2D1 : CD 83 1D            		CALL OPEN_CHAN_0	; éíäêõíàÖ äÄçÄãÄ 0
(1)  396/     2D4 : 3A 16 5D            		LD A,(0X5D16)
(1)  397/     2D7 : F6 03               		OR 3
(1)  398/     2D9 : CD B9 02            		CALL STOP_MOTOR
(1)  399/     2DC : 3A 16 5D            		LD A,(TRD_5D16)
(1)  400/     2DF : CD B9 02            		CALL STOP_MOTOR
(1)  401/     2E2 : AF                  		XOR A
(1)  402/     2E3 : 32 15 5D            		LD (TRD_5D15),A		; Öëãà 0,èÖóÄíÄíú òÄèäì	TR-DOS.àçÄóÖ çÖ	èÖóÄíÄíú
(1)  403/     2E6 : CD 35 21            		CALL GET_COMMAND	; èêàçüíàÖ à éÅêÄÅéíäÄ äéåÄçÑ
(1)  404/     2E9 : CD 32 30            		CALL SAE2E_LINE
(1)  405/     2EC : CD 9F 1D            GO2RUNBOOT	CALL CLEAR_DOWN_SCR	; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1)  406/     2EF : 21 CB 02            		LD HL,COMMAND_CPU
(1)  407/     2F2 : 22 1A 5D            		LD (TRD_5D1A),HL	; ÇçìíêÖççàâ ÄÑêÖë áÄÇÖêòÖçàü àçíÖêèêÖíÄíéêÄ äéåÄçÑ
(1)  408/     2F5 : AF                  		XOR A
(1)  409/     2F6 : 32 0F 5D            		LD (TRD_5D0F),A		; çéåÖê	éòàÅäà TR-DOS
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 18 - 11/17/2013 22:45:09


(1)  410/     2F9 : 32 EF 5C            		LD (TRD_5CEF),A
(1)  411/     2FC : 2A 59 5C            		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1)  412/     2FF : E5                  		PUSH HL
(1)  413/     300 : 11 20 5D            		LD DE,TRD_5D20		; Ñãü ëéïêÄçÖçàü 3 ëàåÇéãéÇ ÇÇÖÑÖçéâ ëíêéäà
(1)  414/     303 : CD B0 02            		CALL LDI3_HL2DE		; èÖêÖçéë 3 ÅÄâí
(1)  415/     306 : E1                  		POP HL
(1)  416/     307 : 22 11 5D            		LD (TRD_5D11),HL	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1)  417/     30A : 7E                  LOC_30A		LD A,(HL)
(1)  418/     30B : 47                  		LD B,A
(1)  419/     30C : E6 80               		AND 0X80
(1)  420/     30E : 78                  		LD A,B
(1)  421/     30F : 28 09               		JR Z,LOC_31A
(1)  422/     311 : FE FE               		CP 0XFE
(1)  423/     313 : 28 05               		JR Z,LOC_31A
(1)  424/     315 : F5                  		PUSH AF
(1)  425/     316 : CD C8 3D            		CALL ACTIV_DEF_DSK	; ÇõÅéê	ÑàëäéÇéÑÄ èé ìåéãóÄçàû
(1)  426/     319 : F1                  		POP AF
(1)  427/     31A : 21 F3 2F            LOC_31A		LD HL,CODE_BYTE_COM	; íÄÅãàñÄ ÅÖâëàä äéåÄçÑ Ñãü TR-DOS
(1)  428/     31D : 2B                  		DEC HL
(1)  429/     31E : 0E 00               		LD C,0
(1)  430/     320 : 0C                  LOC_320		INC C
(1)  431/     321 : 57                  		LD D,A
(1)  432/     322 : 3E 15               		LD A,LOW (ECODE_BYTE_COM-CODE_BYTE_COM);0X15
(1)  433/     324 : B9                  		CP C
(1)  434/     325 : DA D3 01            		JP C,END_COMAND
(1)  435/     328 : 7A                  		LD A,D
(1)  436/     329 : 23                  		INC HL
(1)  437/     32A : BE                  		CP (HL)
(1)  438/     32B : 20 F3               		JR NZ,LOC_320
(1)  439/     32D : FE FE               		CP 0XFE
(1)  440/     32F : C4 4A 29            		CALL NZ,CREATE_BUF	; ëéáÑÄçàÖ ÅìîÖêÄ
(1)  441/     332 : 3E 09               		LD A,9
(1)  442/     334 : 32 06 5D            		LD (TRD_5D06),A		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1)  443/     337 : AF                  		XOR A
(1)  444/     338 : 32 0F 5D            		LD (TRD_5D0F),A		; çéåÖê	éòàÅäà TR-DOS
(1)  445/     33B : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1)  446/     33E : 32 10 5D            		LD (TRD_5D10),A		; ëíÄêòàâ ÅÄâí éòàÅäà
(1)  447/     341 : 21 3B 5C            		LD HL,FLAGS
(1)  448/     344 : CB BE               		RES 7,(HL)
(1)  449/     346 : 06 00               		LD B,0
(1)  450/     348 : 21 08 30            		LD HL,SPIS_ADR_COM	; íÄÅãàñÄ ÄÑêÖëéÇ àëèéãçÖçàü äéåÄçÑ
(1)  451/     34B : 0D                  		DEC C
(1)  452/     34C : CB 21               		SLA C
(1)  453/     34E : 09                  		ADD HL,BC
(1)  454/     34F : 5E                  		LD E,(HL)
(1)  455/     350 : 23                  		INC HL
(1)  456/     351 : 56                  		LD D,(HL)
(1)  457/     352 : EB                  		EX DE,HL
(1)  458/     353 : E5                  		PUSH HL
(1)  459/     354 : 11 59 03            		LD DE,END_COM
(1)  460/     357 : D5                  		PUSH DE
(1)  461/     358 : E9                  		JP (HL)
(1)  462/     359 :                     
(1)  463/     359 : 21 3B 5C            END_COM		LD HL,FLAGS
(1)  464/     35C : CB FE               		SET 7,(HL)
(1)  465/     35E : E1                  		POP HL
(1)  466/     35F : E9                  		JP (HL)
(1)  467/     360 :                     
(1)  468/     360 :                     ;FIX
(1)  469/     360 :                     ;íÖäëí áÄëíÄÇäà ÑéëÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 19 - 11/17/2013 22:45:09


(1)  470/     360 : 16 01 06            ZASTAVKA	DB 0X16,0X01,0X06
(1)  471/     363 : =36CH               ZASTAVKA_VER	EQU $+9
(1)  472/     363 : 20 45 56 4F 2D 44   		DB NUMBER_VERS
                    4F 53 20 56 65 72 
                    20 30 2E 33 35 20 
                    20 
(1)  473/     376 : 0D 0D 7F            		DB 0X0D,0X0D,0X7F
(1)  474/     379 :                     		;  12345678901234567890123456789012
(1)  475/     379 : 20 32 30 31 30 20   		DB " 2010 Created for PentEvo 4MB "
                    43 72 65 61 74 65 
                    64 20 66 6F 72 20 
                    50 65 6E 74 45 76 
                    6F 20 34 4D 42 20 
(1)  476/     397 : 16 05 0C            		DB 0X16,ZASTV_Y-2,0X0C
(1)  477/     39A : 4E 65 64 6F 50 43   		DB "NedoPC"
(1)  478/     3A0 : 16 07 07            		DB 0X16,ZASTV_Y,ZASTV_X
(1)  479/     3A3 : =>TRUE              		IF EMU3D2F=1
(1)  480/     3A3 : (MACRO)             		DC "EMUL 3D2F"
(1)  480/     3A3 : =>TRUE                              IF STRLEN("EMUL 3D2F")>1
(1)  480/     3A3 : 45 4D 55 4C 20 33                   DB SUBSTR("EMUL 3D2F",0,STRLEN("EMUL 3D2F")-1)
                    44 32 
(1)  480/     3AB : [480]                               ENDIF
(1)  480/     3AB : =>TRUE                              IF STRLEN("EMUL 3D2F")>0
(1)  480/     3AB : C6                                  DB CHARFROMSTR("EMUL 3D2F",STRLEN("EMUL 3D2F")-1)|80H
(1)  480/     3AC : [480]                               ENDIF
(1)  481/     3AC : =>FALSE             		ELSE
(1)  482/     3AC :                     		DC "EMUL 3D13"
(1)  483/     3AC : [479]               		ENDIF
(1)  484/     3AC :                     
(1)  485/     3AC : CD FD 03            END_OUT_DIR	CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1)  486/     3AF : CD 80 3D            		CALL PRINT_0D
(1)  487/     3B2 : CD 80 3D            		CALL PRINT_0D
(1)  488/     3B5 : ED 4B 0A 5E         LOC_3B5		LD BC,(TRD_5E0A)
(1)  489/     3B9 : CD A9 1D            		CALL PRINT_CHISLO	; èÖóÄíú óàëãÄ
(1)  490/     3BC : 21 D2 29            		LD HL,TXT_FREE_
(1)  491/     3BF : DF                  		RST 0X18
(1)  492/     3C0 : C3 D3 01            GOTO_END	JP END_COMAND
(1)  493/     3C3 :                     
(1)  494/     3C3 :                     ; èÖóÄíú ëééÅôÖçàü éÅ éòàÅäÖ
(1)  495/     3C3 : F5                  PRINT_ERROR	PUSH AF
(1)  496/     3C4 : 3A 0E 5D            		LD A,(TRD_5D0E)		; #FE-êÄÅéíÄÖí BASIC,àçÄóÖ TR-DOS
(1)  497/     3C7 : FE FE               		CP 0XFE
(1)  498/     3C9 : 20 02               		JR NZ,CP4PRINT_HEAD
(1)  499/     3CB : F1                  		POP AF
(1)  500/     3CC : C9                  		RET
(1)  501/     3CD :                     
(1)  502/     3CD : F1                  CP4PRINT_HEAD	POP AF
(1)  503/     3CE : 32 0F 5D            		LD (TRD_5D0F),A		; çéåÖê	éòàÅäà TR-DOS
(1)  504/     3D1 : 3A 15 5D            		LD A,(TRD_5D15)		; Öëãà 0,èÖóÄíÄíú òÄèäì	TR-DOS.àçÄóÖ çÖ	èÖóÄíÄíú
(1)  505/     3D4 : B7                  		OR A
(1)  506/     3D5 : CC 07 27            		CALL Z,PRINT_MSG	; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1)  507/     3D8 : C9                  		RET
(1)  508/     3D9 :                     
(1)  509/     3D9 : 21 28 2A            ERR_NOFILES	LD HL,TXT_NOFILES_
(1)  510/     3DC : 3E 01               		LD A,1
(1)  511/     3DE : C3 4A 1C            		JP PRINT_TXTERR
(1)  512/     3E1 :                     
(1)  513/     3E1 : 21 66 27            ERR_OK		LD HL,TXT_OK_		; "O.K."
(1)  514/     3E4 : AF                  		XOR A
(1)  515/     3E5 : C3 4A 1C            		JP PRINT_TXTERR
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 20 - 11/17/2013 22:45:09


(1)  516/     3E8 :                     
(1)  517/     3E8 :                     ; óíÖçàÖ ëÖäíéêÄ 0 äÄíÄãéÉÄ
(1)  518/     3E8 : AF                  RD_0SEC2BUF	XOR A
(1)  519/     3E9 : 32 CC 5C            		LD (TRD_5CCC),A		; íÖäìôàâ çéåÖê	ëÖäíéêÄ	èêà óíÖçàà äÄíÄãéÉÄ
(1)  520/     3EC :                     ; óíÖçàÖ ëÖäíéêÄ äÄíÄãéÉÄ èé çéåÖêì
(1)  521/     3EC : ED 5B CC 5C         READ_NUM_SEC	LD DE,(TRD_5CCC)	; íÖäìôàâ çéåÖê	ëÖäíéêÄ	èêà óíÖçàà äÄíÄãéÉÄ
(1)  522/     3F0 : 16 00               		LD D,0
(1)  523/     3F2 : CD 4A 29            READ_SEC4NEM	CALL CREATE_BUF		; ëéáÑÄçàÖ ÅìîÖêÄ
(1)  524/     3F5 : 21 25 5D            		LD HL,TRD_5D25
(1)  525/     3F8 : 06 01               		LD B,1
(1)  526/     3FA : C3 3D 1E            		JP COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1)  527/     3FD :                     
(1)  528/     3FD :                     ; óíÖçàÖ 9 ëÖäíéêÄ
(1)  529/     3FD : CD 4A 29            READ_9SEC	CALL CREATE_BUF		; ëéáÑÄçàÖ ÅìîÖêÄ
(1)  530/     400 : 11 08 00            		LD DE,8
(1)  531/     403 : 18 ED               		JR READ_SEC4NEM
(1)  532/     405 :                     
(1)  533/     405 :                     ;çÄëíêéâäÄ çÄ ÑàëäÖíì
(1)  534/     405 : CD FD 03            COM_18		CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1)  535/     408 : 3A 0C 5E            		LD A,(TRD_5E0C)
(1)  536/     40B : FE 10               		CP 0X10
(1)  537/     40D : 28 06               		JR Z,CP_TYPE_DSK
(1)  538/     40F : 21 E2 29            DISCERROR_	LD HL,TXT_DISCERROR_
(1)  539/     412 : C3 FD 31            		JP DISCERROR_7
(1)  540/     415 :                     
(1)  541/     415 : CD 11 3E            CP_TYPE_DSK	CALL GET_TYPE_DISK
(1)  542/     418 : CB 86               		RES 0,(HL)
(1)  543/     41A : CB 8E               		RES 1,(HL)
(1)  544/     41C : 3A 08 5E            		LD A,(TRD_5E08)
(1)  545/     41F : CB 47               		BIT 0,A
(1)  546/     421 : 20 02               		JR NZ, LOC_425
(1)  547/     423 : CB C6               		SET 0,(HL)
(1)  548/     425 : CB 5F               LOC_425		BIT 3,A
(1)  549/     427 : C0                  		RET NZ
(1)  550/     428 : CB CE               		SET 1,(HL)
(1)  551/     42A : C9                  		RET
(1)  552/     42B :                     
(1)  553/     42B : 2A 11 5D            CP_SECOND_SYM	LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1)  554/     42E : 23                  		INC HL
(1)  555/     42F : 7E                  		LD A,(HL)
(1)  556/     430 : FE 0D               		CP 0X0D
(1)  557/     432 : C9                  		RET
(1)  558/     433 :                     
(1)  559/     433 : CD 2B 04            CAT		CALL CP_SECOND_SYM	; ÇõèéãçÖçàÖ äéåÄçÑõ CAT
(1)  560/     436 : 01 02 00            		LD BC,2
(1)  561/     439 : ED 43 DB 5C         		LD (TRD_5CDB),BC
(1)  562/     43D : 28 2B               		JR Z,LOC_46A
(1)  563/     43F : FE 23               		CP "#"
(1)  564/     441 : 20 1A               		JR NZ,CODES
(1)  565/     443 : 22 5D 5C            		LD (CH_ADD),HL
(1)  566/     446 : CD 0B 1E            		CALL SET_NUM_CHAN
(1)  567/     449 : CD 8C 1D            		CALL GET_SYMSTR
(1)  568/     44C : FE 0D               		CP 0X0D
(1)  569/     44E : 28 1A               		JR Z,LOC_46A
(1)  570/     450 : FE 2C               		CP ","
(1)  571/     452 : C2 1A 1D            		JP NZ,SINTAX_ERROR
(1)  572/     455 : CD 2A 1E            		CALL GET_NEXT_SYM
(1)  573/     458 : CD BD 1D            		CALL PUT_NUMDSK_STK
(1)  574/     45B : 18 03               		JR LOC_460
(1)  575/     45D :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 21 - 11/17/2013 22:45:09


(1)  576/     45D : CD DF 1D            CODES		CALL SET_AND_PUT
(1)  577/     460 : CD 75 1D            LOC_460		CALL EXIT_IF_SINTAX
(1)  578/     463 : CD B5 1D            		CALL GET_STKBOT_
(1)  579/     466 : EB                  		EX DE,HL
(1)  580/     467 : CD 81 1C            		CALL SETUP_DSK
(1)  581/     46A : CD 75 1D            LOC_46A		CALL EXIT_IF_SINTAX
(1)  582/     46D : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  583/     470 : 32 F9 5C            		LD (TRD_5CF9),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  584/     473 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1)  585/     476 : 3A DB 5C            		LD A,(TRD_5CDB)
(1)  586/     479 : FE 02               LOC_479		CP 2
(1)  587/     47B : F5                  		PUSH AF
(1)  588/     47C : CC 97 1D            		CALL Z,CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1)  589/     47F : F1                  		POP AF
(1)  590/     480 : FE 11               		CP 0X11
(1)  591/     482 : D2 1A 1D            		JP NC,SINTAX_ERROR
(1)  592/     485 : CD 84 1D            		CALL OPENSTREAM
(1)  593/     488 : 3E FF               		LD A,0XFF
(1)  594/     48A : 32 F8 5C            		LD (TRD_5CF8),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  595/     48D : 21 F7 29            		LD HL,TXT_TITLE_	; "TITLE:"
(1)  596/     490 : DF                  		RST 0X18
(1)  597/     491 : 21 1A 5E            		LD HL,TRD_5E1A
(1)  598/     494 : DF                  		RST 0X18
(1)  599/     495 : CD 80 3D            		CALL PRINT_0D
(1)  600/     498 : 3A 09 5E            		LD A,(TRD_5E09)
(1)  601/     49B : 21 19 5E            		LD HL,TRD_5E19
(1)  602/     49E : 96                  		SUB (HL)
(1)  603/     49F : E5                  		PUSH HL
(1)  604/     4A0 : CD A3 1D            		CALL PRINT_CHISLO_A_
(1)  605/     4A3 : 21 2B 2A            		LD HL,TXT_NOFILES+2
(1)  606/     4A6 : DF                  		RST 0X18
(1)  607/     4A7 : E1                  		POP HL
(1)  608/     4A8 : 4E                  		LD C,(HL)
(1)  609/     4A9 : CD A4 1D            		CALL CONV2_2BYTES
(1)  610/     4AC : 21 1D 2A            		LD HL,TXT_DELFILE_	; " DEL. FILE"
(1)  611/     4AF : DF                  		RST 0X18
(1)  612/     4B0 : CD E8 03            		CALL RD_0SEC2BUF	; óíÖçàÖ ëÖäíéêÄ 0 äÄíÄãéÉÄ
(1)  613/     4B3 : 21 25 5D            		LD HL,TRD_5D25
(1)  614/     4B6 : CD F6 04            LOC_4B6		CALL CP_END_DIR		; èêéÇÖêäÄ éäéçóÄçàü ÑàêÖäíéêàà
(1)  615/     4B9 : CD 80 3D            		CALL PRINT_0D
(1)  616/     4BC : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  617/     4BF : C6 41               		ADD A,"A"
(1)  618/     4C1 : D7                  		RST 0X10
(1)  619/     4C2 : 06 02               		LD B,2
(1)  620/     4C4 : CD F6 04            LOC_4C4		CALL CP_END_DIR		; èêéÇÖêäÄ éäéçóÄçàü ÑàêÖäíéêàà
(1)  621/     4C7 : C5                  		PUSH BC
(1)  622/     4C8 : 3E 3A               		LD A,":"
(1)  623/     4CA : D7                  		RST 0X10
(1)  624/     4CB : E5                  		PUSH HL
(1)  625/     4CC : CD 38 29            		CALL PRINT_FILENAME	; èÖóÄíú àåÖçà îÄâãÄ
(1)  626/     4CF : 01 0D 00            		LD BC,0X0D
(1)  627/     4D2 : E1                  		POP HL
(1)  628/     4D3 : E5                  		PUSH HL
(1)  629/     4D4 : 09                  		ADD HL,BC
(1)  630/     4D5 : 4E                  		LD C,(HL)
(1)  631/     4D6 : C5                  		PUSH BC
(1)  632/     4D7 : 79                  		LD A,C
(1)  633/     4D8 : 06 02               		LD B,2
(1)  634/     4DA : FE 0A               		CP 0X0A
(1)  635/     4DC : 38 01               		JR C,LOC_4DF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 22 - 11/17/2013 22:45:09


(1)  636/     4DE : 05                  		DEC B
(1)  637/     4DF : FE 64               LOC_4DF		CP 0X64
(1)  638/     4E1 : 30 05               		JR NC,LOC_4E8
(1)  639/     4E3 : 3E 20               LOC_4E3		LD A," "
(1)  640/     4E5 : D7                  		RST 0X10
(1)  641/     4E6 : 10 FB               		DJNZ LOC_4E3
(1)  642/     4E8 : C1                  LOC_4E8		POP BC
(1)  643/     4E9 : CD A9 1D            		CALL PRINT_CHISLO	; èÖóÄíú óàëãÄ
(1)  644/     4EC : E1                  		POP HL
(1)  645/     4ED : C1                  		POP BC
(1)  646/     4EE : 11 10 00            		LD DE,0X10
(1)  647/     4F1 : 19                  		ADD HL,DE
(1)  648/     4F2 : 10 D0               		DJNZ LOC_4C4
(1)  649/     4F4 : 18 C0               		JR LOC_4B6
(1)  650/     4F6 :                     
(1)  651/     4F6 :                     ; èêéÇÖêäÄ éäéçóÄçàü ÑàêÖäíéêàà
(1)  652/     4F6 : E5                  CP_END_DIR	PUSH HL
(1)  653/     4F7 : C5                  		PUSH BC
(1)  654/     4F8 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  655/     4FB : 21 F6 5C            		LD HL,TRD_5CF6		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  656/     4FE : BE                  		CP (HL)
(1)  657/     4FF : C4 CB 3D            		CALL NZ,COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  658/     502 : C1                  		POP BC
(1)  659/     503 : E1                  		POP HL
(1)  660/     504 : C3 C6 2F            		JP CP_END_CAT
(1)  661/     507 :                     
(1)  662/     507 : 11 10 00            ADD_10		LD DE,0X10
(1)  663/     50A : 19                  		ADD HL,DE
(1)  664/     50B : C9                  		RET
(1)  665/     50C :                     
(1)  666/     50C : E5                  CP_END_BUF	PUSH HL
(1)  667/     50D : C5                  		PUSH BC
(1)  668/     50E : 01 DB A1            		LD BC,0XA1DB
(1)  669/     511 : 09                  		ADD HL,BC
(1)  670/     512 : 38 03               		JR C,READ_SEC2BUF
(1)  671/     514 : C1                  		POP BC
(1)  672/     515 : E1                  		POP HL
(1)  673/     516 : C9                  		RET
(1)  674/     517 :                     
(1)  675/     517 : 21 CC 5C            READ_SEC2BUF	LD HL,TRD_5CCC		; íÖäìôàâ çéåÖê	ëÖäíéêÄ	èêà óíÖçàà äÄíÄãéÉÄ
(1)  676/     51A : 34                  		INC (HL)
(1)  677/     51B : CD EC 03            		CALL READ_NUM_SEC	; óíÖçàÖ ëÖäíéêÄ äÄíÄãéÉÄ èé çéåÖêì
(1)  678/     51E : C1                  		POP BC
(1)  679/     51F : E1                  		POP HL
(1)  680/     520 : 21 25 5D            		LD HL,TRD_5D25
(1)  681/     523 : C9                  		RET
(1)  682/     524 :                     
(1)  683/     524 : E6 DF               NUMDSK2BYTE	AND 0XDF
(1)  684/     526 : DE 41               		SBC A,"A"
(1)  685/     528 : DA 1A 1D            		JP C,SINTAX_ERROR
(1)  686/     52B : FE 04               		CP 4
(1)  687/     52D : D2 1A 1D            		JP NC,SINTAX_ERROR
(1)  688/     530 : C9                  		RET
(1)  689/     531 :                     
(1)  690/     531 : CD B5 1D            CP_ON_STKBOT	CALL GET_STKBOT_
(1)  691/     534 : 79                  		LD A,C
(1)  692/     535 : B0                  		OR B
(1)  693/     536 : CA 1A 1D            		JP Z,SINTAX_ERROR
(1)  694/     539 : C9                  		RET
(1)  695/     53A :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 23 - 11/17/2013 22:45:09


(1)  696/     53A : CD CD 1D            NEW		CALL INPUT_2STR2STKBOT	; ÇõèéãçÖçàÖ äéåÄçÑõ NEW
(1)  697/     53D : CD 75 1D            		CALL EXIT_IF_SINTAX
(1)  698/     540 : CD 2E 10            		CALL INP_EXTFILENAME	; èêàÖå êÄëòàêÖçàü îÄâãÄ
(1)  699/     543 : CD B0 1C            		CALL SET_CP_FILENAME
(1)  700/     546 : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  701/     549 : 32 F8 5C            		LD (TRD_5CF8),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  702/     54C : C2 D9 03            		JP NZ,ERR_NOFILES
(1)  703/     54F : C5                  		PUSH BC
(1)  704/     550 : CD 5D 16            		CALL RDHEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1)  705/     553 : CD B0 1C            		CALL SET_CP_FILENAME
(1)  706/     556 : F5                  		PUSH AF
(1)  707/     557 : 3A F8 5C            		LD A,(TRD_5CF8)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  708/     55A : 21 F6 5C            		LD HL,TRD_5CF6		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  709/     55D : BE                  		CP (HL)
(1)  710/     55E : C2 1A 1D            		JP NZ,SINTAX_ERROR
(1)  711/     561 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1)  712/     564 : F1                  		POP AF
(1)  713/     565 : CA 50 1C            		JP Z,FILE_EXISTS
(1)  714/     568 : C1                  		POP BC
(1)  715/     569 : CD 6B 16            LOC_569		CALL SET_HEAD_FILENAME
(1)  716/     56C : CD 43 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1)  717/     56F : C3 E1 03            		JP ERR_OK
(1)  718/     572 :                     
(1)  719/     572 : 3A 10 5D            CP_HIGH_ERR	LD A,(TRD_5D10)		; ëíÄêòàâ ÅÄâí éòàÅäà
(1)  720/     575 : B7                  		OR A
(1)  721/     576 : C9                  		RET
(1)  722/     577 :                     
(1)  723/     577 : 3A 07 5D            CP_ERASED_FILES	LD A,(TRD_5D07)		; ëóÖíóàä ìÑÄãÖççõï îÄâãéÇ
(1)  724/     57A : B7                  		OR A
(1)  725/     57B : CA D9 03            		JP Z,ERR_NOFILES
(1)  726/     57E : C3 E1 03            		JP ERR_OK
(1)  727/     581 :                     
(1)  728/     581 :                     ; áÄèêéë çÄ ìÑÄãÖçàÖ îÄâãÄ
(1)  729/     581 : C5                  GET_OVERWRITE_	PUSH BC
(1)  730/     582 : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1)  731/     585 : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  732/     588 : C6 41               		ADD A,"A"
(1)  733/     58A : CD 82 3D            		CALL PRINT_A_
(1)  734/     58D : 3E 3A               		LD A,":"
(1)  735/     58F : CD 82 3D            		CALL PRINT_A_
(1)  736/     592 : 21 DD 5C            		LD HL,TRD_5CDD		; àåü îÄâãÄ
(1)  737/     595 : CD 38 29            		CALL PRINT_FILENAME	; èÖóÄíú àåÖçà îÄâãÄ
(1)  738/     598 : 21 20 28            		LD HL,TXT_FILEEXIST	; "FILE EXISTS"
(1)  739/     59B : CD 07 27            		CALL PRINT_MSG		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1)  740/     59E : CD 52 10            		CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1)  741/     5A1 : FE 59               		CP "Y"
(1)  742/     5A3 : F5                  		PUSH AF
(1)  743/     5A4 : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1)  744/     5A7 : F1                  		POP AF
(1)  745/     5A8 : C1                  		POP BC
(1)  746/     5A9 : C0                  		RET NZ
(1)  747/     5AA : C5                  		PUSH BC
(1)  748/     5AB : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1)  749/     5AE : C1                  		POP BC
(1)  750/     5AF : CD 81 07            		CALL ERASE_FILE		; ìÑÄãÖçàÖ îÄâãÄ
(1)  751/     5B2 : AF                  		XOR A
(1)  752/     5B3 : C9                  		RET
(1)  753/     5B4 :                     
(1)  754/     5B4 : 3A E5 5C            CP_EXT_SHARP	LD A,(TRD_5CE5)		; êÄëòàêÖçàÖ îÄâãÄ
(1)  755/     5B7 : FE 23               		CP "#"
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 24 - 11/17/2013 22:45:09


(1)  756/     5B9 : 28 02               		JR Z,FIND_FILENAME0A
(1)  757/     5BB : AF                  		XOR A
(1)  758/     5BC : C9                  		RET
(1)  759/     5BD :                     
(1)  760/     5BD : 3E 0A               FIND_FILENAME0A	LD A,0X0A
(1)  761/     5BF : 32 06 5D            		LD (TRD_5D06),A		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1)  762/     5C2 : CD B3 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1)  763/     5C5 : 3E 09               		LD A,9
(1)  764/     5C7 : 32 06 5D            		LD (TRD_5D06),A		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1)  765/     5CA : C9                  		RET
(1)  766/     5CB :                     
(1)  767/     5CB : 3A DD 5C            COPY_STAR_STAR	LD A,(TRD_5CDD)		; ÇõèéãçÖçàÖ äéåÄçÑõ COPY *,*
(1)  768/     5CE : FE 2A               		CP "*"
(1)  769/     5D0 : C2 D9 03            		JP NZ,ERR_NOFILES
(1)  770/     5D3 : CD B5 1D            		CALL GET_STKBOT_
(1)  771/     5D6 : EB                  		EX DE,HL
(1)  772/     5D7 : CD 81 1C            		CALL SETUP_DSK
(1)  773/     5DA : 7E                  		LD A,(HL)
(1)  774/     5DB : FE 2A               		CP "*"
(1)  775/     5DD : C2 1A 1D            		JP NZ,SINTAX_ERROR
(1)  776/     5E0 : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  777/     5E3 : 32 F9 5C            		LD (TRD_5CF9),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  778/     5E6 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  779/     5E9 : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  780/     5EC : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1)  781/     5EF : 3E FF               		LD A,0XFF
(1)  782/     5F1 : 32 0D 5D            		LD (TRD_5D0D),A
(1)  783/     5F4 : 3A F8 5C            LOC_5F4		LD A,(TRD_5CF8)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  784/     5F7 : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  785/     5FA : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1)  786/     5FD : 3A 0D 5D            		LD A,(TRD_5D0D)
(1)  787/     600 : 3C                  		INC A
(1)  788/     601 : 32 0D 5D            		LD (TRD_5D0D),A
(1)  789/     604 : 4F                  		LD C,A
(1)  790/     605 : CD 5D 16            		CALL RDHEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1)  791/     608 : 3A DD 5C            		LD A,(TRD_5CDD)		; àåü îÄâãÄ
(1)  792/     60B : FE 00               		CP 0
(1)  793/     60D : CA E1 03            		JP Z,ERR_OK
(1)  794/     610 : FE 01               		CP 1
(1)  795/     612 : 28 E0               		JR Z,LOC_5F4
(1)  796/     614 : 21 E6 5C            		LD HL,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1)  797/     617 : 11 ED 5C            		LD DE,TRD_5CED		; çéåÖê	èÖêÇéÉé	íêÖäÄ îÄâãÄ
(1)  798/     61A : 01 07 00            		LD BC,7
(1)  799/     61D : ED B0               		LDIR
(1)  800/     61F : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  801/     622 : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  802/     625 : CD B3 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1)  803/     628 : 20 0A               		JR NZ,LOC_634
(1)  804/     62A : CD B4 05            		CALL CP_EXT_SHARP
(1)  805/     62D : 20 05               		JR NZ,LOC_634
(1)  806/     62F : CD 81 05            		CALL GET_OVERWRITE_	; áÄèêéë çÄ ìÑÄãÖçàÖ îÄâãÄ
(1)  807/     632 : 20 C0               		JR NZ, LOC_5F4
(1)  808/     634 : CD 3C 06            LOC_634		CALL COPY_FILE_ON2DSK	; äéèàêéÇÄçàÖ îÄâãéÇ çÄ 2 ÑàëäéÇéÑÄï
(1)  809/     637 : CD 43 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1)  810/     63A : 18 B8               		JR LOC_5F4
(1)  811/     63C :                     
(1)  812/     63C :                     ; äéèàêéÇÄçàÖ îÄâãéÇ çÄ	2 ÑàëäéÇéÑÄï
(1)  813/     63C :                     COPY_FILE_ON2DSK	
(1)  814/     63C : CD FD 03            		CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1)  815/     63F : 3A 09 5E            		LD A,(TRD_5E09)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 25 - 11/17/2013 22:45:09


(1)  816/     642 : FE 80               		CP 0X80
(1)  817/     644 : CA 23 27            		JP Z,ERR_DIRFULL	;Ç ÑàêÖäíéêàà åÖëíÄ çÖíì 
(1)  818/     647 : 21 ED 5C            		LD HL,TRD_5CED		; çéåÖê	èÖêÇéÉé	íêÖäÄ îÄâãÄ
(1)  819/     64A : 11 E6 5C            		LD DE,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1)  820/     64D : 01 07 00            		LD BC,7
(1)  821/     650 : ED B0               		LDIR
(1)  822/     652 : ED 5B EA 5C         		LD DE,(TRD_5CEA)		; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1)  823/     656 : 16 00               		LD D,0
(1)  824/     658 : B7                  		OR A
(1)  825/     659 : 2A 0A 5E            		LD HL,(TRD_5E0A)
(1)  826/     65C : ED 52               		SBC HL,DE
(1)  827/     65E : DA 45 1C            		JP C,LOC_1C45
(1)  828/     661 : 22 0A 5E            		LD (TRD_5E0A),HL
(1)  829/     664 : 2A 06 5E            		LD HL,(TRD_5E06)
(1)  830/     667 : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1)  831/     66A : E5                  		PUSH HL
(1)  832/     66B : CD 2F 07            		CALL COPY_FILE		; äéèàêéÇÄçàÖ îÄâãÄ çÄ 2 ÑàëäéÇéÑÄï
(1)  833/     66E : E1                  		POP HL
(1)  834/     66F : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1)  835/     672 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1)  836/     675 : 22 06 5E            		LD (TRD_5E06),HL
(1)  837/     678 : 21 09 5E            		LD HL,TRD_5E09
(1)  838/     67B : 34                  		INC (HL)
(1)  839/     67C : 4E                  		LD C,(HL)
(1)  840/     67D : 0D                  		DEC C
(1)  841/     67E : 06 00               		LD B,0
(1)  842/     680 : C5                  		PUSH BC
(1)  843/     681 : 11 09 00            		LD DE,9
(1)  844/     684 : ED 53 F4 5C         		LD (TRD_5CF4),DE
(1)  845/     688 : CD 43 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1)  846/     68B : C1                  		POP BC
(1)  847/     68C : CD 6B 16            		CALL SET_HEAD_FILENAME
(1)  848/     68F : C9                  		RET
(1)  849/     690 :                     
(1)  850/     690 : 2A 11 5D            COPY		LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1)  851/     693 : 23                  		INC HL
(1)  852/     694 : 7E                  		LD A,(HL)
(1)  853/     695 : E6 DF               		AND 0XDF
(1)  854/     697 : FE 53               		CP "S"
(1)  855/     699 : CA 60 13            		JP Z,COPY_S
(1)  856/     69C : FE 42               		CP "B"
(1)  857/     69E : CA 2C 15            		JP Z,COPY_B
(1)  858/     6A1 : CD CD 1D            		CALL INPUT_2STR2STKBOT
(1)  859/     6A4 : CD 75 1D            		CALL EXIT_IF_SINTAX
(1)  860/     6A7 : CD 6F 16            		CALL RESERVED_RAM
(1)  861/     6AA : CD 2E 10            		CALL INP_EXTFILENAME	; èêàÖå êÄëòàêÖçàü îÄâãÄ
(1)  862/     6AD : CD B0 1C            		CALL SET_CP_FILENAME
(1)  863/     6B0 : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  864/     6B3 : 32 F8 5C            		LD (TRD_5CF8),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  865/     6B6 : C2 CB 05            		JP NZ,COPY_STAR_STAR	; ÇõèéãçÖçàÖ äéåÄçÑõ COPY *,*
(1)  866/     6B9 : CD 5D 16            		CALL RDHEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1)  867/     6BC : 21 E6 5C            		LD HL,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1)  868/     6BF : 11 ED 5C            		LD DE,TRD_5CED		; çéåÖê	èÖêÇéÉé	íêÖäÄ îÄâãÄ
(1)  869/     6C2 : 01 07 00            		LD BC,7
(1)  870/     6C5 : ED B0               		LDIR
(1)  871/     6C7 : CD B0 1C            		CALL SET_CP_FILENAME
(1)  872/     6CA : F5                  		PUSH AF
(1)  873/     6CB : C5                  		PUSH BC
(1)  874/     6CC : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1)  875/     6CF : 32 F9 5C            		LD (TRD_5CF9),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 26 - 11/17/2013 22:45:09


(1)  876/     6D2 : 3A F8 5C            		LD A,(TRD_5CF8)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  877/     6D5 : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  878/     6D8 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1)  879/     6DB : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  880/     6DE : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  881/     6E1 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1)  882/     6E4 : C1                  		POP BC
(1)  883/     6E5 : F1                  		POP AF
(1)  884/     6E6 : 20 0B               		JR NZ,LOC_6F3
(1)  885/     6E8 : CD B4 05            		CALL CP_EXT_SHARP
(1)  886/     6EB : 20 06               		JR NZ,LOC_6F3
(1)  887/     6ED : CD 81 05            		CALL GET_OVERWRITE_	; áÄèêéë çÄ ìÑÄãÖçàÖ îÄâãÄ
(1)  888/     6F0 : C2 E1 03            		JP NZ,ERR_OK
(1)  889/     6F3 : CD 3C 06            LOC_6F3		CALL COPY_FILE_ON2DSK	; äéèàêéÇÄçàÖ îÄâãéÇ çÄ 2 ÑàëäéÇéÑÄï
(1)  890/     6F6 : CD 43 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1)  891/     6F9 : 3A E5 5C            		LD A,(TRD_5CE5)		; êÄëòàêÖçàÖ îÄâãÄ
(1)  892/     6FC : FE 23               		CP "#"
(1)  893/     6FE : C2 E1 03            		JP NZ,ERR_OK
(1)  894/     701 : 3E 0A               		LD A,0X0A
(1)  895/     703 : 32 06 5D            		LD (TRD_5D06),A		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1)  896/     706 : 21 E6 5C            		LD HL,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1)  897/     709 : 34                  		INC (HL)
(1)  898/     70A : 3A F8 5C            		LD A,(TRD_5CF8)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  899/     70D : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  900/     710 : CD B4 05            		CALL CP_EXT_SHARP
(1)  901/     713 : C2 E1 03            		JP NZ,ERR_OK
(1)  902/     716 : CD 5D 16            		CALL RDHEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1)  903/     719 : 21 E6 5C            		LD HL,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1)  904/     71C : 11 ED 5C            		LD DE,TRD_5CED		; çéåÖê	èÖêÇéÉé	íêÖäÄ îÄâãÄ
(1)  905/     71F : 01 07 00            		LD BC,7
(1)  906/     722 : ED B0               		LDIR
(1)  907/     724 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  908/     727 : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  909/     72A : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1)  910/     72D : 18 C4               		JR LOC_6F3
(1)  911/     72F :                     
(1)  912/     72F :                     ; äéèàêéÇÄçàÖ îÄâãÄ çÄ 2 ÑàëäéÇéÑÄï
(1)  913/     72F : 3A F1 5C            COPY_FILE	LD A,(TRD_5CF1)
(1)  914/     732 : B7                  		OR A
(1)  915/     733 : C8                  		RET Z
(1)  916/     734 : E5                  		PUSH HL
(1)  917/     735 : 21 23 5D            		LD HL,TRD_5D23
(1)  918/     738 : 96                  		SUB (HL)
(1)  919/     739 : E1                  		POP HL
(1)  920/     73A : 30 39               		JR NC,LOC_775
(1)  921/     73C : 3A F1 5C            		LD A,(TRD_5CF1)
(1)  922/     73F : 47                  		LD B,A
(1)  923/     740 : AF                  		XOR A
(1)  924/     741 : 32 F1 5C            		LD (TRD_5CF1),A
(1)  925/     744 : C5                  LOC_744		PUSH BC
(1)  926/     745 : 3A F8 5C            		LD A,(TRD_5CF8)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  927/     748 : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  928/     74B : C1                  		POP BC
(1)  929/     74C : C5                  		PUSH BC
(1)  930/     74D : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1)  931/     750 : E5                  		PUSH HL
(1)  932/     751 : ED 5B F2 5C         		LD DE,(TRD_5CF2)
(1)  933/     755 : CD 3D 1E            		CALL COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1)  934/     758 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1)  935/     75B : 22 F2 5C            		LD (TRD_5CF2),HL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 27 - 11/17/2013 22:45:09


(1)  936/     75E : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1)  937/     761 : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1)  938/     764 : E1                  		POP HL
(1)  939/     765 : C1                  		POP BC
(1)  940/     766 : ED 5B EB 5C         		LD DE,(TRD_5CEB)	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1)  941/     76A : CD 4D 1E            		CALL COM_06		; áÄèàëú ëÖäíéêéÇ
(1)  942/     76D : 2A F4 5C            		LD HL,(TRD_5CF4)
(1)  943/     770 : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1)  944/     773 : 18 BA               		JR COPY_FILE		; äéèàêéÇÄçàÖ îÄâãÄ çÄ 2 ÑàëäéÇéÑÄï
(1)  945/     775 :                     
(1)  946/     775 : 32 F1 5C            LOC_775		LD (TRD_5CF1),A
(1)  947/     778 : E5                  		PUSH HL
(1)  948/     779 : 21 23 5D            		LD HL,TRD_5D23
(1)  949/     77C : 46                  		LD B,(HL)
(1)  950/     77D : E1                  		POP HL
(1)  951/     77E : AF                  		XOR A
(1)  952/     77F : 18 C3               		JR LOC_744
(1)  953/     781 :                     
(1)  954/     781 :                     ;ìÑÄãÖçàÖ îÄâãÄ
(1)  955/     781 : AF                  ERASE_FILE	XOR A
(1)  956/     782 : 32 07 5D            		LD (TRD_5D07),A		; ëóÖíóàä ìÑÄãÖççõï îÄâãéÇ
(1)  957/     785 : 18 19               		JR ERASE_FILES
(1)  958/     787 :                     
(1)  959/     787 : CD DF 1D            ERASE		CALL SET_AND_PUT	; ÇõèéãçÖçàÖ äéåÄçÑõ ERASE
(1)  960/     78A : CD 75 1D            		CALL EXIT_IF_SINTAX
(1)  961/     78D : CD 2E 10            		CALL INP_EXTFILENAME	; èêàÖå êÄëòàêÖçàü îÄâãÄ
(1)  962/     790 : AF                  		XOR A
(1)  963/     791 : 32 07 5D            		LD (TRD_5D07),A		; ëóÖíóàä ìÑÄãÖççõï îÄâãéÇ
(1)  964/     794 : CD 2F 29            		CALL FIND_FILE		; èéàëä	îÄâãÄ èé àåÖçà
(1)  965/     797 : CD A0 07            		CALL ERASE_FILES
(1)  966/     79A : C2 77 05            		JP NZ,CP_ERASED_FILES
(1)  967/     79D : C3 E1 03            		JP ERR_OK
(1)  968/     7A0 :                     
(1)  969/     7A0 : 3A DD 5C            ERASE_FILES	LD A,(TRD_5CDD)		; àåü îÄâãÄ
(1)  970/     7A3 : 32 08 5D            		LD (TRD_5D08),A		; èÖêÇõâ ëàåÇéã	àåÖçà îÄâãÄ
(1)  971/     7A6 : C0                  		RET NZ
(1)  972/     7A7 : 21 07 5D            		LD HL,TRD_5D07		; ëóÖíóàä ìÑÄãÖççõï îÄâãéÇ
(1)  973/     7AA : 34                  		INC (HL)
(1)  974/     7AB : C5                  		PUSH BC
(1)  975/     7AC : CD FD 03            		CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1)  976/     7AF : 3A 09 5E            		LD A,(TRD_5E09)
(1)  977/     7B2 : C1                  		POP BC
(1)  978/     7B3 : 0C                  		INC C
(1)  979/     7B4 : B9                  		CP C
(1)  980/     7B5 : 20 05               		JR NZ,LOC_7BC
(1)  981/     7B7 : 3D                  		DEC A
(1)  982/     7B8 : 32 09 5E            		LD (TRD_5E09),A
(1)  983/     7BB : AF                  		XOR A
(1)  984/     7BC : F5                  LOC_7BC		PUSH AF
(1)  985/     7BD : 28 04               		JR Z,LOC_7C3
(1)  986/     7BF : 21 19 5E            		LD HL,TRD_5E19
(1)  987/     7C2 : 34                  		INC (HL)
(1)  988/     7C3 : C5                  LOC_7C3		PUSH BC
(1)  989/     7C4 : CD 43 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1)  990/     7C7 : C1                  		POP BC
(1)  991/     7C8 : 0D                  		DEC C
(1)  992/     7C9 : CD 5D 16            		CALL RDHEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1)  993/     7CC : F1                  		POP AF
(1)  994/     7CD : CA D2 07            		JP Z,LOC_7D2
(1)  995/     7D0 : 3E 01               		LD A,1
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 28 - 11/17/2013 22:45:09


(1)  996/     7D2 : 32 DD 5C            LOC_7D2		LD (TRD_5CDD),A		; àåü îÄâãÄ
(1)  997/     7D5 : F5                  		PUSH AF
(1)  998/     7D6 : CD 40 1E            		CALL WR_HEAD_FILENAME	; ëéïêÄçÖçàÖ éèàëÄíÖãü îÄâãÄ
(1)  999/     7D9 : 3A 08 5D            		LD A,(TRD_5D08)		; èÖêÇõâ ëàåÇéã	àåÖçà îÄâãÄ
(1) 1000/     7DC : 32 DD 5C            		LD (TRD_5CDD),A		; àåü îÄâãÄ
(1) 1001/     7DF : F1                  		POP AF
(1) 1002/     7E0 : 28 05               		JR Z,WR_NEW_FREE_SEC
(1) 1003/     7E2 : CD B3 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 1004/     7E5 : 18 B9               		JR ERASE_FILES
(1) 1005/     7E7 :                     
(1) 1006/     7E7 : CD FD 03            WR_NEW_FREE_SEC	CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1) 1007/     7EA : 2A EB 5C            		LD HL,(TRD_5CEB)	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1008/     7ED : 22 06 5E            		LD (TRD_5E06),HL
(1) 1009/     7F0 : ED 5B EA 5C         		LD DE,(TRD_5CEA)	; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 1010/     7F4 : 2A 0A 5E            		LD HL,(TRD_5E0A)
(1) 1011/     7F7 : 16 00               		LD D,0
(1) 1012/     7F9 : 19                  		ADD HL,DE
(1) 1013/     7FA : 22 0A 5E            		LD (TRD_5E0A),HL
(1) 1014/     7FD : C3 43 1E            		JP REWRITE_9SEC		; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 1015/     800 :                     
(1) 1016/     800 : FF                  		DB 0XFF			;DCU
(1) 1017/     801 :                     
(1) 1018/     801 :                     ;===============FREE SPACE 1============
(1) 1019/     801 :                     		include virtual.a80
(2)    1/     801 :                     
(2)    2/     801 :                     ;LAST UPDATE: 17.11.2013 savelij
(2)    3/     801 :                     
(2)    4/     801 :                     CMP_DRV		MACRO
(2)    5/     801 :                     		IN A,(VG_MEM)
(2)    6/     801 :                     		AND 3
(2)    7/     801 :                     		LD C,A
(2)    8/     801 :                     		IN A,(VG_RW_FF)
(2)    9/     801 :                     		AND 3
(2)   10/     801 :                     		CP C
(2)   11/     801 :                     		ENDM
(2)   12/     801 :                     
(2)   13/     801 :                     ;äéèàêéÇÄçàÖ 256 ÅÄâí
(2)   14/     801 :                     COPY_BLOCK	REPT 128			;äéèàêéÇÄçàÖ ÅãéäÄ 256 ÅÄâí
(2)   15/     801 :                     		LDI
(2)   16/     801 :                     		ENDM
(2)   15/     801 : ED A0               		LDI
(2)   15/     803 : ED A0               		LDI
(2)   15/     805 : ED A0               		LDI
(2)   15/     807 : ED A0               		LDI
(2)   15/     809 : ED A0               		LDI
(2)   15/     80B : ED A0               		LDI
(2)   15/     80D : ED A0               		LDI
(2)   15/     80F : ED A0               		LDI
(2)   15/     811 : ED A0               		LDI
(2)   15/     813 : ED A0               		LDI
(2)   15/     815 : ED A0               		LDI
(2)   15/     817 : ED A0               		LDI
(2)   15/     819 : ED A0               		LDI
(2)   15/     81B : ED A0               		LDI
(2)   15/     81D : ED A0               		LDI
(2)   15/     81F : ED A0               		LDI
(2)   15/     821 : ED A0               		LDI
(2)   15/     823 : ED A0               		LDI
(2)   15/     825 : ED A0               		LDI
(2)   15/     827 : ED A0               		LDI
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 29 - 11/17/2013 22:45:09


(2)   15/     829 : ED A0               		LDI
(2)   15/     82B : ED A0               		LDI
(2)   15/     82D : ED A0               		LDI
(2)   15/     82F : ED A0               		LDI
(2)   15/     831 : ED A0               		LDI
(2)   15/     833 : ED A0               		LDI
(2)   15/     835 : ED A0               		LDI
(2)   15/     837 : ED A0               		LDI
(2)   15/     839 : ED A0               		LDI
(2)   15/     83B : ED A0               		LDI
(2)   15/     83D : ED A0               		LDI
(2)   15/     83F : ED A0               		LDI
(2)   15/     841 : ED A0               		LDI
(2)   15/     843 : ED A0               		LDI
(2)   15/     845 : ED A0               		LDI
(2)   15/     847 : ED A0               		LDI
(2)   15/     849 : ED A0               		LDI
(2)   15/     84B : ED A0               		LDI
(2)   15/     84D : ED A0               		LDI
(2)   15/     84F : ED A0               		LDI
(2)   15/     851 : ED A0               		LDI
(2)   15/     853 : ED A0               		LDI
(2)   15/     855 : ED A0               		LDI
(2)   15/     857 : ED A0               		LDI
(2)   15/     859 : ED A0               		LDI
(2)   15/     85B : ED A0               		LDI
(2)   15/     85D : ED A0               		LDI
(2)   15/     85F : ED A0               		LDI
(2)   15/     861 : ED A0               		LDI
(2)   15/     863 : ED A0               		LDI
(2)   15/     865 : ED A0               		LDI
(2)   15/     867 : ED A0               		LDI
(2)   15/     869 : ED A0               		LDI
(2)   15/     86B : ED A0               		LDI
(2)   15/     86D : ED A0               		LDI
(2)   15/     86F : ED A0               		LDI
(2)   15/     871 : ED A0               		LDI
(2)   15/     873 : ED A0               		LDI
(2)   15/     875 : ED A0               		LDI
(2)   15/     877 : ED A0               		LDI
(2)   15/     879 : ED A0               		LDI
(2)   15/     87B : ED A0               		LDI
(2)   15/     87D : ED A0               		LDI
(2)   15/     87F : ED A0               		LDI
(2)   15/     881 : ED A0               		LDI
(2)   15/     883 : ED A0               		LDI
(2)   15/     885 : ED A0               		LDI
(2)   15/     887 : ED A0               		LDI
(2)   15/     889 : ED A0               		LDI
(2)   15/     88B : ED A0               		LDI
(2)   15/     88D : ED A0               		LDI
(2)   15/     88F : ED A0               		LDI
(2)   15/     891 : ED A0               		LDI
(2)   15/     893 : ED A0               		LDI
(2)   15/     895 : ED A0               		LDI
(2)   15/     897 : ED A0               		LDI
(2)   15/     899 : ED A0               		LDI
(2)   15/     89B : ED A0               		LDI
(2)   15/     89D : ED A0               		LDI
(2)   15/     89F : ED A0               		LDI
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 30 - 11/17/2013 22:45:09


(2)   15/     8A1 : ED A0               		LDI
(2)   15/     8A3 : ED A0               		LDI
(2)   15/     8A5 : ED A0               		LDI
(2)   15/     8A7 : ED A0               		LDI
(2)   15/     8A9 : ED A0               		LDI
(2)   15/     8AB : ED A0               		LDI
(2)   15/     8AD : ED A0               		LDI
(2)   15/     8AF : ED A0               		LDI
(2)   15/     8B1 : ED A0               		LDI
(2)   15/     8B3 : ED A0               		LDI
(2)   15/     8B5 : ED A0               		LDI
(2)   15/     8B7 : ED A0               		LDI
(2)   15/     8B9 : ED A0               		LDI
(2)   15/     8BB : ED A0               		LDI
(2)   15/     8BD : ED A0               		LDI
(2)   15/     8BF : ED A0               		LDI
(2)   15/     8C1 : ED A0               		LDI
(2)   15/     8C3 : ED A0               		LDI
(2)   15/     8C5 : ED A0               		LDI
(2)   15/     8C7 : ED A0               		LDI
(2)   15/     8C9 : ED A0               		LDI
(2)   15/     8CB : ED A0               		LDI
(2)   15/     8CD : ED A0               		LDI
(2)   15/     8CF : ED A0               		LDI
(2)   15/     8D1 : ED A0               		LDI
(2)   15/     8D3 : ED A0               		LDI
(2)   15/     8D5 : ED A0               		LDI
(2)   15/     8D7 : ED A0               		LDI
(2)   15/     8D9 : ED A0               		LDI
(2)   15/     8DB : ED A0               		LDI
(2)   15/     8DD : ED A0               		LDI
(2)   15/     8DF : ED A0               		LDI
(2)   15/     8E1 : ED A0               		LDI
(2)   15/     8E3 : ED A0               		LDI
(2)   15/     8E5 : ED A0               		LDI
(2)   15/     8E7 : ED A0               		LDI
(2)   15/     8E9 : ED A0               		LDI
(2)   15/     8EB : ED A0               		LDI
(2)   15/     8ED : ED A0               		LDI
(2)   15/     8EF : ED A0               		LDI
(2)   15/     8F1 : ED A0               		LDI
(2)   15/     8F3 : ED A0               		LDI
(2)   15/     8F5 : ED A0               		LDI
(2)   15/     8F7 : ED A0               		LDI
(2)   15/     8F9 : ED A0               		LDI
(2)   15/     8FB : ED A0               		LDI
(2)   15/     8FD : ED A0               		LDI
(2)   15/     8FF : ED A0               		LDI
(2)   17/     901 :                     COPYHBLOCK	REPT 126
(2)   18/     901 :                     		LDI
(2)   19/     901 :                     		ENDM
(2)   18/     901 : ED A0               		LDI
(2)   18/     903 : ED A0               		LDI
(2)   18/     905 : ED A0               		LDI
(2)   18/     907 : ED A0               		LDI
(2)   18/     909 : ED A0               		LDI
(2)   18/     90B : ED A0               		LDI
(2)   18/     90D : ED A0               		LDI
(2)   18/     90F : ED A0               		LDI
(2)   18/     911 : ED A0               		LDI
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 31 - 11/17/2013 22:45:09


(2)   18/     913 : ED A0               		LDI
(2)   18/     915 : ED A0               		LDI
(2)   18/     917 : ED A0               		LDI
(2)   18/     919 : ED A0               		LDI
(2)   18/     91B : ED A0               		LDI
(2)   18/     91D : ED A0               		LDI
(2)   18/     91F : ED A0               		LDI
(2)   18/     921 : ED A0               		LDI
(2)   18/     923 : ED A0               		LDI
(2)   18/     925 : ED A0               		LDI
(2)   18/     927 : ED A0               		LDI
(2)   18/     929 : ED A0               		LDI
(2)   18/     92B : ED A0               		LDI
(2)   18/     92D : ED A0               		LDI
(2)   18/     92F : ED A0               		LDI
(2)   18/     931 : ED A0               		LDI
(2)   18/     933 : ED A0               		LDI
(2)   18/     935 : ED A0               		LDI
(2)   18/     937 : ED A0               		LDI
(2)   18/     939 : ED A0               		LDI
(2)   18/     93B : ED A0               		LDI
(2)   18/     93D : ED A0               		LDI
(2)   18/     93F : ED A0               		LDI
(2)   18/     941 : ED A0               		LDI
(2)   18/     943 : ED A0               		LDI
(2)   18/     945 : ED A0               		LDI
(2)   18/     947 : ED A0               		LDI
(2)   18/     949 : ED A0               		LDI
(2)   18/     94B : ED A0               		LDI
(2)   18/     94D : ED A0               		LDI
(2)   18/     94F : ED A0               		LDI
(2)   18/     951 : ED A0               		LDI
(2)   18/     953 : ED A0               		LDI
(2)   18/     955 : ED A0               		LDI
(2)   18/     957 : ED A0               		LDI
(2)   18/     959 : ED A0               		LDI
(2)   18/     95B : ED A0               		LDI
(2)   18/     95D : ED A0               		LDI
(2)   18/     95F : ED A0               		LDI
(2)   18/     961 : ED A0               		LDI
(2)   18/     963 : ED A0               		LDI
(2)   18/     965 : ED A0               		LDI
(2)   18/     967 : ED A0               		LDI
(2)   18/     969 : ED A0               		LDI
(2)   18/     96B : ED A0               		LDI
(2)   18/     96D : ED A0               		LDI
(2)   18/     96F : ED A0               		LDI
(2)   18/     971 : ED A0               		LDI
(2)   18/     973 : ED A0               		LDI
(2)   18/     975 : ED A0               		LDI
(2)   18/     977 : ED A0               		LDI
(2)   18/     979 : ED A0               		LDI
(2)   18/     97B : ED A0               		LDI
(2)   18/     97D : ED A0               		LDI
(2)   18/     97F : ED A0               		LDI
(2)   18/     981 : ED A0               		LDI
(2)   18/     983 : ED A0               		LDI
(2)   18/     985 : ED A0               		LDI
(2)   18/     987 : ED A0               		LDI
(2)   18/     989 : ED A0               		LDI
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 32 - 11/17/2013 22:45:09


(2)   18/     98B : ED A0               		LDI
(2)   18/     98D : ED A0               		LDI
(2)   18/     98F : ED A0               		LDI
(2)   18/     991 : ED A0               		LDI
(2)   18/     993 : ED A0               		LDI
(2)   18/     995 : ED A0               		LDI
(2)   18/     997 : ED A0               		LDI
(2)   18/     999 : ED A0               		LDI
(2)   18/     99B : ED A0               		LDI
(2)   18/     99D : ED A0               		LDI
(2)   18/     99F : ED A0               		LDI
(2)   18/     9A1 : ED A0               		LDI
(2)   18/     9A3 : ED A0               		LDI
(2)   18/     9A5 : ED A0               		LDI
(2)   18/     9A7 : ED A0               		LDI
(2)   18/     9A9 : ED A0               		LDI
(2)   18/     9AB : ED A0               		LDI
(2)   18/     9AD : ED A0               		LDI
(2)   18/     9AF : ED A0               		LDI
(2)   18/     9B1 : ED A0               		LDI
(2)   18/     9B3 : ED A0               		LDI
(2)   18/     9B5 : ED A0               		LDI
(2)   18/     9B7 : ED A0               		LDI
(2)   18/     9B9 : ED A0               		LDI
(2)   18/     9BB : ED A0               		LDI
(2)   18/     9BD : ED A0               		LDI
(2)   18/     9BF : ED A0               		LDI
(2)   18/     9C1 : ED A0               		LDI
(2)   18/     9C3 : ED A0               		LDI
(2)   18/     9C5 : ED A0               		LDI
(2)   18/     9C7 : ED A0               		LDI
(2)   18/     9C9 : ED A0               		LDI
(2)   18/     9CB : ED A0               		LDI
(2)   18/     9CD : ED A0               		LDI
(2)   18/     9CF : ED A0               		LDI
(2)   18/     9D1 : ED A0               		LDI
(2)   18/     9D3 : ED A0               		LDI
(2)   18/     9D5 : ED A0               		LDI
(2)   18/     9D7 : ED A0               		LDI
(2)   18/     9D9 : ED A0               		LDI
(2)   18/     9DB : ED A0               		LDI
(2)   18/     9DD : ED A0               		LDI
(2)   18/     9DF : ED A0               		LDI
(2)   18/     9E1 : ED A0               		LDI
(2)   18/     9E3 : ED A0               		LDI
(2)   18/     9E5 : ED A0               		LDI
(2)   18/     9E7 : ED A0               		LDI
(2)   18/     9E9 : ED A0               		LDI
(2)   18/     9EB : ED A0               		LDI
(2)   18/     9ED : ED A0               		LDI
(2)   18/     9EF : ED A0               		LDI
(2)   18/     9F1 : ED A0               		LDI
(2)   18/     9F3 : ED A0               		LDI
(2)   18/     9F5 : ED A0               		LDI
(2)   18/     9F7 : ED A0               		LDI
(2)   18/     9F9 : ED A0               		LDI
(2)   18/     9FB : ED A0               		LDI
(2)   20/     9FD : 18 02               		JR COPY_BLOCK1
(2)   21/     9FF :                     		
(2)   22/     9FF : FF FF               		DW 0XFFFF			;Ñãü ÇÖäíéêÄ èêÖêõÇÄçàâ IM2 I=9
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 33 - 11/17/2013 22:45:09


(2)   23/     A01 :                     
(2)   24/     A01 : ED A0               COPY_BLOCK1	LDI
(2)   25/     A03 : ED A0               		LDI
(2)   26/     A05 : C9                  		RET
(2)   27/     A06 :                     
(2)   28/     A06 : =0H                 WOUT1F		EQU 0
(2)   29/     A06 : =1H                 WOUT3F		EQU WOUT1F+1
(2)   30/     A06 : =2H                 WOUT5F		EQU WOUT3F+1
(2)   31/     A06 : =3H                 WOUT7F		EQU WOUT5F+1
(2)   32/     A06 : =4H                 WOUTFF		EQU WOUT7F+1
(2)   33/     A06 : =5H                 WOUTI		EQU WOUTFF+1
(2)   34/     A06 : =6H                 WIN1F		EQU WOUTI+1
(2)   35/     A06 : =7H                 WIN3F		EQU WIN1F+1
(2)   36/     A06 : =8H                 WIN5F		EQU WIN3F+1
(2)   37/     A06 : =9H                 WIN7F		EQU WIN5F+1
(2)   38/     A06 : =AH                 WINFF		EQU WIN7F+1
(2)   39/     A06 : =BH                 WINI		EQU WINFF+1
(2)   40/     A06 : =CH                 WOUTCD		EQU WINI+1
(2)   41/     A06 : =DH                 WINHC		EQU WOUTCD+1
(2)   42/     A06 : =EH                 WWR_RD_SECT	EQU WINHC+1
(2)   43/     A06 :                     
(2)   44/     A06 : =FH                 WOUTCA		EQU WWR_RD_SECT+1
(2)   45/     A06 : =10H                WWRITE_SEC_	EQU WOUTCA+1
(2)   46/     A06 : =11H                WREAD_SEC_	EQU WWRITE_SEC_+1
(2)   47/     A06 : =12H                WINI_RET	EQU WREAD_SEC_+1
(2)   48/     A06 :                     
(2)   49/     A06 : F2 0A               W_DATA		DW W_OUT1F			;00
(2)   50/     A08 : 78 0B               		DW W_OUT3F			;01
(2)   51/     A0A : 80 0B               		DW W_OUT5F			;02
(2)   52/     A0C : 88 0B               		DW W_OUT7F			;03
(2)   53/     A0E : 90 0B               		DW W_OUTFF			;04
(2)   54/     A10 : CD 0B               		DW W_OUTI			;05
(2)   55/     A12 : DA 0B               		DW W_IN1F			;06
(2)   56/     A14 : F8 0B               		DW W_IN3F			;07
(2)   57/     A16 : FE 0B               		DW W_IN5F			;08
(2)   58/     A18 : 04 0C               		DW W_IN7F			;09
(2)   59/     A1A : 0A 0C               		DW W_INFF			;0A
(2)   60/     A1C : 52 0C               		DW W_INI			;0B
(2)   61/     A1E : C8 0B               		DW W_OUTCD			;0C
(2)   62/     A20 : 11 0C               		DW W_INHC			;0D
(2)   63/     A22 : DB 0C               		DW W_WR_RD_SECT			;0E
(2)   64/     A24 :                     EW_DATA
(2)   65/     A24 : A5 0B               		DW W_OUTCA			;0F
(2)   66/     A26 : C8 0C               		DW WRITE_SEC_			;10
(2)   67/     A28 : A2 0C               		DW READ_SEC_			;11
(2)   68/     A2A : 52 0C               		DW W_INI			;12
(2)   69/     A2C :                     
(2)   70/     A2C : 16 09 01            TEXT4VIRTDRV	DB 0X16,ZASTV_Y+2,1
(2)   71/     A2F : (MACRO)             TXT4VIRTDRV	DC "Virtual Drive: "
(2)   71/     A2F : =>TRUE                              IF STRLEN("Virtual Drive: ")>1
(2)   71/     A2F : 56 69 72 74 75 61                   DB SUBSTR("Virtual Drive: ",0,STRLEN("Virtual Drive: ")-1)
                    6C 20 44 72 69 76 
                    65 3A 
(2)   71/     A3D : [71]                                ENDIF
(2)   71/     A3D : =>TRUE                              IF STRLEN("Virtual Drive: ")>0
(2)   71/     A3D : A0                                  DB CHARFROMSTR("Virtual Drive: ",STRLEN("Virtual Drive: ")-1)|80H
(2)   71/     A3E : [71]                                ENDIF
(2)   72/     A3E :                     ETXT4VIRTDRV
(2)   73/     A3E :                     
(2)   74/     A3E : E3                  RST08_WORK	EX (SP),HL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 34 - 11/17/2013 22:45:09


(2)   75/     A3F : F5                  		PUSH AF
(2)   76/     A40 : C5                  		PUSH BC
(2)   77/     A41 : ED 57               		LD A,I
(2)   78/     A43 : EA 48 0A            	        JP PE,RST08_WORK1
(2)   79/     A46 : ED 57               		LD A,I
(2)   80/     A48 : F3                  RST08_WORK1	DI
(2)   81/     A49 : F5                  		PUSH AF
(2)   82/     A4A : 01 BE 04            		LD BC,RD_1WINA0
(2)   83/     A4D : ED 78               		IN A,(C)
(2)   84/     A4F : F5                  		PUSH AF
(2)   85/     A50 : E6 3E               		AND 0X3E
(2)   86/     A52 : 01 F7 3F            		LD BC,WIN_A0
(2)   87/     A55 : ED 79               		OUT (C),A
(2)   88/     A57 : 06 37               		LD B,HIGH (WIN_P0)
(2)   89/     A59 : 3E 02               		LD A,PAGE_EVODOS
(2)   90/     A5B : ED 79               		OUT (C),A
(2)   91/     A5D : DB BF               		IN A,(PEVO_CONF)
(2)   92/     A5F : 32 BE 3C            		LD (WR_BF),A
(2)   93/     A62 : F6 01               		OR 1
(2)   94/     A64 : D3 BF               		OUT (PEVO_CONF),A
(2)   95/     A66 : F1                  		POP AF
(2)   96/     A67 : 32 CE 3C            		LD (TEK_ROMPAGE),A
(2)   97/     A6A : 7E                  		LD A,(HL)
(2)   98/     A6B : ED 73 AC 3C         		LD (DOS_STEK),SP
(2)   99/     A6F : 31 AC 3C            		LD SP,DOS_STEK
(2)  100/     A72 : E5                  		PUSH HL				;èéãéÜàãà HL=ÄÑêÖë ÇéáÇêÄíÄ
(2)  101/     A73 : D5                  		PUSH DE
(2)  102/     A74 : 2A AC 3C            		LD HL,(DOS_STEK)
(2)  103/     A77 : 11 B6 3C            		LD DE,REG_IF
(2)  104/     A7A :                     		REPT 8
(2)  105/     A7A :                     		LDI
(2)  106/     A7A :                     		ENDM
(2)  105/     A7A : ED A0               		LDI
(2)  105/     A7C : ED A0               		LDI
(2)  105/     A7E : ED A0               		LDI
(2)  105/     A80 : ED A0               		LDI
(2)  105/     A82 : ED A0               		LDI
(2)  105/     A84 : ED A0               		LDI
(2)  105/     A86 : ED A0               		LDI
(2)  105/     A88 : ED A0               		LDI
(2)  107/     A8A : 21 99 0A            		LD HL,EXIT_RST08
(2)  108/     A8D : E5                  		PUSH HL				;èéãéÜàãà ÄÑêÖë áÄÇÖêòÖçàü
(2)  109/     A8E : 21 06 0A            		LD HL,W_DATA
(2)  110/     A91 : 87                  		ADD A,A
(2)  111/     A92 : 85                  		ADD A,L		
(2)  112/     A93 : 6F                  		LD L,A
(2)  113/     A94 : 7E                  		LD A,(HL)
(2)  114/     A95 : 2C                  		INC L
(2)  115/     A96 : 66                  		LD H,(HL)
(2)  116/     A97 : 6F                  		LD L,A
(2)  117/     A98 : E9                  		JP (HL)
(2)  118/     A99 :                     
(2)  119/     A99 : 21 B6 3C            EXIT_RST08	LD HL,REG_IF
(2)  120/     A9C : ED 5B AC 3C         		LD DE,(DOS_STEK)
(2)  121/     AA0 :                     		REPT 8
(2)  122/     AA0 :                     		LDI
(2)  123/     AA0 :                     		ENDM
(2)  122/     AA0 : ED A0               		LDI
(2)  122/     AA2 : ED A0               		LDI
(2)  122/     AA4 : ED A0               		LDI
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 35 - 11/17/2013 22:45:09


(2)  122/     AA6 : ED A0               		LDI
(2)  122/     AA8 : ED A0               		LDI
(2)  122/     AAA : ED A0               		LDI
(2)  122/     AAC : ED A0               		LDI
(2)  122/     AAE : ED A0               		LDI
(2)  124/     AB0 : D1                  		POP DE
(2)  125/     AB1 : E1                  		POP HL
(2)  126/     AB2 : ED 7B AC 3C         		LD SP,(DOS_STEK)
(2)  127/     AB6 : 7E                  		LD A,(HL)
(2)  128/     AB7 : 23                  		INC HL
(2)  129/     AB8 : FE 0F               		CP LOW ((EW_DATA-W_DATA)/2)
(2)  130/     ABA : 38 03               		JR C,EXIT_RST082
(2)  131/     ABC : 21 F2 3F            		LD HL,FOR_RET
(2)  132/     ABF : E5                  EXIT_RST082	PUSH HL
(2)  133/     AC0 : DB 2F               		IN A,(RW_PORT0)
(2)  134/     AC2 : 67                  		LD H,A
(2)  135/     AC3 : E6 03               		AND 3
(2)  136/     AC5 : 6F                  		LD L,A
(2)  137/     AC6 : 3A CF 3C            		LD A,(MASK_DRV)
(2)  138/     AC9 : 47                  		LD B,A
(2)  139/     ACA : 7C                  		LD A,H
(2)  140/     ACB : A0                  		AND B
(2)  141/     ACC : B8                  		CP B
(2)  142/     ACD : 28 06               		JR Z,EXIT_RST085
(2)  143/     ACF : 3A B0 3C            		LD A,(WR_FF)
(2)  144/     AD2 : E6 03               		AND 3
(2)  145/     AD4 : BD                  		CP L
(2)  146/     AD5 : 3A BE 3C            EXIT_RST085	LD A,(WR_BF)
(2)  147/     AD8 : 01 F7 40            		LD BC,WIN_A0+0X100
(2)  148/     ADB : 21 1E 0F            		LD HL,DOS_NOEMUL
(2)  149/     ADE : 20 01               		JR NZ,EXIT_RST083
(2)  150/     AE0 : 23                  		INC HL
(2)  151/     AE1 : CD 38 3D            EXIT_RST083	CALL WRPORT_RET
(2)  152/     AE4 : E1                  		POP HL
(2)  153/     AE5 : D3 BF               		OUT (PEVO_CONF),A
(2)  154/     AE7 : F1                  		POP AF
(2)  155/     AE8 : E2 EC 0A            		JP PO,EXIT_RST084
(2)  156/     AEB : FB                  		EI
(2)  157/     AEC : ED 47               EXIT_RST084	LD I,A
(2)  158/     AEE : C1                  		POP BC
(2)  159/     AEF : F1                  		POP AF
(2)  160/     AF0 : E3                  		EX (SP),HL
(2)  161/     AF1 : C9                  		RET
(2)  162/     AF2 :                     
(2)  163/     AF2 :                     ;áÄèàëú "A" Ç èéêí 0X1F
(2)  164/     AF2 : 3A BB 3C            W_OUT1F		LD A,(REG_A)
(2)  165/     AF5 : 32 AE 3C            W_OUT1F1	LD (WR_1F),A
(2)  166/     AF8 : FE 10               		CP 0X10				;00-0F äéåÄçÑÄ ÇéëëíÄçéÇãÖçàü
(2)  167/     AFA : 30 05               		JR NC,W_OUT1F10
(2)  168/     AFC : AF                  		XOR A
(2)  169/     AFD : D3 4F               		OUT (RW_PORT1),A	;OUT (0X3F),A
(2)  170/     AFF : 18 0F               		JR INFF_BIT6
(2)  171/     B01 :                     
(2)  172/     B01 : FE 20               W_OUT1F10	CP 0X20				;10-1F äéåÄçÑÄ èéàëäÄ
(2)  173/     B03 : 30 1C               		JR NC,W_OUT1F20
(2)  174/     B05 : DB 8F               		IN A,(RW_PORT3)		;IN A,(0X7F)
(2)  175/     B07 : D3 4F               		OUT (RW_PORT1),A	;OUT (0X3F),A
(2)  176/     B09 : CD 5E 33            		CALL DISK_NONE
(2)  177/     B0C : 3E 80               		LD A,0X80
(2)  178/     B0E : 20 01               		JR NZ,INFF_BIT61
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 36 - 11/17/2013 22:45:09


(2)  179/     B10 : AF                  INFF_BIT6	XOR A
(2)  180/     B11 : 32 AF 3C            INFF_BIT61	LD (RD_1F),A
(2)  181/     B14 : 3E BF               		LD A,0XBF
(2)  182/     B16 : 32 B1 3C            		LD (RD_FF),A
(2)  183/     B19 : C9                  		RET
(2)  184/     B1A :                     
(2)  185/     B1A : CD E9 0D            DISKNONE1	CALL RET_PAGE_STD
(2)  186/     B1D : 3E 80               		LD A,0X80
(2)  187/     B1F : 18 F0               		JR INFF_BIT61
(2)  188/     B21 :                     
(2)  189/     B21 : FE 40               W_OUT1F20	CP 0X40				;20-3F äéåÄçÑÄ òÄÉ Ç èêÖÑõÑìôÖå çÄèêÄÇãÖçàà
(2)  190/     B23 : 30 07               		JR NC,W_OUT1F40
(2)  191/     B25 : DB 4F               		IN A,(RW_PORT1)		;IN A,(0X3F)
(2)  192/     B27 : 00                  NAPRAVL		NOP
(2)  193/     B28 : D3 4F               		OUT (RW_PORT1),A	;OUT (0X3F),A
(2)  194/     B2A : 18 E4               		JR INFF_BIT6
(2)  195/     B2C :                     
(2)  196/     B2C : FE 60               W_OUT1F40	CP 0X60				;40-5F äéåÄçÑÄ òÄÉ ÇèÖêÖÑ
(2)  197/     B2E : 30 0C               		JR NC,W_OUT1F60
(2)  198/     B30 : DB 4F               		IN A,(RW_PORT1)		;IN A,(0X3F)
(2)  199/     B32 : 3C                  		INC A
(2)  200/     B33 : D3 4F               		OUT (RW_PORT1),A	;OUT (0X3F),A
(2)  201/     B35 : 3E 3C               		LD A,0X3C
(2)  202/     B37 : 32 27 0B            		LD (NAPRAVL),A
(2)  203/     B3A : 18 D4               		JR INFF_BIT6
(2)  204/     B3C :                     
(2)  205/     B3C : FE 80               W_OUT1F60	CP 0X80				;60-7F äéåÄçÑÄ òÄÉ çÄáÄÑ
(2)  206/     B3E : 30 0C               		JR NC,W_OUT1F80
(2)  207/     B40 : DB 4F               		IN A,(RW_PORT1)		;IN A,(0X3F)
(2)  208/     B42 : 3D                  		DEC A
(2)  209/     B43 : D3 4F               		OUT (RW_PORT1),A	;OUT (0X3F),A
(2)  210/     B45 : 3E 3D               		LD A,0X3D
(2)  211/     B47 : 32 27 0B            		LD (NAPRAVL),A
(2)  212/     B4A : 18 C4               		JR INFF_BIT6
(2)  213/     B4C :                     
(2)  214/     B4C : FE A0               W_OUT1F80	CP 0XA0				;80-9F äéåÄçÑÄ óíÖçàÖ ëÖäíéêÄ
(2)  215/     B4E : 30 02               		JR NC,W_OUT1FA0
(2)  216/     B50 : 18 BE               		JR INFF_BIT6
(2)  217/     B52 :                     
(2)  218/     B52 : FE C0               W_OUT1FA0	CP 0XC0				;A0-BF äéåÄçÑÄ áÄèàëú ëÖäíéêÄ
(2)  219/     B54 : 30 0C               		JR NC,W_OUT1FD0
(2)  220/     B56 : 18 B8               		JR INFF_BIT6
(2)  221/     B58 :                     
(2)  222/     B58 : AF                  INFF_BIT7	XOR A
(2)  223/     B59 : 32 AF 3C            		LD (RD_1F),A
(2)  224/     B5C : 3E 7F               		LD A,0X7F
(2)  225/     B5E : 32 B1 3C            		LD (RD_FF),A
(2)  226/     B61 : C9                  		RET
(2)  227/     B62 :                     
(2)  228/     B62 : FE D0               W_OUT1FD0	CP 0XD0				;C0-CF óíÖçàÖ ÄÑêÖëÄ
(2)  229/     B64 : 30 02               		JR NC,W_OUT1FE0
(2)  230/     B66 : 18 A8               		JR INFF_BIT6
(2)  231/     B68 :                     
(2)  232/     B68 : FE E0               W_OUT1FE0	CP 0XE0				;D0-DF èêàçìÑàíÖãúçéÖ èêÖêõÇÄçàÖ
(2)  233/     B6A : 30 06               		JR NC,W_OUT1FF0
(2)  234/     B6C : 3E BF               		LD A,0XBF
(2)  235/     B6E : 32 B1 3C            		LD (RD_FF),A
(2)  236/     B71 : C9                  		RET
(2)  237/     B72 :                     
(2)  238/     B72 : FE F0               W_OUT1FF0	CP 0XF0				;E0-EF óíÖçàÖ ÑéêéÜäà
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 37 - 11/17/2013 22:45:09


(2)  239/     B74 : 38 9A               		JR C,INFF_BIT6
(2)  240/     B76 : 18 98               		JR INFF_BIT6
(2)  241/     B78 :                     
(2)  242/     B78 :                     ;áÄèàëú "A" Ç èéêí 0X3F
(2)  243/     B78 : 3A BB 3C            W_OUT3F		LD A,(REG_A)
(2)  244/     B7B : D3 4F               		OUT (RW_PORT1),A
(2)  245/     B7D : D3 3F               		OUT (VG_RW_3F),A
(2)  246/     B7F : C9                  		RET
(2)  247/     B80 :                     	
(2)  248/     B80 :                     ;áÄèàëú "A" Ç èéêí 0X5F
(2)  249/     B80 : 3A BB 3C            W_OUT5F		LD A,(REG_A)
(2)  250/     B83 : D3 6F               		OUT (RW_PORT2),A
(2)  251/     B85 : D3 5F               		OUT (VG_RW_5F),A
(2)  252/     B87 : C9                  		RET
(2)  253/     B88 :                     	
(2)  254/     B88 :                     ;áÄèàëú "A" Ç èéêí 0X7F
(2)  255/     B88 : 3A BB 3C            W_OUT7F		LD A,(REG_A)
(2)  256/     B8B : D3 8F               		OUT (RW_PORT3),A
(2)  257/     B8D : D3 7F               		OUT (VG_RW_7F),A
(2)  258/     B8F : C9                  		RET
(2)  259/     B90 :                     
(2)  260/     B90 :                     ;áÄèàëú "A" Ç èéêí 0XFF
(2)  261/     B90 : 3A BB 3C            W_OUTFF 	LD A,(REG_A)
(2)  262/     B93 : D3 FF               		OUT (VG_RW_FF),A
(2)  263/     B95 : 32 B0 3C            		LD (WR_FF),A
(2)  264/     B98 : E6 03               		AND 3
(2)  265/     B9A : 3C                  		INC A
(2)  266/     B9B : 47                  		LD B,A
(2)  267/     B9C : 3E 08               		LD A,%00001000
(2)  268/     B9E : 07                  		RLCA
(2)  269/     B9F : 10 FD               		DJNZ $-1
(2)  270/     BA1 : 32 CF 3C            		LD (MASK_DRV),A
(2)  271/     BA4 : C9                  		RET
(2)  272/     BA5 :                     
(2)  273/     BA5 :                     ;áÄèàëú "A" Ç èéêí (C)
(2)  274/     BA5 : 3A BB 3C            W_OUTCA 	LD A,(REG_A)
(2)  275/     BA8 : 57                  W_OUTCA1	LD D,A
(2)  276/     BA9 : 3A B8 3C            		LD A,(REG_C)
(2)  277/     BAC :                     ;éèêÖÑÖãÖçàÖ Ç äÄäéâ èéêí áÄèàëú	
(2)  278/     BAC : FE 1F               		CP 0X1F
(2)  279/     BAE : CA F2 0A            		JP Z,W_OUT1F
(2)  280/     BB1 : FE 3F               		CP 0X3F
(2)  281/     BB3 : 28 C3               		JR Z,W_OUT3F
(2)  282/     BB5 : FE 5F               		CP 0X5F
(2)  283/     BB7 : 28 C7               		JR Z,W_OUT5F
(2)  284/     BB9 : FE 7F               		CP 0X7F
(2)  285/     BBB : 28 CB               		JR Z,W_OUT7F
(2)  286/     BBD : FE FF               		CP 0XFF
(2)  287/     BBF : 28 CF               		JR Z,W_OUTFF
(2)  288/     BC1 : ED 4B B8 3C         		LD BC,(REG_C)			;Öëãà èéêí çÖ TR-DOS
(2)  289/     BC5 : ED 51               		OUT (C),D
(2)  290/     BC7 : C9                  		RET
(2)  291/     BC8 :                     
(2)  292/     BC8 :                     ;áÄèàëú "D" Ç èéêí (C)
(2)  293/     BC8 : 3A A9 3C            W_OUTCD		LD A,(IREG_D)
(2)  294/     BCB : 18 DB               		JR W_OUTCA1
(2)  295/     BCD :                     	
(2)  296/     BCD :                     ;èÖêÖÑÄóÄ ÅÄâíÄ, äéåÄçÑÄ OUTI
(2)  297/     BCD : 2A B2 3C            W_OUTI		LD HL,(BUFF_SECT)
(2)  298/     BD0 : D9                  		EXX
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 38 - 11/17/2013 22:45:09


(2)  299/     BD1 : 7E                  		LD A,(HL)
(2)  300/     BD2 : 23                  		INC HL
(2)  301/     BD3 : D9                  		EXX
(2)  302/     BD4 : 77                  		LD (HL),A
(2)  303/     BD5 : 23                  		INC HL
(2)  304/     BD6 : 22 B2 3C            		LD (BUFF_SECT),HL
(2)  305/     BD9 : C9                  		RET
(2)  306/     BDA :                     
(2)  307/     BDA :                     ;óíÖçàÖ èéêíÄ 0X1F	
(2)  308/     BDA : 3A AE 3C            W_IN1F		LD A,(WR_1F)
(2)  309/     BDD : E6 F0               		AND 0XF0
(2)  310/     BDF : FE 20               		CP 0X20
(2)  311/     BE1 : 38 07               		JR C,W_IN1F1
(2)  312/     BE3 : FE D0               		CP 0XD0
(2)  313/     BE5 : 28 03               		JR Z,W_IN1F1
(2)  314/     BE7 : AF                  		XOR A
(2)  315/     BE8 : 18 07               		JR W_IN1F2
(2)  316/     BEA :                     
(2)  317/     BEA : 3E 00               W_IN1F1		LD A,0
(2)  318/     BEC : =BEBH               INDEX		EQU $-1
(2)  319/     BEC : EE 02               		XOR 2
(2)  320/     BEE : 32 EB 0B            		LD (INDEX),A
(2)  321/     BF1 : 32 AF 3C            W_IN1F2		LD (RD_1F),A
(2)  322/     BF4 : 32 BB 3C            		LD (REG_A),A
(2)  323/     BF7 : C9                  		RET
(2)  324/     BF8 :                     
(2)  325/     BF8 :                     ;óíÖçàÖ èéêíÄ 0X3F
(2)  326/     BF8 : DB 4F               W_IN3F		IN A,(RW_PORT1)		;IN A,(0X3F)
(2)  327/     BFA : 32 BB 3C            		LD (REG_A),A
(2)  328/     BFD : C9                  		RET
(2)  329/     BFE :                     	
(2)  330/     BFE :                     ;óíÖçàÖ èéêíÄ 0X5F
(2)  331/     BFE : DB 6F               W_IN5F		IN A,(RW_PORT2)		;IN A,(0X5F)
(2)  332/     C00 : 32 BB 3C            		LD (REG_A),A
(2)  333/     C03 : C9                  		RET
(2)  334/     C04 :                     
(2)  335/     C04 :                     ;óíÖçàÖ èéêíÄ 0X7F
(2)  336/     C04 : DB 8F               W_IN7F		IN A,(RW_PORT3)		;IN A,(0X7F)
(2)  337/     C06 : 32 BB 3C            		LD (REG_A),A
(2)  338/     C09 : C9                  		RET
(2)  339/     C0A :                     
(2)  340/     C0A :                     ;óíÖçàÖ èéêíÄ 0XFF
(2)  341/     C0A : 3A B1 3C            W_INFF		LD A,(RD_FF)
(2)  342/     C0D : 32 BB 3C            		LD (REG_A),A
(2)  343/     C10 : C9                  		RET
(2)  344/     C11 :                     
(2)  345/     C11 :                     ;óíÖççàÖ Ç "H" àá (ë)
(2)  346/     C11 : 3A B8 3C            W_INHC		LD A,(REG_C)
(2)  347/     C14 :                     ;éèêÖÑÖãÖçàÖ àá äÄäéÉé èéêíÄ óíÖçàÖ
(2)  348/     C14 : FE 1F               W_INHC1		CP 0X1F
(2)  349/     C16 : 20 07               		JR NZ,W_INHC2
(2)  350/     C18 : 3A AF 3C            		LD A,(RD_1F)
(2)  351/     C1B : 32 BD 3C            		LD (REG_H),A
(2)  352/     C1E : C9                  		RET
(2)  353/     C1F :                     
(2)  354/     C1F : FE 3F               W_INHC2		CP 0X3F
(2)  355/     C21 : 20 06               		JR NZ,W_INHC3
(2)  356/     C23 : DB 4F               		IN A,(RW_PORT1)		;IN A,(0X3F)
(2)  357/     C25 : 32 BD 3C            		LD (REG_H),A
(2)  358/     C28 : C9                  		RET
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 39 - 11/17/2013 22:45:09


(2)  359/     C29 :                     	
(2)  360/     C29 : FE 5F               W_INHC3		CP 0X5F
(2)  361/     C2B : 20 06               		JR NZ,W_INHC4
(2)  362/     C2D : DB 6F               		IN A,(RW_PORT2)		;IN A,(0X5F)
(2)  363/     C2F : 32 BD 3C            		LD (REG_H),A
(2)  364/     C32 : C9                  		RET
(2)  365/     C33 :                     	
(2)  366/     C33 : FE 7F               W_INHC4		CP 0X7F
(2)  367/     C35 : 20 06               		JR NZ,W_INHC5
(2)  368/     C37 : DB 8F               		IN A,(RW_PORT3)		;IN A,(0X7F)
(2)  369/     C39 : 32 BD 3C            		LD (REG_H),A
(2)  370/     C3C : C9                  		RET
(2)  371/     C3D :                     	
(2)  372/     C3D : FE FF               W_INHC5		CP 0XFF
(2)  373/     C3F : 20 07               		JR NZ,W_INHC6
(2)  374/     C41 : 3A B0 3C            		LD A,(WR_FF)
(2)  375/     C44 : 32 BD 3C            		LD (REG_H),A
(2)  376/     C47 : C9                  		RET
(2)  377/     C48 :                     
(2)  378/     C48 : ED 4B B8 3C         W_INHC6		LD BC,(REG_C)
(2)  379/     C4C : ED 78               		IN A,(C)
(2)  380/     C4E : 32 BD 3C            		LD (REG_H),A
(2)  381/     C51 : C9                  		RET
(2)  382/     C52 :                     
(2)  383/     C52 :                     ;óíÖçàÖ INI
(2)  384/     C52 : 3A AF 3C            W_INI		LD A,(RD_1F)
(2)  385/     C55 : 2A BC 3C            		LD HL,(REG_L)
(2)  386/     C58 : 77                  		LD (HL),A
(2)  387/     C59 : 23                  		INC HL
(2)  388/     C5A : 05                  		DEC B
(2)  389/     C5B : 22 BC 3C            		LD (REG_L),HL
(2)  390/     C5E : C9                  		RET
(2)  391/     C5F :                     
(2)  392/     C5F :                     ;ÄãúíÖêçÄíàÇçéÖ äéèàêéÇÄçàÖ ëÖäíéêÄ Ñãü êÄåÑàëäÄ
(2)  393/     C5F : E5                  SV_LD_RAMDISK	PUSH HL
(2)  394/     C60 : CD 2A 0E            		CALL CP_TYPEDRIVE
(2)  395/     C63 : E1                  		POP HL
(2)  396/     C64 : C2 36 1E            		JP NZ,WR_NUM_TRACK		;èêà çÖ ëéÇèÄÑÖçàà êÄÅéíÄ èêéÑéãÜÄÖíëü ë êÖÄãúçéâ ÑàëäÖíéâ
(2)  397/     C67 : E1                  		POP HL				;àçÄóÖ êÄÅéíÄÖå ë êÄåÑàëäéå
(2)  398/     C68 : E1                  		POP HL
(2)  399/     C69 : C1                  		POP BC
(2)  400/     C6A : AF                  		XOR A
(2)  401/     C6B : B0                  		OR B
(2)  402/     C6C : C8                  		RET Z
(2)  403/     C6D : F3                  		DI
(2)  404/     C6E : DD E5               		PUSH IX				;ëéïêÄçàãà Ñãü ÇçìíêÖççÖÉé àëèéãúáéÇÄçàü
(2)  405/     C70 : DD 2A CE 5C         		LD IX,(TRD_5CCE)		;óíÖçàÖ àãà áÄèàëú? 00-óíÖçàÖ, FF-áÄèàëú, ëéïêÄçàãà Ñãü ÑÄãúçÖâòÖÉé àëèéãúáéÇÄçàü
(2)  406/     C74 : C5                  SVLDRAM1	PUSH BC
(2)  407/     C75 : E5                  		PUSH HL
(2)  408/     C76 : ED 5B F4 5C         		LD DE,(TRD_5CF4)
(2)  409/     C7A : CD 06 3F            		CALL COM_04
(2)  410/     C7D : 7B                  		LD A,E
(2)  411/     C7E : CD 02 3F            		CALL COM_03
(2)  412/     C81 : 3C                  		INC A
(2)  413/     C82 : D3 6F               		OUT (RW_PORT2),A	;OUT (0X5F),A
(2)  414/     C84 : 7A                  		LD A,D
(2)  415/     C85 : E5                  		PUSH HL
(2)  416/     C86 : CD 63 3E            		CALL COM_02
(2)  417/     C89 : E1                  		POP HL
(2)  418/     C8A : F7                  		RST 0X30
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 40 - 11/17/2013 22:45:09


(2)  419/     C8B : 0E                  		DB WWR_RD_SECT
(2)  420/     C8C : 3E 10               		LD A,0X10
(2)  421/     C8E : 21 F4 5C            		LD HL,TRD_5CF4
(2)  422/     C91 : 34                  		INC (HL)			;ìÇÖãàóÖçàÖ çéåÖêÄ ëÖäíéêÄ
(2)  423/     C92 : BE                  		CP (HL)
(2)  424/     C93 : 20 04               		JR NZ,SVLDRAM2
(2)  425/     C95 : 36 00               		LD (HL),0			;Öëãà ÇõïéÑ áÄ èêÖÑÖãõ íêÖäÄ, íé ëÖäíéê =0
(2)  426/     C97 : 23                  		INC HL
(2)  427/     C98 : 34                  		INC (HL)			;à ìÇÖãàóàÇÄÖå çéåÖê íêÖäÄ
(2)  428/     C99 : E1                  SVLDRAM2	POP HL
(2)  429/     C9A : C1                  		POP BC
(2)  430/     C9B : 24                  		INC H				;ìÇÖãàóàãà ÄÑêÖë äéèàêéÇÄçàü çÄ 256 ÅÄâí
(2)  431/     C9C : 10 D6               		DJNZ SVLDRAM1
(2)  432/     C9E : DD E1               		POP IX				;èéèéãúáéÇÄãàëú à ÇéëëíÄçéÇàãà
(2)  433/     CA0 : FB                  		EI
(2)  434/     CA1 : C9                  		RET
(2)  435/     CA2 :                     
(2)  436/     CA2 : 3A AE 3C            READ_SEC_	LD A,(WR_1F)
(2)  437/     CA5 : E6 F0               		AND 0X0F0
(2)  438/     CA7 : FE 80               		CP 0X80
(2)  439/     CA9 : DA 10 0B            		JP C,INFF_BIT6
(2)  440/     CAC : FE C0               		CP 0XC0
(2)  441/     CAE : 20 11               		JR NZ,READ_SEC_1
(2)  442/     CB0 : DB 4F               		IN A,(RW_PORT1)		;IN A,(0X3F)
(2)  443/     CB2 : 2A BC 3C            		LD HL,(REG_L)
(2)  444/     CB5 : 77                  		LD (HL),A
(2)  445/     CB6 : 23                  		INC HL
(2)  446/     CB7 : 05                  		DEC B
(2)  447/     CB8 : DB 6F               		IN A,(VG_RD_5F)		;IN A,(0X5F)
(2)  448/     CBA : 77                  		LD (HL),A
(2)  449/     CBB : 23                  		INC HL
(2)  450/     CBC : 05                  		DEC B
(2)  451/     CBD : 22 BC 3C            		LD (REG_L),HL
(2)  452/     CC0 : C9                  		RET
(2)  453/     CC1 :                     
(2)  454/     CC1 : DD E5               READ_SEC_1	PUSH IX
(2)  455/     CC3 : DD 2E 00            		LD IXL,0
(2)  456/     CC6 : 18 05               		JR WRITE_SEC_1
(2)  457/     CC8 :                     
(2)  458/     CC8 : DD E5               WRITE_SEC_	PUSH IX
(2)  459/     CCA : DD 2E FF            		LD IXL,0XFF
(2)  460/     CCD : CD DB 0C            WRITE_SEC_1	CALL W_WR_RD_SECT
(2)  461/     CD0 : DD 21 90 80         		LD IX,0X8090
(2)  462/     CD4 : DD 22 BA 3C         		LD (REG_F),IX			;Öåìãüñàü îãÄÉÄ ìëèÖòçéÉé óíÖçàü/áÄèàëà ëÖäíéêÄ
(2)  463/     CD8 : DD E1               		POP IX
(2)  464/     CDA : C9                  		RET
(2)  465/     CDB :                     
(2)  466/     CDB :                     ;óíÖçàÖ àãà áÄèàëú ëÖäíéêÄ êÄåÑàëäÄ
(2)  467/     CDB : 3A B0 3C            W_WR_RD_SECT	LD A,(WR_FF)
(2)  468/     CDE : E6 03               		AND 3
(2)  469/     CE0 : 3C                  		INC A
(2)  470/     CE1 : 47                  		LD B,A
(2)  471/     CE2 : DB 2F               		IN A,(RW_PORT0)
(2)  472/     CE4 : 0F                  		RRCA
(2)  473/     CE5 : 0F                  		RRCA
(2)  474/     CE6 : 0F                  		RRCA
(2)  475/     CE7 : 0F                  		RRCA
(2)  476/     CE8 : 0F                  		RRCA
(2)  477/     CE9 : 10 FD               		DJNZ $-1
(2)  478/     CEB : DA 6C 36            		JP C,WR_RD_SEC_M
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 41 - 11/17/2013 22:45:09


(2)  479/     CEE : 3E 09               		LD A,PAGE_RAMDISK
(2)  480/     CF0 : 01 F7 77            		LD BC,WIN_P1
(2)  481/     CF3 : ED 79               		OUT (C),A			;ëíêÄçàñÄ áÄÉéãéÇäéÇ êÄåÑàëäÄ
(2)  482/     CF5 : DB 4F               		IN A,(RW_PORT1)		;IN A,(0X3F)	;Çáüãà çéåÖê íêÖäÄ
(2)  483/     CF7 : 87                  		ADD A,A				;ëíéêéç 2
(2)  484/     CF8 : 4F                  		LD C,A
(2)  485/     CF9 : 3A B0 3C            		LD A,(WR_FF)
(2)  486/     CFC : E6 10               		AND 0X10			;èêéÇÖêäÄ äÄäÄü ëíéêéçÄ ÑàëäÄ
(2)  487/     CFE : 20 01               		JR NZ,WWRRD1
(2)  488/     D00 : 0C                  		INC C				;Ñãü ëíéêéçõ 1
(2)  489/     D01 : 06 42               WWRRD1		LD B,0X42			;ÄÑêÖë çÄóÄãÄ àçîõ é ëÖäíéêÄï çÄ ÑéêéÜäÖ
(2)  490/     D03 : DB 6F               		IN A,(RW_PORT2)		;IN A,(0X5F)	;Çáüãà çéåÖê ëÖäíéêÄ
(2)  491/     D05 : 6F                  		LD L,A
(2)  492/     D06 : 26 00               		LD H,0
(2)  493/     D08 : 0A                  WWRRD3		LD A,(BC)
(2)  494/     D09 : 57                  		LD D,A				;Çáüãà çéåÖê ëÖäíéêÄ
(2)  495/     D0A : 04                  		INC B
(2)  496/     D0B : 0A                  		LD A,(BC)
(2)  497/     D0C : 5F                  		LD E,A				;Çáüãà êÄáåÖê ëÖäíéêÄ
(2)  498/     D0D : 04                  		INC B
(2)  499/     D0E :                     ;		LD A,D
(2)  500/     D0E :                     ;		AND A
(2)  501/     D0E :                     ;		JR Z,WWRRD_ERR
(2)  502/     D0E : 7D                  		LD A,L
(2)  503/     D0F : BA                  		CP D
(2)  504/     D10 : 28 05               		JR Z,WWRRD2
(2)  505/     D12 : 7B                  		LD A,E
(2)  506/     D13 : 84                  		ADD A,H
(2)  507/     D14 : 67                  		LD H,A
(2)  508/     D15 : 18 F1               		JR WWRRD3
(2)  509/     D17 :                     
(2)  510/     D17 : 7B                  WWRRD2		LD A,E
(2)  511/     D18 : 0F                  		RRCA
(2)  512/     D19 : D3 8F               		OUT (RW_PORT3),A	;OUT (0X7F),A	;êÄáåÖê çÄâÑÖççéÉé ëÖäíéêÄ
(2)  513/     D1B : 2E 00               		LD L,0
(2)  514/     D1D : 5D                  		LD E,L
(2)  515/     D1E : CB 3C               		SRL H
(2)  516/     D20 : CB 1D               		RR L				;HL=ëåÖôÖçàÖ Ç ÅãéäÄï Ñé çÄâÑÖççéÉé ëÖäíéêÄ
(2)  517/     D22 : 06 40               		LD B,0X40
(2)  518/     D24 : 0A                  		LD A,(BC)
(2)  519/     D25 : 57                  		LD D,A
(2)  520/     D26 : 19                  		ADD HL,DE			;HL=ëåÖôÖçàÖ éí çÄóÄãÄ ëíêÄçàñõ Ç ÅãéäÄï
(2)  521/     D27 : 04                  		INC B
(2)  522/     D28 : 0A                  		LD A,(BC)
(2)  523/     D29 : 4F                  		LD C,A				;ëåÖôÖçàÖ Ç ëíêÄçàñÄï éí çÄóÄãÄ êÄåÑàëäÄ
(2)  524/     D2A : 7C                  		LD A,H
(2)  525/     D2B : FE 40               		CP 0X40
(2)  526/     D2D : 38 04               		JR C,WWRRD5
(2)  527/     D2F : D6 40               		SUB 0X40
(2)  528/     D31 : 67                  		LD H,A
(2)  529/     D32 : 0C                  		INC C
(2)  530/     D33 :                     ;HL=ëåÖôÖçàÖ Ç ëíêÄçàñÖ Ñé çÄóÄãÄ ëÖäíéêÄ
(2)  531/     D33 : 79                  WWRRD5		LD A,C				;ëåÖôÖçàÖ Ñé çéåÖêÄ ëíêÄçàñõ, ÉÑÖ ìäÄáÄççõâ ëÖäíéê çÄóàçÄÖíëü
(2)  532/     D34 : C6 0A               		ADD A,PAGE_DATARAMD		;èêàÅÄÇàãà çéåÖê çÄóÄãÄ êÄåÑàëä à +1. Ç 0 ëíêÄçàñÖ êÄåÑàëäÄ éèàëÄíÖãà ëÖäíéêéÇ
(2)  533/     D36 : DD 67               		LD IXH,A			;ëéïêÄçàãà çéåÖê ÇõóàëãÖççéâ ëíêÄçàñõ
(2)  534/     D38 : ED 5B BC 3C         		LD DE,(REG_L)			;DE=ÄÑêÖë äìÑÄ/éíäìÑÄ äéèàêéÇÄíú
(2)  535/     D3C : 01 F7 77            		LD BC,WIN_P1
(2)  536/     D3F : 3E FA               		LD A,0XFA
(2)  537/     D41 : ED 79               		OUT (C),A			;ÇÖêçìãà ëíÄçÑÄêíçìû 5 ëíêÄçàñì
(2)  538/     D43 : 7A                  SP_RAMD9	LD A,D				;èêéÇÖêäÄ ÉêÄçàñõ éíäìÑÄ/äìÑÄ äéèàêéÇÄíú
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 42 - 11/17/2013 22:45:09


(2)  539/     D44 : FE 80               		CP 0X80
(2)  540/     D46 : DD 7C               		LD A,IXH			;ÇÖêçìãà çéåÖê ëíêÄçàñõ éáì
(2)  541/     D48 : 01 F7 77            		LD BC,WIN_P1			;Öëãà ÇÖêïçàÖ 32äÅ éáì, íé çìÜçé Çäãûóàíú Ç 1 éäçÖ èêéÖñàêéÇÄçàü
(2)  542/     D4B : 30 02               		JR NC,SP_RAMD1
(2)  543/     D4D : 06 B7               		LD B,HIGH (WIN_P2)		;Öëãà çàÜçàÖ 32äÅ éáì, íé çìÜçé Çäãûóàíú Çé 2 éäçÖ èêéÖñàêéÇÄçàü
(2)  544/     D4F : ED 79               SP_RAMD1	OUT (C),A			;Çäãûóàãà ÇõóàëãÖççìû ëíêÄçàñì
(2)  545/     D51 : 06 40               		LD B,0X40			;ëíÄêòàâ ÅÄâí ÄÑêÖëÄ çÄóÄãÄ ÇäãûóÖççéâ ëíêÄçàñõ
(2)  546/     D53 : 30 02               		JR NC,SP_RAMD2
(2)  547/     D55 : 06 80               		LD B,0X80			;ëíÄêòàâ ÅÄâí ÄÑêÖëÄ çÄóÄãÄ ÇäãûóÖççéâ ëíêÄçàñõ
(2)  548/     D57 : 78                  SP_RAMD2	LD A,B
(2)  549/     D58 : 84                  		ADD A,H
(2)  550/     D59 : 67                  		LD H,A
(2)  551/     D5A : DD 7D               		LD A,IXL
(2)  552/     D5C : A7                  		AND A
(2)  553/     D5D : 20 1B               		JR NZ,IN_ROM1
(2)  554/     D5F : 7A                  		LD A,D
(2)  555/     D60 : 3C                  		INC A
(2)  556/     D61 : 20 17               		JR NZ,IN_ROM1
(2)  557/     D63 : 7B                  		LD A,E
(2)  558/     D64 : A7                  		AND A
(2)  559/     D65 : 28 13               		JR Z,IN_ROM1
(2)  560/     D67 : ED 44               IN_ROM4		NEG
(2)  561/     D69 : 4F                  		LD C,A
(2)  562/     D6A : 06 00               		LD B,0
(2)  563/     D6C : ED B0               		LDIR
(2)  564/     D6E : ED 44               		NEG
(2)  565/     D70 : 4F                  		LD C,A
(2)  566/     D71 : EB                  IN_ROM2		EX DE,HL
(2)  567/     D72 : 09                  		ADD HL,BC
(2)  568/     D73 : EB                  		EX DE,HL
(2)  569/     D74 : 09                  		ADD HL,BC
(2)  570/     D75 : DB 8F               		IN A,(RW_PORT3)		;IN A,(0X7F)
(2)  571/     D77 : C3 FA 0D            		JP SP_RAMD8_
(2)  572/     D7A :                     
(2)  573/     D7A : 7A                  IN_ROM1		LD A,D
(2)  574/     D7B : FE 40               		CP 0X40
(2)  575/     D7D : 30 0D               		JR NC,IN_ROM3
(2)  576/     D7F : DB 8F               		IN A,(RW_PORT3)		;IN A,(0X7F)
(2)  577/     D81 : A7                  		AND A
(2)  578/     D82 : 01 80 00            		LD BC,0X80
(2)  579/     D85 : 28 EA               		JR Z,IN_ROM2
(2)  580/     D87 : 01 00 01            		LD BC,0X100
(2)  581/     D8A : 18 E5               		JR IN_ROM2
(2)  582/     D8C :                     
(2)  583/     D8C : FE 80               IN_ROM3		CP 0X80				;èêéÇÖêäÄ èÖêÖïéÑÄ ÉêÄçàñõ ëíêÄçàñ
(2)  584/     D8E : D2 D1 0D            		JP NC,SP_RAMD3			;Öëãà ÇõòÖ íé ëêÄáì äéèàêìÖå
(2)  585/     D91 : FE 7F               		CP 0X7F
(2)  586/     D93 : DA D1 0D            		JP C,SP_RAMD3			;Öëãà çàÜÖ íÄä ÜÖ ëêÄáì äéèàêìÖå
(2)  587/     D96 : 7B                  		LD A,E
(2)  588/     D97 : A7                  		AND A				;Öëãà ëÖäíéê èéãçéëíúû ìäãÄÑõÇÖíëü Ñé ÉêÄçàñõ, íé ëêÄáì äéèàêìÖå
(2)  589/     D98 : 28 37               		JR Z,SP_RAMD3			;àçÄóÖ èêàçìÑàíÖãúçé äéèàêìÖå Ç ÑÇÄ èêàÖåÄ
(2)  590/     D9A : DD 7D               		LD A,IXL			;óíÖçàÖ àãà áÄèàëú?
(2)  591/     D9C : A7                  		AND A
(2)  592/     D9D : 7B                  		LD A,E				;åãÄÑòàâ ÅÄâí ÄÑêÖë Ç ÅãéäÖ
(2)  593/     D9E : 28 01               		JR Z,SP_RAMD4
(2)  594/     DA0 : EB                  		EX DE,HL			;Ñãü áÄèàëà åÖçüÖå çÄèêÄÇãÖçàÖ
(2)  595/     DA1 : ED 44               SP_RAMD4	NEG
(2)  596/     DA3 : 4F                  		LD C,A				;äéèàêìÖå éëíÄíéä Ñé äéçñÄ ÅãéäÄ
(2)  597/     DA4 : 06 00               		LD B,0
(2)  598/     DA6 : ED B0               		LDIR
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 43 - 11/17/2013 22:45:09


(2)  599/     DA8 : ED 44               		NEG
(2)  600/     DAA : 08                  		EX AF,AF'			;ëèêüíÄãà ëäéãúäé éëíÄãéëú äéèàêéÇÄíú àá çÄóÄãÄ ëãÖÑìûôÖÉé ÅãéäÄ
(2)  601/     DAB : 3E FD               		LD A,0XFD
(2)  602/     DAD : 01 F7 B7            		LD BC,WIN_P2
(2)  603/     DB0 : ED 79               		OUT (C),A			;ÇÖêçìãà çéåÖê ëíÄçÑÄêíçéâ ëíêÄçàñõ Çé 2 éäçÖ èêéÖñàêéÇÄçàü
(2)  604/     DB2 : 06 77               		LD B,HIGH (WIN_P1)
(2)  605/     DB4 : DD 7C               		LD A,IXH
(2)  606/     DB6 : ED 79               		OUT (C),A			;ÇõóàëãÖççìû ëíêÄçàñì ÇäãûóÄÖå Ç 1 éäçÖ èêéÖñàêéÇÄçàü
(2)  607/     DB8 : DD 7D               		LD A,IXL			;óíÖçàÖ àãà áÄèàëú
(2)  608/     DBA : A7                  		AND A
(2)  609/     DBB : 28 06               		JR Z,SP_RAMD5
(2)  610/     DBD : 7A                  		LD A,D				;Ñãü áÄèàëà
(2)  611/     DBE : D6 40               		SUB 0X40			;àáåÖçàãà ÄÑêÖë äìÑÄ äéèàêéÇÄíú çÄ ÑêìÉéÖ éäçé èêéÖñàêéÇÄçàü
(2)  612/     DC0 : 57                  		LD D,A
(2)  613/     DC1 : 18 04               		JR SP_RAMD6
(2)  614/     DC3 :                     
(2)  615/     DC3 : 7C                  SP_RAMD5	LD A,H				;Ñãü óíÖçàü  
(2)  616/     DC4 : D6 40               		SUB 0X40			;àáåÖçàãà ÄÑêÖë äìÑÄ äéèàêéÇÄíú çÄ ÑêìÉéÖ éäçé èêéÖñàêéÇÄçàü 
(2)  617/     DC6 : 67                  		LD H,A
(2)  618/     DC7 : 08                  SP_RAMD6	EX AF,AF'
(2)  619/     DC8 : 4F                  		LD C,A				;ëäéãúäé éëíÄãéëú ëäéèàêéÇÄíú ÅÄâí
(2)  620/     DC9 : 06 00               		LD B,0
(2)  621/     DCB : ED B0               		LDIR
(2)  622/     DCD : DB 8F               		IN A,(RW_PORT3)		;IN A,(0X7F)
(2)  623/     DCF : 18 29               		JR SP_RAMD8_
(2)  624/     DD1 :                     
(2)  625/     DD1 : DD 7D               SP_RAMD3	LD A,IXL			;óíÖçàÖ àãà áÄèàëú
(2)  626/     DD3 : A7                  		AND A
(2)  627/     DD4 : 28 01               		JR Z,SP_RAMD7
(2)  628/     DD6 : EB                  		EX DE,HL			;Ñãü áÄèàëà åÖçüÖå çÄèêÄÇãÖçàÖ
(2)  629/     DD7 : DB 8F               SP_RAMD7	IN A,(RW_PORT3)		;IN A,(0X7F)
(2)  630/     DD9 : A7                  		AND A
(2)  631/     DDA : 20 1B               		JR NZ,SP_RAMD8
(2)  632/     DDC : CD 01 09            		CALL COPYHBLOCK			;Ñãü ëÖäíéêÄ êÄáåÖêéå 128 ÅÄâí äéèàêìÖå èéãéÇàçì à ÇõïéÑàå
(2)  633/     DDF :                     
(2)  634/     DDF :                     ;èêàçìÑàíÖãúçõâ ÇéáÇêÄí ëíêÄçÑÄêíçõï ëíêÄçàñ Ç éäçÄ èêéÖñàêéÇÄçàü 1 à 2 (5 à 2 ëééíÇÖëíÇÖççé)
(2)  635/     DDF : DD 7D               ECOPY_BLOCK	LD A,IXL
(2)  636/     DE1 : A7                  		AND A
(2)  637/     DE2 : 28 01               		JR Z,ECOPY_BLOCK1
(2)  638/     DE4 : EB                  		EX DE,HL
(2)  639/     DE5 : ED 53 BC 3C         ECOPY_BLOCK1	LD (REG_L),DE
(2)  640/     DE9 : 3E FA               RET_PAGE_STD	LD A,0XFA			;éÅôÄü íéóäÄ áÄÇÖêòÖçàÖ äéèàêéÇÄçàü ÅãéäÄ
(2)  641/     DEB : 01 F7 77            		LD BC,WIN_P1
(2)  642/     DEE : ED 79               		OUT (C),A			;ÇÖêçìãà ëíêÄçàñì 5 Ç 1 éäçé èêéÖñàêéÇÄçàü
(2)  643/     DF0 : 3E FD               		LD A,0XFD
(2)  644/     DF2 : 06 B7               		LD B,HIGH (WIN_P2)
(2)  645/     DF4 : ED 79               		OUT (C),A			;ÇÖêçìãà ëàêÄçàñì 2 Çé 2 éäçé èêéÖñàêéÇÄçàü
(2)  646/     DF6 : C9                  		RET
(2)  647/     DF7 :                     
(2)  648/     DF7 : CD 01 08            SP_RAMD8	CALL COPY_BLOCK			;Ñãü ëÖäíéêÄ 256 ÅÄâí äéèàêìÖå ÇÖëú à ÇõïéÑàå
(2)  649/     DFA : 3D                  SP_RAMD8_	DEC A
(2)  650/     DFB : 28 E2               		JR Z,ECOPY_BLOCK
(2)  651/     DFD : D3 8F               		OUT (RW_PORT3),A	;OUT (0X7F),A
(2)  652/     DFF : DD 7D               		LD A,IXL
(2)  653/     E01 : A7                  		AND A
(2)  654/     E02 : 28 01               		JR Z,SP_RAMD0
(2)  655/     E04 : EB                  		EX DE,HL
(2)  656/     E05 : 3E 3F               SP_RAMD0	LD A,0X3F
(2)  657/     E07 : A4                  		AND H
(2)  658/     E08 : 67                  		LD H,A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 44 - 11/17/2013 22:45:09


(2)  659/     E09 : C3 43 0D            		JP SP_RAMD9
(2)  660/     E0C :                     
(2)  661/     E0C :                     ;çÄ ÇïéÑÖ: H-ÄÑêÖë üóÖâäà
(2)  662/     E0C :                     ;	   L-èêéóàíÄççéÖ áçÄóÖçàÖ
(2)  663/     E0C : C5                  READCMOS	PUSH BC
(2)  664/     E0D : (MACRO)             		PEC_ON SHADOW_BF
(2)  664/     E0D : DB BF                               IN A,(PEVO_CONF)
(2)  664/     E0F : F6 01                               OR SHADOW_BF
(2)  664/     E11 : D3 BF                               OUT (PEVO_CONF),A
(2)  665/     E13 : 01 F7 DE            		LD BC,CMOSD_SET_ADR
(2)  666/     E16 : ED 61               		OUT (C),H
(2)  667/     E18 : 06 BE               		LD B,HIGH (CMOSD_RD_WR)
(2)  668/     E1A : ED 68               		IN L,(C)
(2)  669/     E1C : C1                  		POP BC
(2)  670/     E1D : (MACRO)             		PEC_OFF SHADOW_BF
(2)  670/     E1D : DB BF                               IN A,(PEVO_CONF)
(2)  670/     E1F : E6 FE                               AND SHADOW_BF!0XFF
(2)  670/     E21 : D3 BF                               OUT (PEVO_CONF),A
(2)  671/     E23 : 7D                  		LD A,L
(2)  672/     E24 : A7                  		AND A
(2)  673/     E25 : C9                  		RET
(2)  674/     E26 :                     
(2)  675/     E26 :                     ;çÄ ÇïéÑÖ: H-ÄÑêÖë üóÖâäà
(2)  676/     E26 :                     ;	   L-óíé íìÑÄ áÄèàëÄíú
(2)  677/     E26 : CF                  WRITECMOS	RST 8
(2)  678/     E27 : 55                  		DB _CMOS_RW
(2)  679/     E28 : 02                  		DB _WRITE_CMOS
(2)  680/     E29 : C9                  		RET
(2)  681/     E2A :                     
(2)  682/     E2A : C5                  CP_TYPEDRIVE	PUSH BC
(2)  683/     E2B : DB 2F               		IN A,(RW_PORT0)
(2)  684/     E2D : E6 03               		AND 3
(2)  685/     E2F : 47                  		LD B,A
(2)  686/     E30 : 3A F6 5C            		LD A,(TRD_5CF6)
(2)  687/     E33 : B8                  		CP B
(2)  688/     E34 : C1                  		POP BC
(2)  689/     E35 : C9                  		RET
(2)  690/     E36 :                     
(2)  691/     E36 : 26 EB               SET_DRIVENAME	LD H,VIRT_REAL_DRIVE
(2)  692/     E38 : CD 0C 0E            		CALL READCMOS
(2)  693/     E3B : 0F                  		RRCA
(2)  694/     E3C : 0F                  		RRCA
(2)  695/     E3D : E6 03               		AND 3
(2)  696/     E3F : 32 19 5D            		LD (TRD_5D19),A
(2)  697/     E42 : 32 F6 5C            		LD (TRD_5CF6),A
(2)  698/     E45 : F6 3C               		OR 0X3C
(2)  699/     E47 : C9                  		RET
(2)  700/     E48 :                     
(2)  701/     E48 : 3A F6 5C            FORMAT_RAM	LD A,(TRD_5CF6)
(2)  702/     E4B : 47                  		LD B,A
(2)  703/     E4C : 04                  		INC B
(2)  704/     E4D : 3E 08               		LD A,8
(2)  705/     E4F : 07                  		RLCA
(2)  706/     E50 : 10 FD               		DJNZ $-1
(2)  707/     E52 : 47                  		LD B,A
(2)  708/     E53 : DB 2F               		IN A,(RW_PORT0)
(2)  709/     E55 : A0                  		AND B
(2)  710/     E56 : 20 09               		JR NZ,FORMAT_RAM3		;Öëãà Åàí=1 îéêåÄí èêàåéçíàêéÇÄççéÉé éÅêÄáÄ
(2)  711/     E58 : CD 2A 0E            		CALL CP_TYPEDRIVE
(2)  712/     E5B : C0                  		RET NZ				;ÇõïéÑ Ñãü îéêåÄíÄ êÖãúçéÉé ÑàëäÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 45 - 11/17/2013 22:45:09


(2)  713/     E5C : CD A7 0E            		CALL CREATE_TRDTABL		;îéêåÄí êÄåÑàëäÄ 
(2)  714/     E5F : AF                  		XOR A
(2)  715/     E60 : C9                  		RET
(2)  716/     E61 :                     
(2)  717/     E61 : 21 25 5D            FORMAT_RAM3	LD HL,TRD_5D25
(2)  718/     E64 : 11 26 5D            		LD DE,TRD_5D26
(2)  719/     E67 : 01 FF 00            		LD BC,0XFF
(2)  720/     E6A : 70                  		LD (HL),B
(2)  721/     E6B : ED B0               		LDIR
(2)  722/     E6D : 50                  		LD D,B
(2)  723/     E6E : 58                  		LD E,B
(2)  724/     E6F : 06 10               		LD B,0X10
(2)  725/     E71 : C5                  FORMAT_RAM1	PUSH BC
(2)  726/     E72 : D5                  		PUSH DE
(2)  727/     E73 : 06 01               		LD B,1
(2)  728/     E75 : 21 25 5D            		LD HL,TRD_5D25
(2)  729/     E78 : CD 4D 1E            		CALL COM_06
(2)  730/     E7B : D1                  		POP DE
(2)  731/     E7C : C1                  		POP BC
(2)  732/     E7D : 1C                  		INC E
(2)  733/     E7E : 10 F1               		DJNZ FORMAT_RAM1
(2)  734/     E80 : AF                  		XOR A
(2)  735/     E81 : C9                  		RET
(2)  736/     E82 :                     
(2)  737/     E82 :                     ;èêéÇÖêäÄ çÄãàóàü åÄêäÖêÄ êÄåÑàëäÄ
(2)  738/     E82 : C5                  CMP_RAMDISK	PUSH BC
(2)  739/     E83 : (MACRO)             		PEC_ON SHADOW_BF
(2)  739/     E83 : DB BF                               IN A,(PEVO_CONF)
(2)  739/     E85 : F6 01                               OR SHADOW_BF
(2)  739/     E87 : D3 BF                               OUT (PEVO_CONF),A
(2)  740/     E89 : 3E 09               		LD A,PAGE_RAMDISK
(2)  741/     E8B : 01 F7 77            		LD BC,WIN_P1
(2)  742/     E8E : ED 79               		OUT (C),A
(2)  743/     E90 : 21 FF 7F            		LD HL,0X7FFF
(2)  744/     E93 : 56                  		LD D,(HL)
(2)  745/     E94 : 25                  		DEC H
(2)  746/     E95 : 5E                  		LD E,(HL)			;Çáüãà ÅÄâíõ Ñãü èêéÇÖêäà åÄêäÖêÄ
(2)  747/     E96 : 3E FA               		LD A,0XFA
(2)  748/     E98 : ED 79               		OUT (C),A
(2)  749/     E9A : C1                  		POP BC
(2)  750/     E9B : (MACRO)             		PEC_OFF SHADOW_BF
(2)  750/     E9B : DB BF                               IN A,(PEVO_CONF)
(2)  750/     E9D : E6 FE                               AND SHADOW_BF!0XFF
(2)  750/     E9F : D3 BF                               OUT (PEVO_CONF),A
(2)  751/     EA1 : 21 44 52            		LD HL,"RD"		
(2)  752/     EA4 : ED 52               		SBC HL,DE
(2)  753/     EA6 : C8                  		RET Z				;Öëãà åÄêäÖê çÄ åÖëíÖ, íé êÄåÑàëäÄ çÖ ëéáÑÄÖå
(2)  754/     EA7 :                     ;ëéáÑÄçàÖ óàëíéÉé êÄåÑàëäÄ
(2)  755/     EA7 : 3E 09               CREATE_TRDTABL	LD A,PAGE_RAMDISK		;çìÜçÄ ëíêÄçàñÄ çÄóÄãÄ êÄåÑàëäÄ, ÉÑÖ ÅìÑÖí íÄÅãàñÄ éèàëÄíÖãÖâ
(2)  756/     EA9 : CD 06 0F            		CALL SET4MBPAGE
(2)  757/     EAC : 21 00 40            		LD HL,0X4000
(2)  758/     EAF : E5                  		PUSH HL
(2)  759/     EB0 : 11 01 40            		LD DE,0X4001
(2)  760/     EB3 : 01 FF 3F            		LD BC,0X3FFF
(2)  761/     EB6 : 75                  		LD (HL),L
(2)  762/     EB7 : ED B0               		LDIR				;éóàëíàãà ëíêÄçàñì
(2)  763/     EB9 : D1                  		POP DE				;ÄÑêÖë çÄóÄãÄ 
(2)  764/     EBA : 21 00 00            		LD HL,0				;ëåÖôÖçàÖ Ç ÅãéäÄï à ëíêÄçàñÄï
(2)  765/     EBD : 3E A0               		LD A,0XA0
(2)  766/     EBF : 08                  ELT2		EX AF,AF'
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 46 - 11/17/2013 22:45:09


(2)  767/     EC0 : 01 00 10            		LD BC,0X1000			;ëóÖíóàä çéåÖêéÇ ëÖäíéêéÇ à àï çéåÖêÄ
(2)  768/     EC3 : 7D                  		LD A,L
(2)  769/     EC4 : 0F                  		RRCA
(2)  770/     EC5 : 0F                  		RRCA
(2)  771/     EC6 : 12                  		LD (DE),A			;ëåÖôÖçàÖ Ç ÅãéäÄï ÑéêéÜäà Ç ëíêÄçàñÖ
(2)  772/     EC7 : 14                  		INC D
(2)  773/     EC8 : 7C                  		LD A,H
(2)  774/     EC9 : 12                  		LD (DE),A			;ëåÖôÖçàÖ Ç ëíêÄçàñÄï Ñé ÑéêéÜäà
(2)  775/     ECA : 14                  		INC D
(2)  776/     ECB : 0C                  ELT1		INC C
(2)  777/     ECC : 79                  		LD A,C
(2)  778/     ECD : 12                  		LD (DE),A			;çéåÖê ëÖäíéêÄ
(2)  779/     ECE : 14                  		INC D
(2)  780/     ECF : 3E 02               		LD A,2
(2)  781/     ED1 : 12                  		LD (DE),A			;êÄáåÖê ëÖäíéêÄ
(2)  782/     ED2 : 14                  		INC D
(2)  783/     ED3 : 10 F6               		DJNZ ELT1			;Ççéëàå Ç íÄÅãàñì ÇëÖ çéåÖêÄ ëÖäíéêéÇ ë êÄáåÖêÄåà
(2)  784/     ED5 : 16 40               		LD D,0X40			;ÇÖêçìãà ìäÄáÄíÖãú Ç çÄóÄãé
(2)  785/     ED7 : 1C                  		INC E				;Ñãü ëãÖÑìûôÖâ ÑéêéÜäà
(2)  786/     ED8 : 01 40 00            		LD BC,0X40
(2)  787/     EDB : 09                  		ADD HL,BC			;èÖêÖïéÑ ä ëãÖÑìûôÖâ ÑéêéÜäÖ
(2)  788/     EDC : 08                  		EX AF,AF'
(2)  789/     EDD : 3D                  		DEC A
(2)  790/     EDE : 20 DF               		JR NZ,ELT2			;èéÇíéêüÖå Ñãü ÇëÖï ÑéêéÜÖä
(2)  791/     EE0 : 21 FF 7F            		LD HL,0X7FFF
(2)  792/     EE3 : 36 52               		LD (HL),"R"			;Ççéëàå åÄêäÖê êÄåÑàëäÄ
(2)  793/     EE5 : 25                  		DEC H
(2)  794/     EE6 : 36 44               		LD (HL),"D"
(2)  795/     EE8 : 3E 0A               		LD A,PAGE_DATARAMD
(2)  796/     EEA : CD 06 0F            		CALL SET4MBPAGE
(2)  797/     EED : 21 00 40            		LD HL,0X4000
(2)  798/     EF0 : 11 01 40            		LD DE,0X4001
(2)  799/     EF3 : 01 FF 0F            		LD BC,0X0FFF
(2)  800/     EF6 : 75                  		LD (HL),L
(2)  801/     EF7 : ED B0               		LDIR
(2)  802/     EF9 : 21 42 33            		LD HL,DSKINFO
(2)  803/     EFC : 11 E1 48            		LD DE,0X48E1
(2)  804/     EFF : 01 1C 00            		LD BC,DSK_END-DSKINFO
(2)  805/     F02 : ED B0               		LDIR
(2)  806/     F04 : 3E FA               		LD A,0XFA
(2)  807/     F06 :                     ;ÇäãûóÖçàÖ Ç 1 éäçé èêéÖñàêéÇÄçàü áÄÑÄççéâ ëíêÄçàñõ
(2)  808/     F06 : C5                  SET4MBPAGE	PUSH BC
(2)  809/     F07 : 47                  		LD B,A
(2)  810/     F08 : (MACRO)             		PEC_ON SHADOW_BF
(2)  810/     F08 : DB BF                               IN A,(PEVO_CONF)
(2)  810/     F0A : F6 01                               OR SHADOW_BF
(2)  810/     F0C : D3 BF                               OUT (PEVO_CONF),A
(2)  811/     F0E : 78                  		LD A,B
(2)  812/     F0F : 01 F7 77            		LD BC,WIN_P1
(2)  813/     F12 : ED 79               		OUT (C),A
(2)  814/     F14 : 47                  		LD B,A
(2)  815/     F15 : (MACRO)             		PEC_OFF SHADOW_BF
(2)  815/     F15 : DB BF                               IN A,(PEVO_CONF)
(2)  815/     F17 : E6 FE                               AND SHADOW_BF!0XFF
(2)  815/     F19 : D3 BF                               OUT (PEVO_CONF),A
(2)  816/     F1B : 78                  		LD A,B
(2)  817/     F1C : C1                  		POP BC
(2)  818/     F1D : C9                  		RET
(2)  819/     F1E :                     
(2)  820/     F1E : 83                  DOS_NOEMUL	DB P_BAS48|0X80			;ëíêÄçàñÄ DOS ë ùåìãüñàÖâ íéãúäé Ñãü 3D13
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(virtual.a80) - page 47 - 11/17/2013 22:45:09


(2)  821/     F1F : 8B                  DOS_EMUL	DB P_ADD_BAS48|0X80		;ëíêÄçàñÄ DOS ë èéãçõå èÖêÖïÇÄíéå èéêíéÇ
(2)  822/     F20 :                     
(2)  823/     F20 : C5                  READ_BYTE_HL_	PUSH BC
(2)  824/     F21 : E5                  		PUSH HL
(2)  825/     F22 : 3A 53 2A            		LD A,(LOC_2A53)
(2)  826/     F25 : FE 0C               		CP 0X0C
(2)  827/     F27 : 01 F7 40            		LD BC,WIN_A0+0X100
(2)  828/     F2A : 21 1E 0F            		LD HL,DOS_NOEMUL
(2)  829/     F2D : C4 38 3D            		CALL NZ,WRPORT_RET
(2)  830/     F30 : 4F                  		LD C,A
(2)  831/     F31 : E3                  		EX (SP),HL
(2)  832/     F32 : 7E                  		LD A,(HL)
(2)  833/     F33 : E3                  		EX (SP),HL
(2)  834/     F34 : F5                  		PUSH AF
(2)  835/     F35 : 79                  		LD A,C
(2)  836/     F36 : FE 0C               		CP 0X0C
(2)  837/     F38 : 28 09               		JR Z,RBHL1
(2)  838/     F3A : 01 F7 40            		LD BC,WIN_A0+0X100
(2)  839/     F3D : 21 1F 0F            		LD HL,DOS_EMUL
(2)  840/     F40 : CD 38 3D            		CALL WRPORT_RET
(2)  841/     F43 : F1                  RBHL1		POP AF
(2)  842/     F44 : E1                  		POP HL
(2)  843/     F45 : C1                  		POP BC
(2)  844/     F46 : C9                  		RET
(2)  845/     F47 :                     
(1) 1020/     F47 :                     
(1) 1021/     F47 : C5                  PRINT8SYM	PUSH BC
(1) 1022/     F48 : 06 08               		LD B,8
(1) 1023/     F4A : 7E                  PRINT8SYM1	LD A,(HL)
(1) 1024/     F4B : E6 7F               		AND 0X7F
(1) 1025/     F4D : 23                  		INC HL
(1) 1026/     F4E : E7                  		RST 0X20
(1) 1027/     F4F : 10 00               		DW 0X10
(1) 1028/     F51 : 10 F7               		DJNZ PRINT8SYM1
(1) 1029/     F53 : C1                  		POP BC
(1) 1030/     F54 : C9                  		RET
(1) 1031/     F55 :                     ;=======END OF FREE SPACE 1=============
(1) 1032/     F55 :                     
(1) 1033/     F55 : (MACRO)             		DUPL 0X1018-$,0XFF
(1) 1033/     F55 :                     DUPL:
(1) 1033/     F55 : =0H                 $$N             EQU (0X1018-$) / 1024
(1) 1033/     F55 : =C3H                $$M             EQU (0X1018-$) # 1024
(1) 1033/     F55 :                                     REPT $$N
(1) 1033/     F55 :                                     DB 1024 DUP(0XFF)
(1) 1033/     F55 :                                     ENDM
(1) 1033/     F55 : =>TRUE                              IF $$M <> 0
(1) 1033/     F55 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 48 - 11/17/2013 22:45:09


                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF 
(1) 1033/    1018 : [1033]                              ENDIF
(1) 1034/    1018 : CD DF 1D            COM_STAR	CALL SET_AND_PUT
(1) 1035/    101B : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 1036/    101E : CD 31 05            		CALL CP_ON_STKBOT
(1) 1037/    1021 : 1A                  		LD A,(DE)
(1) 1038/    1022 : CD 24 05            		CALL NUMDSK2BYTE
(1) 1039/    1025 : 32 19 5D            		LD (TRD_5D19),A		; ÑàëäéÇéÑ èé ìåéãóÄçàû
(1) 1040/    1028 : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1) 1041/    102B : C3 E1 03            		JP ERR_OK
(1) 1042/    102E :                     
(1) 1043/    102E :                     ; èêàÖå	êÄëòàêÖçàü îÄâãÄ
(1) 1044/    102E : 06 43               INP_EXTFILENAME	LD B,"C"
(1) 1045/    1030 : 3A D6 5C            		LD A,(TRD_5CD6)		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 1046/    1033 : B7                  		OR A
(1) 1047/    1034 : 20 17               		JR NZ,LOC_104D
(1) 1048/    1036 : CD 8C 1D            		CALL GET_SYMSTR
(1) 1049/    1039 : FE AF               		CP 0XAF			;CODE
(1) 1050/    103B : 06 43               		LD B,"C"
(1) 1051/    103D : 28 0E               		JR Z,LOC_104D
(1) 1052/    103F : FE E4               		CP 0XE4			;DATA
(1) 1053/    1041 : 06 44               		LD B,"D"
(1) 1054/    1043 : 28 08               		JR Z,LOC_104D
(1) 1055/    1045 : FE 23               		CP "#"
(1) 1056/    1047 : 06 23               		LD B,"#"
(1) 1057/    1049 : 28 02               		JR Z,LOC_104D
(1) 1058/    104B : 06 42               		LD B,"B"
(1) 1059/    104D : 21 E5 5C            LOC_104D	LD HL,TRD_5CE5		; êÄëòàêÖçàÖ îÄâãÄ
(1) 1060/    1050 : 70                  		LD (HL),B
(1) 1061/    1051 : C9                  		RET
(1) 1062/    1052 :                     
(1) 1063/    1052 :                     ; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1) 1064/    1052 : F3                  GET_KEYS	DI
(1) 1065/    1053 : E5                  		PUSH HL
(1) 1066/    1054 : C5                  		PUSH BC
(1) 1067/    1055 : D5                  		PUSH DE
(1) 1068/    1056 : E7                  LOC_1056	RST 0X20
(1) 1069/    1057 : 8E 02               		DW 0X028E			; ëäÄçàêéÇÄçàÖ äãÄÇàÄíìêõ
(1) 1070/    1059 : 0E 00               		LD C,0
(1) 1071/    105B : 20 F9               		JR NZ,LOC_1056
(1) 1072/    105D : E7                  		RST 0X20
(1) 1073/    105E : 1E 03               		DW 0X031E			; èêéÇÖêäÄ áçÄóÖçàü çÄÜÄíéâ äãÄÇàòà
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 49 - 11/17/2013 22:45:09


(1) 1074/    1060 : 30 F4               		JR NC,LOC_1056
(1) 1075/    1062 : 15                  		DEC D
(1) 1076/    1063 : 5F                  		LD E,A
(1) 1077/    1064 : E7                  		RST 0X20
(1) 1078/    1065 : 33 03               		DW 0X0333			; ÑÖäéÑàêéÇÄçàÖ	äãÄÇàÄíìêõ
(1) 1079/    1067 : D1                  		POP DE
(1) 1080/    1068 : C1                  		POP BC
(1) 1081/    1069 : E1                  		POP HL
(1) 1082/    106A : E6 DF               		AND 0XDF
(1) 1083/    106C : FB                  		EI
(1) 1084/    106D : C9                  		RET
(1) 1085/    106E :                     
(1) 1086/    106E :                     ; êàëéÇÄçàÖ ñÇÖíçõï ãàçàâ áÄëíÄÇäà ÑéëÄ
(1) 1087/    106E : 21 E7 58            OUT_COLOR_LINE	LD HL,ZASTV_ATR
(1) 1088/    1071 : 06 0A               		LD B,0X0A
(1) 1089/    1073 : 36 07               LOC_1073	LD (HL),7
(1) 1090/    1075 : 23                  		INC HL
(1) 1091/    1076 : 10 FB               		DJNZ LOC_1073
(1) 1092/    1078 : 36 02               		LD (HL),2
(1) 1093/    107A : 23                  		INC HL
(1) 1094/    107B : 36 16               		LD (HL),0X16
(1) 1095/    107D : 23                  		INC HL
(1) 1096/    107E : 36 34               		LD (HL),0X34
(1) 1097/    1080 : 23                  		INC HL
(1) 1098/    1081 : 36 25               		LD (HL),0X25
(1) 1099/    1083 : 23                  		INC HL
(1) 1100/    1084 : 36 28               		LD (HL),0X28
(1) 1101/    1086 : 23                  		INC HL
(1) 1102/    1087 : 36 07               		LD (HL),7
(1) 1103/    1089 : 21 F0 40            		LD HL,ZASTV_PIX
(1) 1104/    108C : 06 08               		LD B,8
(1) 1105/    108E : AF                  		XOR A
(1) 1106/    108F : C5                  LOC_108F	PUSH BC
(1) 1107/    1090 : 37                  		SCF
(1) 1108/    1091 : 17                  		RLA
(1) 1109/    1092 : E5                  		PUSH HL
(1) 1110/    1093 : F5                  		PUSH AF
(1) 1111/    1094 : 06 05               		LD B,5
(1) 1112/    1096 : 23                  LOC_1096	INC HL
(1) 1113/    1097 : 77                  		LD (HL),A
(1) 1114/    1098 : 10 FC               		DJNZ LOC_1096
(1) 1115/    109A : F1                  		POP AF
(1) 1116/    109B : E1                  		POP HL
(1) 1117/    109C : C1                  		POP BC
(1) 1118/    109D : 11 00 01            		LD DE,0X100
(1) 1119/    10A0 : 19                  		ADD HL,DE
(1) 1120/    10A1 : 10 EC               		DJNZ LOC_108F
(1) 1121/    10A3 : C9                  		RET
(1) 1122/    10A4 :                     
(1) 1123/    10A4 : C9                  		RET
(1) 1124/    10A5 :                     
(1) 1125/    10A5 : 20 44 65 6C 2E      TXT_DELFILES	DB " Del."
(1) 1126/    10AA : (MACRO)             TXT_FILE_S_	DZ " File(s)"
(1) 1126/    10AA : 20 46 69 6C 65 28                   DB " File(s)",0
                    73 29 00 
(1) 1127/    10B3 : (MACRO)             TXT_TITLE	DC "Title: "
(1) 1127/    10B3 : =>TRUE                              IF STRLEN("Title: ")>1
(1) 1127/    10B3 : 54 69 74 6C 65 3A                   DB SUBSTR("Title: ",0,STRLEN("Title: ")-1)
(1) 1127/    10B9 : [1127]                              ENDIF
(1) 1127/    10B9 : =>TRUE                              IF STRLEN("Title: ")>0
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 50 - 11/17/2013 22:45:09


(1) 1127/    10B9 : A0                                  DB CHARFROMSTR("Title: ",STRLEN("Title: ")-1)|80H
(1) 1127/    10BA : [1127]                              ENDIF
(1) 1128/    10BA : 17 11               TXT_DISKDRIVE	DB 0X17,0X11
(1) 1129/    10BC : (MACRO)             		DZ " Disk Drive: "
(1) 1129/    10BC : 20 44 69 73 6B 20                   DB " Disk Drive: ",0
                    44 72 69 76 65 3A 
                    20 00 
(1) 1130/    10CA : 17 10 20 00         TXT_1SPACE	DB 0X17,0X10," ",0
(1) 1131/    10CE : 17 10               TXT_40TRK_SS	DB 0X17,0X10
(1) 1132/    10D0 : (MACRO)             		DZ " 40 Track S. Side"
(1) 1132/    10D0 : 20 34 30 20 54 72                   DB " 40 Track S. Side",0
                    61 63 6B 20 53 2E 
                    20 53 69 64 65 00 
(1) 1133/    10E2 : 17 10               TXT_40TRK_DS	DB 0X17,0X10
(1) 1134/    10E4 : (MACRO)             		DZ " 80 Track S. Side"
(1) 1134/    10E4 : 20 38 30 20 54 72                   DB " 80 Track S. Side",0
                    61 63 6B 20 53 2E 
                    20 53 69 64 65 00 
(1) 1135/    10F6 : 17 10               TXT_80TRK_SS	DB 0X17,0X10
(1) 1136/    10F8 : (MACRO)             		DZ " 40 Track D. Side"
(1) 1136/    10F8 : 20 34 30 20 54 72                   DB " 40 Track D. Side",0
                    61 63 6B 20 44 2E 
                    20 53 69 64 65 00 
(1) 1137/    110A : 17 10               TXT_80TRK_DS	DB 0X17,0X10
(1) 1138/    110C : (MACRO)             		DZ " 80 Track D. Side"
(1) 1138/    110C : 20 38 30 20 54 72                   DB " 80 Track D. Side",0
                    61 63 6B 20 44 2E 
                    20 53 69 64 65 00 
(1) 1139/    111E : 17 10               TXT_FREESECS	DB 0X17,0X10
(1) 1140/    1120 : (MACRO)             		DZ " Free Sector "
(1) 1140/    1120 : 20 46 72 65 65 20                   DB " Free Sector ",0
                    53 65 63 74 6F 72 
                    20 00 
(1) 1141/    112E : 0D 0D               TXT_FILENAME	DB 0X0D,0X0D
(1) 1142/    1130 : (MACRO)             		DZ "  File Name    Start Length Line"
(1) 1142/    1130 : 20 20 46 69 6C 65                   DB "  File Name    Start Length Line",0
                    20 4E 61 6D 65 20 
                    20 20 20 53 74 61 
                    72 74 20 4C 65 6E 
                    67 74 68 20 4C 69 
                    6E 65 00 
(1) 1143/    1151 :                     
(1) 1144/    1151 : 2A 61 5C            CREATE_222BYTES	LD HL,(WORKSP)
(1) 1145/    1154 : 22 CF 5C            		LD (TRD_5CCF),HL	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1146/    1157 : 01 22 02            		LD BC,0X222
(1) 1147/    115A : C3 23 1E            		JP CREATE_FREERAM
(1) 1148/    115D :                     
(1) 1149/    115D :                     ;èÖóÄíú óàëãÄ àá êÖÉàëíêÄ HL Ç ÑÖëüíàóçéå ÇàÑÖ
(1) 1150/    115D : AF                  PRINT_HL_CHISLO	XOR A
(1) 1151/    115E : 11 10 27            		LD DE,10000
(1) 1152/    1161 : ED 52               LOC_1161	SBC HL,DE
(1) 1153/    1163 : 38 03               		JR C,LOC_1168
(1) 1154/    1165 : 3C                  		INC A
(1) 1155/    1166 : 18 F9               		JR LOC_1161
(1) 1156/    1168 :                     
(1) 1157/    1168 : C6 30               LOC_1168	ADD A,"0"
(1) 1158/    116A : CD A8 11            		CALL PRINT_A_CHISLO
(1) 1159/    116D : 19                  		ADD HL,DE
(1) 1160/    116E : AF                  		XOR A
(1) 1161/    116F : 11 E8 03            		LD DE,1000
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 51 - 11/17/2013 22:45:09


(1) 1162/    1172 : ED 52               LOC_1172	SBC HL,DE
(1) 1163/    1174 : 38 03               		JR C,LOC_1179
(1) 1164/    1176 : 3C                  		INC A
(1) 1165/    1177 : 18 F9               		JR LOC_1172
(1) 1166/    1179 :                     
(1) 1167/    1179 : C6 30               LOC_1179	ADD A,"0"
(1) 1168/    117B : CD A8 11            		CALL PRINT_A_CHISLO
(1) 1169/    117E : 19                  		ADD HL,DE
(1) 1170/    117F : AF                  		XOR A
(1) 1171/    1180 : 11 64 00            		LD DE,100
(1) 1172/    1183 : ED 52               LOC_1183	SBC HL,DE
(1) 1173/    1185 : 38 03               		JR C,LOC_118A
(1) 1174/    1187 : 3C                  		INC A
(1) 1175/    1188 : 18 F9               		JR LOC_1183
(1) 1176/    118A :                     
(1) 1177/    118A : C6 30               LOC_118A	ADD A,"0"
(1) 1178/    118C : CD A8 11            		CALL PRINT_A_CHISLO
(1) 1179/    118F : 19                  		ADD HL,DE
(1) 1180/    1190 : AF                  		XOR A
(1) 1181/    1191 : 11 0A 00            		LD DE,10
(1) 1182/    1194 : ED 52               LOC_1194	SBC HL,DE
(1) 1183/    1196 : 38 03               		JR C,LOC_119B
(1) 1184/    1198 : 3C                  		INC A
(1) 1185/    1199 : 18 F9               		JR LOC_1194
(1) 1186/    119B :                     
(1) 1187/    119B : C6 30               LOC_119B	ADD A,"0"
(1) 1188/    119D : CD A8 11            		CALL PRINT_A_CHISLO
(1) 1189/    11A0 : 19                  		ADD HL,DE
(1) 1190/    11A1 : 7D                  		LD A,L
(1) 1191/    11A2 : C6 30               		ADD A,"0"
(1) 1192/    11A4 : CD A8 11            		CALL PRINT_A_CHISLO
(1) 1193/    11A7 : C9                  		RET
(1) 1194/    11A8 :                     
(1) 1195/    11A8 : E5                  PRINT_A_CHISLO	PUSH HL
(1) 1196/    11A9 : D5                  		PUSH DE
(1) 1197/    11AA : CD 82 3D            		CALL PRINT_A_
(1) 1198/    11AD : D1                  		POP DE
(1) 1199/    11AE : E1                  		POP HL
(1) 1200/    11AF : C9                  		RET
(1) 1201/    11B0 :                     
(1) 1202/    11B0 : E5                  FIND_END_BUFDIR	PUSH HL
(1) 1203/    11B1 : C5                  		PUSH BC
(1) 1204/    11B2 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 1205/    11B5 : 21 F6 5C            		LD HL,TRD_5CF6		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1) 1206/    11B8 : BE                  		CP (HL)
(1) 1207/    11B9 : C4 CB 3D            		CALL NZ,COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1) 1208/    11BC : C1                  		POP BC
(1) 1209/    11BD : E1                  		POP HL
(1) 1210/    11BE : CD 0C 05            		CALL CP_END_BUF
(1) 1211/    11C1 : 7E                  		LD A,(HL)
(1) 1212/    11C2 : B7                  		OR A
(1) 1213/    11C3 : CA D3 01            		JP Z,END_COMAND
(1) 1214/    11C6 : FE 01               		CP 1
(1) 1215/    11C8 : CC 07 05            		CALL Z,ADD_10
(1) 1216/    11CB : C0                  		RET NZ
(1) 1217/    11CC : 18 E2               		JR FIND_END_BUFDIR
(1) 1218/    11CE :                     
(1) 1219/    11CE : CD 2B 04            LIST		CALL CP_SECOND_SYM
(1) 1220/    11D1 : 01 02 00            		LD BC,2
(1) 1221/    11D4 : ED 43 DB 5C         		LD (TRD_5CDB),BC
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 52 - 11/17/2013 22:45:09


(1) 1222/    11D8 : 28 2B               		JR Z,LOC_1205
(1) 1223/    11DA : FE 23               		CP "#"
(1) 1224/    11DC : 20 1A               		JR NZ,LIST4CODES
(1) 1225/    11DE : 22 5D 5C            		LD (CH_ADD),HL
(1) 1226/    11E1 : CD 0B 1E            		CALL SET_NUM_CHAN
(1) 1227/    11E4 : CD 8C 1D            		CALL GET_SYMSTR
(1) 1228/    11E7 : FE 0D               		CP 0X0D
(1) 1229/    11E9 : 28 1A               		JR Z,LOC_1205
(1) 1230/    11EB : FE 2C               		CP ","
(1) 1231/    11ED : C2 1A 1D            		JP NZ,SINTAX_ERROR
(1) 1232/    11F0 : CD 2A 1E            		CALL GET_NEXT_SYM
(1) 1233/    11F3 : CD BD 1D            		CALL PUT_NUMDSK_STK
(1) 1234/    11F6 : 18 03               		JR LOC_11FB
(1) 1235/    11F8 :                     
(1) 1236/    11F8 : CD DF 1D            LIST4CODES	CALL SET_AND_PUT
(1) 1237/    11FB : CD 75 1D            LOC_11FB	CALL EXIT_IF_SINTAX
(1) 1238/    11FE : CD B5 1D            		CALL GET_STKBOT_
(1) 1239/    1201 : EB                  		EX DE,HL
(1) 1240/    1202 : CD 81 1C            		CALL SETUP_DSK
(1) 1241/    1205 : CD 75 1D            LOC_1205	CALL EXIT_IF_SINTAX
(1) 1242/    1208 : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1) 1243/    120B : 32 F9 5C            		LD (TRD_5CF9),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 1244/    120E : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 1245/    1211 : 3A DB 5C            		LD A,(TRD_5CDB)
(1) 1246/    1214 : FE 02               		CP 2
(1) 1247/    1216 : F5                  		PUSH AF
(1) 1248/    1217 : CC 97 1D            		CALL Z,CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1) 1249/    121A : F1                  		POP AF
(1) 1250/    121B : FE 11               		CP 0X11
(1) 1251/    121D : D2 1A 1D            		JP NC,SINTAX_ERROR
(1) 1252/    1220 : CD 84 1D            		CALL OPENSTREAM
(1) 1253/    1223 : 3E FF               		LD A,0XFF
(1) 1254/    1225 : 32 F8 5C            		LD (TRD_5CF8),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 1255/    1228 : CD 51 11            		CALL CREATE_222BYTES
(1) 1256/    122B : 21 06 5E            		LD HL,TRD_5E06
(1) 1257/    122E : ED 5B CF 5C         		LD DE,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1258/    1232 : 01 20 00            		LD BC,0X20
(1) 1259/    1235 : ED B0               		LDIR
(1) 1260/    1237 : CD E8 03            		CALL RD_0SEC2BUF	; óíÖçàÖ ëÖäíéêÄ 0 äÄíÄãéÉÄ
(1) 1261/    123A : 21 25 5D            		LD HL,TRD_5D25
(1) 1262/    123D : E5                  		PUSH HL
(1) 1263/    123E : 21 B3 10            LOC_123E	LD HL,TXT_TITLE		; "TITLE:"
(1) 1264/    1241 : C5                  		PUSH BC
(1) 1265/    1242 : DF                  		RST 0X18
(1) 1266/    1243 : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1267/    1246 : 01 14 00            		LD BC,0X14
(1) 1268/    1249 : 09                  		ADD HL,BC
(1) 1269/    124A : DF                  		RST 0X18
(1) 1270/    124B : 21 BA 10            		LD HL,TXT_DISKDRIVE
(1) 1271/    124E : DF                  		RST 0X18
(1) 1272/    124F : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1) 1273/    1252 : C6 41               		ADD A,"A"
(1) 1274/    1254 : CD 82 3D            		CALL PRINT_A_
(1) 1275/    1257 : CD 80 3D            		CALL PRINT_0D
(1) 1276/    125A : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1277/    125D : 01 03 00            		LD BC,3
(1) 1278/    1260 : 09                  		ADD HL,BC
(1) 1279/    1261 : 7E                  		LD A,(HL)
(1) 1280/    1262 : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1281/    1265 : 01 13 00            		LD BC,0X13
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 53 - 11/17/2013 22:45:09


(1) 1282/    1268 : 09                  		ADD HL,BC
(1) 1283/    1269 : 96                  		SUB (HL)
(1) 1284/    126A : E5                  		PUSH HL
(1) 1285/    126B : CD A3 1D            		CALL PRINT_CHISLO_A_
(1) 1286/    126E : 21 AA 10            		LD HL,TXT_FILE_S_
(1) 1287/    1271 : DF                  		RST 0X18
(1) 1288/    1272 : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1289/    1275 : 01 02 00            		LD BC,2
(1) 1290/    1278 : 09                  		ADD HL,BC
(1) 1291/    1279 : 7E                  		LD A,(HL)
(1) 1292/    127A : 21 CE 10            		LD HL,TXT_40TRK_SS
(1) 1293/    127D : FE 19               		CP 0X19
(1) 1294/    127F : 28 11               		JR Z,LOC_1292
(1) 1295/    1281 : 21 E2 10            		LD HL,TXT_40TRK_DS
(1) 1296/    1284 : FE 18               		CP 0X18
(1) 1297/    1286 : 28 0A               		JR Z,LOC_1292
(1) 1298/    1288 : 21 F6 10            		LD HL,TXT_80TRK_SS
(1) 1299/    128B : FE 17               		CP 0X17
(1) 1300/    128D : 28 03               		JR Z,LOC_1292
(1) 1301/    128F : 21 0A 11            		LD HL,TXT_80TRK_DS
(1) 1302/    1292 : DF                  LOC_1292	RST 0X18
(1) 1303/    1293 : E1                  		POP HL
(1) 1304/    1294 : 4E                  		LD C,(HL)
(1) 1305/    1295 : CD A4 1D            		CALL CONV2_2BYTES
(1) 1306/    1298 : 21 A5 10            		LD HL,TXT_DELFILES		; " DEL. FILE(S)"
(1) 1307/    129B : DF                  		RST 0X18
(1) 1308/    129C : 21 1E 11            		LD HL,TXT_FREESECS
(1) 1309/    129F : DF                  		RST 0X18
(1) 1310/    12A0 : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1311/    12A3 : 01 04 00            		LD BC,4
(1) 1312/    12A6 : 09                  		ADD HL,BC
(1) 1313/    12A7 : 4E                  		LD C,(HL)
(1) 1314/    12A8 : 23                  		INC HL
(1) 1315/    12A9 : 46                  		LD B,(HL)
(1) 1316/    12AA : CD A9 1D            		CALL PRINT_CHISLO	; èÖóÄíú óàëãÄ
(1) 1317/    12AD : 21 2E 11            		LD HL,TXT_FILENAME
(1) 1318/    12B0 : DF                  		RST 0X18
(1) 1319/    12B1 : C1                  		POP BC
(1) 1320/    12B2 : E1                  		POP HL
(1) 1321/    12B3 : 06 10               		LD B,0X10		;ëäéãúäé àåÖç îÄâãéÇ áÄ èêéïéÑ ÇõÇÖëíà çÄ ùäêÄç
(1) 1322/    12B5 : CD B0 11            LOC_12B5	CALL FIND_END_BUFDIR	;èêéÇÖêäÄ çÄ éäéçóÄçàÖ ÑàêÖäíéêàà
(1) 1323/    12B8 : CD 80 3D            		CALL PRINT_0D		;èÖêÖÇéÑ ëíêéäà
(1) 1324/    12BB : C5                  		PUSH BC
(1) 1325/    12BC : E5                  		PUSH HL
(1) 1326/    12BD : CD 38 29            		CALL PRINT_FILENAME	; èÖóÄíú àåÖçà îÄâãÄ
(1) 1327/    12C0 : 01 0D 00            		LD BC,0X0D
(1) 1328/    12C3 : E1                  		POP HL
(1) 1329/    12C4 : E5                  		PUSH HL
(1) 1330/    12C5 : 09                  		ADD HL,BC
(1) 1331/    12C6 : 4E                  		LD C,(HL)
(1) 1332/    12C7 : C5                  		PUSH BC
(1) 1333/    12C8 : 79                  		LD A,C
(1) 1334/    12C9 : 06 02               		LD B,2
(1) 1335/    12CB : FE 0A               		CP 0X0A
(1) 1336/    12CD : 38 01               		JR C,LOC_12D0
(1) 1337/    12CF : 05                  		DEC B
(1) 1338/    12D0 : FE 64               LOC_12D0	CP 0X64
(1) 1339/    12D2 : 30 05               		JR NC,LOC_12D9
(1) 1340/    12D4 : 3E 20               LOC_12D4	LD A," "
(1) 1341/    12D6 : D7                  		RST 0X10
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 54 - 11/17/2013 22:45:09


(1) 1342/    12D7 : 10 FB               		DJNZ LOC_12D4
(1) 1343/    12D9 : C1                  LOC_12D9	POP BC
(1) 1344/    12DA : CD A9 1D            		CALL PRINT_CHISLO	; èÖóÄíú óàëãÄ
(1) 1345/    12DD : 21 CA 10            		LD HL,TXT_1SPACE
(1) 1346/    12E0 : DF                  		RST 0X18
(1) 1347/    12E1 : E1                  		POP HL
(1) 1348/    12E2 : E5                  		PUSH HL
(1) 1349/    12E3 : 01 09 00            		LD BC,9
(1) 1350/    12E6 : 09                  		ADD HL,BC
(1) 1351/    12E7 : 5E                  		LD E,(HL)
(1) 1352/    12E8 : 23                  		INC HL
(1) 1353/    12E9 : 56                  		LD D,(HL)
(1) 1354/    12EA : E5                  		PUSH HL
(1) 1355/    12EB : EB                  		EX DE,HL
(1) 1356/    12EC : CD 5D 11            		CALL PRINT_HL_CHISLO
(1) 1357/    12EF : 3E 20               		LD A," "
(1) 1358/    12F1 : CD 82 3D            		CALL PRINT_A_
(1) 1359/    12F4 : E1                  		POP HL
(1) 1360/    12F5 : 23                  		INC HL
(1) 1361/    12F6 : 5E                  		LD E,(HL)
(1) 1362/    12F7 : 23                  		INC HL
(1) 1363/    12F8 : 56                  		LD D,(HL)
(1) 1364/    12F9 : EB                  		EX DE,HL
(1) 1365/    12FA : CD 5D 11            		CALL PRINT_HL_CHISLO
(1) 1366/    12FD : E1                  		POP HL
(1) 1367/    12FE : E5                  		PUSH HL
(1) 1368/    12FF : 01 08 00            		LD BC,8
(1) 1369/    1302 : 09                  		ADD HL,BC
(1) 1370/    1303 : 7E                  		LD A,(HL)
(1) 1371/    1304 : FE 42               		CP "B"
(1) 1372/    1306 : CC 1B 13            		CALL Z,PRN_ADR_ASTART
(1) 1373/    1309 : E1                  		POP HL
(1) 1374/    130A : C1                  		POP BC
(1) 1375/    130B : 11 10 00            		LD DE,0X10
(1) 1376/    130E : 19                  		ADD HL,DE
(1) 1377/    130F : 10 A4               		DJNZ LOC_12B5
(1) 1378/    1311 : E5                  		PUSH HL
(1) 1379/    1312 : CD 80 3D            		CALL PRINT_0D
(1) 1380/    1315 : CD 80 3D            		CALL PRINT_0D
(1) 1381/    1318 : C3 3E 12            		JP LOC_123E
(1) 1382/    131B :                     
(1) 1383/    131B : 01 05 00            PRN_ADR_ASTART	LD BC,5
(1) 1384/    131E : 09                  		ADD HL,BC
(1) 1385/    131F : 46                  		LD B,(HL)
(1) 1386/    1320 : 23                  		INC HL
(1) 1387/    1321 : 5E                  		LD E,(HL)
(1) 1388/    1322 : 23                  		INC HL
(1) 1389/    1323 : 56                  		LD D,(HL)
(1) 1390/    1324 : 05                  		DEC B
(1) 1391/    1325 : 28 0E               		JR Z,LOC_1335
(1) 1392/    1327 : 05                  		DEC B
(1) 1393/    1328 : 28 0B               		JR Z,LOC_1335
(1) 1394/    132A : 3E 10               		LD A,0X10
(1) 1395/    132C : 1C                  LOC_132C	INC E
(1) 1396/    132D : BB                  		CP E
(1) 1397/    132E : 20 03               		JR NZ,LOC_1333
(1) 1398/    1330 : 1E 00               		LD E,0
(1) 1399/    1332 : 14                  		INC D
(1) 1400/    1333 : 10 F7               LOC_1333	DJNZ LOC_132C
(1) 1401/    1335 : 2A CF 5C            LOC_1335	LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 55 - 11/17/2013 22:45:09


(1) 1402/    1338 : 01 21 00            		LD BC,0X21
(1) 1403/    133B : 09                  		ADD HL,BC
(1) 1404/    133C : 06 02               		LD B,2
(1) 1405/    133E : E5                  		PUSH HL
(1) 1406/    133F : CD 3D 1E            		CALL COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1) 1407/    1342 : 3E 80               		LD A,0X80
(1) 1408/    1344 : E1                  		POP HL
(1) 1409/    1345 : 01 00 02            		LD BC,0X200
(1) 1410/    1348 : ED B1               		CPIR
(1) 1411/    134A : 7E                  		LD A,(HL)
(1) 1412/    134B : FE AA               		CP 0XAA
(1) 1413/    134D : C0                  		RET NZ
(1) 1414/    134E : 23                  		INC HL
(1) 1415/    134F : 4E                  		LD C,(HL)
(1) 1416/    1350 : 23                  		INC HL
(1) 1417/    1351 : 46                  		LD B,(HL)
(1) 1418/    1352 : 78                  		LD A,B
(1) 1419/    1353 : B1                  		OR C
(1) 1420/    1354 : C8                  		RET Z
(1) 1421/    1355 : C5                  		PUSH BC
(1) 1422/    1356 : 3E 20               		LD A,0X20
(1) 1423/    1358 : CD 82 3D            		CALL PRINT_A_
(1) 1424/    135B : C1                  		POP BC
(1) 1425/    135C : CD A9 1D            		CALL PRINT_CHISLO		; èÖóÄíú óàëãÄ
(1) 1426/    135F : C9                  		RET
(1) 1427/    1360 :                     
(1) 1428/    1360 : CD C5 1D            COPY_S		CALL SET_CH_ADD
(1) 1429/    1363 : CD 2A 1E            		CALL GET_NEXT_SYM
(1) 1430/    1366 : CD BD 1D            		CALL PUT_NUMDSK_STK
(1) 1431/    1369 : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 1432/    136C : CD 6F 16            		CALL RESERVED_RAM
(1) 1433/    136F : 21 AA 27            		LD HL,TXT_INS_SRC	; "INSERT SOURCE DISK THEN PRESS Y"
(1) 1434/    1372 : CD 07 27            		CALL PRINT_MSG		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1435/    1375 : CD 52 10            LOC_1375	CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1) 1436/    1378 : FE 59               		CP "Y"
(1) 1437/    137A : 20 F9               		JR NZ,LOC_1375
(1) 1438/    137C : CD 9F 1D            		CALL CLEAR_DOWN_SCR	; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1) 1439/    137F : CD 2E 10            		CALL INP_EXTFILENAME	; èêàÖå êÄëòàêÖçàü îÄâãÄ
(1) 1440/    1382 : CD B0 1C            		CALL SET_CP_FILENAME
(1) 1441/    1385 : C2 D9 03            		JP NZ,ERR_NOFILES
(1) 1442/    1388 : CD B7 13            		CALL COPY_ON1DSK
(1) 1443/    138B : 3A E5 5C            		LD A,(TRD_5CE5)		; êÄëòàêÖçàÖ îÄâãÄ
(1) 1444/    138E : FE 23               		CP "#"
(1) 1445/    1390 : C2 E1 03            		JP NZ,ERR_OK
(1) 1446/    1393 : 3E 0A               LOC_1393	LD A,0X0A
(1) 1447/    1395 : 32 06 5D            		LD (TRD_5D06),A		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1) 1448/    1398 : 21 E6 5C            		LD HL,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 1449/    139B : 34                  		INC (HL)
(1) 1450/    139C : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1) 1451/    139F : 21 AA 27            		LD HL,TXT_INS_SRC	; "INSERT SOURCE DISK THEN PRESS Y"
(1) 1452/    13A2 : CD 07 27            		CALL PRINT_MSG		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1453/    13A5 : CD 52 10            LOC_13A5	CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1) 1454/    13A8 : FE 59               		CP "Y"
(1) 1455/    13AA : 20 F9               		JR NZ,LOC_13A5
(1) 1456/    13AC : CD B3 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 1457/    13AF : C2 E1 03            		JP NZ,ERR_OK
(1) 1458/    13B2 : CD B7 13            		CALL COPY_ON1DSK
(1) 1459/    13B5 : 18 DC               		JR LOC_1393
(1) 1460/    13B7 :                     
(1) 1461/    13B7 : CD 5D 16            COPY_ON1DSK	CALL RDHEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 56 - 11/17/2013 22:45:09


(1) 1462/    13BA : 21 E6 5C            		LD HL,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 1463/    13BD : 11 ED 5C            		LD DE,TRD_5CED		; çéåÖê	èÖêÇéÉé	íêÖäÄ îÄâãÄ
(1) 1464/    13C0 : 01 07 00            		LD BC,7
(1) 1465/    13C3 : ED B0               		LDIR
(1) 1466/    13C5 : 3A F1 5C            		LD A,(TRD_5CF1)
(1) 1467/    13C8 : 32 10 5D            		LD (TRD_5D10),A		; ëíÄêòàâ ÅÄâí éòàÅäà
(1) 1468/    13CB : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 1469/    13CE : CD 11 3E            		CALL GET_TYPE_DISK
(1) 1470/    13D1 : 32 D9 5C            		LD (TRD_5CD9), A	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 1471/    13D4 : 3E FF               		LD A,0XFF
(1) 1472/    13D6 : 32 21 5D            		LD (TRD_5D21),A
(1) 1473/    13D9 : CD 51 14            		CALL COPY_ON1DSK_
(1) 1474/    13DC : 2A 1F 5D            		LD HL,(TRD_5D1F)
(1) 1475/    13DF : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1476/    13E2 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 1477/    13E5 : 22 06 5E            		LD (TRD_5E06),HL
(1) 1478/    13E8 : 21 09 5E            		LD HL,TRD_5E09
(1) 1479/    13EB : 34                  		INC (HL)
(1) 1480/    13EC : 4E                  		LD C,(HL)
(1) 1481/    13ED : 0D                  		DEC C
(1) 1482/    13EE : 06 00               		LD B,0
(1) 1483/    13F0 : C5                  		PUSH BC
(1) 1484/    13F1 : 11 09 00            		LD DE,9
(1) 1485/    13F4 : ED 53 F4 5C         		LD (TRD_5CF4),DE
(1) 1486/    13F8 : CD 43 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 1487/    13FB : C1                  		POP BC
(1) 1488/    13FC : CD 6B 16            		CALL SET_HEAD_FILENAME
(1) 1489/    13FF : CD 43 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 1490/    1402 : C9                  		RET
(1) 1491/    1403 :                     
(1) 1492/    1403 : AF                  CP_FREESEC	XOR A
(1) 1493/    1404 : 32 21 5D            		LD (TRD_5D21),A
(1) 1494/    1407 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 1495/    140A : CD 11 3E            		CALL GET_TYPE_DISK
(1) 1496/    140D : 32 DA 5C            		LD (TRD_5CDA), A
(1) 1497/    1410 : CD B3 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 1498/    1413 : CA 50 1C            		JP Z,FILE_EXISTS
(1) 1499/    1416 : CD FD 03            		CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1) 1500/    1419 : 3A 09 5E            		LD A,(TRD_5E09)
(1) 1501/    141C : FE 80               		CP 0X80
(1) 1502/    141E : CA 23 27            		JP Z,ERR_DIRFULL
(1) 1503/    1421 : 21 ED 5C            		LD HL,TRD_5CED		; çéåÖê	èÖêÇéÉé	íêÖäÄ îÄâãÄ
(1) 1504/    1424 : 11 E6 5C            		LD DE,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 1505/    1427 : 01 07 00            		LD BC,7
(1) 1506/    142A : ED B0               		LDIR
(1) 1507/    142C : CD FD 03            		CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1) 1508/    142F : 3A 10 5D            		LD A,(TRD_5D10)		; ëíÄêòàâ ÅÄâí éòàÅäà
(1) 1509/    1432 : 32 EA 5C            		LD (TRD_5CEA),A		; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 1510/    1435 : ED 5B EA 5C         		LD DE,(TRD_5CEA)	; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 1511/    1439 : 16 00               		LD D,0
(1) 1512/    143B : B7                  		OR A
(1) 1513/    143C : 2A 0A 5E            		LD HL,(TRD_5E0A)
(1) 1514/    143F : ED 52               		SBC HL,DE
(1) 1515/    1441 : DA 45 1C            		JP C,LOC_1C45
(1) 1516/    1444 : 22 0A 5E            		LD (TRD_5E0A), HL
(1) 1517/    1447 : 2A 06 5E            		LD HL,(TRD_5E06)
(1) 1518/    144A : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1519/    144D : 22 1F 5D            		LD (TRD_5D1F),HL
(1) 1520/    1450 : C9                  		RET
(1) 1521/    1451 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 57 - 11/17/2013 22:45:09


(1) 1522/    1451 : 3A F1 5C            COPY_ON1DSK_	LD A,(TRD_5CF1)
(1) 1523/    1454 : B7                  		OR A
(1) 1524/    1455 : C8                  		RET Z
(1) 1525/    1456 : 3A 21 5D            		LD A,(TRD_5D21)
(1) 1526/    1459 : B7                  		OR A
(1) 1527/    145A : 20 13               		JR NZ,LOC_146F
(1) 1528/    145C : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1) 1529/    145F : 21 AA 27            		LD HL,TXT_INS_SRC	; "INSERT SOURCE DISK THEN PRESS Y"
(1) 1530/    1462 : CD 07 27            		CALL PRINT_MSG		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1531/    1465 : CD 52 10            LOC_1465	CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1) 1532/    1468 : FE 59               		CP "Y"
(1) 1533/    146A : 20 F9               		JR NZ,LOC_1465
(1) 1534/    146C : CD 9F 1D            		CALL CLEAR_DOWN_SCR	; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1) 1535/    146F : 3A F1 5C            LOC_146F	LD A,(TRD_5CF1)
(1) 1536/    1472 : B7                  		OR A
(1) 1537/    1473 : C8                  		RET Z
(1) 1538/    1474 : E5                  		PUSH HL
(1) 1539/    1475 : 21 23 5D            		LD HL,TRD_5D23
(1) 1540/    1478 : 96                  		SUB (HL)
(1) 1541/    1479 : E1                  		POP HL
(1) 1542/    147A : 30 4F               		JR NC,LOC_14CB
(1) 1543/    147C : 3A F1 5C            		LD A,(TRD_5CF1)
(1) 1544/    147F : 47                  		LD B,A
(1) 1545/    1480 : AF                  		XOR A
(1) 1546/    1481 : 32 F1 5C            		LD (TRD_5CF1), A
(1) 1547/    1484 : C5                  LOC_1484	PUSH BC
(1) 1548/    1485 : 32 CE 5C            		LD (TRD_5CCE),A		; #00-óíÖçàÖ ëÖäíéêÄ,#FF-áÄèàëú	ëÖäíéêÄ
(1) 1549/    1488 : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1550/    148B : E5                  		PUSH HL
(1) 1551/    148C : ED 5B F2 5C         		LD DE,(TRD_5CF2)
(1) 1552/    1490 : CD D8 14            		CALL SETUP_DSK_SOURCE
(1) 1553/    1493 : CD 3D 1E            		CALL COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1) 1554/    1496 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 1555/    1499 : 22 F2 5C            		LD (TRD_5CF2), HL
(1) 1556/    149C : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1) 1557/    149F : 21 85 27            		LD HL,TXT_INS_DEST		; "INSERT DESTINATION DISK"
(1) 1558/    14A2 : CD 07 27            		CALL PRINT_MSG		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1559/    14A5 : CD 52 10            LOC_14A5	CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1) 1560/    14A8 : FE 59               		CP "Y"
(1) 1561/    14AA : 20 F9               		JR NZ,LOC_14A5
(1) 1562/    14AC : CD 9F 1D            		CALL CLEAR_DOWN_SCR	; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1) 1563/    14AF : 3A 21 5D            		LD A,(TRD_5D21)
(1) 1564/    14B2 : B7                  		OR A
(1) 1565/    14B3 : C4 03 14            		CALL NZ,CP_FREESEC
(1) 1566/    14B6 : E1                  		POP HL
(1) 1567/    14B7 : C1                  		POP BC
(1) 1568/    14B8 : ED 5B EB 5C         		LD DE,(TRD_5CEB)	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1569/    14BC : CD E4 14            		CALL SETUP_DSK_DEST
(1) 1570/    14BF : CD 4D 1E            		CALL COM_06
(1) 1571/    14C2 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 1572/    14C5 : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1573/    14C8 : C3 51 14            		JP COPY_ON1DSK_
(1) 1574/    14CB :                     
(1) 1575/    14CB : 32 F1 5C            LOC_14CB	LD (TRD_5CF1),A
(1) 1576/    14CE : E5                  		PUSH HL
(1) 1577/    14CF : 21 23 5D            		LD HL,TRD_5D23
(1) 1578/    14D2 : 46                  		LD B,(HL)
(1) 1579/    14D3 : E1                  		POP HL
(1) 1580/    14D4 : AF                  		XOR A
(1) 1581/    14D5 : C3 84 14            		JP LOC_1484
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 58 - 11/17/2013 22:45:09


(1) 1582/    14D8 :                     
(1) 1583/    14D8 :                     SETUP_DSK_SOURCE
(1) 1584/    14D8 : E5                  		PUSH HL
(1) 1585/    14D9 : D5                  		PUSH DE
(1) 1586/    14DA : CD 11 3E            		CALL GET_TYPE_DISK
(1) 1587/    14DD : 3A D9 5C            		LD A,(TRD_5CD9)		; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 1588/    14E0 : 77                  		LD (HL),A
(1) 1589/    14E1 : D1                  		POP DE
(1) 1590/    14E2 : E1                  		POP HL
(1) 1591/    14E3 : C9                  		RET
(1) 1592/    14E4 :                     
(1) 1593/    14E4 : E5                  SETUP_DSK_DEST	PUSH HL
(1) 1594/    14E5 : D5                  		PUSH DE
(1) 1595/    14E6 : CD 11 3E            		CALL GET_TYPE_DISK
(1) 1596/    14E9 : 3A DA 5C            		LD A,(TRD_5CDA)
(1) 1597/    14EC : 77                  		LD (HL),A
(1) 1598/    14ED : D1                  		POP DE
(1) 1599/    14EE : E1                  		POP HL
(1) 1600/    14EF : C9                  		RET
(1) 1601/    14F0 :                     
(1) 1602/    14F0 : AF                  CP_FREE_DEST	XOR A
(1) 1603/    14F1 : 32 21 5D            		LD (TRD_5D21),A
(1) 1604/    14F4 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 1605/    14F7 : CD 11 3E            		CALL GET_TYPE_DISK
(1) 1606/    14FA : 32 DA 5C            		LD (TRD_5CDA),A
(1) 1607/    14FD : 3A 08 5E            		LD A,(TRD_5E08)
(1) 1608/    1500 : 32 E7 5C            		LD (TRD_5CE7),A		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 1609/    1503 : 21 80 02            		LD HL,0X280
(1) 1610/    1506 : FE 19               		CP 0X19
(1) 1611/    1508 : 28 15               		JR Z,SAVE_SECS_DEST
(1) 1612/    150A : 21 00 05            		LD HL,0X500
(1) 1613/    150D : FE 18               		CP 0X18
(1) 1614/    150F : 28 0E               		JR Z,SAVE_SECS_DEST
(1) 1615/    1511 : FE 17               		CP 0X17
(1) 1616/    1513 : 28 0A               		JR Z,SAVE_SECS_DEST
(1) 1617/    1515 : 21 00 0A            		LD HL,0X0A00
(1) 1618/    1518 : FE 16               		CP 0X16
(1) 1619/    151A : 28 03               		JR Z,SAVE_SECS_DEST
(1) 1620/    151C : C3 1A 1D            		JP SINTAX_ERROR
(1) 1621/    151F :                     
(1) 1622/    151F : 22 DD 5C            SAVE_SECS_DEST	LD (TRD_5CDD),HL	; àåü îÄâãÄ
(1) 1623/    1522 : ED 4B DF 5C         		LD BC,(TRD_5CDF)
(1) 1624/    1526 : ED 42               		SBC HL,BC
(1) 1625/    1528 : DA 45 1C            		JP C,LOC_1C45
(1) 1626/    152B : C9                  		RET
(1) 1627/    152C :                     
(1) 1628/    152C : CD 75 1D            COPY_B		CALL EXIT_IF_SINTAX
(1) 1629/    152F : CD 6F 16            		CALL RESERVED_RAM
(1) 1630/    1532 : 21 79 27            		LD HL,TXT_BACKUPDISK	; "BACKUP DISK"
(1) 1631/    1535 : CD 07 27            		CALL PRINT_MSG		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1632/    1538 : 21 AA 27            		LD HL,TXT_INS_SRC	; "INSERT SOURCE DISK THEN PRESS Y"
(1) 1633/    153B : CD 07 27            		CALL PRINT_MSG		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1634/    153E : CD 52 10            LOC_153E	CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1) 1635/    1541 : FE 59               		CP "Y"
(1) 1636/    1543 : 20 F9               		JR NZ,LOC_153E
(1) 1637/    1545 : CD 9F 1D            		CALL CLEAR_DOWN_SCR	; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1) 1638/    1548 : 3E FF               		LD A,0XFF
(1) 1639/    154A : 32 21 5D            		LD (TRD_5D21),A
(1) 1640/    154D : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 1641/    1550 : CD 11 3E            		CALL GET_TYPE_DISK
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 59 - 11/17/2013 22:45:09


(1) 1642/    1553 : 32 D9 5C            		LD (TRD_5CD9),A		; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 1643/    1556 : 3A 08 5E            		LD A,(TRD_5E08)
(1) 1644/    1559 : FE 19               		CP 0X19
(1) 1645/    155B : 21 80 02            		LD HL,0X280
(1) 1646/    155E : 28 15               		JR Z,LOC_1575
(1) 1647/    1560 : 21 00 05            		LD HL,0X500
(1) 1648/    1563 : FE 18               		CP 0X18
(1) 1649/    1565 : 28 0E               		JR Z,LOC_1575
(1) 1650/    1567 : FE 17               		CP 0X17
(1) 1651/    1569 : 28 0A               		JR Z,LOC_1575
(1) 1652/    156B : 21 00 0A            		LD HL,0X0A00
(1) 1653/    156E : FE 16               		CP 0X16
(1) 1654/    1570 : 28 03               		JR Z,LOC_1575
(1) 1655/    1572 : C3 0F 04            		JP DISCERROR_
(1) 1656/    1575 :                     
(1) 1657/    1575 : ED 4B 0A 5E         LOC_1575	LD BC,(TRD_5E0A)
(1) 1658/    1579 : ED 42               		SBC HL,BC
(1) 1659/    157B : 22 E5 5C            		LD (TRD_5CE5),HL	; êÄëòàêÖçàÖ îÄâãÄ
(1) 1660/    157E : 22 DF 5C            		LD (TRD_5CDF),HL
(1) 1661/    1581 : 21 00 00            		LD HL,0
(1) 1662/    1584 : 22 E1 5C            		LD (TRD_5CE1),HL
(1) 1663/    1587 : 22 E3 5C            		LD (TRD_5CE3),HL
(1) 1664/    158A : CD B8 15            		CALL COPY_SECTORS
(1) 1665/    158D : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 1666/    1590 : 3A E7 5C            		LD A,(TRD_5CE7)		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 1667/    1593 : 32 08 5E            		LD (TRD_5E08),A
(1) 1668/    1596 : 2A DD 5C            		LD HL,(TRD_5CDD)	; àåü îÄâãÄ
(1) 1669/    1599 : ED 4B DF 5C         		LD BC,(TRD_5CDF)
(1) 1670/    159D : ED 42               		SBC HL,BC
(1) 1671/    159F : 22 0A 5E            		LD (TRD_5E0A),HL
(1) 1672/    15A2 : CD E4 14            		CALL SETUP_DSK_DEST
(1) 1673/    15A5 : 11 09 00            		LD DE,9
(1) 1674/    15A8 : ED 53 F4 5C         		LD (TRD_5CF4),DE
(1) 1675/    15AC : CD 43 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 1676/    15AF : C3 E1 03            		JP ERR_OK
(1) 1677/    15B2 :                     
(1) 1678/    15B2 : 2A E5 5C            CP_COPY_SECS	LD HL,(TRD_5CE5)	; êÄëòàêÖçàÖ îÄâãÄ
(1) 1679/    15B5 : 7C                  		LD A,H
(1) 1680/    15B6 : B5                  		OR L
(1) 1681/    15B7 : C9                  		RET
(1) 1682/    15B8 :                     
(1) 1683/    15B8 : CD B2 15            COPY_SECTORS	CALL CP_COPY_SECS
(1) 1684/    15BB : C8                  		RET Z
(1) 1685/    15BC : 3A 21 5D            		LD A,(TRD_5D21)
(1) 1686/    15BF : B7                  		OR A
(1) 1687/    15C0 : 20 19               		JR NZ,LOC_15DB
(1) 1688/    15C2 : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1) 1689/    15C5 : 21 79 27            		LD HL,TXT_BACKUPDISK	; "BACKUP DISK"
(1) 1690/    15C8 : CD 07 27            		CALL PRINT_MSG		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1691/    15CB : 21 AA 27            		LD HL,TXT_INS_SRC	; "INSERT SOURCE DISK THEN PRESS Y"
(1) 1692/    15CE : CD 07 27            		CALL PRINT_MSG		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1693/    15D1 : CD 52 10            LOC_15D1	CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1) 1694/    15D4 : FE 59               		CP "Y"
(1) 1695/    15D6 : 20 F9               		JR NZ,LOC_15D1
(1) 1696/    15D8 : CD 9F 1D            		CALL CLEAR_DOWN_SCR	; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1) 1697/    15DB : CD B2 15            LOC_15DB	CALL CP_COPY_SECS
(1) 1698/    15DE : C8                  		RET Z
(1) 1699/    15DF : C5                  		PUSH BC
(1) 1700/    15E0 : E5                  		PUSH HL
(1) 1701/    15E1 : 21 23 5D            		LD HL,TRD_5D23
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 60 - 11/17/2013 22:45:09


(1) 1702/    15E4 : 4E                  		LD C,(HL)
(1) 1703/    15E5 : 06 00               		LD B,0
(1) 1704/    15E7 : E1                  		POP HL
(1) 1705/    15E8 : ED 42               		SBC HL,BC
(1) 1706/    15EA : C1                  		POP BC
(1) 1707/    15EB : D2 44 16            		JP NC,LOC_1644
(1) 1708/    15EE : ED 4B E5 5C         		LD BC,(TRD_5CE5)	; êÄëòàêÖçàÖ îÄâãÄ
(1) 1709/    15F2 : 21 00 00            		LD HL,0
(1) 1710/    15F5 : 22 E5 5C            		LD (TRD_5CE5),HL	; êÄëòàêÖçàÖ îÄâãÄ
(1) 1711/    15F8 : C5                  LOC_15F8	PUSH BC
(1) 1712/    15F9 : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1713/    15FC : E5                  		PUSH HL
(1) 1714/    15FD : CD D8 14            		CALL SETUP_DSK_SOURCE
(1) 1715/    1600 : ED 5B E1 5C         		LD DE,(TRD_5CE1)
(1) 1716/    1604 : 41                  		LD B,C
(1) 1717/    1605 : CD 3D 1E            		CALL COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1) 1718/    1608 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 1719/    160B : 22 E1 5C            		LD (TRD_5CE1),HL
(1) 1720/    160E : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1) 1721/    1611 : 21 79 27            		LD HL,TXT_BACKUPDISK	; "BACKUP DISK"
(1) 1722/    1614 : CD 07 27            		CALL PRINT_MSG		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1723/    1617 : 21 85 27            		LD HL,TXT_INS_DEST	; "INSERT DESTINATION DISK"
(1) 1724/    161A : CD 07 27            		CALL PRINT_MSG		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 1725/    161D : CD 52 10            LOC_161D	CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1) 1726/    1620 : FE 59               		CP "Y"
(1) 1727/    1622 : 20 F9               		JR NZ,LOC_161D
(1) 1728/    1624 : CD 9F 1D            		CALL CLEAR_DOWN_SCR	; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1) 1729/    1627 : 3A 21 5D            		LD A,(TRD_5D21)
(1) 1730/    162A : B7                  		OR A
(1) 1731/    162B : C4 F0 14            		CALL NZ,CP_FREE_DEST
(1) 1732/    162E : E1                  		POP HL
(1) 1733/    162F : C1                  		POP BC
(1) 1734/    1630 : ED 5B E3 5C         		LD DE,(TRD_5CE3)
(1) 1735/    1634 : 41                  		LD B,C
(1) 1736/    1635 : CD E4 14            		CALL SETUP_DSK_DEST
(1) 1737/    1638 : CD 4D 1E            		CALL COM_06
(1) 1738/    163B : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 1739/    163E : 22 E3 5C            		LD (TRD_5CE3),HL
(1) 1740/    1641 : C3 B8 15            		JP COPY_SECTORS
(1) 1741/    1644 :                     
(1) 1742/    1644 : 22 E5 5C            LOC_1644	LD (TRD_5CE5),HL	; êÄëòàêÖçàÖ îÄâãÄ
(1) 1743/    1647 : E5                  		PUSH HL
(1) 1744/    1648 : 21 23 5D            		LD HL,0X5D23
(1) 1745/    164B : 4E                  		LD C,(HL)
(1) 1746/    164C : 06 00               		LD B,0
(1) 1747/    164E : E1                  		POP HL
(1) 1748/    164F : AF                  		XOR A
(1) 1749/    1650 : C3 F8 15            		JP LOC_15F8
(1) 1750/    1653 :                     
(1) 1751/    1653 : CD 5D 16            CP_ERASED_FILE	CALL RDHEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 1752/    1656 : 3A DD 5C            		LD A,(TRD_5CDD)		; àåü îÄâãÄ
(1) 1753/    1659 : FE 01               		CP 1
(1) 1754/    165B : C9                  		RET
(1) 1755/    165C :                     
(1) 1756/    165C :                     ;ëóàíõÇÄçàÖ éèàëÄíÖãü Ç ÅìîÖê 0X5CDD
(1) 1757/    165C : 4F                  COM_08		LD C,A
(1) 1758/    165D : AF                  RDHEAD_FILENAME	XOR A			; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 1759/    165E : C5                  LOC_165E	PUSH BC
(1) 1760/    165F : CD E9 17            		CALL RD_HEAD_COPY
(1) 1761/    1662 : C1                  		POP BC
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 61 - 11/17/2013 22:45:09


(1) 1762/    1663 : C9                  		RET
(1) 1763/    1664 :                     
(1) 1764/    1664 :                     ;áÄèàëú éèàëÄíÖãü îÄâãÄ çÄ Ñàëä
(1) 1765/    1664 : 4F                  COM_09		LD C,A
(1) 1766/    1665 : CD 6B 16            		CALL SET_HEAD_FILENAME
(1) 1767/    1668 : C3 43 1E            		JP REWRITE_9SEC		; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 1768/    166B :                     
(1) 1769/    166B :                     SET_HEAD_FILENAME
(1) 1770/    166B : 3E FF               		LD A,0XFF
(1) 1771/    166D : 18 EF               		JR LOC_165E
(1) 1772/    166F :                     
(1) 1773/    166F : 3E FF               RESERVED_RAM	LD A,0XFF
(1) 1774/    1671 : 32 0E 5D            		LD (TRD_5D0E),A		; #FE-êÄÅéíÄÖí BASIC,àçÄóÖ TR-DOS
(1) 1775/    1674 : CD 80 16            		CALL CP_FREE_SECS
(1) 1776/    1677 : 2A 61 5C            		LD HL,(WORKSP)
(1) 1777/    167A : 22 CF 5C            		LD (TRD_5CCF), HL	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1778/    167D : C3 23 1E            		JP CREATE_FREERAM
(1) 1779/    1680 :                     
(1) 1780/    1680 : E7                  CP_FREE_SECS	RST 0X20
(1) 1781/    1681 : 1A 1F               		DW 0X1F1A		; èêéÇÖêäÄ êÄáåÖêÄ ëÇéÅéÑçéâ èÄåüíà
(1) 1782/    1683 : 21 FF FF            		LD HL,0XFFFF
(1) 1783/    1686 : ED 42               		SBC HL,BC
(1) 1784/    1688 : 7C                  		LD A,H
(1) 1785/    1689 : FE 10               		CP 0X10
(1) 1786/    168B : 30 02               		JR NC,LOC_168F
(1) 1787/    168D : 3E 11               		LD A,0X11
(1) 1788/    168F : 3D                  LOC_168F	DEC A
(1) 1789/    1690 : 32 23 5D            		LD (TRD_5D23),A
(1) 1790/    1693 : 47                  		LD B,A
(1) 1791/    1694 : 0E 00               		LD C,0
(1) 1792/    1696 : C9                  		RET
(1) 1793/    1697 :                     
(1) 1794/    1697 : 22 D7 5C            ADD_FILESIZE	LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 1795/    169A :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 1796/    169A : 22 DB 5C            		LD (TRD_5CDB),HL
(1) 1797/    169D : ED 5B EA 5C         		LD DE,(TRD_5CEA)	; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 1798/    16A1 : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 1799/    16A4 : 16 00               		LD D,0
(1) 1800/    16A6 : 19                  		ADD HL,DE
(1) 1801/    16A7 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 1802/    16AA : C9                  		RET
(1) 1803/    16AB :                     
(1) 1804/    16AB : CD 75 1D            MOVE		CALL EXIT_IF_SINTAX
(1) 1805/    16AE : CD 6F 16            		CALL RESERVED_RAM
(1) 1806/    16B1 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 1807/    16B4 : 3A 19 5E            		LD A,(TRD_5E19)
(1) 1808/    16B7 : B7                  		OR A
(1) 1809/    16B8 : CA E1 03            		JP Z,ERR_OK
(1) 1810/    16BB : 21 00 00            		LD HL,0
(1) 1811/    16BE : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 1812/    16C1 : 0E FF               		LD C,0XFF
(1) 1813/    16C3 : 0C                  LOC_16C3	INC C
(1) 1814/    16C4 : CD 53 16            		CALL CP_ERASED_FILE
(1) 1815/    16C7 : 20 FA               		JR NZ,LOC_16C3
(1) 1816/    16C9 : 79                  		LD A,C
(1) 1817/    16CA : 32 D4 5C            		LD (TRD_5CD4),A
(1) 1818/    16CD : 2A EB 5C            		LD HL,(TRD_5CEB)	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1819/    16D0 : 22 D5 5C            		LD (TRD_5CD5),HL
(1) 1820/    16D3 : CD 97 16            		CALL ADD_FILESIZE
(1) 1821/    16D6 : 0C                  LOC_16D6	INC C
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 62 - 11/17/2013 22:45:09


(1) 1822/    16D7 : CD 53 16            		CALL CP_ERASED_FILE
(1) 1823/    16DA : 28 FA               		JR Z,LOC_16D6
(1) 1824/    16DC : FE 00               		CP 0
(1) 1825/    16DE : C2 10 17            		JP NZ,LOC_1710
(1) 1826/    16E1 : 3A D4 5C            		LD A,(TRD_5CD4)
(1) 1827/    16E4 : 4F                  		LD C,A
(1) 1828/    16E5 : 0C                  LOC_16E5	INC C
(1) 1829/    16E6 : CD 53 16            		CALL CP_ERASED_FILE
(1) 1830/    16E9 : FE 00               		CP 0
(1) 1831/    16EB : 28 7F               		JR Z,REINIT_9SEC
(1) 1832/    16ED : AF                  		XOR A
(1) 1833/    16EE : 32 DD 5C            		LD (TRD_5CDD),A		; àåü îÄâãÄ
(1) 1834/    16F1 : CD 40 1E            		CALL WR_HEAD_FILENAME	; ëéïêÄçÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 1835/    16F4 : CD 97 16            		CALL ADD_FILESIZE
(1) 1836/    16F7 : 18 EC               		JR LOC_16E5
(1) 1837/    16F9 :                     
(1) 1838/    16F9 : (MACRO)             		DUPL 0X1710-$,0XFF
(1) 1838/    16F9 :                     DUPL:
(1) 1838/    16F9 : =0H                 $$N             EQU (0X1710-$) / 1024
(1) 1838/    16F9 : =17H                $$M             EQU (0X1710-$) # 1024
(1) 1838/    16F9 :                                     REPT $$N
(1) 1838/    16F9 :                                     DB 1024 DUP(0XFF)
(1) 1838/    16F9 :                                     ENDM
(1) 1838/    16F9 : =>TRUE                              IF $$M <> 0
(1) 1838/    16F9 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF 
(1) 1838/    1710 : [1838]                              ENDIF
(1) 1839/    1710 : 3A EA 5C            LOC_1710	LD A,(TRD_5CEA)		; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 1840/    1713 : 32 D3 5C            		LD (TRD_5CD3),A
(1) 1841/    1716 : 32 D1 5C            		LD (TRD_5CD1),A
(1) 1842/    1719 : 2A EB 5C            		LD HL,(TRD_5CEB)	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1843/    171C : 22 D5 5C            		LD (TRD_5CD5),HL
(1) 1844/    171F : C5                  		PUSH BC
(1) 1845/    1720 : CD A5 17            		CALL MOVE_FILE
(1) 1846/    1723 : C1                  		POP BC
(1) 1847/    1724 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 1848/    1727 : 22 D5 5C            		LD (TRD_5CD5),HL
(1) 1849/    172A : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1850/    172D : AF                  		XOR A
(1) 1851/    172E : 32 EA 5C            		LD (TRD_5CEA),A		; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 1852/    1731 : 3A DD 5C            		LD A,(TRD_5CDD)		; àåü îÄâãÄ
(1) 1853/    1734 : F5                  		PUSH AF
(1) 1854/    1735 : 3E 01               		LD A,1
(1) 1855/    1737 : 32 DD 5C            		LD (TRD_5CDD),A		; àåü îÄâãÄ
(1) 1856/    173A : CD 40 1E            		CALL WR_HEAD_FILENAME	; ëéïêÄçÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 1857/    173D : F1                  		POP AF
(1) 1858/    173E : 32 DD 5C            		LD (TRD_5CDD),A		; àåü îÄâãÄ
(1) 1859/    1741 : 3A D4 5C            		LD A,(TRD_5CD4)
(1) 1860/    1744 : 4F                  		LD C,A
(1) 1861/    1745 : 2A DB 5C            		LD HL,(TRD_5CDB)
(1) 1862/    1748 : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1863/    174B : 3A D1 5C            		LD A,(TRD_5CD1)
(1) 1864/    174E : 32 EA 5C            		LD (TRD_5CEA),A		; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 1865/    1751 : CD 40 1E            		CALL WR_HEAD_FILENAME	; ëéïêÄçÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 1866/    1754 : 3A D4 5C            		LD A,(TRD_5CD4)
(1) 1867/    1757 : 3C                  		INC A
(1) 1868/    1758 : 4F                  		LD C,A
(1) 1869/    1759 : CD 5D 16            		CALL RDHEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 63 - 11/17/2013 22:45:09


(1) 1870/    175C : 2A D5 5C            		LD HL,(TRD_5CD5)
(1) 1871/    175F : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 1872/    1762 : CD 40 1E            		CALL WR_HEAD_FILENAME	; ëéïêÄçÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 1873/    1765 : 3A D4 5C            		LD A,(TRD_5CD4)
(1) 1874/    1768 : 4F                  		LD C,A
(1) 1875/    1769 : C3 C3 16            		JP LOC_16C3
(1) 1876/    176C :                     
(1) 1877/    176C : 2A CF 5C            REINIT_9SEC	LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1878/    176F : 01 00 10            		LD BC,0X1000
(1) 1879/    1772 : CD 2E 1E            		CALL DEL_WORKRAM
(1) 1880/    1775 : CD FD 03            		CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1) 1881/    1778 : 2A 0A 5E            		LD HL,(TRD_5E0A)
(1) 1882/    177B : ED 5B D9 5C         		LD DE,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 1883/    177F : 19                  		ADD HL,DE
(1) 1884/    1780 : 22 0A 5E            		LD (TRD_5E0A),HL
(1) 1885/    1783 : 3A 09 5E            		LD A,(TRD_5E09)
(1) 1886/    1786 : 21 19 5E            		LD HL,TRD_5E19
(1) 1887/    1789 : 96                  		SUB (HL)
(1) 1888/    178A : 32 09 5E            		LD (TRD_5E09),A
(1) 1889/    178D : 36 00               		LD (HL),0
(1) 1890/    178F : 2A D5 5C            		LD HL,(TRD_5CD5)
(1) 1891/    1792 : 22 06 5E            		LD (TRD_5E06),HL
(1) 1892/    1795 : F5                  		PUSH AF
(1) 1893/    1796 : CD 43 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 1894/    1799 : F1                  		POP AF
(1) 1895/    179A : 4F                  		LD C,A
(1) 1896/    179B : CD 5D 16            		CALL RDHEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 1897/    179E : AF                  		XOR A
(1) 1898/    179F : 32 DD 5C            		LD (TRD_5CDD),A		; àåü îÄâãÄ
(1) 1899/    17A2 : C3 69 05            		JP LOC_569
(1) 1900/    17A5 :                     
(1) 1901/    17A5 : 3A D3 5C            MOVE_FILE	LD A,(TRD_5CD3)
(1) 1902/    17A8 : B7                  		OR A
(1) 1903/    17A9 : C8                  		RET Z
(1) 1904/    17AA : E5                  		PUSH HL
(1) 1905/    17AB : 21 23 5D            		LD HL,TRD_5D23
(1) 1906/    17AE : 96                  		SUB (HL)
(1) 1907/    17AF : E1                  		POP HL
(1) 1908/    17B0 : 30 2B               		JR NC,LOC_17DD
(1) 1909/    17B2 : 3A D3 5C            		LD A,(TRD_5CD3)
(1) 1910/    17B5 : 47                  		LD B,A
(1) 1911/    17B6 : AF                  		XOR A
(1) 1912/    17B7 : 32 D3 5C            		LD (TRD_5CD3),A
(1) 1913/    17BA : C5                  LOC_17BA	PUSH BC
(1) 1914/    17BB : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 1915/    17BE : E5                  		PUSH HL
(1) 1916/    17BF : ED 5B D5 5C         		LD DE,(TRD_5CD5)
(1) 1917/    17C3 : CD 3D 1E            		CALL COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1) 1918/    17C6 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 1919/    17C9 : 22 D5 5C            		LD (TRD_5CD5),HL
(1) 1920/    17CC : E1                  		POP HL
(1) 1921/    17CD : C1                  		POP BC
(1) 1922/    17CE : ED 5B D7 5C         		LD DE,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 1923/    17D2 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 1924/    17D2 : CD 4D 1E            		CALL COM_06
(1) 1925/    17D5 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 1926/    17D8 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 1927/    17DB :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 1928/    17DB : 18 C8               		JR MOVE_FILE
(1) 1929/    17DD :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 64 - 11/17/2013 22:45:09


(1) 1930/    17DD : 32 D3 5C            LOC_17DD	LD (TRD_5CD3),A
(1) 1931/    17E0 : E5                  		PUSH HL
(1) 1932/    17E1 : 21 23 5D            		LD HL,TRD_5D23
(1) 1933/    17E4 : 46                  		LD B,(HL)
(1) 1934/    17E5 : E1                  		POP HL
(1) 1935/    17E6 : AF                  		XOR A
(1) 1936/    17E7 : 18 D1               		JR LOC_17BA
(1) 1937/    17E9 :                     
(1) 1938/    17E9 : F5                  RD_HEAD_COPY	PUSH AF
(1) 1939/    17EA : 21 CC 5C            		LD HL,TRD_5CCC		; íÖäìôàâ çéåÖê	ëÖäíéêÄ	èêà óíÖçàà äÄíÄãéÉÄ
(1) 1940/    17ED : 36 00               		LD (HL),0
(1) 1941/    17EF : 79                  		LD A,C
(1) 1942/    17F0 : D6 10               LOC_17F0	SUB 0X10
(1) 1943/    17F2 : 38 03               		JR C,LOC_17F7
(1) 1944/    17F4 : 34                  		INC (HL)
(1) 1945/    17F5 : 18 F9               		JR LOC_17F0
(1) 1946/    17F7 :                     
(1) 1947/    17F7 : C6 10               LOC_17F7	ADD A,0X10
(1) 1948/    17F9 : 4F                  		LD C,A
(1) 1949/    17FA : C5                  		PUSH BC
(1) 1950/    17FB : CD EC 03            		CALL READ_NUM_SEC	; óíÖçàÖ ëÖäíéêÄ äÄíÄãéÉÄ èé çéåÖêì
(1) 1951/    17FE : C1                  		POP BC
(1) 1952/    17FF : F1                  		POP AF
(1) 1953/    1800 : CD A4 1C            		CALL FIND_HEAD_BUF
(1) 1954/    1803 : 11 DD 5C            		LD DE,TRD_5CDD		; àåü îÄâãÄ
(1) 1955/    1806 : 01 10 00            		LD BC,0X10
(1) 1956/    1809 : B7                  		OR A
(1) 1957/    180A : 28 01               		JR Z,LOC_180D
(1) 1958/    180C : EB                  		EX DE,HL
(1) 1959/    180D : =>TRUE              LOC_180D	IF EMU3D2F=1
(1) 1960/    180D : C3 C9 32            		JP EMU_LDIR
(1) 1961/    1810 : =>FALSE             		ELSE
(1) 1962/    1810 :                     		LDIR
(1) 1963/    1810 :                     		RET
(1) 1964/    1810 : [1959]              		ENDIF
(1) 1965/    1810 :                     
(1) 1966/    1810 : 3E FF               VERIFY		LD A,0XFF
(1) 1967/    1812 : 32 F9 5C            		LD (TRD_5CF9),A		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 1968/    1815 : CD 52 18            LOAD		CALL ZERO2HIGH_ERR
(1) 1969/    1818 : CD 36 18            LOC_1818	CALL LOAD_FILE
(1) 1970/    181B : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 1971/    181E : 3E FF               		LD A,0XFF
(1) 1972/    1820 : 32 10 5D            		LD (TRD_5D10),A		; ëíÄêòàâ ÅÄâí éòàÅäà
(1) 1973/    1823 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 1974/    1826 : FE FF               		CP 0XFF
(1) 1975/    1828 : CA E1 03            		JP Z,ERR_OK
(1) 1976/    182B : 3A E5 5C            		LD A,(TRD_5CE5)		; êÄëòàêÖçàÖ îÄâãÄ
(1) 1977/    182E : FE 42               		CP "B"
(1) 1978/    1830 : CA 2A 01            		JP Z,WORK4AUTORUN	; éÅêÄÅéíäÄ ëíêéäà ÄÇíéáÄèìëäÄ ÅÖâëàäÄ
(1) 1979/    1833 : C3 E1 03            		JP ERR_OK
(1) 1980/    1836 :                     
(1) 1981/    1836 : CD 7A 18            LOAD_FILE	CALL GET_PARAMS
(1) 1982/    1839 : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 1983/    183C : CD AB 18            		CALL CP_PARAMS
(1) 1984/    183F : C3 21 19            		JP RD_FILE
(1) 1985/    1842 :                     
(1) 1986/    1842 : 2A 5D 5C            GET_LOAD_CODE	LD HL,(CH_ADD)
(1) 1987/    1845 : 23                  		INC HL
(1) 1988/    1846 : 7E                  		LD A,(HL)
(1) 1989/    1847 : FE 0D               		CP 0X0D
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 65 - 11/17/2013 22:45:09


(1) 1990/    1849 : C8                  		RET Z
(1) 1991/    184A : 3E 01               		LD A,1
(1) 1992/    184C : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 1993/    184F : CD EB 1D            		CALL INPUT_PARAMS
(1) 1994/    1852 : AF                  ZERO2HIGH_ERR	XOR A
(1) 1995/    1853 : 32 10 5D            		LD (TRD_5D10),A		; ëíÄêòàâ ÅÄâí éòàÅäà
(1) 1996/    1856 : C9                  		RET
(1) 1997/    1857 :                     
(1) 1998/    1857 : CD 2E 10            SUB_1857	CALL INP_EXTFILENAME	; èêàÖå êÄëòàêÖçàü îÄâãÄ
(1) 1999/    185A : 3E 42               		LD A,"B"
(1) 2000/    185C : B8                  		CP B
(1) 2001/    185D : 20 07               		JR NZ,LOC_1866
(1) 2002/    185F : 2A 5D 5C            		LD HL,(CH_ADD)
(1) 2003/    1862 : 2B                  		DEC HL
(1) 2004/    1863 : 22 5D 5C            		LD (CH_ADD),HL
(1) 2005/    1866 : CD EB 1D            LOC_1866	CALL INPUT_PARAMS
(1) 2006/    1869 : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2007/    186C : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2008/    186F :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2009/    186F : 2A DB 5C            		LD HL,(TRD_5CDB)
(1) 2010/    1872 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2011/    1875 : AF                  		XOR A
(1) 2012/    1876 : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 2013/    1879 : C9                  		RET
(1) 2014/    187A :                     
(1) 2015/    187A : CD 2B 04            GET_PARAMS	CALL CP_SECOND_SYM
(1) 2016/    187D : CA 7B 02            		JP Z,LOC_27B
(1) 2017/    1880 : CD DF 1D            		CALL SET_AND_PUT
(1) 2018/    1883 : CD 72 05            		CALL CP_HIGH_ERR
(1) 2019/    1886 : C4 57 18            		CALL NZ,SUB_1857
(1) 2020/    1889 : CD 8C 1D            		CALL GET_SYMSTR
(1) 2021/    188C : FE AF               		CP 0XAF
(1) 2022/    188E : CC 42 18            		CALL Z,GET_LOAD_CODE
(1) 2023/    1891 : FE E4               		CP 0XE4
(1) 2024/    1893 : F5                  		PUSH AF
(1) 2025/    1894 : CD 72 05            		CALL CP_HIGH_ERR
(1) 2026/    1897 : CC 2E 10            		CALL Z,INP_EXTFILENAME	; èêàÖå êÄëòàêÖçàü îÄâãÄ
(1) 2027/    189A : F1                  		POP AF
(1) 2028/    189B : CC FC 1B            		CALL Z,READ_MASSIV
(1) 2029/    189E : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 2030/    18A1 : CD 2F 29            		CALL FIND_FILE		; èéàëä	îÄâãÄ èé àåÖçà
(1) 2031/    18A4 : C2 D9 03            FIND_RD_HEAD	JP NZ,ERR_NOFILES
(1) 2032/    18A7 : CD 5D 16            		CALL RDHEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 2033/    18AA : C9                  		RET
(1) 2034/    18AB :                     
(1) 2035/    18AB : 3A D6 5C            CP_PARAMS	LD A,(TRD_5CD6)
(1) 2036/    18AE : B7                  		OR A
(1) 2037/    18AF : 2A E6 5C            		LD HL,(TRD_5CE6)		;ÄÑêÖë áÄÉêìáäà àá éèàëÄíÖãü îÄâãÄ
(1) 2038/    18B2 : 28 03               		JR Z,LOC_18B7
(1) 2039/    18B4 : 2A D9 5C            		LD HL,(TRD_5CD9)		;ÄÑêÖë áÄÉêìáäà àá äéåÄçÑçéâ ëíêéäà
(1) 2040/    18B7 : CD 02 32            LOC_18B7	CALL ADR_START_COM
(1) 2041/    18BA : 00                  		NOP
(1) 2042/    18BB : FE 03               		CP 3
(1) 2043/    18BD : 3A EA 5C            		LD A,(TRD_5CEA)			;ÑãàçÄ îÄâãÄ Ç ëÖäíéêÄï
(1) 2044/    18C0 : D5                  		PUSH DE
(1) 2045/    18C1 : ED 5B E8 5C         		LD DE,(TRD_5CE8)		;ÑãàçÄ èêéÉêÄååõ àá éèàëÄíÖãü
(1) 2046/    18C5 : 20 04               		JR NZ,LOC_18CB
(1) 2047/    18C7 : ED 5B DB 5C         		LD DE,(TRD_5CDB)		;ÑãàçÄ îÄâãÄ Ñãü áÄÉêìáäà àáäéåÄçÑçéâ ëíêéäà
(1) 2048/    18CB : 47                  LOC_18CB	LD B,A
(1) 2049/    18CC : ED 53 DB 5C         		LD (TRD_5CDB),DE
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 66 - 11/17/2013 22:45:09


(1) 2050/    18D0 : 3A E5 5C            		LD A,(TRD_5CE5)			;êÄëòàêÖçàÖ îÄâãÄ
(1) 2051/    18D3 : FE 43               		CP "C"
(1) 2052/    18D5 : 78                  		LD A,B
(1) 2053/    18D6 : 20 25               		JR NZ,LOC_18FD
(1) 2054/    18D8 : 78                  		LD A,B
(1) 2055/    18D9 : BA                  		CP D
(1) 2056/    18DA : 28 1A               		JR Z,LOC_18F6
(1) 2057/    18DC : 3D                  		DEC A
(1) 2058/    18DD : BA                  		CP D
(1) 2059/    18DE : 78                  		LD A,B
(1) 2060/    18DF : 28 15               		JR Z,LOC_18F6
(1) 2061/    18E1 : 3A D6 5C            		LD A,(TRD_5CD6)		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 2062/    18E4 : FE 03               		CP 3
(1) 2063/    18E6 : 78                  		LD A,B
(1) 2064/    18E7 : 28 0D               		JR Z,LOC_18F6
(1) 2065/    18E9 : AF                  		XOR A
(1) 2066/    18EA : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 2067/    18ED : 50                  		LD D,B
(1) 2068/    18EE : 1E 00               		LD E,0
(1) 2069/    18F0 : ED 53 DB 5C         		LD (TRD_5CDB),DE
(1) 2070/    18F4 : 18 03               		JR LOC_18F9
(1) 2071/    18F6 :                     
(1) 2072/    18F6 : CD 1B 19            LOC_18F6	CALL LOAD_FULLFILE
(1) 2073/    18F9 : 78                  LOC_18F9	LD A,B
(1) 2074/    18FA : CD AC 1E            		CALL KOLWO_SECS
(1) 2075/    18FD : 47                  LOC_18FD	LD B,A
(1) 2076/    18FE : 3A E5 5C            		LD A,(TRD_5CE5)		; êÄëòàêÖçàÖ îÄâãÄ
(1) 2077/    1901 : FE 43               		CP "C"
(1) 2078/    1903 : D1                  		POP DE
(1) 2079/    1904 : C8                  		RET Z
(1) 2080/    1905 : D5                  		PUSH DE
(1) 2081/    1906 : FE 42               		CP "B"
(1) 2082/    1908 : F5                  		PUSH AF
(1) 2083/    1909 : CC 01 1A            		CALL Z,LOAD4BASIC
(1) 2084/    190C : F1                  		POP AF
(1) 2085/    190D : FE 44               		CP "D"
(1) 2086/    190F : CC 4C 1A            		CALL Z,LOAD4DATA
(1) 2087/    1912 : CD 1B 19            		CALL LOAD_FULLFILE
(1) 2088/    1915 : 3A DC 5C            		LD A,(TRD_5CDC)
(1) 2089/    1918 : 47                  		LD B,A
(1) 2090/    1919 : D1                  		POP DE
(1) 2091/    191A : C9                  		RET
(1) 2092/    191B :                     
(1) 2093/    191B : 3E 03               LOAD_FULLFILE	LD A,3
(1) 2094/    191D : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 2095/    1920 : C9                  		RET
(1) 2096/    1921 :                     
(1) 2097/    1921 : CD 72 05            RD_FILE		CALL CP_HIGH_ERR
(1) 2098/    1924 : 28 07               		JR Z,LOC_192D
(1) 2099/    1926 : F5                  		PUSH AF
(1) 2100/    1927 : CD 94 1A            		CALL NUM_SEC_FILE
(1) 2101/    192A : F1                  		POP AF
(1) 2102/    192B : FE FF               		CP 0XFF
(1) 2103/    192D : F5                  LOC_192D	PUSH AF
(1) 2104/    192E : CC 5C 19            		CALL Z,RD_SECTORS
(1) 2105/    1931 : F1                  		POP AF
(1) 2106/    1932 : 28 03               		JR Z,LOC_1937
(1) 2107/    1934 : C3 4D 1E            		JP COM_06
(1) 2108/    1937 :                     
(1) 2109/    1937 : 3A D6 5C            LOC_1937	LD A,(TRD_5CD6)		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 67 - 11/17/2013 22:45:09


(1) 2110/    193A : FE 03               		CP 3
(1) 2111/    193C : CC 46 19            		CALL Z,RD_OR_VERIFY
(1) 2112/    193F : 2A 59 5C            		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 2113/    1942 : 2B                  		DEC HL
(1) 2114/    1943 : 36 80               		LD (HL),0X80
(1) 2115/    1945 : C9                  		RET
(1) 2116/    1946 :                     
(1) 2117/    1946 : 3A F9 5C            RD_OR_VERIFY	LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 2118/    1949 : FE FF               		CP 0XFF
(1) 2119/    194B : C2 DE 2F            		JP NZ,LOAD_END_FILE
(1) 2120/    194E : 3A DB 5C            		LD A,(TRD_5CDB)
(1) 2121/    1951 : B7                  		OR A
(1) 2122/    1952 : C8                  		RET Z
(1) 2123/    1953 : 4F                  		LD C,A
(1) 2124/    1954 : 06 01               		LD B,1
(1) 2125/    1956 : ED 5B F4 5C         		LD DE,(TRD_5CF4)
(1) 2126/    195A : 18 0E               		JR LOC_196A
(1) 2127/    195C :                     
(1) 2128/    195C : 3A F9 5C            RD_SECTORS	LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 2129/    195F : FE FF               		CP 0XFF
(1) 2130/    1961 : C2 3D 1E            		JP NZ,COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1) 2131/    1964 : ED 53 F4 5C         		LD (TRD_5CF4),DE
(1) 2132/    1968 : 0E 00               		LD C,0
(1) 2133/    196A : 78                  LOC_196A	LD A,B
(1) 2134/    196B : B7                  		OR A
(1) 2135/    196C : C8                  		RET Z
(1) 2136/    196D : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2137/    1970 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2138/    1970 : ED 53 D9 5C         		LD (TRD_5CD9),DE	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2139/    1974 : C5                  LOC_1974	PUSH BC
(1) 2140/    1975 : 06 01               		LD B,1
(1) 2141/    1977 : ED 5B D9 5C         		LD DE,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2142/    197B : 21 25 5D            		LD HL,TRD_5D25
(1) 2143/    197E : CD 3D 1E            		CALL COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1) 2144/    1981 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 2145/    1984 : 22 D9 5C            		LD (TRD_5CD9), HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2146/    1987 : C1                  		POP BC
(1) 2147/    1988 : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2148/    198B :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2149/    198B : 11 25 5D            		LD DE,TRD_5D25
(1) 2150/    198E : 1A                  LOC_198E	LD A,(DE)
(1) 2151/    198F : BE                  		CP (HL)
(1) 2152/    1990 : 20 0B               		JR NZ,LOC_199D
(1) 2153/    1992 : 23                  		INC HL
(1) 2154/    1993 : 13                  		INC DE
(1) 2155/    1994 : 0D                  		DEC C
(1) 2156/    1995 : 20 F7               		JR NZ,LOC_198E
(1) 2157/    1997 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2158/    199A :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2159/    199A : 10 D8               		DJNZ LOC_1974
(1) 2160/    199C : C9                  		RET
(1) 2161/    199D :                     
(1) 2162/    199D : 21 6B 27            LOC_199D	LD HL,TXT_VERIFYERR		; "VERIFY ERROR."
(1) 2163/    19A0 : 3E 0D               		LD A,0X0D
(1) 2164/    19A2 : C3 4A 1C            		JP PRINT_TXTERR
(1) 2165/    19A5 :                     
(1) 2166/    19A5 : 3E FF               PEEK		LD A,0XFF
(1) 2167/    19A7 : 18 02               		JR LOC_19AB
(1) 2168/    19A9 :                     
(1) 2169/    19A9 : 3E EE               POKE		LD A,0XEE
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 68 - 11/17/2013 22:45:09


(1) 2170/    19AB : 32 10 5D            LOC_19AB	LD (TRD_5D10),A		; ëíÄêòàâ ÅÄâí éòàÅäà
(1) 2171/    19AE : C3 18 18            		JP LOC_1818
(1) 2172/    19B1 :                     
(1) 2173/    19B1 : 3E FF               MERGE		LD A,0XFF
(1) 2174/    19B3 : 32 1F 5D            		LD (TRD_5D1F),A
(1) 2175/    19B6 : CD 7A 18            		CALL GET_PARAMS
(1) 2176/    19B9 : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 2177/    19BC : 3A E5 5C            		LD A,(TRD_5CE5)		; êÄëòàêÖçàÖ îÄâãÄ
(1) 2178/    19BF : FE 42               		CP "B"
(1) 2179/    19C1 : C2 1A 1D            		JP NZ,SINTAX_ERROR
(1) 2180/    19C4 : ED 4B E6 5C         		LD BC,(TRD_5CE6)	; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 2181/    19C8 : ED 43 DB 5C         		LD (TRD_5CDB), BC
(1) 2182/    19CC : C5                  		PUSH BC
(1) 2183/    19CD : 03                  		INC BC
(1) 2184/    19CE : E7                  		RST 0X20
(1) 2185/    19CF : 30 00               		DW 0X30			; ëéáÑÄçàÖ ëÇéÅéÑçéÉé åÖëíÄ
(1) 2186/    19D1 : 36 80               		LD (HL),0X80
(1) 2187/    19D3 : EB                  		EX DE,HL
(1) 2188/    19D4 : D1                  		POP DE
(1) 2189/    19D5 : E5                  		PUSH HL
(1) 2190/    19D6 : ED 5B EB 5C         		LD DE,(TRD_5CEB)	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 2191/    19DA : CD 1B 19            		CALL LOAD_FULLFILE
(1) 2192/    19DD : 3A DC 5C            		LD A,(TRD_5CDC)
(1) 2193/    19E0 : 47                  		LD B,A
(1) 2194/    19E1 : CD 52 18            		CALL ZERO2HIGH_ERR
(1) 2195/    19E4 : CD 21 19            		CALL RD_FILE
(1) 2196/    19E7 : E1                  		POP HL
(1) 2197/    19E8 : ED 5B 53 5C         		LD DE,(PROG)
(1) 2198/    19EC : E7                  		RST 0X20
(1) 2199/    19ED : D2 08               		DW 0X08D2		; êÄÅéíÄ ëé ëíêéäÄåà èêéÉêÄååõ çÄ ÅÖâëàäÖ
(1) 2200/    19EF : C3 E1 03            		JP ERR_OK
(1) 2201/    19F2 :                     
(1) 2202/    19F2 : EB                  CP_FREE4PROG	EX DE,HL
(1) 2203/    19F3 : 37                  		SCF
(1) 2204/    19F4 : ED 52               		SBC HL,DE
(1) 2205/    19F6 : D8                  		RET C
(1) 2206/    19F7 : 11 0A 00            		LD DE,0X0A
(1) 2207/    19FA : 19                  		ADD HL,DE
(1) 2208/    19FB : 44                  		LD B,H
(1) 2209/    19FC : 4D                  		LD C,L
(1) 2210/    19FD : E7                  CP_FREE_RAM	RST 0X20
(1) 2211/    19FE : 05 1F               		DW 0X1F05		; èêéÇÖêäÄ ëÇéÅéÑçéâ èÄåüíà
(1) 2212/    1A00 : C9                  		RET
(1) 2213/    1A01 :                     
(1) 2214/    1A01 : ED 5B 53 5C         LOAD4BASIC	LD DE,(PROG)
(1) 2215/    1A05 : 2A 59 5C            		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 2216/    1A08 : 2B                  		DEC HL
(1) 2217/    1A09 : E5                  		PUSH HL
(1) 2218/    1A0A : D5                  		PUSH DE
(1) 2219/    1A0B : ED 52               		SBC HL,DE
(1) 2220/    1A0D : ED 5B E6 5C         		LD DE,(TRD_5CE6)	; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 2221/    1A11 : D5                  		PUSH DE
(1) 2222/    1A12 : E5                  		PUSH HL
(1) 2223/    1A13 : 21 00 00            		LD HL,0
(1) 2224/    1A16 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 2225/    1A19 : FE FF               		CP 0XFF
(1) 2226/    1A1B : 28 03               		JR Z,LOC_1A20
(1) 2227/    1A1D : 21 05 00            		LD HL,5
(1) 2228/    1A20 : 19                  LOC_1A20	ADD HL,DE
(1) 2229/    1A21 : 22 DB 5C            		LD (TRD_5CDB),HL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 69 - 11/17/2013 22:45:09


(1) 2230/    1A24 : E1                  		POP HL
(1) 2231/    1A25 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 2232/    1A28 : FE FF               		CP 0XFF
(1) 2233/    1A2A : 20 05               		JR NZ,LOC_1A31
(1) 2234/    1A2C : D1                  		POP DE
(1) 2235/    1A2D : D1                  		POP DE
(1) 2236/    1A2E : E1                  		POP HL
(1) 2237/    1A2F : 18 17               		JR LOC_1A48
(1) 2238/    1A31 :                     
(1) 2239/    1A31 : CD F2 19            LOC_1A31	CALL CP_FREE4PROG
(1) 2240/    1A34 : C1                  		POP BC
(1) 2241/    1A35 : D1                  		POP DE
(1) 2242/    1A36 : E1                  		POP HL
(1) 2243/    1A37 : C5                  		PUSH BC
(1) 2244/    1A38 : E7                  		RST 0X20
(1) 2245/    1A39 : E5 19               		DW 0X19E5		; ÇéëëíÄçéÇãÖçàÖ
(1) 2246/    1A3B : C1                  		POP BC
(1) 2247/    1A3C : CD 32 1E            		CALL RESERV_RAM
(1) 2248/    1A3F : 23                  		INC HL
(1) 2249/    1A40 : ED 4B E8 5C         		LD BC,(TRD_5CE8)	; ÑãàçÄ	èêéÉêÄååõ
(1) 2250/    1A44 : 09                  		ADD HL,BC
(1) 2251/    1A45 : 22 4B 5C            		LD (VARS),HL
(1) 2252/    1A48 : 2A 53 5C            LOC_1A48	LD HL,(PROG)
(1) 2253/    1A4B : C9                  		RET
(1) 2254/    1A4C :                     
(1) 2255/    1A4C : ED 5B E8 5C         LOAD4DATA	LD DE,(TRD_5CE8)	; ÑãàçÄ	èêéÉêÄååõ
(1) 2256/    1A50 : ED 53 DB 5C         		LD (TRD_5CDB),DE
(1) 2257/    1A54 : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2258/    1A57 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2259/    1A57 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 2260/    1A5A : FE FF               		CP 0XFF
(1) 2261/    1A5C : C8                  		RET Z
(1) 2262/    1A5D : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2263/    1A60 : E5                  		PUSH HL
(1) 2264/    1A61 : CD F2 19            		CALL CP_FREE4PROG
(1) 2265/    1A64 : E1                  		POP HL
(1) 2266/    1A65 : 7C                  		LD A,H
(1) 2267/    1A66 : B5                  		OR L
(1) 2268/    1A67 : 28 10               		JR Z,LOC_1A79
(1) 2269/    1A69 : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2270/    1A6C :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2271/    1A6C : 2B                  		DEC HL
(1) 2272/    1A6D : 2B                  		DEC HL
(1) 2273/    1A6E : 2B                  		DEC HL
(1) 2274/    1A6F : ED 4B D9 5C         		LD BC,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2275/    1A73 : 03                  		INC BC
(1) 2276/    1A74 : 03                  		INC BC
(1) 2277/    1A75 : 03                  		INC BC
(1) 2278/    1A76 : CD 2E 1E            		CALL DEL_WORKRAM
(1) 2279/    1A79 : 2A 59 5C            LOC_1A79	LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 2280/    1A7C : 2B                  		DEC HL
(1) 2281/    1A7D : ED 4B E8 5C         		LD BC,(TRD_5CE8)	; ÑãàçÄ	èêéÉêÄååõ
(1) 2282/    1A81 : C5                  		PUSH BC
(1) 2283/    1A82 : 03                  		INC BC
(1) 2284/    1A83 : 03                  		INC BC
(1) 2285/    1A84 : 03                  		INC BC
(1) 2286/    1A85 : CD 32 1E            		CALL RESERV_RAM
(1) 2287/    1A88 : 23                  		INC HL
(1) 2288/    1A89 : 3A D2 5C            		LD A,(TRD_5CD2)
(1) 2289/    1A8C : 77                  		LD (HL),A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 70 - 11/17/2013 22:45:09


(1) 2290/    1A8D : 23                  		INC HL
(1) 2291/    1A8E : D1                  		POP DE
(1) 2292/    1A8F : 73                  		LD (HL),E
(1) 2293/    1A90 : 23                  		INC HL
(1) 2294/    1A91 : 72                  		LD (HL),D
(1) 2295/    1A92 : 23                  		INC HL
(1) 2296/    1A93 : C9                  		RET
(1) 2297/    1A94 :                     
(1) 2298/    1A94 : 3A D9 5C            NUM_SEC_FILE	LD A,(TRD_5CD9)		; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2299/    1A97 : 48                  		LD C,B
(1) 2300/    1A98 : 47                  		LD B,A
(1) 2301/    1A99 : 79                  		LD A,C
(1) 2302/    1A9A : B8                  		CP B
(1) 2303/    1A9B : 38 19               		JR C,LOC_1AB6
(1) 2304/    1A9D : 78                  		LD A,B
(1) 2305/    1A9E : B7                  		OR A
(1) 2306/    1A9F : CA 1A 1D            		JP Z,SINTAX_ERROR
(1) 2307/    1AA2 : 05                  		DEC B
(1) 2308/    1AA3 : 28 0B               		JR Z,LOC_1AB0
(1) 2309/    1AA5 : 3E 10               		LD A,0X10
(1) 2310/    1AA7 : 1C                  LOC_1AA7	INC E
(1) 2311/    1AA8 : BB                  		CP E
(1) 2312/    1AA9 : 20 03               		JR NZ,LOC_1AAE
(1) 2313/    1AAB : 1E 00               		LD E,0
(1) 2314/    1AAD : 14                  		INC D
(1) 2315/    1AAE : 10 F7               LOC_1AAE	DJNZ LOC_1AA7
(1) 2316/    1AB0 : 06 01               LOC_1AB0	LD B,1
(1) 2317/    1AB2 : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2318/    1AB5 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2319/    1AB5 : C9                  		RET
(1) 2320/    1AB6 :                     
(1) 2321/    1AB6 : 21 ED 29            LOC_1AB6	LD HL,TXT_R_O
(1) 2322/    1AB9 : 3E 05               		LD A,5
(1) 2323/    1ABB : C3 4A 1C            		JP PRINT_TXTERR
(1) 2324/    1ABE :                     
(1) 2325/    1ABE : CD 2F 29            CP_FILE_FREE	CALL FIND_FILE		; èéàëä	îÄâãÄ èé àåÖçà
(1) 2326/    1AC1 : CA 50 1C            		JP Z,FILE_EXISTS
(1) 2327/    1AC4 : CD FD 03            CP_FREE_ON_DSK	CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1) 2328/    1AC7 : 3A 09 5E            		LD A,(TRD_5E09)
(1) 2329/    1ACA : FE 80               		CP 0X80
(1) 2330/    1ACC : CA 23 27            		JP Z,ERR_DIRFULL
(1) 2331/    1ACF : C9                  		RET
(1) 2332/    1AD0 :                     
(1) 2333/    1AD0 : CD 52 18            SAVE		CALL ZERO2HIGH_ERR
(1) 2334/    1AD3 : 21 00 00            		LD HL,0
(1) 2335/    1AD6 : 22 D1 5C            		LD (TRD_5CD1),HL
(1) 2336/    1AD9 : CD DF 1D            		CALL SET_AND_PUT
(1) 2337/    1ADC : CD 8C 1D            		CALL GET_SYMSTR
(1) 2338/    1ADF : FE AF               		CP 0XAF			;CODE
(1) 2339/    1AE1 : 28 56               		JR Z,LOC_1B39
(1) 2340/    1AE3 : FE CA               		CP 0XCA			;LINE
(1) 2341/    1AE5 : 20 11               		JR NZ,LOC_1AF8
(1) 2342/    1AE7 : CD 0B 1E            		CALL SET_NUM_CHAN
(1) 2343/    1AEA : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 2344/    1AED : 2A DB 5C            		LD HL,(TRD_5CDB)
(1) 2345/    1AF0 : 22 D1 5C            		LD (TRD_5CD1),HL
(1) 2346/    1AF3 : 21 E5 5C            		LD HL,TRD_5CE5		; êÄëòàêÖçàÖ îÄâãÄ
(1) 2347/    1AF6 : 18 27               		JR LOC_1B1F
(1) 2348/    1AF8 :                     
(1) 2349/    1AF8 : FE AA               LOC_1AF8	CP 0XAA
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 71 - 11/17/2013 22:45:09


(1) 2350/    1AFA : 20 11               		JR NZ,LOC_1B0D
(1) 2351/    1AFC : 21 00 40            		LD HL,0X4000
(1) 2352/    1AFF : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2353/    1B02 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2354/    1B02 : 21 00 1B            		LD HL,0X1B00
(1) 2355/    1B05 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2356/    1B08 : 22 DB 5C            		LD (TRD_5CDB),HL
(1) 2357/    1B0B : 18 3B               		JR LOC_1B48
(1) 2358/    1B0D :                     
(1) 2359/    1B0D : CD 75 1D            LOC_1B0D	CALL EXIT_IF_SINTAX
(1) 2360/    1B10 : CD 8C 1D            		CALL GET_SYMSTR
(1) 2361/    1B13 : 21 E5 5C            		LD HL,TRD_5CE5		; êÄëòàêÖçàÖ îÄâãÄ
(1) 2362/    1B16 : FE E4               		CP 0XE4			;DATA
(1) 2363/    1B18 : 28 12               		JR Z,LOC_1B2C
(1) 2364/    1B1A : FE 0D               		CP 0X0D
(1) 2365/    1B1C : C2 1A 1D            		JP NZ, SINTAX_ERROR
(1) 2366/    1B1F : 36 42               LOC_1B1F	LD (HL),"B"
(1) 2367/    1B21 : CD BE 1A            		CALL CP_FILE_FREE
(1) 2368/    1B24 : CD 1C 1E            		CALL DEL_5BYTES
(1) 2369/    1B27 : CD DE 1B            LOC_1B27	CALL SET_START_SIZE
(1) 2370/    1B2A : 18 27               		JR LOC_1B53
(1) 2371/    1B2C :                     
(1) 2372/    1B2C : 36 44               LOC_1B2C	LD (HL),"D"
(1) 2373/    1B2E : CD BE 1A            		CALL CP_FILE_FREE
(1) 2374/    1B31 : CD 0F 1C            		CALL CP_MASSIV
(1) 2375/    1B34 : 30 1D               		JR NC,LOC_1B53
(1) 2376/    1B36 : DA 1A 1D            		JP C,SINTAX_ERROR
(1) 2377/    1B39 : CD E5 1D            LOC_1B39	CALL GET_START_SIZE
(1) 2378/    1B3C : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2379/    1B3F : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2380/    1B42 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2381/    1B42 : 2A DB 5C            		LD HL,(TRD_5CDB)
(1) 2382/    1B45 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2383/    1B48 : CD 75 1D            LOC_1B48	CALL EXIT_IF_SINTAX
(1) 2384/    1B4B : 3E 43               		LD A,"C"
(1) 2385/    1B4D : 32 E5 5C            		LD (TRD_5CE5),A		; êÄëòàêÖçàÖ îÄâãÄ
(1) 2386/    1B50 : CD BE 1A            		CALL CP_FILE_FREE
(1) 2387/    1B53 : CD 59 1B            LOC_1B53	CALL SAVE_FILE
(1) 2388/    1B56 : C3 69 05            		JP LOC_569
(1) 2389/    1B59 :                     
(1) 2390/    1B59 : 2A D7 5C            SAVE_FILE	LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2391/    1B5C :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2392/    1B5C : 22 E6 5C            		LD (TRD_5CE6),HL	; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 2393/    1B5F : EB                  		EX DE,HL
(1) 2394/    1B60 : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2395/    1B63 : 7D                  		LD A,L
(1) 2396/    1B64 : B4                  		OR H
(1) 2397/    1B65 : CA 1A 1D            		JP Z,SINTAX_ERROR
(1) 2398/    1B68 : 7D                  		LD A,L
(1) 2399/    1B69 : B7                  		OR A
(1) 2400/    1B6A : 28 01               		JR Z,LOC_1B6D
(1) 2401/    1B6C : 24                  		INC H
(1) 2402/    1B6D : 7C                  LOC_1B6D	LD A,H
(1) 2403/    1B6E : 32 EA 5C            		LD (TRD_5CEA),A		; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 2404/    1B71 : 5F                  		LD E,A
(1) 2405/    1B72 : 16 00               		LD D,0
(1) 2406/    1B74 : 2A 0A 5E            		LD HL,(TRD_5E0A)
(1) 2407/    1B77 : ED 52               		SBC HL,DE
(1) 2408/    1B79 : DA 45 1C            		JP C,LOC_1C45
(1) 2409/    1B7C : E5                  		PUSH HL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 72 - 11/17/2013 22:45:09


(1) 2410/    1B7D : 2A 59 5C            		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 2411/    1B80 : 36 AA               		LD (HL),0XAA
(1) 2412/    1B82 : 23                  		INC HL
(1) 2413/    1B83 : ED 5B D1 5C         		LD DE,(TRD_5CD1)
(1) 2414/    1B87 : 73                  		LD (HL),E
(1) 2415/    1B88 : 23                  		INC HL
(1) 2416/    1B89 : 72                  		LD (HL),D
(1) 2417/    1B8A : 2A DB 5C            		LD HL, (TRD_5CDB)
(1) 2418/    1B8D : 22 E8 5C            		LD (TRD_5CE8),HL	; ÑãàçÄ	èêéÉêÄååõ
(1) 2419/    1B90 : 2A 06 5E            		LD HL,(TRD_5E06)
(1) 2420/    1B93 : 22 EB 5C            		LD (TRD_5CEB),HL	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 2421/    1B96 : EB                  		EX DE,HL
(1) 2422/    1B97 : 2A E6 5C            		LD HL,(TRD_5CE6)	; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 2423/    1B9A : 3A EA 5C            		LD A,(TRD_5CEA)		; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 2424/    1B9D : 47                  		LD B,A
(1) 2425/    1B9E : CD 4D 1E            		CALL COM_06
(1) 2426/    1BA1 : 2A F4 5C            		LD HL,(TRD_5CF4)
(1) 2427/    1BA4 : E5                  		PUSH HL
(1) 2428/    1BA5 : CD FD 03            		CALL READ_9SEC		; óíÖçàÖ 9 ëÖäíéêÄ
(1) 2429/    1BA8 : E1                  		POP HL
(1) 2430/    1BA9 : 22 06 5E            		LD (TRD_5E06),HL
(1) 2431/    1BAC : E1                  		POP HL
(1) 2432/    1BAD : 22 0A 5E            		LD (TRD_5E0A),HL
(1) 2433/    1BB0 : 21 09 5E            		LD HL,TRD_5E09
(1) 2434/    1BB3 : 7E                  		LD A,(HL)
(1) 2435/    1BB4 : 32 1E 5D            		LD (TRD_5D1E),A
(1) 2436/    1BB7 : 34                  		INC (HL)
(1) 2437/    1BB8 : E5                  		PUSH HL
(1) 2438/    1BB9 : CD 43 1E            		CALL REWRITE_9SEC	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 2439/    1BBC : E1                  		POP HL
(1) 2440/    1BBD : 4E                  		LD C,(HL)
(1) 2441/    1BBE : 0D                  		DEC C
(1) 2442/    1BBF : 3A E5 5C            		LD A,(TRD_5CE5)		; êÄëòàêÖçàÖ îÄâãÄ
(1) 2443/    1BC2 : FE 42               		CP "B"
(1) 2444/    1BC4 : CC C8 1B            		CALL Z,SET_HEAD_STSZ
(1) 2445/    1BC7 : C9                  		RET
(1) 2446/    1BC8 :                     
(1) 2447/    1BC8 : 2A 59 5C            SET_HEAD_STSZ	LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 2448/    1BCB : ED 5B 53 5C         		LD DE,(PROG)
(1) 2449/    1BCF : 37                  		SCF
(1) 2450/    1BD0 : ED 52               		SBC HL,DE
(1) 2451/    1BD2 : 22 E6 5C            		LD (TRD_5CE6),HL	; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 2452/    1BD5 : 2A 4B 5C            		LD HL,(VARS)
(1) 2453/    1BD8 : ED 52               		SBC HL,DE
(1) 2454/    1BDA : 22 E8 5C            		LD (TRD_5CE8),HL	; ÑãàçÄ	èêéÉêÄååõ
(1) 2455/    1BDD : C9                  		RET
(1) 2456/    1BDE :                     
(1) 2457/    1BDE : 2A 4B 5C            SET_START_SIZE	LD HL,(VARS)
(1) 2458/    1BE1 : ED 5B 53 5C         		LD DE,(PROG)
(1) 2459/    1BE5 : ED 52               		SBC HL,DE
(1) 2460/    1BE7 : 22 DB 5C            		LD (TRD_5CDB),HL
(1) 2461/    1BEA : 2A 53 5C            		LD HL,(PROG)
(1) 2462/    1BED : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2463/    1BF0 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2464/    1BF0 : 2A 59 5C            		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 2465/    1BF3 : 23                  		INC HL
(1) 2466/    1BF4 : 23                  		INC HL
(1) 2467/    1BF5 : 23                  		INC HL
(1) 2468/    1BF6 : ED 52               		SBC HL,DE
(1) 2469/    1BF8 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 73 - 11/17/2013 22:45:09


(1) 2470/    1BFB : C9                  		RET
(1) 2471/    1BFC :                     
(1) 2472/    1BFC : CD 1B 1C            READ_MASSIV	CALL FIND_MASSIV
(1) 2473/    1BFF : D0                  		RET NC
(1) 2474/    1C00 : 21 00 00            		LD HL,0
(1) 2475/    1C03 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2476/    1C06 : 3A F9 5C            		LD A,(TRD_5CF9)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 2477/    1C09 : FE FF               		CP 0XFF
(1) 2478/    1C0B : C0                  		RET NZ
(1) 2479/    1C0C : C3 13 1C            		JP LOC_1C13
(1) 2480/    1C0F :                     
(1) 2481/    1C0F : CD 1B 1C            CP_MASSIV	CALL FIND_MASSIV
(1) 2482/    1C12 : D0                  		RET NC
(1) 2483/    1C13 : 3E 0E               LOC_1C13	LD A,0X0E
(1) 2484/    1C15 : 21 DD 27            		LD HL,TXT_ARRAYNOT		; "ARRAY NOT FOUND"
(1) 2485/    1C18 : C3 4A 1C            		JP PRINT_TXTERR
(1) 2486/    1C1B :                     
(1) 2487/    1C1B : CD 2A 1E            FIND_MASSIV	CALL GET_NEXT_SYM
(1) 2488/    1C1E : CD 9B 1D            		CALL LOOK_VARS
(1) 2489/    1C21 : CB F9               		SET 7,C
(1) 2490/    1C23 : 79                  		LD A,C
(1) 2491/    1C24 : 32 D2 5C            		LD (TRD_5CD2),A
(1) 2492/    1C27 : 30 02               		JR NC,LOC_1C2B
(1) 2493/    1C29 : 37                  LOC_1C29	SCF
(1) 2494/    1C2A : C9                  		RET
(1) 2495/    1C2B :                     
(1) 2496/    1C2B : 20 FC               LOC_1C2B	JR NZ,LOC_1C29
(1) 2497/    1C2D : 23                  		INC HL
(1) 2498/    1C2E : 5E                  		LD E,(HL)
(1) 2499/    1C2F : 23                  		INC HL
(1) 2500/    1C30 : 56                  		LD D,(HL)
(1) 2501/    1C31 : 23                  		INC HL
(1) 2502/    1C32 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2503/    1C35 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2504/    1C35 : ED 53 DB 5C         		LD (TRD_5CDB),DE
(1) 2505/    1C39 : ED 53 D9 5C         		LD (TRD_5CD9),DE	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2506/    1C3D : CD 2A 1E            		CALL GET_NEXT_SYM
(1) 2507/    1C40 : FE 29               		CP ")"
(1) 2508/    1C42 : 20 E7               		JR NZ,LOC_1C2B
(1) 2509/    1C44 : C9                  		RET
(1) 2510/    1C45 :                     
(1) 2511/    1C45 : 21 BB 29            LOC_1C45	LD HL,TXT_NOSPACE_
(1) 2512/    1C48 : 3E 03               		LD A,3
(1) 2513/    1C4A : CD C3 03            PRINT_TXTERR	CALL PRINT_ERROR	; èÖóÄíú ëééÅôÖçàü éÅ éòàÅäÖ
(1) 2514/    1C4D : C3 D3 01            		JP END_COMAND
(1) 2515/    1C50 :                     
(1) 2516/    1C50 : 21 C5 29            FILE_EXISTS	LD HL,TXT_FILEEXISTS_
(1) 2517/    1C53 : 3E 02               		LD A,2
(1) 2518/    1C55 : 18 F3               		JR PRINT_TXTERR
(1) 2519/    1C57 :                     
(1) 2520/    1C57 : 21 DD 5C            SET_FILENAME	LD HL,TRD_5CDD		; àåü îÄâãÄ
(1) 2521/    1C5A : 06 08               		LD B,8
(1) 2522/    1C5C : 36 20               LOC_1C5C	LD (HL)," "
(1) 2523/    1C5E : 23                  		INC HL
(1) 2524/    1C5F : 10 FB               		DJNZ LOC_1C5C
(1) 2525/    1C61 : CD 31 05            		CALL CP_ON_STKBOT
(1) 2526/    1C64 : EB                  		EX DE,HL
(1) 2527/    1C65 : CD 81 1C            		CALL SETUP_DSK
(1) 2528/    1C68 : 79                  		LD A,C
(1) 2529/    1C69 : B7                  		OR A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 74 - 11/17/2013 22:45:09


(1) 2530/    1C6A : CA 1A 1D            		JP Z,SINTAX_ERROR
(1) 2531/    1C6D : FE 09               		CP 9
(1) 2532/    1C6F : 38 02               		JR C,LOC_1C73
(1) 2533/    1C71 : 0E 08               		LD C,8
(1) 2534/    1C73 : 7E                  LOC_1C73	LD A,(HL)
(1) 2535/    1C74 : FE 20               		CP " "
(1) 2536/    1C76 : DA 1A 1D            		JP C,SINTAX_ERROR
(1) 2537/    1C79 : 11 DD 5C            		LD DE,TRD_5CDD		; àåü îÄâãÄ
(1) 2538/    1C7C : C5                  		PUSH BC
(1) 2539/    1C7D : C3 10 33            		JP EMU_LDIR_RBC
(1) 2540/    1C80 :                     
(1) 2541/    1C80 : C9                  		RET
(1) 2542/    1C81 :                     
(1) 2543/    1C81 :                     ;ÇõÅéê ÑàëäÄ Ñãü îéêåÄíàêéÇÄçàü
(1) 2544/    1C81 : 23                  SETUP_DSK	INC HL
(1) 2545/    1C82 : 7E                  		LD A,(HL)		;Çíéêéâ ëàåÇéã Ç äÄÇõóäÄï
(1) 2546/    1C83 : FE 3A               		CP ":"			;Öëãà çÖ ":", íé
(1) 2547/    1C85 : 20 11               		JR NZ,LOC_1C98		;èÖêÖïéÑ çÄ ÇõÅéê íÖäìôÖÉé ÑàëäéÇéÑÄ
(1) 2548/    1C87 : 2B                  		DEC HL
(1) 2549/    1C88 : 7E                  		LD A,(HL)		;àçÄóÖ áÄÅàêÄÖå àá ëíêéäà ÅìäÇì ÑàëäéÇéÑÄ
(1) 2550/    1C89 : CD 24 05            		CALL NUMDSK2BYTE	;ìëíÄçéÇäÄ ÑàëäéÇéÑÄ çÄ äéíéêéå ÅìÑÖí îéêåÄíàêéÇÄçàÖ
(1) 2551/    1C8C : C5                  		PUSH BC
(1) 2552/    1C8D : E5                  		PUSH HL
(1) 2553/    1C8E : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1) 2554/    1C91 : E1                  		POP HL
(1) 2555/    1C92 : C1                  		POP BC
(1) 2556/    1C93 : 0B                  		DEC BC
(1) 2557/    1C94 : 0B                  		DEC BC			;èêéèìëäÄÖå àåü ÑàëäéÇéÑÄ Ç àåÖçà ÑàëäÄ
(1) 2558/    1C95 : 23                  		INC HL
(1) 2559/    1C96 : 23                  		INC HL			;ëÑÇàçìãà ìäÄáÄíÖãú Ç ÇÇÖÑÖççéâ ëíêéäÖ çÄ çÄóÄãé àåÖçà ÑàëäÄ
(1) 2560/    1C97 : C9                  		RET
(1) 2561/    1C98 :                     
(1) 2562/    1C98 : 2B                  LOC_1C98	DEC HL
(1) 2563/    1C99 : 3A 19 5D            		LD A,(TRD_5D19)		; ÑàëäéÇéÑ èé ìåéãóÄçàû
(1) 2564/    1C9C : C5                  LOC_1C9C	PUSH BC
(1) 2565/    1C9D : E5                  		PUSH HL
(1) 2566/    1C9E : CD CB 3D            		CALL COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1) 2567/    1CA1 : E1                  		POP HL
(1) 2568/    1CA2 : C1                  		POP BC
(1) 2569/    1CA3 : C9                  		RET
(1) 2570/    1CA4 :                     
(1) 2571/    1CA4 : 69                  FIND_HEAD_BUF	LD L,C
(1) 2572/    1CA5 : 26 00               		LD H,0
(1) 2573/    1CA7 : 29                  		ADD HL,HL
(1) 2574/    1CA8 : 29                  		ADD HL,HL
(1) 2575/    1CA9 : 29                  		ADD HL,HL
(1) 2576/    1CAA : 29                  		ADD HL,HL
(1) 2577/    1CAB : 01 25 5D            		LD BC,TRD_5D25
(1) 2578/    1CAE : 09                  		ADD HL,BC
(1) 2579/    1CAF : C9                  		RET
(1) 2580/    1CB0 :                     
(1) 2581/    1CB0 : CD 57 1C            SET_CP_FILENAME	CALL SET_FILENAME
(1) 2582/    1CB3 :                     ; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 2583/    1CB3 : CD E8 03            FIND_FILENAME	CALL RD_0SEC2BUF	; óíÖçàÖ ëÖäíéêÄ 0 äÄíÄãéÉÄ
(1) 2584/    1CB6 : 06 80               		LD B,0X80
(1) 2585/    1CB8 : 0E 00               		LD C,0
(1) 2586/    1CBA : C5                  LOC_1CBA	PUSH BC
(1) 2587/    1CBB : CD A4 1C            		CALL FIND_HEAD_BUF
(1) 2588/    1CBE : CD 0C 05            		CALL CP_END_BUF
(1) 2589/    1CC1 : C1                  		POP BC
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 75 - 11/17/2013 22:45:09


(1) 2590/    1CC2 : C5                  		PUSH BC
(1) 2591/    1CC3 : 79                  		LD A,C
(1) 2592/    1CC4 : FE 10               		CP 0X10
(1) 2593/    1CC6 : 20 05               		JR NZ,LOC_1CCD
(1) 2594/    1CC8 : C1                  		POP BC
(1) 2595/    1CC9 : 0E 00               		LD C,0
(1) 2596/    1CCB : 18 ED               		JR LOC_1CBA
(1) 2597/    1CCD :                     
(1) 2598/    1CCD : 11 DD 5C            LOC_1CCD	LD DE,TRD_5CDD		; àåü îÄâãÄ
(1) 2599/    1CD0 : 3A 06 5D            		LD A,(TRD_5D06)		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1) 2600/    1CD3 : 47                  		LD B,A
(1) 2601/    1CD4 : AF                  		XOR A
(1) 2602/    1CD5 : BE                  		CP (HL)
(1) 2603/    1CD6 : 20 03               		JR NZ,LOC_1CDB
(1) 2604/    1CD8 : C1                  		POP BC
(1) 2605/    1CD9 : 18 09               		JR LOC_1CE4
(1) 2606/    1CDB :                     
(1) 2607/    1CDB : CD 13 27            LOC_1CDB	CALL COMPARE_B_SYM
(1) 2608/    1CDE : C1                  		POP BC
(1) 2609/    1CDF : 28 06               		JR Z,LOC_1CE7
(1) 2610/    1CE1 : 0C                  		INC C
(1) 2611/    1CE2 : 10 D6               		DJNZ LOC_1CBA
(1) 2612/    1CE4 : F6 FF               LOC_1CE4	OR 0XFF
(1) 2613/    1CE6 : C9                  		RET
(1) 2614/    1CE7 :                     
(1) 2615/    1CE7 : 3E 80               LOC_1CE7	LD A,0X80
(1) 2616/    1CE9 : 90                  		SUB B
(1) 2617/    1CEA : 4F                  		LD C,A
(1) 2618/    1CEB : 32 1E 5D            		LD (TRD_5D1E),A
(1) 2619/    1CEE : AF                  		XOR A
(1) 2620/    1CEF : C8                  		RET Z
(1) 2621/    1CF0 :                     
(1) 2622/    1CF0 :                     ;èéàëä îÄâãÄ èé àåÖçà à êÄëòàêÖçàû
(1) 2623/    1CF0 : CD B3 1C            COM_0A		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 2624/    1CF3 : 21 0F 5D            		LD HL,TRD_5D0F		; çéåÖê	éòàÅäà TR-DOS
(1) 2625/    1CF6 : 71                  		LD (HL),C
(1) 2626/    1CF7 : C8                  		RET Z
(1) 2627/    1CF8 : 36 FF               		LD (HL),0XFF
(1) 2628/    1CFA : C9                  		RET
(1) 2629/    1CFB :                     
(1) 2630/    1CFB : CD 75 1D            RETURN		CALL EXIT_IF_SINTAX
(1) 2631/    1CFE : CD 0A 32            		CALL DELETE_BUF_
(1) 2632/    1D01 : FD CB 01 9E         		RES 3,(IY+1)
(1) 2633/    1D05 : CD 32 02            		CALL RESTORE_SP		; ÇéëëíÄçéÇãÖçàÖ èÖêÖïÇÄíóàäÄ éòàÅéä
(1) 2634/    1D08 : ED 7B 1C 5D         		LD SP,(TRD_5D1C)	; ëéïêÄçÖçàÖ êÖÉàëíêÄ SP
(1) 2635/    1D0C : D9                  		EXX		;LD HL,(ERR_SP)
(1) 2636/    1D0D : 21 58 27            		LD HL,0X2758	;DEC HL
(1) 2637/    1D10 : D9                  		EXX		;LD A,0X12
(1) 2638/    1D11 : 2B                  		DEC HL		;CP (HL)
(1) 2639/    1D12 : 3E 12               		LD A,0X12	;JR NZ,LOCRET_1D19
(1) 2640/    1D14 : BE                  		CP (HL)		;DEC HL
(1) 2641/    1D15 : C0                  		RET NZ		;LD (ERR_SP),HL
(1) 2642/    1D16 : 2B                  		DEC HL		;LOCRET_1D19	RET
(1) 2643/    1D17 : C3 35 02            		JP LOC_0235
(1) 2644/    1D1A :                     
(1) 2645/    1D1A : FD CB 00 7E         SINTAX_ERROR	BIT 7,(IY+0)
(1) 2646/    1D1E : 28 05               		JR Z,LOC_1D25
(1) 2647/    1D20 : 3E 0B               		LD A,0X0B
(1) 2648/    1D22 : 32 3A 5C            		LD (ERR_NR),A
(1) 2649/    1D25 : 3C                  LOC_1D25	INC A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 76 - 11/17/2013 22:45:09


(1) 2650/    1D26 : 21 B2 29            		LD HL,TXT_ERROR_
(1) 2651/    1D29 : CD C3 03            PRT_TEXT_ERROR	CALL PRINT_ERROR	; èÖóÄíú ëééÅôÖçàü éÅ éòàÅäÖ
(1) 2652/    1D2C : C3 D3 01            		JP END_COMAND
(1) 2653/    1D2F :                     
(1) 2654/    1D2F : 3A 3A 5C            LOC_1D2F	LD A,(ERR_NR)
(1) 2655/    1D32 : 21 CA 27            		LD HL,TXT_BREAK		; "*BREAK*"
(1) 2656/    1D35 : FE 14               		CP 0X14
(1) 2657/    1D37 : 28 F0               		JR Z,PRT_TEXT_ERROR
(1) 2658/    1D39 : FE 0C               		CP 0X0C
(1) 2659/    1D3B : 28 EC               		JR Z,PRT_TEXT_ERROR
(1) 2660/    1D3D : 21 D2 27            		LD HL,TXT_OUTRAM		; "OUT OF RAM"
(1) 2661/    1D40 : FE 03               		CP 3
(1) 2662/    1D42 : 28 E5               		JR Z,PRT_TEXT_ERROR
(1) 2663/    1D44 : 21 DD 27            		LD HL,TXT_ARRAYNOT		; "ARRAY NOT FOUND"
(1) 2664/    1D47 : FE 01               		CP 1
(1) 2665/    1D49 : 28 DE               		JR Z,PRT_TEXT_ERROR
(1) 2666/    1D4B : 18 CD               		JR SINTAX_ERROR
(1) 2667/    1D4D :                     
(1) 2668/    1D4D : CD 52 18            RUN		CALL ZERO2HIGH_ERR
(1) 2669/    1D50 : CD 36 18            		CALL LOAD_FILE
(1) 2670/    1D53 : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 2671/    1D56 : C3 10 32            		JP RUN_FILE
(1) 2672/    1D59 :                     
(1) 2673/    1D59 : 3A E5 5C            		LD A,(TRD_5CE5)		; êÄëòàêÖçàÖ îÄâãÄ
(1) 2674/    1D5C : FE 42               		CP "B"
(1) 2675/    1D5E : CA 2A 01            		JP Z,WORK4AUTORUN	; éÅêÄÅéíäÄ ëíêéäà ÄÇíéáÄèìëäÄ ÅÖâëàäÄ
(1) 2676/    1D61 : E5                  		PUSH HL
(1) 2677/    1D62 : C9                  		RET
(1) 2678/    1D63 :                     
(1) 2679/    1D63 : 21 0E 5D            CLEAR_WORKSPACE	LD HL,TRD_5D0E		; #FF-êÄÅéíÄÖí BASIC,àçÄóÖ TR-DOS
(1) 2680/    1D66 : 7E                  		LD A,(HL)
(1) 2681/    1D67 : FE FF               LOC_1D67	CP 0XFF
(1) 2682/    1D69 : 36 00               		LD (HL),0
(1) 2683/    1D6B : C0                  		RET NZ
(1) 2684/    1D6C : E7                  		RST 0X20
(1) 2685/    1D6D : BF 16               		DW 0X16BF		; éóàëíäÄ êÄÅéóÖâ éÅãÄëíà à ëíÖäÄ äÄãúäìãüíéêÄ
(1) 2686/    1D6F : C9                  		RET
(1) 2687/    1D70 :                     
(1) 2688/    1D70 : FD CB 01 7E         CP_SINTAX	BIT 7,(IY+1)
(1) 2689/    1D74 : C9                  		RET
(1) 2690/    1D75 :                     
(1) 2691/    1D75 : CD 70 1D            EXIT_IF_SINTAX	CALL CP_SINTAX
(1) 2692/    1D78 : C0                  		RET NZ
(1) 2693/    1D79 : E1                  		POP HL
(1) 2694/    1D7A : C9                  		RET
(1) 2695/    1D7B :                     
(1) 2696/    1D7B :                     ; áÄçÖëÖçàÖ óàëãÄ çÄ ëíÖä äÄãúäìãüíéêÄ
(1) 2697/    1D7B : CD 2A 1E            CHISLO2STKBOT	CALL GET_NEXT_SYM
(1) 2698/    1D7E : CD C1 1D            		CALL BC2STKBOT
(1) 2699/    1D81 : 18 ED               		JR CP_SINTAX
(1) 2700/    1D83 :                     
(1) 2701/    1D83 :                     ; éíäêõíàÖ äÄçÄãÄ 0
(1) 2702/    1D83 : AF                  OPEN_CHAN_0	XOR A
(1) 2703/    1D84 : E7                  OPENSTREAM	RST 0X20
(1) 2704/    1D85 : 01 16               		DW 0X1601		; éíäêõíàÖ äÄçÄãÄ
(1) 2705/    1D87 : C9                  		RET
(1) 2706/    1D88 :                     
(1) 2707/    1D88 :                     ; éíäêõíàÖ äÄçÄãÄ 2
(1) 2708/    1D88 : 3E 02               OPEN_CHAN_2	LD A,2
(1) 2709/    1D8A : 18 F8               		JR OPENSTREAM
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 77 - 11/17/2013 22:45:09


(1) 2710/    1D8C :                     
(1) 2711/    1D8C : E7                  GET_SYMSTR	RST 0X20
(1) 2712/    1D8D : 18 00               		DW 0X18			; ÇõÅéêäÄ ëàåÇéãÄ àá (CH_ADD)
(1) 2713/    1D8F : C9                  		RET
(1) 2714/    1D90 :                     
(1) 2715/    1D90 : CD 83 1D            CALL2BASEDIT	CALL OPEN_CHAN_0	; éíäêõíàÖ äÄçÄãÄ 0
(1) 2716/    1D93 : E7                  		RST 0X20
(1) 2717/    1D94 : 2C 0F               		DW 0X0F2C		; êÖÑÄäíéê äéåÄçÑçéâ ëíêéäà
(1) 2718/    1D96 : C9                  		RET
(1) 2719/    1D97 :                     
(1) 2720/    1D97 :                     ; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1) 2721/    1D97 : E7                  CLEAR_SCREEN	RST 0X20
(1) 2722/    1D98 : 6B 0D               		DW 0X0D6B		; éóàëíäÄ ùäêÄçÄ
(1) 2723/    1D9A : C9                  		RET
(1) 2724/    1D9B :                     
(1) 2725/    1D9B : E7                  LOOK_VARS	RST 0X20
(1) 2726/    1D9C : B2 28               		DW 0X28B2		; LOOK-VARS. îàÉ áçÄÖí óÖ ÑÖãÄÖí
(1) 2727/    1D9E : C9                  		RET
(1) 2728/    1D9F :                     
(1) 2729/    1D9F :                     ; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1) 2730/    1D9F : E7                  CLEAR_DOWN_SCR	RST 0X20
(1) 2731/    1DA0 : 6E 0D               		DW 0X0D6E		; éóàëíäÄ çàÜçÖâ óÄëíà ùäêÄçÄ
(1) 2732/    1DA2 : C9                  		RET
(1) 2733/    1DA3 :                     
(1) 2734/    1DA3 : 4F                  PRINT_CHISLO_A_	LD C,A
(1) 2735/    1DA4 : 06 00               CONV2_2BYTES	LD B,0
(1) 2736/    1DA6 : C3 A9 1D            		JP PRINT_CHISLO
(1) 2737/    1DA9 :                     
(1) 2738/    1DA9 : C5                  PRINT_CHISLO	PUSH BC
(1) 2739/    1DAA : (MACRO)             		DUPL 3,0
(1) 2739/    1DAA :                     DUPL:
(1) 2739/    1DAA : =0H                 $$N             EQU (3) / 1024
(1) 2739/    1DAA : =3H                 $$M             EQU (3) # 1024
(1) 2739/    1DAA :                                     REPT $$N
(1) 2739/    1DAA :                                     DB 1024 DUP(0)
(1) 2739/    1DAA :                                     ENDM
(1) 2739/    1DAA : =>TRUE                              IF $$M <> 0
(1) 2739/    1DAA : 00 00 00                            DB $$M DUP(0)
(1) 2739/    1DAD : [2739]                              ENDIF
(1) 2740/    1DAD : C1                  		POP BC
(1) 2741/    1DAE : E7                  		RST 0X20
(1) 2742/    1DAF : 1B 1A               		DW 0X1A1B		; èÖóÄíú ëééÅôÖçàâ à çéåÖêéÇ ëíêéä
(1) 2743/    1DB1 : (MACRO)             		DUPL 3,0
(1) 2743/    1DB1 :                     DUPL:
(1) 2743/    1DB1 : =0H                 $$N             EQU (3) / 1024
(1) 2743/    1DB1 : =3H                 $$M             EQU (3) # 1024
(1) 2743/    1DB1 :                                     REPT $$N
(1) 2743/    1DB1 :                                     DB 1024 DUP(0)
(1) 2743/    1DB1 :                                     ENDM
(1) 2743/    1DB1 : =>TRUE                              IF $$M <> 0
(1) 2743/    1DB1 : 00 00 00                            DB $$M DUP(0)
(1) 2743/    1DB4 : [2743]                              ENDIF
(1) 2744/    1DB4 : C9                  		RET
(1) 2745/    1DB5 :                     
(1) 2746/    1DB5 : E7                  GET_STKBOT_	RST 0X20
(1) 2747/    1DB6 : F1 2B               		DW 0X2BF1		; óíÖçàÖ ÑçÄ ëíÖäÄ äÄãúäìãüíéêÄ
(1) 2748/    1DB8 : C9                  		RET
(1) 2749/    1DB9 :                     
(1) 2750/    1DB9 : E7                  FIND_LAST	RST 0X20
(1) 2751/    1DBA : 99 1E               		DW 0X1E99		; èéàëä	èéëãÖÑçÖÉé ñÖãéÉé óàëãÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 78 - 11/17/2013 22:45:09


(1) 2752/    1DBC : C9                  		RET
(1) 2753/    1DBD :                     
(1) 2754/    1DBD : E7                  PUT_NUMDSK_STK	RST 0X20
(1) 2755/    1DBE : 8C 1C               		DW 0X1C8C
(1) 2756/    1DC0 : C9                  		RET
(1) 2757/    1DC1 :                     
(1) 2758/    1DC1 : E7                  BC2STKBOT	RST 0X20
(1) 2759/    1DC2 : 82 1C               		DW 0X1C82
(1) 2760/    1DC4 : C9                  		RET
(1) 2761/    1DC5 :                     
(1) 2762/    1DC5 : 2A 11 5D            SET_CH_ADD	LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 2763/    1DC8 : 23                  		INC HL
(1) 2764/    1DC9 : 22 5D 5C            		LD (CH_ADD), HL
(1) 2765/    1DCC : C9                  		RET
(1) 2766/    1DCD :                     
(1) 2767/    1DCD :                     INPUT_2STR2STKBOT
(1) 2768/    1DCD : CD DF 1D            		CALL SET_AND_PUT
(1) 2769/    1DD0 : CD 8C 1D            LOC_1DD0	CALL GET_SYMSTR
(1) 2770/    1DD3 : FE 2C               		CP ","
(1) 2771/    1DD5 : C2 1A 1D            		JP NZ,SINTAX_ERROR
(1) 2772/    1DD8 : CD 2A 1E            		CALL GET_NEXT_SYM
(1) 2773/    1DDB : CD BD 1D            		CALL PUT_NUMDSK_STK
(1) 2774/    1DDE : C9                  		RET
(1) 2775/    1DDF :                     
(1) 2776/    1DDF : CD C5 1D            SET_AND_PUT	CALL SET_CH_ADD
(1) 2777/    1DE2 : C3 BD 1D            		JP PUT_NUMDSK_STK
(1) 2778/    1DE5 :                     
(1) 2779/    1DE5 : CD 8C 1D            GET_START_SIZE	CALL GET_SYMSTR
(1) 2780/    1DE8 : FE AF               		CP 0XAF
(1) 2781/    1DEA : C0                  		RET NZ
(1) 2782/    1DEB : CD 7B 1D            INPUT_PARAMS	CALL CHISLO2STKBOT	; áÄçÖëÖçàÖ óàëãÄ çÄ ëíÖä äÄãúäìãüíéêÄ
(1) 2783/    1DEE : 28 0B               		JR Z,LOC_1DFB
(1) 2784/    1DF0 : CD B9 1D            		CALL FIND_LAST
(1) 2785/    1DF3 : ED 43 D9 5C         		LD (TRD_5CD9),BC	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2786/    1DF7 : ED 43 DB 5C         		LD (TRD_5CDB),BC
(1) 2787/    1DFB : CD 8C 1D            LOC_1DFB	CALL GET_SYMSTR
(1) 2788/    1DFE : FE 2C               		CP ","
(1) 2789/    1E00 : 28 09               		JR Z,SET_NUM_CHAN
(1) 2790/    1E02 : FE 0D               		CP 0X0D
(1) 2791/    1E04 : C2 1A 1D            		JP NZ,SINTAX_ERROR
(1) 2792/    1E07 : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 2793/    1E0A : C9                  		RET
(1) 2794/    1E0B :                     
(1) 2795/    1E0B : CD 7B 1D            SET_NUM_CHAN	CALL CHISLO2STKBOT	; áÄçÖëÖçàÖ óàëãÄ çÄ ëíÖä äÄãúäìãüíéêÄ
(1) 2796/    1E0E : C8                  		RET Z
(1) 2797/    1E0F : CD B9 1D            		CALL FIND_LAST
(1) 2798/    1E12 : ED 43 DB 5C         		LD (TRD_5CDB),BC
(1) 2799/    1E16 : 3E 03               		LD A,3
(1) 2800/    1E18 : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 2801/    1E1B : C9                  		RET
(1) 2802/    1E1C :                     
(1) 2803/    1E1C : 2A 11 5D            DEL_5BYTES	LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 2804/    1E1F : E7                  		RST 0X20
(1) 2805/    1E20 : A7 11               		DW 0X11A7		; ìÑÄãÖçàÖ àá äéåÄçÑçéâ	ëíPéäà èüíàÅÄâíçõï óàëÖã
(1) 2806/    1E22 : C9                  		RET
(1) 2807/    1E23 :                     
(1) 2808/    1E23 : 2A 61 5C            CREATE_FREERAM	LD HL,(WORKSP)
(1) 2809/    1E26 : E7                  		RST 0X20
(1) 2810/    1E27 : 30 00               		DW 0X30			; ëéáÑÄçàÖ ëÇéÅéÑçéÉé åÖëíÄ
(1) 2811/    1E29 : C9                  		RET
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 79 - 11/17/2013 22:45:09


(1) 2812/    1E2A :                     
(1) 2813/    1E2A : E7                  GET_NEXT_SYM	RST 0X20
(1) 2814/    1E2B : 20 00               		DW 0X20			; èÖóÄíú ëãÖÑìûôÖÉé ëàåÇéãÄ
(1) 2815/    1E2D : C9                  		RET
(1) 2816/    1E2E :                     
(1) 2817/    1E2E : E7                  DEL_WORKRAM	RST 0X20
(1) 2818/    1E2F : E8 19               		DW 0X19E8		; ìÑÄãÖçàÖ éÅãÄëíà èÄåüíà
(1) 2819/    1E31 : C9                  		RET
(1) 2820/    1E32 :                     
(1) 2821/    1E32 : E7                  RESERV_RAM	RST 0X20
(1) 2822/    1E33 : 55 16               		DW 0X1655
(1) 2823/    1E35 : C9                  		RET
(1) 2824/    1E36 :                     
(1) 2825/    1E36 : CD B2 3E            WR_NUM_TRACK	CALL GET_NUM_TRACK	;FIX
(1) 2826/    1E39 : 7C                  		LD A,H
(1) 2827/    1E3A : =>TRUE              		IF EMU3D2F=1
(1) 2828/    1E3A : D3 4F               		OUT (RW_PORT1),A
(1) 2829/    1E3C : =>FALSE             		ELSE
(1) 2830/    1E3C :                     		OUT (VG_RW_3F),A
(1) 2831/    1E3C : [2827]              		ENDIF
(1) 2832/    1E3C : C9                  		RET
(1) 2833/    1E3D :                     
(1) 2834/    1E3D :                     ;óíÖçàÖ ëÖäíéêéÇ
(1) 2835/    1E3D : AF                  COM_05		XOR A
(1) 2836/    1E3E : 18 24               		JR LOC_1E64
(1) 2837/    1E40 :                     
(1) 2838/    1E40 :                     WR_HEAD_FILENAME
(1) 2839/    1E40 : CD 6B 16            		CALL SET_HEAD_FILENAME	; ëéïêÄçÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 2840/    1E43 : ED 5B F4 5C         REWRITE_9SEC	LD DE,(TRD_5CF4)	; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 2841/    1E47 : 1B                  		DEC DE
(1) 2842/    1E48 : 06 01               		LD B,1
(1) 2843/    1E4A : 21 25 5D            		LD HL,TRD_5D25
(1) 2844/    1E4D : 18 13               COM_06		JR COM_06_
(1) 2845/    1E4F :                     
(1) 2846/    1E4F : (MACRO)             		DUPL 0X1E62-$,0XFF
(1) 2846/    1E4F :                     DUPL:
(1) 2846/    1E4F : =0H                 $$N             EQU (0X1E62-$) / 1024
(1) 2846/    1E4F : =13H                $$M             EQU (0X1E62-$) # 1024
(1) 2846/    1E4F :                                     REPT $$N
(1) 2846/    1E4F :                                     DB 1024 DUP(0XFF)
(1) 2846/    1E4F :                                     ENDM
(1) 2846/    1E4F : =>TRUE                              IF $$M <> 0
(1) 2846/    1E4F : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF 
(1) 2846/    1E62 : [2846]                              ENDIF
(1) 2847/    1E62 :                     ;áÄèàëú ëÖäíéêéÇ
(1) 2848/    1E62 : 3E FF               COM_06_		LD A,0XFF
(1) 2849/    1E64 : 32 CE 5C            LOC_1E64	LD (TRD_5CCE),A		; #00-óíÖçàÖ ëÖäíéêÄ,#FF-áÄèàëú	ëÖäíéêÄ
(1) 2850/    1E67 : ED 53 F4 5C         LOC_1E67	LD (TRD_5CF4),DE
(1) 2851/    1E6B : C5                  		PUSH BC
(1) 2852/    1E6C : E5                  		PUSH HL
(1) 2853/    1E6D : CD 5F 0C            		CALL SV_LD_RAMDISK
(1) 2854/    1E70 : E1                  		POP HL
(1) 2855/    1E71 : C1                  		POP BC
(1) 2856/    1E72 : AF                  		XOR A
(1) 2857/    1E73 : B0                  		OR B
(1) 2858/    1E74 : C8                  		RET Z
(1) 2859/    1E75 : C5                  LOC_1E75	PUSH BC
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 80 - 11/17/2013 22:45:09


(1) 2860/    1E76 : E5                  		PUSH HL
(1) 2861/    1E77 : CD 06 3F            		CALL COM_04
(1) 2862/    1E7A : 3A F4 5C            		LD A,(TRD_5CF4)
(1) 2863/    1E7D : CD 02 3F            		CALL COM_03
(1) 2864/    1E80 : 3A F5 5C            		LD A,(TRD_5CF5)
(1) 2865/    1E83 : CD 63 3E            		CALL COM_02
(1) 2866/    1E86 : 3A CE 5C            		LD A,(TRD_5CCE)		; #00-óíÖçàÖ ëÖäíéêÄ,#FF-áÄèàëú	ëÖäíéêÄ
(1) 2867/    1E89 : B7                  		OR A
(1) 2868/    1E8A : F5                  		PUSH AF
(1) 2869/    1E8B : CC 0E 3F            		CALL Z,LOAD_SECTOR
(1) 2870/    1E8E : F1                  		POP AF
(1) 2871/    1E8F : C4 0A 3F            		CALL NZ,SAVE_SECTOR
(1) 2872/    1E92 : E1                  		POP HL
(1) 2873/    1E93 : 11 00 01            		LD DE,0X100
(1) 2874/    1E96 : 19                  		ADD HL,DE
(1) 2875/    1E97 : E5                  		PUSH HL
(1) 2876/    1E98 : 3E 10               		LD A,0X10
(1) 2877/    1E9A : 21 F4 5C            		LD HL,TRD_5CF4
(1) 2878/    1E9D : 34                  		INC (HL)
(1) 2879/    1E9E : BE                  		CP (HL)
(1) 2880/    1E9F : 20 06               		JR NZ,LOC_1EA7
(1) 2881/    1EA1 : 36 00               		LD (HL),0
(1) 2882/    1EA3 : 21 F5 5C            		LD HL,TRD_5CF5
(1) 2883/    1EA6 : 34                  		INC (HL)
(1) 2884/    1EA7 : E1                  LOC_1EA7	POP HL
(1) 2885/    1EA8 : C1                  		POP BC
(1) 2886/    1EA9 : 10 CA               		DJNZ LOC_1E75
(1) 2887/    1EAB : C9                  		RET
(1) 2888/    1EAC :                     
(1) 2889/    1EAC : E5                  KOLWO_SECS	PUSH HL
(1) 2890/    1EAD : 67                  		LD H,A
(1) 2891/    1EAE : 2E 00               		LD L,0
(1) 2892/    1EB0 : E5                  		PUSH HL
(1) 2893/    1EB1 : ED 52               		SBC HL,DE
(1) 2894/    1EB3 : DC BC 1E            		CALL C,LOAD_FILLFILE
(1) 2895/    1EB6 : E1                  		POP HL
(1) 2896/    1EB7 : 7C                  		LD A,H
(1) 2897/    1EB8 : E1                  		POP HL
(1) 2898/    1EB9 : D8                  		RET C
(1) 2899/    1EBA : 7A                  		LD A,D
(1) 2900/    1EBB : C9                  		RET
(1) 2901/    1EBC :                     
(1) 2902/    1EBC : AF                  LOAD_FILLFILE	XOR A
(1) 2903/    1EBD : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 2904/    1EC0 : 37                  		SCF
(1) 2905/    1EC1 : C9                  		RET
(1) 2906/    1EC2 :                     
(1) 2907/    1EC2 : 21 FF FF            FORMAT		LD HL,0XFFFF
(1) 2908/    1EC5 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2909/    1EC8 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2910/    1EC8 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 2911/    1ECB : 22 D1 5C            		LD (TRD_5CD1),HL
(1) 2912/    1ECE : CD 2B 04            		CALL CP_SECOND_SYM
(1) 2913/    1ED1 : CA 1A 1D            		JP Z,SINTAX_ERROR
(1) 2914/    1ED4 : CD DF 1D            		CALL SET_AND_PUT
(1) 2915/    1ED7 : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 2916/    1EDA : CD 57 1C            		CALL SET_FILENAME
(1) 2917/    1EDD : CD 48 0E            		CALL FORMAT_RAM
(1) 2918/    1EE0 : 28 2C               		JR Z,END_FORMAT
(1) 2919/    1EE2 : 3E 50               		LD A,0X50
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 81 - 11/17/2013 22:45:09


(1) 2920/    1EE4 : 32 D7 5C            LOC_1EE8	LD (TRD_5CD7),A		; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2921/    1EE7 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2922/    1EE7 : CD 98 3D            		CALL COM_00
(1) 2923/    1EEA : CD F6 1F            		CALL COM_17
(1) 2924/    1EED : CD A0 3E            		CALL PAUSE_3_C_A
(1) 2925/    1EF0 : 1E 01               		LD E,1
(1) 2926/    1EF2 : CD FD 1F            		CALL FORMAT_TREK
(1) 2927/    1EF5 : CD EB 1F            		CALL COM_16
(1) 2928/    1EF8 : 1E 00               		LD E,0
(1) 2929/    1EFA : CD FD 1F            		CALL FORMAT_TREK
(1) 2930/    1EFD : CD F6 1F            		CALL COM_17
(1) 2931/    1F00 : CD A0 3E            		CALL PAUSE_3_C_A
(1) 2932/    1F03 : CD B5 3E            		CALL LOC_3EB5
(1) 2933/    1F06 : 3E 80               		LD A,0X80
(1) 2934/    1F08 : 32 DA 5C            		LD (TRD_5CDA),A
(1) 2935/    1F0B : CD BD 20            LOC_1F1B	CALL FORMAT_DISK
(1) 2936/    1F0E : CD 2A 0E            END_FORMAT	CALL CP_TYPEDRIVE
(1) 2937/    1F11 : CC A7 0E            		CALL Z,CREATE_TRDTABL
(1) 2938/    1F14 : CD 9F 1D            		CALL CLEAR_DOWN_SCR
(1) 2939/    1F17 : 21 25 5D            		LD HL,TRD_5D25
(1) 2940/    1F1A : 11 26 5D            		LD DE,TRD_5D26
(1) 2941/    1F1D : 01 FF 00            		LD BC,0XFF
(1) 2942/    1F20 : 70                  		LD (HL),B
(1) 2943/    1F21 : ED B0               		LDIR
(1) 2944/    1F23 : 3E 16               		LD A,0X16		;íàè
(1) 2945/    1F25 : 21 F0 09            		LD HL,2544		;ëÖäíéêéÇ
(1) 2946/    1F28 : 32 08 5E            LOC_1F55	LD (TRD_5E08),A
(1) 2947/    1F2B : 22 0A 5E            		LD (TRD_5E0A),HL
(1) 2948/    1F2E : 3E 01               		LD A,1
(1) 2949/    1F30 : 32 07 5E            		LD (TRD_5E07),A
(1) 2950/    1F33 : 3E 10               		LD A,0X10
(1) 2951/    1F35 : 32 0C 5E            		LD (TRD_5E0C),A
(1) 2952/    1F38 : 21 0F 5E            		LD HL,TRD_5E0F
(1) 2953/    1F3B : 11 10 5E            		LD DE,TRD_5E10
(1) 2954/    1F3E : 01 08 00            		LD BC,8
(1) 2955/    1F41 : 36 20               		LD (HL)," "
(1) 2956/    1F43 : ED B0               		LDIR
(1) 2957/    1F45 : 21 DD 5C            		LD HL,TRD_5CDD		; àåü îÄâãÄ
(1) 2958/    1F48 : 11 1A 5E            		LD DE,TRD_5E1A
(1) 2959/    1F4B : 01 08 00            		LD BC,8
(1) 2960/    1F4E : ED B0               		LDIR			;èÖêÖçéë àåÖçà ÑàëäÄ
(1) 2961/    1F50 : CD EB 1F            		CALL COM_16
(1) 2962/    1F53 : 06 01               		LD B,1
(1) 2963/    1F55 : 11 08 00            		LD DE,8
(1) 2964/    1F58 : 21 25 5D            		LD HL,TRD_5D25
(1) 2965/    1F5B : CD 4D 1E            		CALL COM_06
(1) 2966/    1F5E : 3A D6 5C            		LD A,(TRD_5CD6)		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 2967/    1F61 : F5                  		PUSH AF
(1) 2968/    1F62 : AF                  		XOR A
(1) 2969/    1F63 : 32 E5 5C            		LD (TRD_5CE5),A		; êÄëòàêÖçàÖ îÄâãÄ
(1) 2970/    1F66 : 2A 0A 5E            		LD HL,(TRD_5E0A)
(1) 2971/    1F69 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2972/    1F6C :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2973/    1F6C : 21 DD 5C            		LD HL,TRD_5CDD		; àåü îÄâãÄ
(1) 2974/    1F6F : DF                  		RST 0X18
(1) 2975/    1F70 : 3E 0D               		LD A,0X0D
(1) 2976/    1F72 : D7                  		RST 0X10
(1) 2977/    1F73 : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 2978/    1F76 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 2979/    1F76 : F1                  		POP AF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 82 - 11/17/2013 22:45:09


(1) 2980/    1F77 : E5                  		PUSH HL
(1) 2981/    1F78 : 16 00               		LD D,0
(1) 2982/    1F7A : 5F                  		LD E,A
(1) 2983/    1F7B : ED 52               		SBC HL,DE
(1) 2984/    1F7D : 44                  		LD B,H
(1) 2985/    1F7E : 4D                  		LD C,L
(1) 2986/    1F7F : CD A9 1D            		CALL PRINT_CHISLO	; èÖóÄíú óàëãÄ
(1) 2987/    1F82 : 3E 2F               		LD A,"/"
(1) 2988/    1F84 : D7                  		RST 0X10
(1) 2989/    1F85 : C1                  		POP BC
(1) 2990/    1F86 : CD A9 1D            		CALL PRINT_CHISLO	; èÖóÄíú óàëãÄ
(1) 2991/    1F89 : C3 D3 01            		JP END_COMAND
(1) 2992/    1F8C :                     
(1) 2993/    1F8C : (MACRO)             		DUPL 0X1FB9-$,0XFF
(1) 2993/    1F8C :                     DUPL:
(1) 2993/    1F8C : =0H                 $$N             EQU (0X1FB9-$) / 1024
(1) 2993/    1F8C : =2DH                $$M             EQU (0X1FB9-$) # 1024
(1) 2993/    1F8C :                                     REPT $$N
(1) 2993/    1F8C :                                     DB 1024 DUP(0XFF)
(1) 2993/    1F8C :                                     ENDM
(1) 2993/    1F8C : =>TRUE                              IF $$M <> 0
(1) 2993/    1F8C : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF 
(1) 2993/    1FB9 : [2993]                              ENDIF
(1) 2994/    1FB9 :                     ;íÄÅãàñÄ çéåÖêéÇ ëÖäíéêéÇ Ñãü îéêåÄíàêéÇÄçàü
(1) 2995/    1FB9 : 01 09 02 0A 03 0B   TABL_SECTORS	DB 0X01,0X09,0X02,0X0A,0X03,0X0B,0X04,0X0C,0X05,0X0D,0X06,0X0E,0X07,0X0F,0X08,0X10,0X01
                    04 0C 05 0D 06 0E 
                    07 0F 08 10 01 
(1) 2996/    1FCA :                     
(1) 2997/    1FCA : CD 08 3E            CP_DSK_TRACK	CALL GET_TIME_HEAD
(1) 2998/    1FCD : F6 11               		OR 0X11
(1) 2999/    1FCF : 47                  		LD B,A
(1) 3000/    1FD0 : 3E 32               		LD A,0X32
(1) 3001/    1FD2 : CD 44 3E            		CALL HEAD_POSITION
(1) 3002/    1FD5 : 3E 02               		LD A,2
(1) 3003/    1FD7 : CD 44 3E            		CALL HEAD_POSITION
(1) 3004/    1FDA : CD FD 3D            		CALL PAUSE725779T
(1) 3005/    1FDD : DB 1F               		IN A,(VG_RW_1F)
(1) 3006/    1FDF : E6 04               		AND 4
(1) 3007/    1FE1 : 3E 50               		LD A,0X50
(1) 3008/    1FE3 : 28 02               		JR Z,LOC_1FE7
(1) 3009/    1FE5 : 3E 28               		LD A,0X28
(1) 3010/    1FE7 : 32 D7 5C            LOC_1FE7	LD (TRD_5CD7),A
(1) 3011/    1FEA : C9                  		RET
(1) 3012/    1FEB :                     
(1) 3013/    1FEB :                     ;ìëíÄçéÇäÄ ëíéêéçõ 0 ÑàëäÄ
(1) 3014/    1FEB : 3A 16 5D            COM_16		LD A,(TRD_5D16)		; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí #FF)
(1) 3015/    1FEE : F6 3C               		OR 0X3C
(1) 3016/    1FF0 : 32 16 5D            LOC_1FF0	LD (TRD_5D16),A		; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí #FF)
(1) 3017/    1FF3 : =>TRUE              		IF EMUWRFF=1
(1) 3018/    1FF3 : F7                  		RST 0X30
(1) 3019/    1FF4 : 04                  		DB WOUTFF
(1) 3020/    1FF5 : =>FALSE             		ELSE
(1) 3021/    1FF5 :                     		OUT (VG_RW_FF),A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 83 - 11/17/2013 22:45:09


(1) 3022/    1FF5 : [3017]              		ENDIF
(1) 3023/    1FF5 : C9                  		RET
(1) 3024/    1FF6 :                     
(1) 3025/    1FF6 :                     ;ìëíÄçéÇäÄ ëíéêéçõ 1 ÑàëäÄ
(1) 3026/    1FF6 : 3A 16 5D            COM_17		LD A,(TRD_5D16)		; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí #FF)
(1) 3027/    1FF9 : E6 6F               		AND 0X6F
(1) 3028/    1FFB : 18 F3               		JR LOC_1FF0
(1) 3029/    1FFD :                     
(1) 3030/    1FFD : F3                  FORMAT_TREK	DI
(1) 3031/    1FFE : 3E F4               		LD A,0XF4
(1) 3032/    2000 : =>TRUE              		IF EMU3D2F=1
(1) 3033/    2000 : F7                  		RST 0X30
(1) 3034/    2001 : 00                  		DB WOUT1F
(1) 3035/    2002 : =>FALSE             		ELSE
(1) 3036/    2002 :                     		OUT (VG_RW_1F),A
(1) 3037/    2002 : [3032]              		ENDIF
(1) 3038/    2002 : 21 B9 1F            		LD HL,TABL_SECTORS
(1) 3039/    2005 : 0E 7F               		LD C,0X7F
(1) 3040/    2007 : 06 0A               LOC_2007	LD B,0X0A
(1) 3041/    2009 : 16 4E               		LD D,0X4E
(1) 3042/    200B : CD B1 20            		CALL WRITE_C_D_B
(1) 3043/    200E : 06 0C               		LD B,0X0C
(1) 3044/    2010 : 16 00               		LD D,0
(1) 3045/    2012 : CD B1 20            		CALL WRITE_C_D_B
(1) 3046/    2015 : 06 03               		LD B,3
(1) 3047/    2017 : 16 F5               		LD D,0XF5
(1) 3048/    2019 : CD B1 20            		CALL WRITE_C_D_B
(1) 3049/    201C : 16 FE               		LD D,0XFE
(1) 3050/    201E : CD AF 20            		CALL WRITE_C_D_1
(1) 3051/    2021 : 53                  		LD D,E
(1) 3052/    2022 : CD AF 20            		CALL WRITE_C_D_1
(1) 3053/    2025 : 16 00               		LD D,0
(1) 3054/    2027 : CD AF 20            		CALL WRITE_C_D_1
(1) 3055/    202A : 56                  		LD D,(HL)
(1) 3056/    202B : CD AF 20            		CALL WRITE_C_D_1
(1) 3057/    202E : 16 01               		LD D,1
(1) 3058/    2030 : CD AF 20            		CALL WRITE_C_D_1
(1) 3059/    2033 : 16 F7               		LD D,0XF7
(1) 3060/    2035 : CD AF 20            		CALL WRITE_C_D_1
(1) 3061/    2038 : 06 16               		LD B,0X16
(1) 3062/    203A : 16 4E               		LD D,0X4E
(1) 3063/    203C : CD B1 20            		CALL WRITE_C_D_B
(1) 3064/    203F : 06 0C               		LD B,0X0C
(1) 3065/    2041 : 16 00               		LD D,0
(1) 3066/    2043 : CD B1 20            		CALL WRITE_C_D_B
(1) 3067/    2046 : 06 03               		LD B,3
(1) 3068/    2048 : 16 F5               		LD D,0XF5
(1) 3069/    204A : CD B1 20            		CALL WRITE_C_D_B
(1) 3070/    204D : 16 FB               		LD D,0XFB
(1) 3071/    204F : CD AF 20            		CALL WRITE_C_D_1
(1) 3072/    2052 : 06 00               		LD B,0
(1) 3073/    2054 : 16 00               		LD D,0
(1) 3074/    2056 : CD B1 20            		CALL WRITE_C_D_B
(1) 3075/    2059 : 16 F7               		LD D,0XF7
(1) 3076/    205B : CD AF 20            		CALL WRITE_C_D_1
(1) 3077/    205E : 06 3C               		LD B,0X3C
(1) 3078/    2060 : 16 4E               		LD D,0X4E
(1) 3079/    2062 : CD B1 20            		CALL WRITE_C_D_B
(1) 3080/    2065 : 7E                  		LD A,(HL)
(1) 3081/    2066 : 23                  		INC HL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 84 - 11/17/2013 22:45:09


(1) 3082/    2067 : FE 10               		CP 0X10
(1) 3083/    2069 : 20 9C               		JR NZ,LOC_2007
(1) 3084/    206B : 06 00               		LD B,0
(1) 3085/    206D : CD B1 20            		CALL WRITE_C_D_B
(1) 3086/    2070 : FA 76 20            		JP M,LOC_2076
(1) 3087/    2073 : CD B1 20            		CALL WRITE_C_D_B
(1) 3088/    2076 : =>TRUE              LOC_2076	IF EMU3D2F=1
(1) 3089/    2076 : F7                  		RST 0X30
(1) 3090/    2077 : 06                  		DB WIN1F
(1) 3091/    2078 : =>FALSE             		ELSE
(1) 3092/    2078 :                     		IN A,(VG_RW_1F)
(1) 3093/    2078 : [3088]              		ENDIF
(1) 3094/    2078 : E6 40               		AND 0X40
(1) 3095/    207A : C2 39 3F            		JP NZ,LOC_3F39		; READ ONLY
(1) 3096/    207D : 3A D8 5C            CP_NUM_TRACK	LD A,(TRD_5CD8)		; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3097/    2080 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3098/    2080 : B7                  		OR A
(1) 3099/    2081 : C0                  		RET NZ
(1) 3100/    2082 : 0E 7F               		LD C,0X7F
(1) 3101/    2084 : 7B                  		LD A,E
(1) 3102/    2085 : =>TRUE              		IF EMU3D2F=1
(1) 3103/    2085 : D3 4F               		OUT (RW_PORT1),A
(1) 3104/    2087 : =>FALSE             		ELSE
(1) 3105/    2087 :                     		OUT (VG_RW_3F),A
(1) 3106/    2087 : [3102]              		ENDIF
(1) 3107/    2087 : 21 BA 1F            		LD HL,TABL_SECTORS+1
(1) 3108/    208A : 06 03               LOC_208A	LD B,3
(1) 3109/    208C : 7E                  		LD A,(HL)
(1) 3110/    208D : =>TRUE              		IF EMU3D2F=1
(1) 3111/    208D : D3 6F               		OUT (RW_PORT2),A
(1) 3112/    208F : =>FALSE             		ELSE
(1) 3113/    208F :                     		OUT (VG_RW_5F),A
(1) 3114/    208F : [3110]              		ENDIF
(1) 3115/    208F : E5                  		PUSH HL
(1) 3116/    2090 : F3                  LOC_2090	DI
(1) 3117/    2091 : 3E 80               		LD A,0X80
(1) 3118/    2093 : =>TRUE              		IF EMU3D2F=1
(1) 3119/    2093 : F7                  		RST 0X30
(1) 3120/    2094 : 00                  		DB WOUT1F
(1) 3121/    2095 : =>FALSE             		ELSE
(1) 3122/    2095 :                     		OUT (VG_RW_1F),A
(1) 3123/    2095 : [3118]              		ENDIF
(1) 3124/    2095 : C5                  		PUSH BC
(1) 3125/    2096 : CD E5 3F            		CALL RD_DATAPORT
(1) 3126/    2099 : =>TRUE              		IF EMU3D2F=1
(1) 3127/    2099 : F7                  		RST 0X30
(1) 3128/    209A : 06                  		DB WIN1F
(1) 3129/    209B : =>FALSE             		ELSE
(1) 3130/    209B :                     		IN A,(VG_RW_1F)
(1) 3131/    209B : [3126]              		ENDIF
(1) 3132/    209B : E6 7F               		AND 0X7F
(1) 3133/    209D : C1                  		POP BC
(1) 3134/    209E : 28 06               		JR Z,LOC_20A6
(1) 3135/    20A0 : 10 EE               		DJNZ LOC_2090
(1) 3136/    20A2 : 21 D6 5C            		LD HL,TRD_5CD6		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 3137/    20A5 : 34                  		INC (HL)
(1) 3138/    20A6 : E1                  LOC_20A6	POP HL
(1) 3139/    20A7 : 7E                  		LD A,(HL)
(1) 3140/    20A8 : 23                  		INC HL
(1) 3141/    20A9 : FE 01               		CP 1
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 85 - 11/17/2013 22:45:09


(1) 3142/    20AB : 20 DD               		JR NZ,LOC_208A
(1) 3143/    20AD : FB                  		EI
(1) 3144/    20AE : C9                  		RET
(1) 3145/    20AF :                     
(1) 3146/    20AF : 06 01               WRITE_C_D_1	LD B,1
(1) 3147/    20B1 : =>TRUE              WRITE_C_D_B	IF EMU3D2F=1
(1) 3148/    20B1 : F7                  		RST 0X30
(1) 3149/    20B2 : 0A                  		DB WINFF
(1) 3150/    20B3 : =>FALSE             		ELSE
(1) 3151/    20B3 :                     		IN A,(VG_RW_FF)
(1) 3152/    20B3 : [3147]              		ENDIF
(1) 3153/    20B3 : E6 C0               		AND 0XC0
(1) 3154/    20B5 : 28 FA               		JR Z,WRITE_C_D_B
(1) 3155/    20B7 : F8                  		RET M
(1) 3156/    20B8 : =>TRUE              		IF EMU3D2F=1
(1) 3157/    20B8 : F7                  		RST 0X30
(1) 3158/    20B9 : 0C                  		DB WOUTCD
(1) 3159/    20BA : =>FALSE             		ELSE
(1) 3160/    20BA :                     		OUT (C),D
(1) 3161/    20BA : [3156]              		ENDIF
(1) 3162/    20BA : 10 F5               		DJNZ WRITE_C_D_B
(1) 3163/    20BC : C9                  		RET
(1) 3164/    20BD :                     
(1) 3165/    20BD : 21 D7 5C            FORMAT_DISK	LD HL,TRD_5CD7		; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3166/    20C0 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3167/    20C0 : 46                  		LD B,(HL)
(1) 3168/    20C1 : AF                  		XOR A
(1) 3169/    20C2 : 23                  		INC HL
(1) 3170/    20C3 : 77                  		LD (HL),A
(1) 3171/    20C4 : 1E FF               		LD E,0XFF
(1) 3172/    20C6 : C5                  LOC_20C6	PUSH BC
(1) 3173/    20C7 : 1C                  		INC E
(1) 3174/    20C8 : 7B                  		LD A,E
(1) 3175/    20C9 : 06 18               		LD B,0X18
(1) 3176/    20CB : CD 44 3E            		CALL HEAD_POSITION
(1) 3177/    20CE : CD EB 1F            		CALL COM_16
(1) 3178/    20D1 : A7                  		AND A
(1) 3179/    20D2 : CD 2F 32            		CALL FORMAT_TREK_
(1) 3180/    20D5 : 00                  		NOP
(1) 3181/    20D6 : FE 80               		CP 0X80
(1) 3182/    20D8 : 20 07               		JR NZ,LOC_20E1
(1) 3183/    20DA : CD F6 1F            		CALL COM_17
(1) 3184/    20DD : 37                  		SCF
(1) 3185/    20DE : CD 2F 32            		CALL FORMAT_TREK_
(1) 3186/    20E1 : C1                  LOC_20E1	POP BC
(1) 3187/    20E2 : 10 E2               		DJNZ LOC_20C6
(1) 3188/    20E4 : C9                  		RET
(1) 3189/    20E5 :                     
(1) 3190/    20E5 : F5                  DELETE_BUF	PUSH AF
(1) 3191/    20E6 : 3A F8 5C            		LD A,(TRD_5CF8)		; ÑàëäéÇéÑ èêà éèÖêÄñàà	ë 2 îÄâãÄåà
(1) 3192/    20E9 : FE FF               		CP 0XFF
(1) 3193/    20EB : 28 2F               		JR Z,LOC_211C
(1) 3194/    20ED : F1                  		POP AF
(1) 3195/    20EE : C3 70 29            		JP DEL_BUF		; ìÑÄãÖçàÖ ÅìîÖêÄ,Öëãà	éç Öëíú
(1) 3196/    20F1 :                     
(1) 3197/    20F1 :                     ; èêéÇÖêäÄ çÄãàóàü INTERFACE1
(1) 3198/    20F1 : F5                  CP_INTERFACE1	PUSH	AF
(1) 3199/    20F2 : 3A B6 5C            		LD	A,(TRD_5CB6)	; Ñãü èêéÇÖêäà çÄãàóàü INTERFACE1
(1) 3200/    20F5 : FE F4               		CP	0F4H
(1) 3201/    20F7 : 18 23               		JR	LOC_211C
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 86 - 11/17/2013 22:45:09


(1) 3202/    20F9 : AF                  		XOR	A
(1) 3203/    20FA : 21 18 5D            		LD	HL,TRD_5D18
(1) 3204/    20FD : B6                  		OR	(HL)
(1) 3205/    20FE : 36 FF               		LD	(HL),0FFH
(1) 3206/    2100 : 28 1A               		JR	Z,LOC_211C
(1) 3207/    2102 : 3A 0C 5D            		LD	A,(TRD_5D0C)
(1) 3208/    2105 : B7                  		OR	A
(1) 3209/    2106 : 21 C3 5C            		LD	HL,TRD_5CC3
(1) 3210/    2109 : 11 33 5D            		LD	DE,TRD_5D33
(1) 3211/    210C : 20 03               		JR	NZ,LOC_2111
(1) 3212/    210E : 11 34 5E            		LD	DE,TRD_5E34
(1) 3213/    2111 : 06 2D               LOC_2111	LD	B,2DH
(1) 3214/    2113 : 4E                  LOC_2113	LD	C,(HL)
(1) 3215/    2114 : 1A                  		LD	A,(DE)
(1) 3216/    2115 : 77                  		LD	(HL),A
(1) 3217/    2116 : 79                  		LD	A,C
(1) 3218/    2117 : 12                  		LD	(DE),A
(1) 3219/    2118 : 23                  		INC	HL
(1) 3220/    2119 : 13                  		INC	DE
(1) 3221/    211A : 10 F7               		DJNZ	LOC_2113
(1) 3222/    211C : F1                  LOC_211C	POP AF
(1) 3223/    211D : C9                  		RET
(1) 3224/    211E :                     
(1) 3225/    211E :                     ;ìÑÄãÖçàÖ ÇÇÖÑÖççéâ ëíêéäà èéëãÖ ÇõèéãçÖçàü äéåÄçÑõ
(1) 3226/    211E : CD 74 32            CLRBUF_EDITOR	CALL CLRBUF_EDITOR_
(1) 3227/    2121 : 36 0D               		LD (HL),0X0D
(1) 3228/    2123 : 22 5B 5C            		LD (K_CUR),HL
(1) 3229/    2126 : 23                  		INC HL
(1) 3230/    2127 : 36 80               		LD (HL),0X80
(1) 3231/    2129 : C9                  		RET
(1) 3232/    212A :                     
(1) 3233/    212A :                     ;ÇéëëíÄçéÇãÖçàÖ ÇÇÖÑÖçéâ ëíêéäà Ç ÅìîÖêÖ êÖÑÄäíéêÄ
(1) 3234/    212A : ED 5B 59 5C         RESTORE_COMSTR	LD DE,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 3235/    212E : 21 20 5D            		LD HL,TRD_5D20		; Ñãü ëéïêÄçÖçàü 3 ëàåÇéãéÇ ÇÇÖÑÖçéâ ëíêéäà
(1) 3236/    2131 : CD B0 02            		CALL LDI3_HL2DE		; èÖêÖçéë 3 ÅÄâí
(1) 3237/    2134 : C9                  		RET
(1) 3238/    2135 :                     
(1) 3239/    2135 :                     ; èêàçüíàÖ à éÅêÄÅéíäÄ äéåÄçÑ
(1) 3240/    2135 : 3A 0F 5D            GET_COMMAND	LD A,(TRD_5D0F)		; çéåÖê	éòàÅäà TR-DOS
(1) 3241/    2138 : B7                  		OR A
(1) 3242/    2139 : F5                  		PUSH AF
(1) 3243/    213A : C4 2A 21            		CALL NZ,RESTORE_COMSTR	;Öëãà ÅõãÄ éòàÅäÄ, íé ÇéáÇêÄôÄÖå 3 ëéïêÄççÖçõï ÅÄâíÄ
(1) 3244/    213D : F1                  		POP AF
(1) 3245/    213E : CC 1E 21            		CALL Z,CLRBUF_EDITOR	;Öëãà éòàÅäà çÖ Åõãé, íé éóàëíäÄ ÅìîÖêÄ ëíêéäà êÖÑÄäíàêéÇÄçàü
(1) 3246/    2141 : 2A 59 5C            		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 3247/    2144 : CD 80 3D            		CALL PRINT_0D
(1) 3248/    2147 : 3A 19 5D            		LD A,(TRD_5D19)		; ÑàëäéÇéÑ èé ìåéãóÄçàû
(1) 3249/    214A : CD 25 33            		CALL GET_COMMAND2
(1) 3250/    214D : 3E 3E               		LD A,">"
(1) 3251/    214F : D7                  		RST 0X10
(1) 3252/    2150 : 21 3A 5C            		LD HL,ERR_NR
(1) 3253/    2153 : 36 FF               		LD (HL),0XFF
(1) 3254/    2155 : C3 90 1D            		JP CALL2BASEDIT
(1) 3255/    2158 :                     
(1) 3256/    2158 : CD 2A 1E            SUB_2158	CALL GET_NEXT_SYM
(1) 3257/    215B : CD 8C 1D            		CALL GET_SYMSTR
(1) 3258/    215E : FE 2C               		CP ","
(1) 3259/    2160 : C2 1A 1D            		JP NZ,SINTAX_ERROR
(1) 3260/    2163 : 2A DB 5C            		LD HL,(TRD_5CDB)
(1) 3261/    2166 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 87 - 11/17/2013 22:45:09


(1) 3262/    2169 : CD 0B 1E            		CALL SET_NUM_CHAN
(1) 3263/    216C : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 3264/    216F : 2A DB 5C            		LD HL,(TRD_5CDB)
(1) 3265/    2172 : 7C                  		LD A,H
(1) 3266/    2173 : B7                  		OR A
(1) 3267/    2174 : C2 1A 1D            		JP NZ,SINTAX_ERROR
(1) 3268/    2177 : 23                  		INC HL
(1) 3269/    2178 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3270/    217B :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3271/    217B : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 3272/    217E : 22 DB 5C            		LD (TRD_5CDB), HL
(1) 3273/    2181 : C9                  		RET
(1) 3274/    2182 :                     
(1) 3275/    2182 : 2A 11 5D            OPEN		LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 3276/    2185 : 22 5D 5C            		LD (CH_ADD),HL
(1) 3277/    2188 : CD 0B 1E            		CALL SET_NUM_CHAN
(1) 3278/    218B : CD D0 1D            		CALL LOC_1DD0
(1) 3279/    218E : CD 8C 1D            LOC_218E	CALL GET_SYMSTR
(1) 3280/    2191 : FE 41               		CP "A"
(1) 3281/    2193 : 30 05               		JR NC,LOC_219A
(1) 3282/    2195 : CD 2A 1E            		CALL GET_NEXT_SYM
(1) 3283/    2198 : 18 F4               		JR LOC_218E
(1) 3284/    219A :                     
(1) 3285/    219A : FE A5               LOC_219A	CP 0XA5
(1) 3286/    219C : F5                  		PUSH AF
(1) 3287/    219D : CC 58 21            		CALL Z,SUB_2158
(1) 3288/    21A0 : F1                  		POP AF
(1) 3289/    21A1 : 28 0B               		JR Z,LOC_21AE
(1) 3290/    21A3 : E6 DF               		AND 0XDF
(1) 3291/    21A5 : FE 52               		CP "R"
(1) 3292/    21A7 : 28 05               		JR Z,LOC_21AE
(1) 3293/    21A9 : FE 57               		CP "W"
(1) 3294/    21AB : C2 1A 1D            		JP NZ,SINTAX_ERROR
(1) 3295/    21AE : 32 09 5D            LOC_21AE	LD (TRD_5D09),A
(1) 3296/    21B1 : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 3297/    21B4 : 3E 23               		LD A,"#"
(1) 3298/    21B6 : 32 E5 5C            		LD (TRD_5CE5),A		; êÄëòàêÖçàÖ îÄâãÄ
(1) 3299/    21B9 : 3E 00               		LD A,0
(1) 3300/    21BB : 32 E6 5C            		LD (TRD_5CE6), A	; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 3301/    21BE : CD DB 21            		CALL FIND_ENDFILE
(1) 3302/    21C1 : F5                  		PUSH AF
(1) 3303/    21C2 : CD 0F 22            		CALL CP_STREAMS
(1) 3304/    21C5 : F1                  		POP AF
(1) 3305/    21C6 : F5                  		PUSH AF
(1) 3306/    21C7 : C4 88 22            		CALL NZ,CREATE_BLOCK0
(1) 3307/    21CA : F1                  		POP AF
(1) 3308/    21CB : CD 42 22            		CALL OPEN_STREAM
(1) 3309/    21CE : 2A 11 5D            		LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 3310/    21D1 : 01 24 01            		LD BC,0X124
(1) 3311/    21D4 : 09                  		ADD HL,BC
(1) 3312/    21D5 : 22 11 5D            		LD (TRD_5D11),HL	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 3313/    21D8 : C3 D3 01            		JP END_COMAND
(1) 3314/    21DB :                     
(1) 3315/    21DB : 3E 0A               FIND_ENDFILE	LD A,0X0A
(1) 3316/    21DD : 32 06 5D            		LD (TRD_5D06),A		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1) 3317/    21E0 : CD B0 1C            		CALL SET_CP_FILENAME
(1) 3318/    21E3 : F5                  		PUSH AF
(1) 3319/    21E4 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 3320/    21E7 : F1                  		POP AF
(1) 3321/    21E8 : 20 1C               		JR NZ,LOC_2206
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 88 - 11/17/2013 22:45:09


(1) 3322/    21EA : 3A 09 5D            		LD A,(TRD_5D09)
(1) 3323/    21ED : FE 52               		CP "R"
(1) 3324/    21EF : 28 10               		JR Z,LOC_2201
(1) 3325/    21F1 : 21 E6 5C            LOC_21F1	LD HL,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 3326/    21F4 : 34                  		INC (HL)
(1) 3327/    21F5 : CD B3 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 3328/    21F8 : 28 F7               		JR Z,LOC_21F1
(1) 3329/    21FA : 21 E6 5C            		LD HL,TRD_5CE6		; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 3330/    21FD : 35                  		DEC (HL)
(1) 3331/    21FE : CD B3 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 3332/    2201 : CD 5D 16            LOC_2201	CALL RDHEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 3333/    2204 : AF                  		XOR A
(1) 3334/    2205 : C9                  		RET
(1) 3335/    2206 :                     
(1) 3336/    2206 : 3A 09 5D            LOC_2206	LD A,(TRD_5D09)
(1) 3337/    2209 : FE 52               		CP "R"
(1) 3338/    220B : C0                  		RET NZ
(1) 3339/    220C : C3 D9 03            		JP ERR_NOFILES
(1) 3340/    220F :                     
(1) 3341/    220F : 3A DB 5C            CP_STREAMS	LD A,(TRD_5CDB)
(1) 3342/    2212 : E7                  		RST 0X20
(1) 3343/    2213 : 27 17               		DW 0X1727
(1) 3344/    2215 : 78                  		LD A,B
(1) 3345/    2216 : B1                  		OR C
(1) 3346/    2217 : C2 1B 22            		JP NZ,LOC_221B
(1) 3347/    221A : C9                  		RET
(1) 3348/    221B :                     
(1) 3349/    221B : 3E 19               LOC_221B	LD A,0X19
(1) 3350/    221D : 32 3A 5C            		LD (ERR_NR),A
(1) 3351/    2220 : 21 04 28            		LD HL,TXT_STREAMOPEN		; "STREAM OPENED"
(1) 3352/    2223 : 3E 0A               		LD A,0X0A
(1) 3353/    2225 : C3 4A 1C            LOC_2225	JP PRINT_TXTERR
(1) 3354/    2228 :                     
(1) 3355/    2228 : 3E 0B               LOC_2228	LD A,0X0B
(1) 3356/    222A : 21 12 28            		LD HL,TXT_NODISKFILE		; "NOT DISK FILE"
(1) 3357/    222D : 18 F6               		JR LOC_2225
(1) 3358/    222F :                     
(1) 3359/    222F : E5                  INITFREEACCESS	PUSH HL
(1) 3360/    2230 : 0E 20               		LD C,0X20
(1) 3361/    2232 : EF                  		RST 0X28
(1) 3362/    2233 : 3A D7 5C            		LD A,(TRD_5CD7)		; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3363/    2236 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3364/    2236 : 77                  		LD (HL),A
(1) 3365/    2237 : 23                  		INC HL
(1) 3366/    2238 : AF                  		XOR A
(1) 3367/    2239 : 77                  		LD (HL),A
(1) 3368/    223A : 23                  		INC HL
(1) 3369/    223B : 77                  		LD (HL),A
(1) 3370/    223C : 23                  		INC HL
(1) 3371/    223D : 77                  		LD (HL),A
(1) 3372/    223E : 3E 7F               		LD A,0X7F
(1) 3373/    2240 : E1                  		POP HL
(1) 3374/    2241 : C9                  		RET
(1) 3375/    2242 :                     
(1) 3376/    2242 : F5                  OPEN_STREAM	PUSH AF
(1) 3377/    2243 : CD 0F 22            		CALL CP_STREAMS
(1) 3378/    2246 : EB                  		EX DE,HL
(1) 3379/    2247 : 2A 53 5C            		LD HL,(PROG)
(1) 3380/    224A : ED 4B 4F 5C         		LD BC,(CHANS)
(1) 3381/    224E : ED 42               		SBC HL,BC
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 89 - 11/17/2013 22:45:09


(1) 3382/    2250 : EB                  		EX DE,HL
(1) 3383/    2251 : 73                  		LD (HL),E
(1) 3384/    2252 : 23                  		INC HL
(1) 3385/    2253 : 72                  		LD (HL),D
(1) 3386/    2254 : CD B2 22            		CALL CREATE_HEADCHAN
(1) 3387/    2257 : 3A 09 5D            		LD A,(TRD_5D09)
(1) 3388/    225A : FE A5               		CP 0XA5
(1) 3389/    225C : CC 2F 22            		CALL Z,INITFREEACCESS
(1) 3390/    225F : 28 0A               		JR Z,LOC_226B
(1) 3391/    2261 : 3A 09 5D            		LD A,(TRD_5D09)
(1) 3392/    2264 : FE 52               		CP "R"
(1) 3393/    2266 : 3E FF               		LD A,0XFF
(1) 3394/    2268 : 20 01               		JR NZ,LOC_226B
(1) 3395/    226A : AF                  		XOR A
(1) 3396/    226B : 77                  LOC_226B	LD (HL),A
(1) 3397/    226C : F1                  		POP AF
(1) 3398/    226D : C3 70 22            		JP LOC_2270
(1) 3399/    2270 :                     
(1) 3400/    2270 : F5                  LOC_2270	PUSH AF
(1) 3401/    2271 : 01 14 00            		LD BC,0X14
(1) 3402/    2274 : 09                  		ADD HL,BC
(1) 3403/    2275 : E5                  		PUSH HL
(1) 3404/    2276 : CD 23 24            		CALL GET_TEKSECFILE
(1) 3405/    2279 : E1                  		POP HL
(1) 3406/    227A : 23                  		INC HL
(1) 3407/    227B : 06 01               		LD B,1
(1) 3408/    227D : F1                  		POP AF
(1) 3409/    227E : B7                  		OR A
(1) 3410/    227F : F5                  		PUSH AF
(1) 3411/    2280 : C4 4D 1E            		CALL NZ,COM_06
(1) 3412/    2283 : F1                  		POP AF
(1) 3413/    2284 : CC 3D 1E            		CALL Z,COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1) 3414/    2287 : C9                  		RET
(1) 3415/    2288 :                     
(1) 3416/    2288 : 2A D7 5C            CREATE_BLOCK0	LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3417/    228B :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3418/    228B : E5                  		PUSH HL
(1) 3419/    228C : 21 00 20            		LD HL,0X2000
(1) 3420/    228F : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3421/    2292 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3422/    2292 : CD 9A 22            		CALL CREATE_BLOCK
(1) 3423/    2295 : E1                  		POP HL
(1) 3424/    2296 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3425/    2299 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3426/    2299 : C9                  		RET
(1) 3427/    229A :                     
(1) 3428/    229A : 21 00 10            CREATE_BLOCK	LD HL,0X1000
(1) 3429/    229D : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 3430/    22A0 : CD C4 1A            		CALL CP_FREE_ON_DSK
(1) 3431/    22A3 : CD 59 1B            		CALL SAVE_FILE
(1) 3432/    22A6 : 21 00 00            		LD HL,0
(1) 3433/    22A9 : 22 E8 5C            		LD (TRD_5CE8),HL	; ÑãàçÄ	èêéÉêÄååõ
(1) 3434/    22AC : CD 6B 16            		CALL SET_HEAD_FILENAME
(1) 3435/    22AF : C3 43 1E            		JP REWRITE_9SEC		; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 3436/    22B2 :                     
(1) 3437/    22B2 : 2A 53 5C            CREATE_HEADCHAN	LD HL,(PROG)
(1) 3438/    22B5 : 2B                  		DEC HL
(1) 3439/    22B6 : 22 51 5C            		LD (CURCHL),HL
(1) 3440/    22B9 : E5                  		PUSH HL
(1) 3441/    22BA : 01 24 01            		LD BC,0X124
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 90 - 11/17/2013 22:45:09


(1) 3442/    22BD : CD 32 1E            		CALL RESERV_RAM
(1) 3443/    22C0 : 3E 00               		LD A,0
(1) 3444/    22C2 : 06 00               		LD B,0
(1) 3445/    22C4 : 12                  LOC_22C4	LD (DE),A
(1) 3446/    22C5 : 1B                  		DEC DE
(1) 3447/    22C6 : 10 FC               		DJNZ LOC_22C4
(1) 3448/    22C8 : E1                  		POP HL
(1) 3449/    22C9 : E5                  		PUSH HL
(1) 3450/    22CA : 11 0E 3D            		LD DE, LOC_3D0E
(1) 3451/    22CD : 73                  		LD (HL),E
(1) 3452/    22CE : 23                  		INC HL
(1) 3453/    22CF : 72                  		LD (HL),D
(1) 3454/    22D0 : 23                  		INC HL
(1) 3455/    22D1 : 11 06 3D            		LD DE,LOC_3D06
(1) 3456/    22D4 : 73                  		LD (HL),E
(1) 3457/    22D5 : 23                  		INC HL
(1) 3458/    22D6 : 72                  		LD (HL),D
(1) 3459/    22D7 : 23                  		INC HL
(1) 3460/    22D8 : 36 44               		LD (HL),"D"
(1) 3461/    22DA : 23                  		INC HL
(1) 3462/    22DB : 23                  		INC HL
(1) 3463/    22DC : 23                  		INC HL
(1) 3464/    22DD : 23                  		INC HL
(1) 3465/    22DE : 23                  		INC HL
(1) 3466/    22DF : 36 24               		LD (HL),"$"
(1) 3467/    22E1 : 23                  		INC HL
(1) 3468/    22E2 : 36 01               		LD (HL),1
(1) 3469/    22E4 : 23                  		INC HL
(1) 3470/    22E5 : 3A F6 5C            		LD A,(TRD_5CF6)		; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1) 3471/    22E8 : 77                  		LD (HL), A
(1) 3472/    22E9 : 23                  		INC HL
(1) 3473/    22EA : 3A 1E 5D            		LD A,(TRD_5D1E)
(1) 3474/    22ED : 77                  		LD (HL),A
(1) 3475/    22EE : 23                  		INC HL
(1) 3476/    22EF : 3A 09 5D            		LD A,(TRD_5D09)
(1) 3477/    22F2 : FE 52               		CP "R"
(1) 3478/    22F4 : 36 00               		LD (HL),0
(1) 3479/    22F6 : 28 04               		JR Z,LOC_22FC
(1) 3480/    22F8 : 3A E8 5C            		LD A,(TRD_5CE8)		; ÑãàçÄ	èêéÉêÄååõ
(1) 3481/    22FB : 77                  		LD (HL),A
(1) 3482/    22FC : 23                  LOC_22FC	INC HL
(1) 3483/    22FD : 70                  		LD (HL),B
(1) 3484/    22FE : 28 04               		JR Z,LOC_2304
(1) 3485/    2300 : 3A E9 5C            		LD A,(TRD_5CE9)		; ÑãàçÄ	èêéÉêÄååõ
(1) 3486/    2303 : 77                  		LD (HL),A
(1) 3487/    2304 : 23                  LOC_2304	INC HL
(1) 3488/    2305 : EB                  		EX DE,HL
(1) 3489/    2306 : E1                  		POP HL
(1) 3490/    2307 : D5                  		PUSH DE
(1) 3491/    2308 : 11 10 00            		LD DE,0X10
(1) 3492/    230B : 19                  		ADD HL,DE
(1) 3493/    230C : EB                  		EX DE,HL
(1) 3494/    230D : 21 DD 5C            		LD HL,TRD_5CDD		; àåü îÄâãÄ
(1) 3495/    2310 : 01 10 00            		LD BC,0X10
(1) 3496/    2313 : C3 15 33            		JP EMU_LDIR_RHL
(1) 3497/    2316 :                     
(1) 3498/    2316 : C9                  		RET
(1) 3499/    2317 :                     
(1) 3500/    2317 : 0E 0D               GET_ADRTEKSYM	LD C,0X0D
(1) 3501/    2319 : EF                  		RST 0X28
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 91 - 11/17/2013 22:45:09


(1) 3502/    231A : 4E                  		LD C,(HL)
(1) 3503/    231B : EF                  		RST 0X28
(1) 3504/    231C : 01 24 00            		LD BC,0X24
(1) 3505/    231F : 09                  		ADD HL,BC
(1) 3506/    2320 : C9                  		RET
(1) 3507/    2321 :                     
(1) 3508/    2321 : 0E 24               GET_ADRTEKFRG	LD C,0X24
(1) 3509/    2323 : 06 00               ADR_OPEN_CHAN	LD B,0
(1) 3510/    2325 : 2A 51 5C            		LD HL,(CURCHL)
(1) 3511/    2328 : 09                  		ADD HL,BC
(1) 3512/    2329 : C9                  		RET
(1) 3513/    232A :                     
(1) 3514/    232A : 0E 0D               CP_ENDOFSECTOR	LD C,0X0D
(1) 3515/    232C : EF                  		RST 0X28
(1) 3516/    232D : 34                  		INC (HL)
(1) 3517/    232E : C0                  		RET NZ
(1) 3518/    232F : E5                  		PUSH HL
(1) 3519/    2330 : CD 43 24            		CALL SET_DSK
(1) 3520/    2333 : CD FC 23            		CALL SAVE_TEKSECTOR	; áÄèàëú íÖäìôÖÉé ëÖäíéêÄ
(1) 3521/    2336 : E1                  		POP HL
(1) 3522/    2337 : 23                  		INC HL
(1) 3523/    2338 : 34                  		INC (HL)
(1) 3524/    2339 : E5                  		PUSH HL
(1) 3525/    233A : CD 18 24            		CALL LOADINGSECTOR
(1) 3526/    233D : E1                  		POP HL
(1) 3527/    233E : 3E 10               		LD A,0X10
(1) 3528/    2340 : BE                  		CP (HL)
(1) 3529/    2341 : C0                  		RET NZ
(1) 3530/    2342 : E5                  		PUSH HL
(1) 3531/    2343 : 0E 0F               		LD C,0X0F
(1) 3532/    2345 : EF                  		RST 0X28
(1) 3533/    2346 : 7E                  		LD A,(HL)
(1) 3534/    2347 : FE 7F               		CP 0X7F
(1) 3535/    2349 : E1                  		POP HL
(1) 3536/    234A : 28 0C               		JR Z,LOC_2358
(1) 3537/    234C : 2A 51 5C            		LD HL,(CURCHL)
(1) 3538/    234F : CD E1 26            		CALL SAVE_HEAD_BLK
(1) 3539/    2352 : 0E 0E               		LD C,0X0E
(1) 3540/    2354 : EF                  		RST 0X28
(1) 3541/    2355 : C3 79 23            		JP LOC_2379
(1) 3542/    2358 :                     
(1) 3543/    2358 : CD CF 23            LOC_2358	CALL FIND_NEXT_BLK
(1) 3544/    235B : F5                  		PUSH AF
(1) 3545/    235C : CC 18 24            		CALL Z,LOADINGSECTOR
(1) 3546/    235F : 0E 0E               		LD C,0X0E
(1) 3547/    2361 : EF                  		RST 0X28
(1) 3548/    2362 : F1                  		POP AF
(1) 3549/    2363 : C4 70 23            		CALL NZ,CREATE_NEWBLOCK
(1) 3550/    2366 : C9                  		RET
(1) 3551/    2367 :                     
(1) 3552/    2367 : 36 00               SUB_2367	LD (HL),0
(1) 3553/    2369 : 0E 19               		LD C,0X19
(1) 3554/    236B : EF                  		RST 0X28
(1) 3555/    236C : 16 20               		LD D,0X20
(1) 3556/    236E : 5E                  		LD E,(HL)
(1) 3557/    236F : C9                  		RET
(1) 3558/    2370 :                     
(1) 3559/    2370 : CD 67 23            CREATE_NEWBLOCK	CALL SUB_2367
(1) 3560/    2373 : ED 53 D7 5C         		LD (TRD_5CD7),DE	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3561/    2377 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 92 - 11/17/2013 22:45:09


(1) 3562/    2377 : 18 08               		JR CREATE_BLK
(1) 3563/    2379 :                     
(1) 3564/    2379 : CD 67 23            LOC_2379	CALL SUB_2367
(1) 3565/    237C : 1C                  		INC E
(1) 3566/    237D : ED 53 D7 5C         		LD (TRD_5CD7), DE	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3567/    2381 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3568/    2381 : CD 9A 22            CREATE_BLK	CALL CREATE_BLOCK
(1) 3569/    2384 : CD 70 29            		CALL DEL_BUF
(1) 3570/    2387 : 0E 10               		LD C,0X10
(1) 3571/    2389 : EF                  		RST 0X28
(1) 3572/    238A : EB                  		EX DE,HL
(1) 3573/    238B : 21 DD 5C            		LD HL,TRD_5CDD		; àåü îÄâãÄ
(1) 3574/    238E : 01 10 00            		LD BC,0X10
(1) 3575/    2391 : ED B0               		LDIR
(1) 3576/    2393 : 0E 0C               		LD C,0X0C
(1) 3577/    2395 : EF                  		RST 0X28
(1) 3578/    2396 : 3A 1E 5D            		LD A,(TRD_5D1E)
(1) 3579/    2399 : 77                  		LD (HL),A
(1) 3580/    239A : C9                  		RET
(1) 3581/    239B :                     
(1) 3582/    239B : 0E 0D               FIND_END_SEC	LD C,0X0D
(1) 3583/    239D : EF                  		RST 0X28
(1) 3584/    239E : 34                  		INC (HL)
(1) 3585/    239F : C0                  		RET NZ
(1) 3586/    23A0 : 23                  		INC HL
(1) 3587/    23A1 : 34                  		INC (HL)
(1) 3588/    23A2 : E5                  		PUSH HL
(1) 3589/    23A3 : CD 43 24            		CALL SET_DSK
(1) 3590/    23A6 : 0E 23               		LD C,0X23
(1) 3591/    23A8 : EF                  		RST 0X28
(1) 3592/    23A9 : 7E                  		LD A,(HL)
(1) 3593/    23AA : B7                  		OR A
(1) 3594/    23AB : 28 09               		JR Z,LOC_23B6
(1) 3595/    23AD : E1                  		POP HL
(1) 3596/    23AE : E5                  		PUSH HL
(1) 3597/    23AF : 35                  		DEC (HL)
(1) 3598/    23B0 : CD FC 23            		CALL SAVE_TEKSECTOR	; áÄèàëú íÖäìôÖÉé ëÖäíéêÄ
(1) 3599/    23B3 : E1                  		POP HL
(1) 3600/    23B4 : E5                  		PUSH HL
(1) 3601/    23B5 : 34                  		INC (HL)
(1) 3602/    23B6 : CD 18 24            LOC_23B6	CALL LOADINGSECTOR
(1) 3603/    23B9 : E1                  		POP HL
(1) 3604/    23BA : 3E 10               		LD A,0X10
(1) 3605/    23BC : BE                  		CP (HL)
(1) 3606/    23BD : CC C1 23            		CALL Z,OPEN_NEXT_BLK
(1) 3607/    23C0 : C9                  		RET
(1) 3608/    23C1 :                     
(1) 3609/    23C1 : CD CF 23            OPEN_NEXT_BLK	CALL FIND_NEXT_BLK
(1) 3610/    23C4 : F5                  		PUSH AF
(1) 3611/    23C5 : CD 70 29            		CALL DEL_BUF
(1) 3612/    23C8 : F1                  		POP AF
(1) 3613/    23C9 : C2 92 24            		JP NZ,ERR_ENDOFFILE
(1) 3614/    23CC : C3 18 24            		JP LOADINGSECTOR
(1) 3615/    23CF :                     
(1) 3616/    23CF : 36 00               FIND_NEXT_BLK	LD (HL),0
(1) 3617/    23D1 : 0E 19               		LD C,0X19
(1) 3618/    23D3 : EF                  		RST 0X28
(1) 3619/    23D4 : 34                  		INC (HL)
(1) 3620/    23D5 : 0E 10               		LD C,0X10
(1) 3621/    23D7 : EF                  		RST 0X28
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 93 - 11/17/2013 22:45:09


(1) 3622/    23D8 : 11 DD 5C            		LD DE,TRD_5CDD		; àåü îÄâãÄ
(1) 3623/    23DB : 01 10 00            		LD BC,0X10
(1) 3624/    23DE : ED B0               		LDIR
(1) 3625/    23E0 : CD B3 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 3626/    23E3 : C0                  		RET NZ
(1) 3627/    23E4 : CD 5D 16            OPEN_BLK	CALL RDHEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 3628/    23E7 : 0E 10               		LD C,0X10
(1) 3629/    23E9 : EF                  		RST 0X28
(1) 3630/    23EA : EB                  		EX DE,HL
(1) 3631/    23EB : 21 DD 5C            		LD HL,TRD_5CDD		; àåü îÄâãÄ
(1) 3632/    23EE : 01 10 00            		LD BC,0X10
(1) 3633/    23F1 : ED B0               		LDIR
(1) 3634/    23F3 : 0E 0C               		LD C,0X0C
(1) 3635/    23F5 : EF                  		RST 0X28
(1) 3636/    23F6 : 3A 1E 5D            		LD A,(TRD_5D1E)
(1) 3637/    23F9 : 77                  		LD (HL),A
(1) 3638/    23FA : AF                  		XOR A
(1) 3639/    23FB : C9                  		RET
(1) 3640/    23FC :                     
(1) 3641/    23FC :                     ; áÄèàëú íÖäìôÖÉé ëÖäíéêÄ
(1) 3642/    23FC : CD 23 24            SAVE_TEKSECTOR	CALL GET_TEKSECFILE
(1) 3643/    23FF : CD 21 23            		CALL GET_ADRTEKFRG
(1) 3644/    2402 : 06 01               		LD B,1
(1) 3645/    2404 : CD 4D 1E            		CALL COM_06
(1) 3646/    2407 : 0E 0F               		LD C,0X0F
(1) 3647/    2409 : EF                  		RST 0X28
(1) 3648/    240A : 7E                  		LD A,(HL)
(1) 3649/    240B : FE 7F               		CP 0X7F
(1) 3650/    240D : C8                  		RET Z
(1) 3651/    240E : CD 21 23            		CALL GET_ADRTEKFRG
(1) 3652/    2411 : AF                  		XOR A
(1) 3653/    2412 : 47                  		LD B,A
(1) 3654/    2413 : 77                  LOC_2413	LD (HL),A
(1) 3655/    2414 : 23                  		INC HL
(1) 3656/    2415 : 10 FC               		DJNZ LOC_2413
(1) 3657/    2417 : C9                  		RET
(1) 3658/    2418 :                     
(1) 3659/    2418 : CD 23 24            LOADINGSECTOR	CALL GET_TEKSECFILE
(1) 3660/    241B : CD 21 23            		CALL GET_ADRTEKFRG
(1) 3661/    241E : 06 01               		LD B,1
(1) 3662/    2420 : C3 3D 1E            		JP COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1) 3663/    2423 :                     
(1) 3664/    2423 : 2A 51 5C            GET_TEKSECFILE	LD HL,(CURCHL)
(1) 3665/    2426 : 01 1E 00            		LD BC,0X1E
(1) 3666/    2429 : 09                  		ADD HL,BC
(1) 3667/    242A : 5E                  		LD E,(HL)
(1) 3668/    242B : 23                  		INC HL
(1) 3669/    242C : 56                  		LD D,(HL)
(1) 3670/    242D : 0E 0E               		LD C,0X0E
(1) 3671/    242F : EF                  		RST 0X28
(1) 3672/    2430 : 46                  		LD B,(HL)
(1) 3673/    2431 : 05                  		DEC B
(1) 3674/    2432 : 04                  		INC B
(1) 3675/    2433 : F5                  		PUSH AF
(1) 3676/    2434 : 3E 10               		LD A,0X10
(1) 3677/    2436 : 28 09               		JR Z,LOC_2441
(1) 3678/    2438 : 1C                  LOC_2438	INC E
(1) 3679/    2439 : BB                  		CP E
(1) 3680/    243A : 20 03               		JR NZ,LOC_243F
(1) 3681/    243C : 1E 00               		LD E,0
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 94 - 11/17/2013 22:45:09


(1) 3682/    243E : 14                  		INC D
(1) 3683/    243F : 10 F7               LOC_243F	DJNZ LOC_2438
(1) 3684/    2441 : F1                  LOC_2441	POP AF
(1) 3685/    2442 : C9                  		RET
(1) 3686/    2443 :                     
(1) 3687/    2443 : 0E 0B               SET_DSK		LD C,0X0B
(1) 3688/    2445 : EF                  		RST 0X28
(1) 3689/    2446 : 7E                  		LD A,(HL)
(1) 3690/    2447 : C3 CB 3D            		JP COM_01		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1) 3691/    244A :                     
(1) 3692/    244A : 21 C2 5C            OUT_SYM2FILE	LD HL,TRD_5CC2		; ëéÑÖêÜàí #C9. Ñãü èÖêÖïéÑÄ àá TR-DOS Ç BASIC
(1) 3693/    244D : E5                  		PUSH HL
(1) 3694/    244E : (MACRO)             		DUPL 4,0
(1) 3694/    244E :                     DUPL:
(1) 3694/    244E : =0H                 $$N             EQU (4) / 1024
(1) 3694/    244E : =4H                 $$M             EQU (4) # 1024
(1) 3694/    244E :                                     REPT $$N
(1) 3694/    244E :                                     DB 1024 DUP(0)
(1) 3694/    244E :                                     ENDM
(1) 3694/    244E : =>TRUE                              IF $$M <> 0
(1) 3694/    244E : 00 00 00 00                         DB $$M DUP(0)
(1) 3694/    2452 : [3694]                              ENDIF
(1) 3695/    2452 : F5                  		PUSH AF
(1) 3696/    2453 : (MACRO)             		DUPL 3,0
(1) 3696/    2453 :                     DUPL:
(1) 3696/    2453 : =0H                 $$N             EQU (3) / 1024
(1) 3696/    2453 : =3H                 $$M             EQU (3) # 1024
(1) 3696/    2453 :                                     REPT $$N
(1) 3696/    2453 :                                     DB 1024 DUP(0)
(1) 3696/    2453 :                                     ENDM
(1) 3696/    2453 : =>TRUE                              IF $$M <> 0
(1) 3696/    2453 : 00 00 00                            DB $$M DUP(0)
(1) 3696/    2456 : [3696]                              ENDIF
(1) 3697/    2456 : 3E 0A               		LD A,0X0A
(1) 3698/    2458 : 32 06 5D            		LD (TRD_5D06),A		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1) 3699/    245B : F1                  		POP AF
(1) 3700/    245C : CD A2 24            		CALL WORK4FREEACCESS
(1) 3701/    245F : F5                  		PUSH AF
(1) 3702/    2460 : CD 50 26            		CALL CP_FILE_OPENED
(1) 3703/    2463 : CA 9E 24            		JP Z,ERR_INVALID_IO
(1) 3704/    2466 : F1                  		POP AF
(1) 3705/    2467 : CD 17 23            		CALL GET_ADRTEKSYM
(1) 3706/    246A : 77                  		LD (HL),A
(1) 3707/    246B : C3 2A 23            		JP CP_ENDOFSECTOR
(1) 3708/    246E :                     
(1) 3709/    246E : 0E 0D               CP_END_BLK	LD C,0X0D
(1) 3710/    2470 : EF                  		RST 0X28
(1) 3711/    2471 : 7E                  		LD A,(HL)
(1) 3712/    2472 : 01 0E 00            		LD BC,0X0E
(1) 3713/    2475 : 09                  		ADD HL,BC
(1) 3714/    2476 : BE                  		CP (HL)
(1) 3715/    2477 : C0                  		RET NZ
(1) 3716/    2478 : 0E 0E               		LD C,0X0E
(1) 3717/    247A : EF                  		RST 0X28
(1) 3718/    247B : 7E                  		LD A,(HL)
(1) 3719/    247C : 01 0E 00            		LD BC,0X0E
(1) 3720/    247F : 09                  		ADD HL,BC
(1) 3721/    2480 : BE                  		CP (HL)
(1) 3722/    2481 : C0                  		RET NZ
(1) 3723/    2482 : 21 B6 5C            		LD HL,TRD_5CB6		; Ñãü èêéÇÖêäà çÄãàóàü INTERFACE1
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 95 - 11/17/2013 22:45:09


(1) 3724/    2485 : 7E                  		LD A,(HL)
(1) 3725/    2486 : FE F4               		CP 0XF4
(1) 3726/    2488 : 28 08               		JR Z,ERR_ENDOFFILE
(1) 3727/    248A : CB 66               		BIT 4,(HL)
(1) 3728/    248C : 28 04               		JR Z,ERR_ENDOFFILE
(1) 3729/    248E : F6 01               		OR 1
(1) 3730/    2490 : E1                  		POP HL
(1) 3731/    2491 : C9                  		RET
(1) 3732/    2492 :                     
(1) 3733/    2492 : 3E 07               ERR_ENDOFFILE	LD A,7
(1) 3734/    2494 : 32 3A 5C            LOC_2494	LD (ERR_NR),A
(1) 3735/    2497 : CD E5 20            		CALL DELETE_BUF
(1) 3736/    249A : E7                  		RST 0X20
(1) 3737/    249B : 58 00               		DW 0X0058
(1) 3738/    249D : C9                  		RET
(1) 3739/    249E :                     
(1) 3740/    249E : 3E 17               ERR_INVALID_IO	LD A,0X17
(1) 3741/    24A0 : 18 F2               		JR LOC_2494
(1) 3742/    24A2 :                     
(1) 3743/    24A2 : 57                  WORK4FREEACCESS	LD D,A
(1) 3744/    24A3 : 0E 0F               		LD C,0X0F
(1) 3745/    24A5 : EF                  		RST 0X28
(1) 3746/    24A6 : 7E                  		LD A,(HL)
(1) 3747/    24A7 : FE 7F               		CP 0X7F
(1) 3748/    24A9 : 7A                  		LD A,D
(1) 3749/    24AA : C0                  		RET NZ
(1) 3750/    24AB : 01 13 00            		LD BC,0X13
(1) 3751/    24AE : 09                  		ADD HL,BC
(1) 3752/    24AF : 7E                  		LD A,(HL)
(1) 3753/    24B0 : B7                  		OR A
(1) 3754/    24B1 : 7A                  		LD A,D
(1) 3755/    24B2 : 20 21               		JR NZ,LOC_24D5
(1) 3756/    24B4 : 2B                  		DEC HL
(1) 3757/    24B5 : 7E                  		LD A,(HL)
(1) 3758/    24B6 : B7                  		OR A
(1) 3759/    24B7 : 20 09               		JR NZ,LOC_24C2
(1) 3760/    24B9 : C5                  		PUSH BC
(1) 3761/    24BA : E5                  		PUSH HL
(1) 3762/    24BB : D5                  		PUSH DE
(1) 3763/    24BC : CD F8 24            		CALL W16B2WORKSP
(1) 3764/    24BF : D1                  		POP DE
(1) 3765/    24C0 : E1                  		POP HL
(1) 3766/    24C1 : C1                  		POP BC
(1) 3767/    24C2 : 4E                  LOC_24C2	LD C,(HL)
(1) 3768/    24C3 : 7A                  		LD A,D
(1) 3769/    24C4 : EB                  		EX DE,HL
(1) 3770/    24C5 : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 3771/    24C8 : 09                  		ADD HL,BC
(1) 3772/    24C9 : FE 06               		CP 6
(1) 3773/    24CB : 77                  		LD (HL),A
(1) 3774/    24CC : CC 04 25            		CALL Z,WORK_NUMSAVE
(1) 3775/    24CF : 0E 21               		LD C,0X21
(1) 3776/    24D1 : EF                  		RST 0X28
(1) 3777/    24D2 : 34                  		INC (HL)
(1) 3778/    24D3 : E1                  		POP HL
(1) 3779/    24D4 : C9                  		RET
(1) 3780/    24D5 :                     
(1) 3781/    24D5 : 2B                  LOC_24D5	DEC HL
(1) 3782/    24D6 : 7E                  		LD A,(HL)
(1) 3783/    24D7 : 2B                  		DEC HL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 96 - 11/17/2013 22:45:09


(1) 3784/    24D8 : 3C                  		INC A
(1) 3785/    24D9 : BE                  		CP (HL)
(1) 3786/    24DA : 23                  		INC HL
(1) 3787/    24DB : 34                  		INC (HL)
(1) 3788/    24DC : E5                  		PUSH HL
(1) 3789/    24DD : F5                  		PUSH AF
(1) 3790/    24DE : 0E 23               		LD C,0X23
(1) 3791/    24E0 : EF                  		RST 0X28
(1) 3792/    24E1 : 36 FF               		LD (HL),0XFF
(1) 3793/    24E3 : F1                  		POP AF
(1) 3794/    24E4 : E1                  		POP HL
(1) 3795/    24E5 : 38 07               		JR C,LOC_24EE
(1) 3796/    24E7 : 7A                  		LD A, D
(1) 3797/    24E8 : FE 0D               		CP 0X0D
(1) 3798/    24EA : 28 06               		JR Z,LOC_24F2
(1) 3799/    24EC : C1                  		POP BC
(1) 3800/    24ED : C9                  		RET
(1) 3801/    24EE :                     
(1) 3802/    24EE : 7A                  LOC_24EE	LD A,D
(1) 3803/    24EF : FE 0D               		CP 0X0D
(1) 3804/    24F1 : C0                  		RET NZ
(1) 3805/    24F2 : AF                  LOC_24F2	XOR A
(1) 3806/    24F3 : 77                  		LD (HL),A
(1) 3807/    24F4 : 23                  		INC HL
(1) 3808/    24F5 : 77                  		LD (HL),A
(1) 3809/    24F6 : 7A                  		LD A,D
(1) 3810/    24F7 : C9                  		RET
(1) 3811/    24F8 :                     
(1) 3812/    24F8 : 2A 61 5C            W16B2WORKSP	LD HL,(WORKSP)
(1) 3813/    24FB : 22 CF 5C            		LD (TRD_5CCF),HL	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 3814/    24FE : 01 10 00            		LD BC,0X10
(1) 3815/    2501 : C3 23 1E            		JP CREATE_FREERAM
(1) 3816/    2504 :                     
(1) 3817/    2504 : 36 0D               WORK_NUMSAVE	LD (HL),0X0D
(1) 3818/    2506 : 2A 5D 5C            		LD HL,(CH_ADD)
(1) 3819/    2509 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3820/    250C :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3821/    250C : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 3822/    250F : 22 5D 5C            		LD (CH_ADD),HL
(1) 3823/    2512 : 21 3B 5C            		LD HL,FLAGS
(1) 3824/    2515 : CB BE               		RES 7,(HL)
(1) 3825/    2517 : CD C1 1D            		CALL BC2STKBOT
(1) 3826/    251A : 21 3B 5C            		LD HL,FLAGS
(1) 3827/    251D : CB FE               		SET 7,(HL)
(1) 3828/    251F : 2A CF 5C            		LD HL,(TRD_5CCF)	; ÇêÖåÖççéÖ ëéïêÄçÖçàÖ WORK_SP
(1) 3829/    2522 : 22 5D 5C            		LD (CH_ADD),HL
(1) 3830/    2525 : CD C1 1D            		CALL BC2STKBOT
(1) 3831/    2528 : CD B9 1D            		CALL FIND_LAST
(1) 3832/    252B : C5                  		PUSH BC
(1) 3833/    252C : D1                  		POP DE
(1) 3834/    252D : 0E 20               		LD C,0X20
(1) 3835/    252F : EF                  		RST 0X28
(1) 3836/    2530 : 46                  		LD B,(HL)
(1) 3837/    2531 : AF                  		XOR A
(1) 3838/    2532 : 21 00 00            		LD HL,0
(1) 3839/    2535 : 22 DB 5C            		LD (TRD_5CDB),HL
(1) 3840/    2538 : 19                  LOC_2538	ADD HL,DE
(1) 3841/    2539 : 30 09               		JR NC,LOC_2544
(1) 3842/    253B : E5                  		PUSH HL
(1) 3843/    253C : 2A DB 5C            		LD HL,(TRD_5CDB)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 97 - 11/17/2013 22:45:09


(1) 3844/    253F : 23                  		INC HL
(1) 3845/    2540 : 22 DB 5C            		LD (TRD_5CDB),HL
(1) 3846/    2543 : E1                  		POP HL
(1) 3847/    2544 : 10 F2               LOC_2544	DJNZ LOC_2538
(1) 3848/    2546 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 3849/    2549 : 3A DB 5C            		LD A,(TRD_5CDB)
(1) 3850/    254C : 21 DA 5C            		LD HL,TRD_5CDA
(1) 3851/    254F : ED 67               		RRD
(1) 3852/    2551 : E6 0F               		AND 0X0F
(1) 3853/    2553 : 32 DB 5C            		LD (TRD_5CDB),A
(1) 3854/    2556 : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3855/    2559 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3856/    2559 : 22 5D 5C            		LD (CH_ADD), HL
(1) 3857/    255C : CD 68 25            		CALL OPEN_SAVED
(1) 3858/    255F : 0E 21               		LD C,0X21
(1) 3859/    2561 : EF                  		RST 0X28
(1) 3860/    2562 : 3E FF               		LD A,0XFF
(1) 3861/    2564 : 77                  		LD (HL),A
(1) 3862/    2565 : 23                  		INC HL
(1) 3863/    2566 : 77                  		LD (HL),A
(1) 3864/    2567 : C9                  		RET
(1) 3865/    2568 :                     
(1) 3866/    2568 : 0E 19               OPEN_SAVED	LD C,0X19
(1) 3867/    256A : EF                  		RST 0X28
(1) 3868/    256B : 3A DA 5C            		LD A,(TRD_5CDA)
(1) 3869/    256E : BE                  		CP (HL)
(1) 3870/    256F : C2 84 25            		JP NZ,LOC_2584
(1) 3871/    2572 : 0E 0E               		LD C,0X0E
(1) 3872/    2574 : EF                  		RST 0X28
(1) 3873/    2575 : 3A DB 5C            		LD A,(TRD_5CDB)
(1) 3874/    2578 : BE                  		CP (HL)
(1) 3875/    2579 : C2 A7 25            		JP NZ,LOC_25A7
(1) 3876/    257C : 0E 0D               LOC_257C	LD C,0X0D
(1) 3877/    257E : EF                  		RST 0X28
(1) 3878/    257F : 3A D9 5C            		LD A,(TRD_5CD9)		; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 3879/    2582 : 77                  		LD (HL),A
(1) 3880/    2583 : C9                  		RET
(1) 3881/    2584 :                     
(1) 3882/    2584 : CD CA 25            LOC_2584	CALL CPANDZERO23
(1) 3883/    2587 : C4 C3 25            		CALL NZ,SAVE_TEK_SEC
(1) 3884/    258A : 3A DA 5C            		LD A,(TRD_5CDA)
(1) 3885/    258D : 0E 19               		LD C,0X19
(1) 3886/    258F : EF                  		RST 0X28
(1) 3887/    2590 : 77                  		LD (HL),A
(1) 3888/    2591 : 0E 10               		LD C,0X10
(1) 3889/    2593 : EF                  		RST 0X28
(1) 3890/    2594 : 11 DD 5C            		LD DE,TRD_5CDD		; àåü îÄâãÄ
(1) 3891/    2597 : 01 10 00            		LD BC,0X10
(1) 3892/    259A : ED B0               		LDIR
(1) 3893/    259C : CD B3 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 3894/    259F : C2 D2 25            		JP NZ,LOC_25D2
(1) 3895/    25A2 : CD E4 23            		CALL OPEN_BLK
(1) 3896/    25A5 : 18 06               		JR LOC_25AD
(1) 3897/    25A7 :                     
(1) 3898/    25A7 : CD CA 25            LOC_25A7	CALL CPANDZERO23
(1) 3899/    25AA : C4 C3 25            		CALL NZ,SAVE_TEK_SEC
(1) 3900/    25AD : 3A DB 5C            LOC_25AD	LD A,(TRD_5CDB)
(1) 3901/    25B0 : 0E 0E               		LD C,0X0E
(1) 3902/    25B2 : EF                  		RST 0X28
(1) 3903/    25B3 : 77                  		LD (HL),A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 98 - 11/17/2013 22:45:09


(1) 3904/    25B4 : E5                  		PUSH HL
(1) 3905/    25B5 : CD 43 24            		CALL SET_DSK
(1) 3906/    25B8 : CD 18 24            		CALL LOADINGSECTOR
(1) 3907/    25BB : E1                  		POP HL
(1) 3908/    25BC : 2B                  		DEC HL
(1) 3909/    25BD : 3A D9 5C            		LD A,(TRD_5CD9)		; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 3910/    25C0 : 77                  		LD (HL),A
(1) 3911/    25C1 : 18 B9               		JR LOC_257C
(1) 3912/    25C3 :                     
(1) 3913/    25C3 : CD 43 24            SAVE_TEK_SEC	CALL SET_DSK
(1) 3914/    25C6 : CD FC 23            		CALL SAVE_TEKSECTOR	; áÄèàëú íÖäìôÖÉé ëÖäíéêÄ
(1) 3915/    25C9 : C9                  		RET
(1) 3916/    25CA :                     
(1) 3917/    25CA : 0E 23               CPANDZERO23	LD C,0X23
(1) 3918/    25CC : EF                  		RST 0X28
(1) 3919/    25CD : 7E                  		LD A,(HL)
(1) 3920/    25CE : B7                  		OR A
(1) 3921/    25CF : 36 00               		LD (HL),0
(1) 3922/    25D1 : C9                  		RET
(1) 3923/    25D2 :                     
(1) 3924/    25D2 : 2A DA 5C            LOC_25D2	LD HL,(TRD_5CDA)
(1) 3925/    25D5 : 26 20               		LD H,0X20
(1) 3926/    25D7 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 3927/    25DA :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 3928/    25DA : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 3929/    25DD : E5                  		PUSH HL
(1) 3930/    25DE : 2A DB 5C            		LD HL,(TRD_5CDB)
(1) 3931/    25E1 : E5                  		PUSH HL
(1) 3932/    25E2 : CD 81 23            		CALL CREATE_BLK
(1) 3933/    25E5 : E1                  		POP HL
(1) 3934/    25E6 : 22 DB 5C            		LD (TRD_5CDB),HL
(1) 3935/    25E9 : E1                  		POP HL
(1) 3936/    25EA : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 3937/    25ED : 18 BE               		JR LOC_25AD
(1) 3938/    25EF :                     
(1) 3939/    25EF : (MACRO)             INPUTDATAFILE	DUPL 3,0
(1) 3939/    25EF :                     DUPL:
(1) 3939/    25EF : =0H                 $$N             EQU (3) / 1024
(1) 3939/    25EF : =3H                 $$M             EQU (3) # 1024
(1) 3939/    25EF :                                     REPT $$N
(1) 3939/    25EF :                                     DB 1024 DUP(0)
(1) 3939/    25EF :                                     ENDM
(1) 3939/    25EF : =>TRUE                              IF $$M <> 0
(1) 3939/    25EF : 00 00 00                            DB $$M DUP(0)
(1) 3939/    25F2 : [3939]                              ENDIF
(1) 3940/    25F2 : 21 3C 5C            		LD HL,TV_FLAG
(1) 3941/    25F5 : CB 9E               		RES 3,(HL)
(1) 3942/    25F7 : 2A 3D 5C            		LD HL,(ERR_SP)
(1) 3943/    25FA : 5E                  		LD E,(HL)
(1) 3944/    25FB : 23                  		INC HL
(1) 3945/    25FC : 56                  		LD D,(HL)
(1) 3946/    25FD : B7                  		OR A
(1) 3947/    25FE : 21 7F 10            		LD HL,0X107F
(1) 3948/    2601 : ED 52               		SBC HL,DE
(1) 3949/    2603 : 20 21               		JR NZ,LOC_2626
(1) 3950/    2605 : ED 7B 3D 5C         		LD SP,(ERR_SP)
(1) 3951/    2609 : D1                  		POP DE
(1) 3952/    260A : D1                  		POP DE
(1) 3953/    260B : ED 53 3D 5C         		LD (ERR_SP),DE
(1) 3954/    260F : CD 2B 26            LOC_260F	CALL INPUT_SYM_FILE
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 99 - 11/17/2013 22:45:09


(1) 3955/    2612 : 38 09               		JR C,LOC_261D
(1) 3956/    2614 : 21 C2 5C            LOC_2614	LD HL,TRD_5CC2		; ëéÑÖêÜàí #C9. Ñãü èÖêÖïéÑÄ àá TR-DOS Ç BASIC
(1) 3957/    2617 : E5                  		PUSH HL
(1) 3958/    2618 : 21 E5 20            		LD HL,DELETE_BUF
(1) 3959/    261B : E5                  		PUSH HL
(1) 3960/    261C : C9                  		RET
(1) 3961/    261D :                     
(1) 3962/    261D : FE 0D               LOC_261D	CP 0X0D
(1) 3963/    261F : 28 F3               		JR Z,LOC_2614
(1) 3964/    2621 : E7                  		RST 0X20
(1) 3965/    2622 : 85 0F               		DW 0X0F85
(1) 3966/    2624 : 18 E9               		JR LOC_260F
(1) 3967/    2626 :                     
(1) 3968/    2626 : CD 2B 26            LOC_2626	CALL INPUT_SYM_FILE
(1) 3969/    2629 : 18 E9               		JR LOC_2614
(1) 3970/    262B :                     
(1) 3971/    262B : 3E 0A               INPUT_SYM_FILE	LD A,0X0A
(1) 3972/    262D : 32 06 5D            		LD (TRD_5D06),A		; äéãàóÖëíÇé ëàåÇéãéÇ àåÖçà îÄâãÄ èêà èéàëäÖ
(1) 3973/    2630 : CD 50 26            		CALL CP_FILE_OPENED
(1) 3974/    2633 : 28 0D               		JR Z,LOC_2642
(1) 3975/    2635 : FE 7F               		CP 0X7F
(1) 3976/    2637 : C2 9E 24            		JP NZ,ERR_INVALID_IO
(1) 3977/    263A : 01 13 00            		LD BC,0X13
(1) 3978/    263D : 09                  		ADD HL,BC
(1) 3979/    263E : 36 00               		LD (HL),0
(1) 3980/    2640 : 18 03               		JR LOC_2645
(1) 3981/    2642 :                     
(1) 3982/    2642 : CD 6E 24            LOC_2642	CALL CP_END_BLK
(1) 3983/    2645 : CD 17 23            LOC_2645	CALL GET_ADRTEKSYM
(1) 3984/    2648 : 7E                  		LD A,(HL)
(1) 3985/    2649 : F5                  		PUSH AF
(1) 3986/    264A : CD 9B 23            		CALL FIND_END_SEC
(1) 3987/    264D : F1                  		POP AF
(1) 3988/    264E : 37                  		SCF
(1) 3989/    264F : C9                  		RET
(1) 3990/    2650 :                     
(1) 3991/    2650 : 0E 0F               CP_FILE_OPENED	LD C,0X0F
(1) 3992/    2652 : EF                  		RST 0X28
(1) 3993/    2653 : 7E                  		LD A,(HL)
(1) 3994/    2654 : B7                  		OR A
(1) 3995/    2655 : C9                  		RET
(1) 3996/    2656 :                     
(1) 3997/    2656 : 2A 11 5D            CLOSE		LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 3998/    2659 : 22 5D 5C            		LD (CH_ADD),HL
(1) 3999/    265C : CD 0B 1E            		CALL SET_NUM_CHAN
(1) 4000/    265F : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 4001/    2662 : 3A DB 5C            		LD A,(TRD_5CDB)
(1) 4002/    2665 : E7                  		RST 0X20
(1) 4003/    2666 : 27 17               		DW 0X1727
(1) 4004/    2668 : 78                  		LD A,B
(1) 4005/    2669 : B1                  		OR C
(1) 4006/    266A : CA D3 01            		JP Z,END_COMAND
(1) 4007/    266D : E5                  		PUSH HL
(1) 4008/    266E : 2A 4F 5C            		LD HL,(CHANS)
(1) 4009/    2671 : 09                  		ADD HL,BC
(1) 4010/    2672 : 7E                  		LD A,(HL)
(1) 4011/    2673 : 21 0E 3D            		LD HL,LOC_3D0E
(1) 4012/    2676 : BC                  		CP H
(1) 4013/    2677 : E1                  		POP HL
(1) 4014/    2678 : C2 28 22            		JP NZ,LOC_2228
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 100 - 11/17/2013 22:45:09


(1) 4015/    267B : 36 00               		LD (HL),0
(1) 4016/    267D : 23                  		INC HL
(1) 4017/    267E : 36 00               		LD (HL),0
(1) 4018/    2680 : ED 43 D9 5C         		LD (TRD_5CD9),BC	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 4019/    2684 : 2A 4F 5C            		LD HL,(CHANS)
(1) 4020/    2687 : 09                  		ADD HL,BC
(1) 4021/    2688 : 2B                  		DEC HL
(1) 4022/    2689 : 22 D7 5C            		LD (TRD_5CD7), HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 4023/    268C :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 4024/    268C : CD CE 26            		CALL SUB_26CE
(1) 4025/    268F : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 4026/    2692 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 4027/    2692 : 01 24 01            		LD BC,0X124
(1) 4028/    2695 : CD 2E 1E            		CALL DEL_WORKRAM
(1) 4029/    2698 : 21 10 5C            		LD HL,STRMS
(1) 4030/    269B : 06 10               		LD B,0X10
(1) 4031/    269D : C5                  LOC_269D	PUSH BC
(1) 4032/    269E : ED 4B D9 5C         		LD BC,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 4033/    26A2 : 5E                  		LD E,(HL)
(1) 4034/    26A3 : 23                  		INC HL
(1) 4035/    26A4 : 56                  		LD D,(HL)
(1) 4036/    26A5 : EB                  		EX DE,HL
(1) 4037/    26A6 : ED 42               		SBC HL,BC
(1) 4038/    26A8 : EB                  		EX DE,HL
(1) 4039/    26A9 : 38 11               		JR C,LOC_26BC
(1) 4040/    26AB : 56                  		LD D,(HL)
(1) 4041/    26AC : 2B                  		DEC HL
(1) 4042/    26AD : 5E                  		LD E,(HL)
(1) 4043/    26AE : 23                  		INC HL
(1) 4044/    26AF : E5                  		PUSH HL
(1) 4045/    26B0 : EB                  		EX DE,HL
(1) 4046/    26B1 : 01 24 01            		LD BC,0X124
(1) 4047/    26B4 : ED 42               		SBC HL,BC
(1) 4048/    26B6 : EB                  		EX DE,HL
(1) 4049/    26B7 : E1                  		POP HL
(1) 4050/    26B8 : 72                  		LD (HL),D
(1) 4051/    26B9 : 2B                  		DEC HL
(1) 4052/    26BA : 73                  		LD (HL),E
(1) 4053/    26BB : 23                  		INC HL
(1) 4054/    26BC : 23                  LOC_26BC	INC HL
(1) 4055/    26BD : C1                  		POP BC
(1) 4056/    26BE : 10 DD               		DJNZ LOC_269D
(1) 4057/    26C0 : 2A 11 5D            		LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 4058/    26C3 : 01 24 01            		LD BC,0X124
(1) 4059/    26C6 : ED 42               		SBC HL,BC
(1) 4060/    26C8 : 22 11 5D            		LD (TRD_5D11),HL	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 4061/    26CB : C3 D3 01            		JP END_COMAND
(1) 4062/    26CE :                     
(1) 4063/    26CE : 01 0F 00            SUB_26CE	LD BC,0X0F
(1) 4064/    26D1 : 09                  		ADD HL,BC
(1) 4065/    26D2 : 7E                  		LD A,(HL)
(1) 4066/    26D3 : B7                  		OR A
(1) 4067/    26D4 : C8                  		RET Z
(1) 4068/    26D5 : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 4069/    26D8 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 4070/    26D8 : 22 51 5C            		LD (CURCHL),HL
(1) 4071/    26DB : CD E1 26            		CALL SAVE_HEAD_BLK
(1) 4072/    26DE : C3 FC 23            		JP SAVE_TEKSECTOR	; áÄèàëú íÖäìôÖÉé ëÖäíéêÄ
(1) 4073/    26E1 :                     
(1) 4074/    26E1 : 01 0D 00            SAVE_HEAD_BLK	LD BC,0X0D
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 101 - 11/17/2013 22:45:09


(1) 4075/    26E4 : 09                  		ADD HL,BC
(1) 4076/    26E5 : 5E                  		LD E,(HL)
(1) 4077/    26E6 : 23                  		INC HL
(1) 4078/    26E7 : 56                  		LD D,(HL)
(1) 4079/    26E8 : 01 0D 00            		LD BC,0X0D
(1) 4080/    26EB : 09                  		ADD HL,BC
(1) 4081/    26EC : 73                  		LD (HL),E
(1) 4082/    26ED : 23                  		INC HL
(1) 4083/    26EE : 72                  		LD (HL),D
(1) 4084/    26EF : 0E 10               		LD C,0X10
(1) 4085/    26F1 : EF                  		RST 0X28
(1) 4086/    26F2 : 11 DD 5C            		LD DE,TRD_5CDD		; àåü îÄâãÄ
(1) 4087/    26F5 : 01 10 00            		LD BC,0X10
(1) 4088/    26F8 : ED B0               		LDIR
(1) 4089/    26FA : CD 43 24            		CALL SET_DSK
(1) 4090/    26FD : 0E 0C               		LD C,0X0C
(1) 4091/    26FF : EF                  		RST 0X28
(1) 4092/    2700 : 4E                  		LD C,(HL)
(1) 4093/    2701 : CD 6B 16            		CALL SET_HEAD_FILENAME
(1) 4094/    2704 : C3 43 1E            		JP REWRITE_9SEC		; èÖêÖáÄèàëú 9 ëÖäíéêÄ
(1) 4095/    2707 :                     
(1) 4096/    2707 : 7E                  PRINT_MSG	LD A,(HL)
(1) 4097/    2708 : B7                  		OR A
(1) 4098/    2709 : C8                  		RET Z
(1) 4099/    270A : E6 7F               		AND 0X7F
(1) 4100/    270C : D7                  		RST 0X10
(1) 4101/    270D : CB 7E               		BIT 7,(HL)
(1) 4102/    270F : C0                  		RET NZ
(1) 4103/    2710 : 23                  		INC HL
(1) 4104/    2711 : 18 F4               		JR PRINT_MSG		; èÖóÄíú íÖäëíéÇéÉé ëééÅôÖçàü
(1) 4105/    2713 :                     
(1) 4106/    2713 : 1A                  COMPARE_B_SYM	LD A,(DE)
(1) 4107/    2714 : BE                  		CP (HL)
(1) 4108/    2715 : C0                  		RET NZ
(1) 4109/    2716 : 13                  		INC DE
(1) 4110/    2717 : 23                  		INC HL
(1) 4111/    2718 : 10 F9               		DJNZ COMPARE_B_SYM
(1) 4112/    271A : C9                  		RET
(1) 4113/    271B :                     
(1) 4114/    271B : 21 FC 27            LOC_271B	LD HL,TXT_NODISK_	; "NO DISK"
(1) 4115/    271E : 3E 06               		LD A,6
(1) 4116/    2720 : C3 4A 1C            		JP PRINT_TXTERR
(1) 4117/    2723 :                     
(1) 4118/    2723 : 21 ED 27            ERR_DIRFULL	LD HL,TXT_DIRFULL		; "DIRECTORY FULL"
(1) 4119/    2726 : 3E 04               		LD A,4
(1) 4120/    2728 : C3 4A 1C            		JP PRINT_TXTERR
(1) 4121/    272B :                     
(1) 4122/    272B : 3E 1A               SET_TAPELDERR	LD A,0X1A
(1) 4123/    272D : 18 02               		JR SET_NUM_ERR
(1) 4124/    272F :                     
(1) 4125/    272F : 3E 12               		LD A,0X12
(1) 4126/    2731 : 32 3A 5C            SET_NUM_ERR	LD (ERR_NR),A
(1) 4127/    2734 : C9                  		RET
(1) 4128/    2735 :                     
(1) 4129/    2735 : 3E 03               		LD A,3
(1) 4130/    2737 : 18 F8               		JR SET_NUM_ERR
(1) 4131/    2739 :                     
(1) 4132/    2739 :                     ;èêéÇÖêäÄ ÑéêéÜäà
(1) 4133/    2739 : AF                  COM_15		XOR A
(1) 4134/    273A : 32 D8 5C            		LD (TRD_5CD8),A		; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 102 - 11/17/2013 22:45:09


(1) 4135/    273D :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 4136/    273D : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 4137/    2740 : =>TRUE              		IF EMU3D2F=1
(1) 4138/    2740 : F7                  		RST 0X30
(1) 4139/    2741 : 06                  		DB WIN1F
(1) 4140/    2742 : =>FALSE             		ELSE
(1) 4141/    2742 :                     		IN A,(VG_RW_1F)
(1) 4142/    2742 : [4137]              		ENDIF
(1) 4143/    2742 : 32 CD 5C            		LD (TRD_5CCD),A		; #80-ÉéíéÇçéëíú ÑàëäéÇéÑÄ
(1) 4144/    2745 : 5A                  		LD E,D
(1) 4145/    2746 : D5                  		PUSH DE
(1) 4146/    2747 : 7B                  		LD A,E
(1) 4147/    2748 : =>TRUE              		IF EMU3D2F=1
(1) 4148/    2748 : D3 8F               		OUT (RW_PORT3),A
(1) 4149/    274A : =>FALSE             		ELSE
(1) 4150/    274A :                     		OUT (VG_RW_7F),A
(1) 4151/    274A : [4147]              		ENDIF
(1) 4152/    274A : 3E 18               		LD A,0X18
(1) 4153/    274C : CD 9A 3D            		CALL COM2VG_WAIT
(1) 4154/    274F : 3A CD 5C            		LD A,(TRD_5CCD)		; #80-ÉéíéÇçéëíú ÑàëäéÇéÑÄ
(1) 4155/    2752 : E6 80               		AND 0X80
(1) 4156/    2754 : C4 A0 3E            		CALL NZ,PAUSE_3_C_A
(1) 4157/    2757 : D1                  		POP DE
(1) 4158/    2758 : CD 7D 20            		CALL CP_NUM_TRACK
(1) 4159/    275B : 3A D6 5C            		LD A,(TRD_5CD6)		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 4160/    275E : B7                  		OR A
(1) 4161/    275F : C8                  		RET Z
(1) 4162/    2760 : 3E 07               		LD A,7
(1) 4163/    2762 : 32 0F 5D            		LD (TRD_5D0F),A		; çéåÖê	éòàÅäà TR-DOS
(1) 4164/    2765 : C9                  		RET
(1) 4165/    2766 :                     
(1) 4166/    2766 : (MACRO)             TXT_OK_		DZ "O.K."
(1) 4166/    2766 : 4F 2E 4B 2E 00                      DB "O.K.",0
(1) 4167/    276B : 56 65 72 69 66 79   TXT_VERIFYERR	DB "Verify Error.",0X8D
                    20 45 72 72 6F 72 
                    2E 8D 
(1) 4168/    2779 : 42 41 43 4B 55 50   TXT_BACKUPDISK	DB "BACKUP DISK",0X8D
                    20 44 49 53 4B 8D 
(1) 4169/    2785 : 49 6E 73 65 72 74   TXT_INS_DEST	DB "Insert Destination disk",0X0D
                    20 44 65 73 74 69 
                    6E 61 74 69 6F 6E 
                    20 64 69 73 6B 0D 
(1) 4170/    279D : (MACRO)             		DZ "then press Y"
(1) 4170/    279D : 74 68 65 6E 20 70                   DB "then press Y",0
                    72 65 73 73 20 59 
                    00 
(1) 4171/    27AA : (MACRO)             TXT_INS_SRC	DZ "Insert Source disk then press Y"
(1) 4171/    27AA : 49 6E 73 65 72 74                   DB "Insert Source disk then press Y",0
                    20 53 6F 75 72 63 
                    65 20 64 69 73 6B 
                    20 74 68 65 6E 20 
                    70 72 65 73 73 20 
                    59 00 
(1) 4172/    27CA : 2A 42 52 45 41 4B   TXT_BREAK	DB "*BREAK*",0X8D
                    2A 8D 
(1) 4173/    27D2 : 4F 75 74 20 6F 66   TXT_OUTRAM	DB "Out of RAM",0X8D
                    20 52 41 4D 8D 
(1) 4174/    27DD : 41 72 72 61 79 20   TXT_ARRAYNOT	DB "Array not found",0X8D
                    6E 6F 74 20 66 6F 
                    75 6E 64 8D 
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 103 - 11/17/2013 22:45:09


(1) 4175/    27ED : 44 69 72 65 63 74   TXT_DIRFULL	DB "Directory full",0X8D
                    6F 72 79 20 66 75 
                    6C 6C 8D 
(1) 4176/    27FC : 4E 6F 20 64 69 73   TXT_NODISK_	DB "No disk",0X8D
                    6B 8D 
(1) 4177/    2804 : 53 74 72 65 61 6D   TXT_STREAMOPEN	DB "Stream opened",0X8D
                    20 6F 70 65 6E 65 
                    64 8D 
(1) 4178/    2812 : 4E 6F 74 20 64 69   TXT_NODISKFILE	DB "Not disk file",0X8D
                    73 6B 20 66 69 6C 
                    65 8D 
(1) 4179/    2820 : 46 69 6C 65 20 65   TXT_FILEEXIST	DB "File exists",0X0D
                    78 69 73 74 73 0D 
(1) 4180/    282C : (MACRO)             		DC "Over write?(Y/N)"
(1) 4180/    282C : =>TRUE                              IF STRLEN("Over write?(Y/N)")>1
(1) 4180/    282C : 4F 76 65 72 20 77                   DB SUBSTR("Over write?(Y/N)",0,STRLEN("Over write?(Y/N)")-1)
                    72 69 74 65 3F 28 
                    59 2F 4E 
(1) 4180/    283B : [4180]                              ENDIF
(1) 4180/    283B : =>TRUE                              IF STRLEN("Over write?(Y/N)")>0
(1) 4180/    283B : A9                                  DB CHARFROMSTR("Over write?(Y/N)",STRLEN("Over write?(Y/N)")-1)|80H
(1) 4180/    283C : [4180]                              ENDIF
(1) 4181/    283C :                     
(1) 4182/    283C : F5                  CALL_3D13	PUSH AF
(1) 4183/    283D : C5                  		PUSH BC
(1) 4184/    283E : ED 53 04 5D         		LD (TRD_5D04),DE
(1) 4185/    2842 : 22 02 5D            		LD (TRD_5D02),HL
(1) 4186/    2845 : CD 7C 33            		CALL SET_RWPORT0
(1) 4187/    2848 : 3E FF               		LD A,0XFF
(1) 4188/    284A : 32 15 5D            		LD (TRD_5D15),A		; Öëãà 0,èÖóÄíÄíú òÄèäì	TR-DOS.àçÄóÖ çÖ	èÖóÄíÄíú
(1) 4189/    284D : 32 1F 5D            		LD (TRD_5D1F),A
(1) 4190/    2850 : C1                  		POP BC
(1) 4191/    2851 : F1                  		POP AF
(1) 4192/    2852 : 21 01 02            		LD HL,CP_ERROR		; ÄÑêÖë	áÄÇÖêòÖçàü àçíÖêèêÖíÄíéêÄ
(1) 4193/    2855 : 22 1A 5D            		LD (TRD_5D1A),HL	; ÇçìíêÖççàâ ÄÑêÖë áÄÇÖêòÖçàü àçíÖêèêÖíÄíéêÄ äéåÄçÑ
(1) 4194/    2858 : 21 00 00            		LD HL,0
(1) 4195/    285B : 39                  		ADD HL,SP
(1) 4196/    285C : 22 1C 5D            		LD (TRD_5D1C),HL	; ëéïêÄçÖçàÖ íÖäìôÖÉé ëíÖäÄ
(1) 4197/    285F : 2B                  		DEC HL
(1) 4198/    2860 : 2B                  		DEC HL
(1) 4199/    2861 : F9                  		LD SP,HL
(1) 4200/    2862 : F5                  		PUSH AF
(1) 4201/    2863 : CD 1D 02            		CALL MARK_SP		; ìëíÄçéÇäÄ ëíÖäÄ Ñãü èÖêÖïÇÄíÄ	éòàÅéä
(1) 4202/    2866 : 21 85 28            		LD HL,COMAND_TBL
(1) 4203/    2869 : 79                  		LD A,C
(1) 4204/    286A : FE 1A               		CP LOW ((ECOMAND_TBL-COMAND_TBL)/2)+1
(1) 4205/    286C : D2 D3 01            		JP NC,END_COMAND
(1) 4206/    286F : 87                  		ADD A,A
(1) 4207/    2870 : 5F                  		LD E,A
(1) 4208/    2871 : F1                  		POP AF
(1) 4209/    2872 : 16 00               		LD D,0
(1) 4210/    2874 : 19                  		ADD HL,DE
(1) 4211/    2875 : 5E                  		LD E,(HL)
(1) 4212/    2876 : 23                  		INC HL
(1) 4213/    2877 : 56                  		LD D,(HL)
(1) 4214/    2878 : 21 D3 01            		LD HL,END_COMAND
(1) 4215/    287B : E5                  		PUSH HL
(1) 4216/    287C : D5                  		PUSH DE
(1) 4217/    287D : 2A 02 5D            		LD HL,(TRD_5D02)
(1) 4218/    2880 : ED 5B 04 5D         		LD DE,(TRD_5D04)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 104 - 11/17/2013 22:45:09


(1) 4219/    2884 : C9                  		RET
(1) 4220/    2885 :                     
(1) 4221/    2885 : 98 3D               COMAND_TBL	DW COM_00		;ÇéëëíÄçéÇãÖçàÖ ÇÉ93
(1) 4222/    2887 : CB 3D               		DW COM_01		;çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1) 4223/    2889 : 63 3E               		DW COM_02		;ìëíÄçéÇäÄ ÉéãéÇäà çÄ ÑéêéÜäì
(1) 4224/    288B : 02 3F               		DW COM_03		;ìëíÄçéÇäÄ çéåÖêÄ ëÖäíéêÄ
(1) 4225/    288D : 06 3F               		DW COM_04		;ìëíÄçéÇäÄ ÄÑêÖëÄ ÅìîÖêÄ
(1) 4226/    288F : 3D 1E               		DW COM_05		;óíÖçàÖ ëÖäíéêéÇ
(1) 4227/    2891 : 4D 1E               		DW COM_06		;áÄèàëú ëÖäíéêéÇ
(1) 4228/    2893 : D8 28               		DW COM_07		;ÇõÇéÑ äÄíÄãéÉÄ Ç äÄçÄã
(1) 4229/    2895 : 5C 16               		DW COM_08		;ëóàíõÇÄçàÖ éèàëÄíÖãü Ç ÅìîÖê 0X5CDD
(1) 4230/    2897 : 64 16               		DW COM_09		;áÄèàëú éèàëÄíÖãü îÄâãÄ çÄ Ñàëä
(1) 4231/    2899 : F0 1C               		DW COM_0A		;èéàëä îÄâãÄ èé àåÖçà à êÄëòàêÖçàû
(1) 4232/    289B : FB 28               		DW COM_0B		;áÄèàëú ÅãéäÄ äéÑéÇ çÄ Ñàëä
(1) 4233/    289D : F2 28               		DW COM_0C		;áÄèàëú ÅÖâëàä èêéÉêÄååõ çÄ Ñàëä
(1) 4234/    289F : D3 01               		DW END_COMAND
(1) 4235/    28A1 : 0F 29               		DW COM_0E		;áÄÉêìáäÄ àãà èêéÇÖêäÄ îÄâãÄ
(1) 4236/    28A3 : D3 01               		DW END_COMAND
(1) 4237/    28A5 : D3 01               		DW END_COMAND
(1) 4238/    28A7 : D3 01               		DW END_COMAND
(1) 4239/    28A9 : 26 29               		DW COM_12		;ìÑÄãÖçàÖ îÄâãÄ
(1) 4240/    28AB : E0 28               		DW COM_13		;èÖêÖçéë éèàëÄíÖãü îÄâãÄ Ç ÅìîÖê 0X5CDD
(1) 4241/    28AD : E3 28               		DW COM_14		;èÖêÖçéë éèàëÄíÖãü îÄâãÄ àá ÅìîÖêÄ 0X5CDD
(1) 4242/    28AF : 39 27               		DW COM_15		;èêéÇÖêäÄ ÑéêéÜäà
(1) 4243/    28B1 : EB 1F               		DW COM_16		;ìëíÄçéÇäÄ ëíéêéçõ 0 ÑàëäÄ
(1) 4244/    28B3 : F6 1F               		DW COM_17		;ìëíÄçéÇäÄ ëíéêéçõ 1 ÑàëäÄ
(1) 4245/    28B5 : 05 04               		DW COM_18		;çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 4246/    28B7 :                     ECOMAND_TBL
(1) 4247/    28B7 :                     
(1) 4248/    28B7 : (MACRO)             		DUPL 0X28D8-$,0XFF
(1) 4248/    28B7 :                     DUPL:
(1) 4248/    28B7 : =0H                 $$N             EQU (0X28D8-$) / 1024
(1) 4248/    28B7 : =21H                $$M             EQU (0X28D8-$) # 1024
(1) 4248/    28B7 :                                     REPT $$N
(1) 4248/    28B7 :                                     DB 1024 DUP(0XFF)
(1) 4248/    28B7 :                                     ENDM
(1) 4248/    28B7 : =>TRUE                              IF $$M <> 0
(1) 4248/    28B7 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF 
(1) 4248/    28D8 : [4248]                              ENDIF
(1) 4249/    28D8 :                     ;ÇõÇéÑ äÄíÄãéÉÄ Ç äÄçÄã
(1) 4250/    28D8 : F5                  COM_07		PUSH AF
(1) 4251/    28D9 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 4252/    28DC : F1                  		POP AF
(1) 4253/    28DD : C3 79 04            		JP LOC_479
(1) 4254/    28E0 :                     
(1) 4255/    28E0 :                     ;èÖêÖçéë éèàëÄíÖãü îÄâãÄ Ç ÅìîÖê 0X5CDD
(1) 4256/    28E0 : AF                  COM_13		XOR A
(1) 4257/    28E1 : 18 02               		JR LOC_28E5
(1) 4258/    28E3 :                     
(1) 4259/    28E3 :                     ;èÖêÖçéë éèàëÄíÖãü îÄâãÄ àá ÅìîÖêÄ 0X5CDD
(1) 4260/    28E3 : 3E FF               COM_14		LD A,0XFF
(1) 4261/    28E5 : 11 DD 5C            LOC_28E5	LD DE,TRD_5CDD		; àåü îÄâãÄ
(1) 4262/    28E8 : 01 10 00            		LD BC,0X10
(1) 4263/    28EB : B7                  		OR A
(1) 4264/    28EC : 28 01               		JR Z,LOC_28EF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 105 - 11/17/2013 22:45:09


(1) 4265/    28EE : EB                  		EX DE,HL
(1) 4266/    28EF : C3 C9 32            LOC_28EF	JP EMU_LDIR
(1) 4267/    28F2 :                     
(1) 4268/    28F2 :                     ;áÄèàëú ÅÖâëàä èêéÉêÄååõ çÄ Ñàëä
(1) 4269/    28F2 : CD 05 04            COM_0C		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 4270/    28F5 : CD C4 1A            		CALL CP_FREE_ON_DSK
(1) 4271/    28F8 : C3 27 1B            		JP LOC_1B27
(1) 4272/    28FB :                     
(1) 4273/    28FB :                     ;áÄèàëú ÅãéäÄ äéÑéÇ çÄ Ñàëä
(1) 4274/    28FB : 22 D7 5C            COM_0B		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 4275/    28FE :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 4276/    28FE : ED 53 D9 5C         		LD (TRD_5CD9),DE	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 4277/    2902 : ED 53 DB 5C         		LD (TRD_5CDB),DE
(1) 4278/    2906 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 4279/    2909 : CD C4 1A            		CALL CP_FREE_ON_DSK
(1) 4280/    290C : C3 53 1B            		JP LOC_1B53
(1) 4281/    290F :                     
(1) 4282/    290F : (MACRO)             		DUPL 0X290F-$,0XFF
(1) 4282/    290F :                     DUPL:
(1) 4282/    290F : =0H                 $$N             EQU (0X290F-$) / 1024
(1) 4282/    290F : =0H                 $$M             EQU (0X290F-$) # 1024
(1) 4282/    290F :                                     REPT $$N
(1) 4282/    290F :                                     DB 1024 DUP(0XFF)
(1) 4282/    290F :                                     ENDM
(1) 4282/    290F : =>FALSE                             IF $$M <> 0
(1) 4282/    290F :                                     DB $$M DUP(0XFF)
(1) 4282/    290F : [4282]                              ENDIF
(1) 4283/    290F :                     ;áÄÉêìáäÄ àãà èêéÇÖêäÄ îÄâãÄ
(1) 4284/    290F : B7                  COM_0E		OR A
(1) 4285/    2910 : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 4286/    2913 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 4287/    2916 : ED 53 DB 5C         		LD (TRD_5CDB),DE
(1) 4288/    291A : CD B3 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 4289/    291D : CD A4 18            		CALL FIND_RD_HEAD
(1) 4290/    2920 : CD AB 18            		CALL CP_PARAMS		;WDC
(1) 4291/    2923 : C3 21 19            		JP RD_FILE
(1) 4292/    2926 :                     
(1) 4293/    2926 :                     ;ìÑÄãÖçàÖ îÄâãÄ
(1) 4294/    2926 : CD 05 04            COM_12		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 4295/    2929 : CD B3 1C            		CALL FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 4296/    292C : C3 A0 07            		JP ERASE_FILES
(1) 4297/    292F :                     
(1) 4298/    292F :                     ; èéàëä	îÄâãÄ èé àåÖçà
(1) 4299/    292F : CD 57 1C            FIND_FILE	CALL SET_FILENAME
(1) 4300/    2932 : CD 05 04            		CALL COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 4301/    2935 : C3 B3 1C            		JP FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 4302/    2938 :                     
(1) 4303/    2938 :                     ; èÖóÄíú àåÖçà îÄâãÄ
(1) 4304/    2938 : C5                  PRINT_FILENAME	PUSH BC
(1) 4305/    2939 : 06 08               		LD B,8
(1) 4306/    293B : 7E                  LOC_293B	LD A,(HL)
(1) 4307/    293C : D7                  		RST 0X10
(1) 4308/    293D : 23                  		INC HL
(1) 4309/    293E : 10 FB               		DJNZ LOC_293B
(1) 4310/    2940 : 3E 3C               		LD A,"<"
(1) 4311/    2942 : D7                  		RST 0X10
(1) 4312/    2943 : 7E                  		LD A,(HL)
(1) 4313/    2944 : D7                  		RST 0X10
(1) 4314/    2945 : 3E 3E               		LD A,">"
(1) 4315/    2947 : D7                  		RST 0X10
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 106 - 11/17/2013 22:45:09


(1) 4316/    2948 : C1                  		POP BC
(1) 4317/    2949 : C9                  		RET
(1) 4318/    294A :                     
(1) 4319/    294A :                     ; ëéáÑÄçàÖ ÅìîÖêÄ
(1) 4320/    294A : E5                  CREATE_BUF	PUSH HL
(1) 4321/    294B : D5                  		PUSH DE
(1) 4322/    294C : C5                  		PUSH BC
(1) 4323/    294D : F5                  		PUSH AF
(1) 4324/    294E : 21 0C 5D            		LD HL,TRD_5D0C
(1) 4325/    2951 : 7E                  		LD A,(HL)
(1) 4326/    2952 : B7                  		OR A
(1) 4327/    2953 : 28 3D               		JR Z,LOC_2992
(1) 4328/    2955 : E5                  		PUSH HL
(1) 4329/    2956 : 01 01 01            		LD BC,0X101
(1) 4330/    2959 : C5                  		PUSH BC
(1) 4331/    295A : CD FD 19            		CALL CP_FREE_RAM
(1) 4332/    295D : C1                  		POP BC
(1) 4333/    295E : E1                  		POP HL
(1) 4334/    295F : 36 00               		LD (HL),0
(1) 4335/    2961 : 21 25 5D            		LD HL,TRD_5D25
(1) 4336/    2964 : CD 32 1E            		CALL RESERV_RAM
(1) 4337/    2967 : 2A 11 5D            		LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 4338/    296A : 01 01 01            		LD BC,0X101
(1) 4339/    296D : 09                  		ADD HL,BC
(1) 4340/    296E : 18 1F               		JR LOC_298F
(1) 4341/    2970 :                     
(1) 4342/    2970 : E5                  DEL_BUF		PUSH HL
(1) 4343/    2971 : D5                  		PUSH DE
(1) 4344/    2972 : C5                  		PUSH BC
(1) 4345/    2973 : F5                  		PUSH AF
(1) 4346/    2974 : 21 0C 5D            		LD HL,TRD_5D0C
(1) 4347/    2977 : 7E                  		LD A,(HL)
(1) 4348/    2978 : B7                  		OR A
(1) 4349/    2979 : 20 17               		JR NZ,LOC_2992
(1) 4350/    297B : 36 FF               		LD (HL),0XFF
(1) 4351/    297D : 21 25 5D            		LD HL,TRD_5D25
(1) 4352/    2980 : 01 01 01            		LD BC,0X101
(1) 4353/    2983 : CD 2E 1E            		CALL DEL_WORKRAM
(1) 4354/    2986 : B7                  		OR A
(1) 4355/    2987 : 01 01 01            		LD BC,0X101
(1) 4356/    298A : 2A 11 5D            		LD HL,(TRD_5D11)	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 4357/    298D : ED 42               		SBC HL,BC
(1) 4358/    298F : 22 11 5D            LOC_298F	LD (TRD_5D11),HL	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 4359/    2992 : F1                  LOC_2992	POP AF
(1) 4360/    2993 : C1                  		POP BC
(1) 4361/    2994 : D1                  		POP DE
(1) 4362/    2995 : E1                  		POP HL
(1) 4363/    2996 : C9                  		RET
(1) 4364/    2997 :                     
(1) 4365/    2997 : AF                  COM_40		XOR A
(1) 4366/    2998 : 32 D7 5C            LOC_2998	LD (TRD_5CD7),A
(1) 4367/    299B : CD 75 1D            		CALL EXIT_IF_SINTAX
(1) 4368/    299E : CD 2B 04            		CALL CP_SECOND_SYM
(1) 4369/    29A1 : CA 1A 1D            		JP Z,SINTAX_ERROR
(1) 4370/    29A4 : CD 11 3E            		CALL GET_TYPE_DISK
(1) 4371/    29A7 : 3A D7 5C            		LD A,(TRD_5CD7)
(1) 4372/    29AA : 77                  		LD (HL),A
(1) 4373/    29AB : C3 E1 03            		JP ERR_OK
(1) 4374/    29AE :                     
(1) 4375/    29AE : 3E 80               COM_80		LD A,0X80
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 107 - 11/17/2013 22:45:09


(1) 4376/    29B0 : 18 E6               		JR LOC_2998
(1) 4377/    29B2 :                     
(1) 4378/    29B2 : 0D 2A 45 52 52 4F   TXT_ERROR_	DB 0X0D,"*ERROR*",0X8D
                    52 2A 8D 
(1) 4379/    29BB : 0D 4E 6F 20 73 70   TXT_NOSPACE_	DB 0X0D,"No space",0X8D
                    61 63 65 8D 
(1) 4380/    29C5 : 0D 46 69 6C 65 20   TXT_FILEEXISTS_	DB 0X0D,"File exists",0X8D
                    65 78 69 73 74 73 
                    8D 
(1) 4381/    29D2 : 20 46 72 65 65 8D   TXT_FREE_	DB " Free",0X8D
(1) 4382/    29D8 : 0D                  READ_ONLY	DB 0X0D
(1) 4383/    29D9 : (MACRO)             		DC "Read Only"
(1) 4383/    29D9 : =>TRUE                              IF STRLEN("Read Only")>1
(1) 4383/    29D9 : 52 65 61 64 20 4F                   DB SUBSTR("Read Only",0,STRLEN("Read Only")-1)
                    6E 6C 
(1) 4383/    29E1 : [4383]                              ENDIF
(1) 4383/    29E1 : =>TRUE                              IF STRLEN("Read Only")>0
(1) 4383/    29E1 : F9                                  DB CHARFROMSTR("Read Only",STRLEN("Read Only")-1)|80H
(1) 4383/    29E2 : [4383]                              ENDIF
(1) 4384/    29E2 : 0D                  TXT_DISCERROR_	DB 0X0D
(1) 4385/    29E3 : (MACRO)             		DC "Disc Error"
(1) 4385/    29E3 : =>TRUE                              IF STRLEN("Disc Error")>1
(1) 4385/    29E3 : 44 69 73 63 20 45                   DB SUBSTR("Disc Error",0,STRLEN("Disc Error")-1)
                    72 72 6F 
(1) 4385/    29EC : [4385]                              ENDIF
(1) 4385/    29EC : =>TRUE                              IF STRLEN("Disc Error")>0
(1) 4385/    29EC : F2                                  DB CHARFROMSTR("Disc Error",STRLEN("Disc Error")-1)|80H
(1) 4385/    29ED : [4385]                              ENDIF
(1) 4386/    29ED : 0D                  TXT_R_O		DB 0X0D
(1) 4387/    29EE : (MACRO)             		DC "Rec.  O/F"
(1) 4387/    29EE : =>TRUE                              IF STRLEN("Rec.  O/F")>1
(1) 4387/    29EE : 52 65 63 2E 20 20                   DB SUBSTR("Rec.  O/F",0,STRLEN("Rec.  O/F")-1)
                    4F 2F 
(1) 4387/    29F6 : [4387]                              ENDIF
(1) 4387/    29F6 : =>TRUE                              IF STRLEN("Rec.  O/F")>0
(1) 4387/    29F6 : C6                                  DB CHARFROMSTR("Rec.  O/F",STRLEN("Rec.  O/F")-1)|80H
(1) 4387/    29F7 : [4387]                              ENDIF
(1) 4388/    29F7 : (MACRO)             TXT_TITLE_	DC "Title: "
(1) 4388/    29F7 : =>TRUE                              IF STRLEN("Title: ")>1
(1) 4388/    29F7 : 54 69 74 6C 65 3A                   DB SUBSTR("Title: ",0,STRLEN("Title: ")-1)
(1) 4388/    29FD : [4388]                              ENDIF
(1) 4388/    29FD : =>TRUE                              IF STRLEN("Title: ")>0
(1) 4388/    29FD : A0                                  DB CHARFROMSTR("Title: ",STRLEN("Title: ")-1)|80H
(1) 4388/    29FE : [4388]                              ENDIF
(1) 4389/    29FE : 0D                  TXT_RIA_	DB 0X0D
(1) 4390/    29FF : (MACRO)             		DZ "Retry,Abort,Ignore?"
(1) 4390/    29FF : 52 65 74 72 79 2C                   DB "Retry,Abort,Ignore?",0
                    41 62 6F 72 74 2C 
                    49 67 6E 6F 72 65 
                    3F 00 
(1) 4391/    2A13 : 0D                  TXT_TRK_	DB 0X0D
(1) 4392/    2A14 : (MACRO)             		DC "Trk "
(1) 4392/    2A14 : =>TRUE                              IF STRLEN("Trk ")>1
(1) 4392/    2A14 : 54 72 6B                            DB SUBSTR("Trk ",0,STRLEN("Trk ")-1)
(1) 4392/    2A17 : [4392]                              ENDIF
(1) 4392/    2A17 : =>TRUE                              IF STRLEN("Trk ")>0
(1) 4392/    2A17 : A0                                  DB CHARFROMSTR("Trk ",STRLEN("Trk ")-1)|80H
(1) 4392/    2A18 : [4392]                              ENDIF
(1) 4393/    2A18 : (MACRO)             TXT_SEC_	DC " sec "
(1) 4393/    2A18 : =>TRUE                              IF STRLEN(" sec ")>1
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 108 - 11/17/2013 22:45:09


(1) 4393/    2A18 : 20 73 65 63                         DB SUBSTR(" sec ",0,STRLEN(" sec ")-1)
(1) 4393/    2A1C : [4393]                              ENDIF
(1) 4393/    2A1C : =>TRUE                              IF STRLEN(" sec ")>0
(1) 4393/    2A1C : A0                                  DB CHARFROMSTR(" sec ",STRLEN(" sec ")-1)|80H
(1) 4393/    2A1D : [4393]                              ENDIF
(1) 4394/    2A1D : 20 44 65 6C 2E 20   TXT_DELFILE_	DB " Del. File",0X8D
                    46 69 6C 65 8D 
(1) 4395/    2A28 : 0D                  TXT_NOFILES_	DB 0X0D
(1) 4396/    2A29 : 4E 6F 20 46 69 6C   TXT_NOFILES	DB "No File(s)",0X8D,0
                    65 28 73 29 8D 00 
(1) 4397/    2A35 :                     
(1) 4398/    2A35 : 21 41 2A            SUB_2A35	LD HL,LOC_2A41
(1) 4399/    2A38 : 11 80 40            		LD DE,0X4080
(1) 4400/    2A3B : 01 20 00            		LD BC,0X20
(1) 4401/    2A3E : C3 C9 32            		JP EMU_LDIR		;LDIR
(1) 4402/    2A41 :                     					;RET
(1) 4403/    2A41 :                     
(1) 4404/    2A41 : 3A B5 03            LOC_2A41	LD A,(LOC_3B5)
(1) 4405/    2A44 : FE F3               		CP 0XF3
(1) 4406/    2A46 : 3E 10               		LD A,0X10
(1) 4407/    2A48 : 28 01               		JR Z,LOC_2A4B
(1) 4408/    2A4A : AF                  		XOR A
(1) 4409/    2A4B : 32 01 5C            LOC_2A4B	LD (KSTATE1),A
(1) 4410/    2A4E : 01 FD 7F            		LD BC,0X7FFD
(1) 4411/    2A51 : 3E 10               		LD A,0X10
(1) 4412/    2A53 :                     LOC_2A53	
(1) 4413/    2A53 :                     ;		OUT (C),A
(1) 4414/    2A53 :                     ;		RET
(1) 4415/    2A53 : C3 BB 32            		JP LOC_2A53_
(1) 4416/    2A56 :                     
(1) 4417/    2A56 : F5                  MAGIC		PUSH	AF
(1) 4418/    2A57 : C5                  		PUSH	BC
(1) 4419/    2A58 : D5                  		PUSH	DE
(1) 4420/    2A59 : E5                  		PUSH	HL
(1) 4421/    2A5A : DD E5               		PUSH	IX
(1) 4422/    2A5C : FD E5               		PUSH	IY
(1) 4423/    2A5E : D9                  		EXX
(1) 4424/    2A5F : C5                  		PUSH	BC
(1) 4425/    2A60 : D5                  		PUSH	DE
(1) 4426/    2A61 : E5                  		PUSH	HL
(1) 4427/    2A62 : 08                  		EX	AF,AF'
(1) 4428/    2A63 : F5                  		PUSH	AF
(1) 4429/    2A64 : ED 57               		LD	A,I
(1) 4430/    2A66 : F5                  		PUSH	AF
(1) 4431/    2A67 : ED 5F               		LD	A,R
(1) 4432/    2A69 : F5                  		PUSH	AF
(1) 4433/    2A6A : 21 00 00            		LD	HL,0
(1) 4434/    2A6D : 39                  		ADD	HL,SP
(1) 4435/    2A6E : E5                  		PUSH	HL
(1) 4436/    2A6F : 3E 3C               		LD	A,3CH
(1) 4437/    2A71 : D3 FF               		OUT	(0FFH),A
(1) 4438/    2A73 : 3E 3F               		LD	A,3FH
(1) 4439/    2A75 : ED 47               		LD	I,A
(1) 4440/    2A77 : DB 1F               		IN A,(VG_RW_1F)
(1) 4441/    2A79 : E6 80               		AND	80H
(1) 4442/    2A7B : 0F                  		RRCA
(1) 4443/    2A7C : 0F                  		RRCA
(1) 4444/    2A7D : 0F                  		RRCA
(1) 4445/    2A7E : 32 01 5C            		LD	(KSTATE1),A
(1) 4446/    2A81 : CD 65 2F            		CALL	LOC_2F65
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 109 - 11/17/2013 22:45:09


(1) 4447/    2A84 : CD A0 3E            		CALL	PAUSE_3_C_A
(1) 4448/    2A87 : CD A0 3E            		CALL	PAUSE_3_C_A
(1) 4449/    2A8A : 11 0A 00            		LD	DE,0AH
(1) 4450/    2A8D : 21 00 40            		LD	HL,4000H
(1) 4451/    2A90 : E5                  		PUSH	HL
(1) 4452/    2A91 : CD 73 2D            		CALL	SUB_2D73
(1) 4453/    2A94 : 21 00 41            		LD	HL,4100H
(1) 4454/    2A97 : 11 0B 00            		LD	DE,0BH
(1) 4455/    2A9A : CD 73 2D            		CALL	SUB_2D73
(1) 4456/    2A9D : E1                  		POP	HL
(1) 4457/    2A9E : E5                  		PUSH	HL
(1) 4458/    2A9F : 11 08 00            		LD	DE,8
(1) 4459/    2AA2 : CD 1B 2F            		CALL	LOC_2F1B
(1) 4460/    2AA5 : 21 E3 40            		LD	HL,40E3H
(1) 4461/    2AA8 : 7E                  		LD	A,(HL)
(1) 4462/    2AA9 : 32 00 5C            		LD	(KSTATE0),A
(1) 4463/    2AAC : 23                  		INC	HL
(1) 4464/    2AAD : 7E                  		LD	A,(HL)
(1) 4465/    2AAE : 34                  		INC	(HL)
(1) 4466/    2AAF : 23                  		INC	HL
(1) 4467/    2AB0 : 5E                  		LD	E,(HL)
(1) 4468/    2AB1 : 23                  		INC	HL
(1) 4469/    2AB2 : 56                  		LD	D,(HL)
(1) 4470/    2AB3 : B7                  		OR	A
(1) 4471/    2AB4 : EB                  		EX	DE,HL
(1) 4472/    2AB5 : 11 C0 00            		LD	DE,0C0H
(1) 4473/    2AB8 : ED 52               		SBC	HL,DE
(1) 4474/    2ABA : 22 E5 40            		LD	(40E5H),HL
(1) 4475/    2ABD : 21 00 40            		LD	HL,4000H
(1) 4476/    2AC0 : 11 08 00            		LD	DE,8
(1) 4477/    2AC3 : CD 73 2D            		CALL	SUB_2D73
(1) 4478/    2AC6 : E1                  		POP	HL
(1) 4479/    2AC7 : ED 5B E1 40         		LD	DE,(40E1H)
(1) 4480/    2ACB : D5                  		PUSH	DE
(1) 4481/    2ACC : 11 0A 00            		LD	DE,0AH
(1) 4482/    2ACF : CD 1B 2F            		CALL	LOC_2F1B
(1) 4483/    2AD2 : D1                  		POP	DE
(1) 4484/    2AD3 : CD 4C 2D            		CALL	SUB_2D4C
(1) 4485/    2AD6 : D5                  		PUSH	DE
(1) 4486/    2AD7 : 3E 3C               		LD	A,3CH
(1) 4487/    2AD9 : D3 FF               		OUT	(0FFH),A
(1) 4488/    2ADB : CD 65 2F            		CALL	LOC_2F65
(1) 4489/    2ADE : 21 00 40            		LD	HL,4000H
(1) 4490/    2AE1 : 11 08 00            		LD	DE,8
(1) 4491/    2AE4 : 06 01               		LD	B,1
(1) 4492/    2AE6 : CD 1B 2F            		CALL	LOC_2F1B
(1) 4493/    2AE9 : D1                  		POP	DE
(1) 4494/    2AEA : 2A E1 40            		LD	HL,(40E1H)
(1) 4495/    2AED : ED 53 E1 40         		LD	(40E1H),DE
(1) 4496/    2AF1 : E5                  		PUSH	HL
(1) 4497/    2AF2 : 21 00 40            		LD	HL,4000H
(1) 4498/    2AF5 : 11 08 00            		LD	DE,8
(1) 4499/    2AF8 : 06 01               		LD	B,1
(1) 4500/    2AFA : CD 73 2D            		CALL	SUB_2D73
(1) 4501/    2AFD : 3A E4 40            		LD	A,(40E4H)
(1) 4502/    2B00 : 3D                  		DEC	A
(1) 4503/    2B01 : CD E5 2C            		CALL	SUB_2CE5
(1) 4504/    2B04 : 36 40               		LD	(HL),"@"
(1) 4505/    2B06 : 23                  		INC	HL
(1) 4506/    2B07 : 06 07               		LD	B,7
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 110 - 11/17/2013 22:45:09


(1) 4507/    2B09 : 36 20               LOC_2B09	LD	(HL)," "
(1) 4508/    2B0B : 23                  		INC	HL
(1) 4509/    2B0C : 10 FB               		DJNZ	LOC_2B09
(1) 4510/    2B0E : 36 43               		LD	(HL),"C"
(1) 4511/    2B10 : D1                  		POP	DE
(1) 4512/    2B11 : C1                  		POP	BC
(1) 4513/    2B12 : 23                  		INC	HL
(1) 4514/    2B13 : 71                  		LD	(HL),C
(1) 4515/    2B14 : 23                  		INC	HL
(1) 4516/    2B15 : 70                  		LD	(HL),B
(1) 4517/    2B16 : 23                  		INC	HL
(1) 4518/    2B17 : 23                  		INC	HL
(1) 4519/    2B18 : 23                  		INC	HL
(1) 4520/    2B19 : 36 C0               		LD	(HL),0C0H
(1) 4521/    2B1B : 23                  		INC	HL
(1) 4522/    2B1C : 73                  		LD	(HL),E
(1) 4523/    2B1D : 23                  		INC	HL
(1) 4524/    2B1E : 72                  		LD	(HL),D
(1) 4525/    2B1F : 21 00 40            		LD	HL,4000H
(1) 4526/    2B22 : 11 00 00            		LD	DE,0
(1) 4527/    2B25 : DB 5F               		IN A,(VG_RW_5F)
(1) 4528/    2B27 : 3D                  		DEC	A
(1) 4529/    2B28 : 5F                  		LD	E,A
(1) 4530/    2B29 : 06 01               		LD	B,1
(1) 4531/    2B2B : CD 73 2D            		CALL	SUB_2D73
(1) 4532/    2B2E : 21 00 00            		LD	HL,0
(1) 4533/    2B31 : 39                  		ADD	HL,SP
(1) 4534/    2B32 : 22 40 41            		LD	(4140H),HL
(1) 4535/    2B35 : 31 FF 41            		LD	SP,41FFH
(1) 4536/    2B38 : CD 35 2A            		CALL	SUB_2A35
(1) 4537/    2B3B : 21 00 C0            		LD	HL,0C000H
(1) 4538/    2B3E : AF                  		XOR	A
(1) 4539/    2B3F : 86                  LOC_2B3F	ADD	A,(HL)
(1) 4540/    2B40 : 23                  		INC	HL
(1) 4541/    2B41 : 47                  		LD	B,A
(1) 4542/    2B42 : 7C                  		LD	A,H
(1) 4543/    2B43 : B7                  		OR	A
(1) 4544/    2B44 : 78                  		LD	A,B
(1) 4545/    2B45 : 20 F8               		JR	NZ,LOC_2B3F
(1) 4546/    2B47 : 21 00 41            		LD	HL,4100H
(1) 4547/    2B4A : 77                  		LD	(HL),A
(1) 4548/    2B4B : E5                  		PUSH	HL
(1) 4549/    2B4C : 21 58 2B            		LD	HL,LOC_2B58
(1) 4550/    2B4F : E5                  		PUSH	HL
(1) 4551/    2B50 : 21 2F 3D            		LD	HL,LOC_3D2F
(1) 4552/    2B53 : E5                  		PUSH	HL
(1) 4553/    2B54 : F3                  		DI
(1) 4554/    2B55 : C3 80 40            		JP	4080H
(1) 4555/    2B58 :                     
(1) 4556/    2B58 : E1                  LOC_2B58	POP	HL
(1) 4557/    2B59 : 01 FD 7F            		LD	BC,7FFDH
(1) 4558/    2B5C : 3E AA               		LD	A,0AAH
(1) 4559/    2B5E : 32 30 41            		LD	(4130H),A
(1) 4560/    2B61 : 16 05               		LD	D,5
(1) 4561/    2B63 : 3A 01 5C            		LD	A,(KSTATE1)
(1) 4562/    2B66 : B2                  		OR	D
(1) 4563/    2B67 : 57                  		LD	D,A
(1) 4564/    2B68 : ED 51               		OUT	(C),D
(1) 4565/    2B6A : 3A 30 C1            		LD	A,(0C130H)
(1) 4566/    2B6D : FE AA               		CP	0AAH
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 111 - 11/17/2013 22:45:09


(1) 4567/    2B6F : C2 1B 2C            		JP	NZ,LOC_2C1B
(1) 4568/    2B72 : 7A                  		LD	A,D
(1) 4569/    2B73 : E6 F8               		AND	0F8H
(1) 4570/    2B75 : 57                  		LD	D,A
(1) 4571/    2B76 : 23                  		INC	HL
(1) 4572/    2B77 : 06 08               		LD	B,8
(1) 4573/    2B79 : 72                  LOC_2B79	LD	(HL),D
(1) 4574/    2B7A : ED 51               		OUT	(C),D
(1) 4575/    2B7C : AF                  		XOR	A
(1) 4576/    2B7D : 21 00 C0            		LD	HL,0C000H
(1) 4577/    2B80 : 86                  LOC_2B80	ADD	A,(HL)
(1) 4578/    2B81 : 23                  		INC	HL
(1) 4579/    2B82 : 5F                  		LD	E,A
(1) 4580/    2B83 : 7C                  		LD	A,H
(1) 4581/    2B84 : B7                  		OR	A
(1) 4582/    2B85 : 7B                  		LD	A,E
(1) 4583/    2B86 : 20 F8               		JR	NZ,LOC_2B80
(1) 4584/    2B88 : 21 00 41            		LD	HL,4100H
(1) 4585/    2B8B : BE                  		CP	(HL)
(1) 4586/    2B8C : 23                  		INC	HL
(1) 4587/    2B8D : 28 04               		JR	Z,LOC_2B93
(1) 4588/    2B8F : 14                  		INC	D
(1) 4589/    2B90 : 10 E7               		DJNZ	LOC_2B79
(1) 4590/    2B92 : 15                  		DEC	D
(1) 4591/    2B93 : 06 08               LOC_2B93	LD	B,8
(1) 4592/    2B95 : C5                  LOC_2B95	PUSH	BC
(1) 4593/    2B96 : CD 37 2C            		CALL	SUB_2C37
(1) 4594/    2B99 : C1                  		POP	BC
(1) 4595/    2B9A : 10 F9               		DJNZ	LOC_2B95
(1) 4596/    2B9C : 0E 00               		LD	C,0
(1) 4597/    2B9E : CD 3A 2F            		CALL	SUB_2F3A
(1) 4598/    2BA1 : CD 2A 2D            		CALL	SUB_2D2A
(1) 4599/    2BA4 : 3A E4 40            		LD	A,(40E4H)
(1) 4600/    2BA7 : 32 02 41            		LD	(4102H),A
(1) 4601/    2BAA : 3C                  		INC	A
(1) 4602/    2BAB : 32 E4 40            		LD	(40E4H),A
(1) 4603/    2BAE : 2A E5 40            		LD	HL,(40E5H)
(1) 4604/    2BB1 : 11 01 00            		LD	DE,1
(1) 4605/    2BB4 : ED 52               		SBC	HL,DE
(1) 4606/    2BB6 : 22 E5 40            		LD	(40E5H),HL
(1) 4607/    2BB9 : D8                  		RET	C
(1) 4608/    2BBA : 2A E1 40            		LD	HL,(40E1H)
(1) 4609/    2BBD : 22 1E 41            		LD	(411EH),HL
(1) 4610/    2BC0 : CD 1E 2D            		CALL	SUB_2D1E
(1) 4611/    2BC3 : 3E 38               		LD	A,38H
(1) 4612/    2BC5 : 32 11 41            		LD	(4111H),A
(1) 4613/    2BC8 : 3E 01               		LD	A,1
(1) 4614/    2BCA : 32 1D 41            		LD	(411DH),A
(1) 4615/    2BCD : 21 00 41            		LD	HL,4100H
(1) 4616/    2BD0 : 22 19 41            		LD	(4119H),HL
(1) 4617/    2BD3 : 21 00 01            		LD	HL,100H
(1) 4618/    2BD6 : 22 1B 41            		LD	(411BH),HL
(1) 4619/    2BD9 : ED 5B E1 40         		LD	DE,(40E1H)
(1) 4620/    2BDD : CD 65 2F            		CALL	LOC_2F65
(1) 4621/    2BE0 : 4A                  		LD	C,D
(1) 4622/    2BE1 : CD 3A 2F            		CALL	SUB_2F3A
(1) 4623/    2BE4 : 21 00 41            		LD	HL,4100H
(1) 4624/    2BE7 : 06 01               		LD	B,1
(1) 4625/    2BE9 : CD 58 2D            		CALL	LOC_2D58
(1) 4626/    2BEC : ED 53 E1 40         		LD	(40E1H),DE
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 112 - 11/17/2013 22:45:09


(1) 4627/    2BF0 : 0E 00               		LD	C,0
(1) 4628/    2BF2 : CD 3A 2F            		CALL	SUB_2F3A
(1) 4629/    2BF5 : CD 34 2D            		CALL	SUB_2D34
(1) 4630/    2BF8 : 3A 02 41            		LD	A,(4102H)
(1) 4631/    2BFB : CD E5 2C            		CALL	SUB_2CE5
(1) 4632/    2BFE : 11 10 41            		LD	DE,4110H
(1) 4633/    2C01 : 01 10 00            		LD	BC,10H
(1) 4634/    2C04 : EB                  		EX	DE,HL
(1) 4635/    2C05 : ED B0               		LDIR
(1) 4636/    2C07 : DB 5F               		IN A,(VG_RW_5F)
(1) 4637/    2C09 : 3D                  		DEC	A
(1) 4638/    2C0A : 5F                  		LD	E,A
(1) 4639/    2C0B : 16 00               		LD	D,0
(1) 4640/    2C0D : 21 00 40            		LD	HL,4000H
(1) 4641/    2C10 : CD 73 2D            		CALL	SUB_2D73
(1) 4642/    2C13 : 01 FD 7F            		LD	BC,7FFDH
(1) 4643/    2C16 : 3A 01 41            		LD	A,(4101H)
(1) 4644/    2C19 : ED 79               		OUT	(C),A
(1) 4645/    2C1B : 2A 40 41            LOC_2C1B	LD	HL,(4140H)
(1) 4646/    2C1E : F9                  		LD	SP,HL
(1) 4647/    2C1F : 21 00 40            		LD	HL,4000H
(1) 4648/    2C22 : 11 0A 00            		LD	DE,0AH
(1) 4649/    2C25 : CD 1B 2F            		CALL	LOC_2F1B
(1) 4650/    2C28 : 21 00 41            		LD	HL,4100H
(1) 4651/    2C2B : 11 0B 00            		LD	DE,0BH
(1) 4652/    2C2E : CD 1B 2F            		CALL	LOC_2F1B
(1) 4653/    2C31 : 3E 3C               		LD	A,3CH
(1) 4654/    2C33 : F5                  		PUSH	AF
(1) 4655/    2C34 : C3 BC 2E            		JP	LOC_2EBC
(1) 4656/    2C37 :                     
(1) 4657/    2C37 : 78                  SUB_2C37	LD	A,B
(1) 4658/    2C38 : 3D                  		DEC	A
(1) 4659/    2C39 : 32 03 41            		LD	(4103H),A
(1) 4660/    2C3C : 47                  		LD	B,A
(1) 4661/    2C3D : 3A 01 41            		LD	A,(4101H)
(1) 4662/    2C40 : E6 07               		AND	7
(1) 4663/    2C42 : B8                  		CP	B
(1) 4664/    2C43 : C8                  		RET	Z
(1) 4665/    2C44 : 3E 02               		LD	A,2
(1) 4666/    2C46 : B8                  		CP	B
(1) 4667/    2C47 : C8                  		RET	Z
(1) 4668/    2C48 : 3A 01 41            		LD	A,(4101H)
(1) 4669/    2C4B : E6 08               		AND	8
(1) 4670/    2C4D : 28 06               		JR	Z,LOC_2C55
(1) 4671/    2C4F : 78                  		LD	A,B
(1) 4672/    2C50 : FE 07               		CP	7
(1) 4673/    2C52 : C8                  		RET	Z
(1) 4674/    2C53 : 18 04               		JR	LOC_2C59
(1) 4675/    2C55 :                     
(1) 4676/    2C55 : 78                  LOC_2C55	LD	A,B
(1) 4677/    2C56 : FE 05               		CP	5
(1) 4678/    2C58 : C8                  		RET	Z
(1) 4679/    2C59 : CD 5D 2C            LOC_2C59	CALL	SUB_2C5D
(1) 4680/    2C5C : C9                  		RET
(1) 4681/    2C5D :                     
(1) 4682/    2C5D : 21 01 41            SUB_2C5D	LD	HL,4101H
(1) 4683/    2C60 : 7E                  		LD	A,(HL)
(1) 4684/    2C61 : E6 F8               		AND	0F8H
(1) 4685/    2C63 : 4F                  		LD	C,A
(1) 4686/    2C64 : 78                  		LD	A,B
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 113 - 11/17/2013 22:45:09


(1) 4687/    2C65 : B1                  		OR	C
(1) 4688/    2C66 : C5                  		PUSH	BC
(1) 4689/    2C67 : 01 FD 7F            		LD	BC,7FFDH
(1) 4690/    2C6A : ED 79               		OUT	(C),A
(1) 4691/    2C6C : C1                  		POP	BC
(1) 4692/    2C6D : 21 00 C0            		LD	HL,0C000H
(1) 4693/    2C70 : 7E                  LOC_2C70	LD	A,(HL)
(1) 4694/    2C71 : B7                  		OR	A
(1) 4695/    2C72 : 20 06               		JR	NZ,LOC_2C7A
(1) 4696/    2C74 : 23                  		INC	HL
(1) 4697/    2C75 : 7C                  		LD	A,H
(1) 4698/    2C76 : B7                  		OR	A
(1) 4699/    2C77 : 20 F7               		JR	NZ,LOC_2C70
(1) 4700/    2C79 : C9                  		RET
(1) 4701/    2C7A :                     
(1) 4702/    2C7A : CD 7E 2C            LOC_2C7A	CALL	SUB_2C7E
(1) 4703/    2C7D : C9                  		RET
(1) 4704/    2C7E :                     
(1) 4705/    2C7E : 0E 00               SUB_2C7E	LD	C,0
(1) 4706/    2C80 : CD 3A 2F            		CALL	SUB_2F3A
(1) 4707/    2C83 : CD 2A 2D            		CALL	SUB_2D2A
(1) 4708/    2C86 : 3A E4 40            		LD	A,(40E4H)
(1) 4709/    2C89 : 32 02 41            		LD	(4102H),A
(1) 4710/    2C8C : 3C                  		INC	A
(1) 4711/    2C8D : 32 E4 40            		LD	(40E4H),A
(1) 4712/    2C90 : 2A E5 40            		LD	HL,(40E5H)
(1) 4713/    2C93 : 11 40 00            		LD	DE,40H
(1) 4714/    2C96 : ED 52               		SBC	HL,DE
(1) 4715/    2C98 : 22 E5 40            		LD	(40E5H),HL
(1) 4716/    2C9B : D8                  		RET	C
(1) 4717/    2C9C : 2A E1 40            		LD	HL,(40E1H)
(1) 4718/    2C9F : 22 1E 41            		LD	(411EH),HL
(1) 4719/    2CA2 : CD 1E 2D            		CALL	SUB_2D1E
(1) 4720/    2CA5 : 3E 40               		LD	A,40H
(1) 4721/    2CA7 : 32 1D 41            		LD	(411DH),A
(1) 4722/    2CAA : 21 00 C0            		LD	HL,0C000H
(1) 4723/    2CAD : 22 19 41            		LD	(4119H),HL
(1) 4724/    2CB0 : 21 00 40            		LD	HL,4000H
(1) 4725/    2CB3 : 22 1B 41            		LD	(411BH),HL
(1) 4726/    2CB6 : ED 5B E1 40         		LD	DE,(40E1H)
(1) 4727/    2CBA : CD 3E 2D            		CALL	SUB_2D3E
(1) 4728/    2CBD : ED 53 E1 40         		LD	(40E1H),DE
(1) 4729/    2CC1 : 0E 00               		LD	C,0
(1) 4730/    2CC3 : CD 3A 2F            		CALL	SUB_2F3A
(1) 4731/    2CC6 : CD 34 2D            		CALL	SUB_2D34
(1) 4732/    2CC9 : 3A 02 41            		LD	A,(4102H)
(1) 4733/    2CCC : CD E5 2C            		CALL	SUB_2CE5
(1) 4734/    2CCF : 11 10 41            		LD	DE,4110H
(1) 4735/    2CD2 : 01 10 00            		LD	BC,10H
(1) 4736/    2CD5 : EB                  		EX	DE,HL
(1) 4737/    2CD6 : ED B0               		LDIR
(1) 4738/    2CD8 : DB 5F               		IN A,(VG_RW_5F)
(1) 4739/    2CDA : 3D                  		DEC	A
(1) 4740/    2CDB : 5F                  		LD	E,A
(1) 4741/    2CDC : 16 00               		LD	D,0
(1) 4742/    2CDE : 21 00 40            		LD	HL,4000H
(1) 4743/    2CE1 : CD 73 2D            		CALL	SUB_2D73
(1) 4744/    2CE4 : C9                  		RET
(1) 4745/    2CE5 :                     
(1) 4746/    2CE5 : 4F                  SUB_2CE5	LD	C,A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 114 - 11/17/2013 22:45:09


(1) 4747/    2CE6 : E6 F0               		AND	0F0H
(1) 4748/    2CE8 : 0F                  		RRCA
(1) 4749/    2CE9 : 0F                  		RRCA
(1) 4750/    2CEA : 0F                  		RRCA
(1) 4751/    2CEB : 0F                  		RRCA
(1) 4752/    2CEC : 47                  		LD	B,A
(1) 4753/    2CED : C5                  		PUSH	BC
(1) 4754/    2CEE : 58                  		LD	E,B
(1) 4755/    2CEF : 16 00               		LD	D,0
(1) 4756/    2CF1 : 21 00 40            		LD	HL,4000H
(1) 4757/    2CF4 : D5                  		PUSH	DE
(1) 4758/    2CF5 : CD 1B 2F            		CALL	LOC_2F1B
(1) 4759/    2CF8 : D1                  		POP	DE
(1) 4760/    2CF9 : C1                  		POP	BC
(1) 4761/    2CFA : 06 00               		LD	B,0
(1) 4762/    2CFC : 79                  		LD	A,C
(1) 4763/    2CFD : E6 0F               		AND	0FH
(1) 4764/    2CFF : 07                  		RLCA
(1) 4765/    2D00 : 07                  		RLCA
(1) 4766/    2D01 : 07                  		RLCA
(1) 4767/    2D02 : 07                  		RLCA
(1) 4768/    2D03 : 21 00 40            		LD	HL,4000H
(1) 4769/    2D06 : 85                  		ADD	A,L
(1) 4770/    2D07 : 6F                  		LD	L,A
(1) 4771/    2D08 : C9                  		RET
(1) 4772/    2D09 :                     
(1) 4773/    2D09 : 21 10 41            SUB_2D09	LD	HL,4110H
(1) 4774/    2D0C : 06 09               		LD	B,9
(1) 4775/    2D0E : 36 20               LOC_2D0E	LD	(HL)," "
(1) 4776/    2D10 : 23                  		INC	HL
(1) 4777/    2D11 : 10 FB               		DJNZ	LOC_2D0E
(1) 4778/    2D13 : 3E 40               		LD	A,"@"
(1) 4779/    2D15 : 32 10 41            		LD	(4110H),A
(1) 4780/    2D18 : 3E 43               		LD	A,"C"
(1) 4781/    2D1A : 32 18 41            		LD	(4118H),A
(1) 4782/    2D1D : C9                  		RET
(1) 4783/    2D1E :                     
(1) 4784/    2D1E : CD 09 2D            SUB_2D1E	CALL	SUB_2D09
(1) 4785/    2D21 : 3A 03 41            		LD	A,(4103H)
(1) 4786/    2D24 : C6 30               		ADD	A,"0"
(1) 4787/    2D26 : 32 11 41            		LD	(4111H),A
(1) 4788/    2D29 : C9                  		RET
(1) 4789/    2D2A :                     
(1) 4790/    2D2A : 21 00 40            SUB_2D2A	LD	HL,4000H
(1) 4791/    2D2D : 11 08 00            		LD	DE,8
(1) 4792/    2D30 : CD 1B 2F            		CALL	LOC_2F1B
(1) 4793/    2D33 : C9                  		RET
(1) 4794/    2D34 :                     
(1) 4795/    2D34 : 21 00 40            SUB_2D34	LD	HL,4000H
(1) 4796/    2D37 : 11 08 00            		LD	DE,8
(1) 4797/    2D3A : CD 73 2D            		CALL	SUB_2D73
(1) 4798/    2D3D : C9                  		RET
(1) 4799/    2D3E :                     
(1) 4800/    2D3E : CD 65 2F            SUB_2D3E	CALL	LOC_2F65
(1) 4801/    2D41 : 4A                  		LD	C,D
(1) 4802/    2D42 : CD 3A 2F            		CALL	SUB_2F3A
(1) 4803/    2D45 : 21 00 C0            		LD	HL,0C000H
(1) 4804/    2D48 : 06 40               		LD	B,40H
(1) 4805/    2D4A : 18 0C               		JR	LOC_2D58
(1) 4806/    2D4C :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 115 - 11/17/2013 22:45:09


(1) 4807/    2D4C : CD 65 2F            SUB_2D4C	CALL	LOC_2F65
(1) 4808/    2D4F : 4A                  		LD	C,D
(1) 4809/    2D50 : CD 3A 2F            		CALL	SUB_2F3A
(1) 4810/    2D53 : 21 00 40            		LD	HL,4000H
(1) 4811/    2D56 : 06 C0               		LD	B,0C0H
(1) 4812/    2D58 : C5                  LOC_2D58	PUSH	BC
(1) 4813/    2D59 : D5                  		PUSH	DE
(1) 4814/    2D5A : CD 73 2D            		CALL	SUB_2D73
(1) 4815/    2D5D : 11 00 01            		LD	DE,100H
(1) 4816/    2D60 : 19                  		ADD	HL,DE
(1) 4817/    2D61 : D1                  		POP	DE
(1) 4818/    2D62 : 1C                  		INC	E
(1) 4819/    2D63 : 7B                  		LD	A,E
(1) 4820/    2D64 : FE 10               		CP	10H
(1) 4821/    2D66 : 20 07               		JR	NZ,LOC_2D6F
(1) 4822/    2D68 : 1E 00               		LD	E,0
(1) 4823/    2D6A : 14                  		INC	D
(1) 4824/    2D6B : 4A                  		LD	C,D
(1) 4825/    2D6C : CD 3A 2F            		CALL	SUB_2F3A
(1) 4826/    2D6F : C1                  LOC_2D6F	POP	BC
(1) 4827/    2D70 : 10 E6               		DJNZ	LOC_2D58
(1) 4828/    2D72 : C9                  		RET
(1) 4829/    2D73 :                     
(1) 4830/    2D73 : 7B                  SUB_2D73	LD	A,E
(1) 4831/    2D74 : 3C                  		INC	A
(1) 4832/    2D75 : D3 5F               		OUT	(5FH),A
(1) 4833/    2D77 : E5                  		PUSH	HL
(1) 4834/    2D78 : 16 14               		LD	D,14H
(1) 4835/    2D7A : D5                  		PUSH	DE
(1) 4836/    2D7B : F3                  LOC_2D7B	DI
(1) 4837/    2D7C : 0E 7F               		LD	C,7FH
(1) 4838/    2D7E : 3E A0               		LD	A,0A0H
(1) 4839/    2D80 : D3 1F               		OUT	(1FH),A
(1) 4840/    2D82 : CD CA 3F            		CALL	WR_DATAPORT
(1) 4841/    2D85 : D1                  		POP	DE
(1) 4842/    2D86 : E1                  		POP	HL
(1) 4843/    2D87 : =>TRUE              		IF EMU3D2F=1
(1) 4844/    2D87 : F7                  		RST 0X30
(1) 4845/    2D88 : 06                  		DB WIN1F
(1) 4846/    2D89 : =>FALSE             		ELSE
(1) 4847/    2D89 :                     		IN A,(VG_RW_1F)
(1) 4848/    2D89 : [4843]              		ENDIF
(1) 4849/    2D89 : E6 7F               		AND 0X7F
(1) 4850/    2D8B : C8                  		RET Z
(1) 4851/    2D8C : 15                  		DEC D
(1) 4852/    2D8D : E5                  		PUSH HL
(1) 4853/    2D8E : D5                  		PUSH DE
(1) 4854/    2D8F : 20 EA               		JR	NZ,LOC_2D7B
(1) 4855/    2D91 : 76                  		HALT
(1) 4856/    2D92 :                     
(1) 4857/    2D92 : 2A E6 5C            LOC_2D92	LD	HL,(TRD_5CE6)	; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 4858/    2D95 : ED 5B EB 5C         		LD	DE,(TRD_5CEB)	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 4859/    2D99 : 3A EA 5C            		LD	A,(TRD_5CEA)	; ÑãàçÄ	îÄâãÄ Ç	ëÖäíéêÄï
(1) 4860/    2D9C : 47                  		LD	B,A
(1) 4861/    2D9D : CD 3D 1E            		CALL	COM_05		; óíÖçàÖ ëÖäíéêéÇ
(1) 4862/    2DA0 : C9                  		RET
(1) 4863/    2DA1 :                     
(1) 4864/    2DA1 : CD DF 1D            GOTO		CALL	SET_AND_PUT
(1) 4865/    2DA4 : CD 75 1D            		CALL	EXIT_IF_SINTAX	; ÇéáÇêÄí Ç èêÖÑõÑìôàâ ÇõáéÇ,Öëãà èêéÇÖêäÄ ëàçíÄäëàëÄ
(1) 4866/    2DA7 : CD 2E 10            		CALL	INP_EXTFILENAME	; èêàÖå	êÄëòàêÖçàü îÄâãÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 116 - 11/17/2013 22:45:09


(1) 4867/    2DAA : CD 57 1C            		CALL	SET_FILENAME	; èÖêÖçéë áÄÑÄççéÉé àåÖçà îÄâãÄ	Ç ÅìîÖê	#5CDD
(1) 4868/    2DAD : ED 43 20 40         		LD	(4020H),BC
(1) 4869/    2DB1 : 79                  		LD	A,C
(1) 4870/    2DB2 : FE 08               		CP	8
(1) 4871/    2DB4 : 30 1C               		JR	NC,LOC_2DD2
(1) 4872/    2DB6 : CD 05 04            		CALL	COM_18		; çÄëíêéâäÄ çÄ ÑàëäÖíì
(1) 4873/    2DB9 : CD B3 1C            		CALL	FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 4874/    2DBC : C2 D9 03            		JP	NZ,ERR_NOFILES
(1) 4875/    2DBF : 21 DD 5C            		LD	HL,TRD_5CDD	; àåü îÄâãÄ
(1) 4876/    2DC2 : ED 4B 20 40         		LD	BC,(4020H)
(1) 4877/    2DC6 : 09                  		ADD	HL,BC
(1) 4878/    2DC7 : 36 38               		LD	(HL),"8"
(1) 4879/    2DC9 : E5                  		PUSH	HL
(1) 4880/    2DCA : CD B3 1C            		CALL	FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 4881/    2DCD : E1                  		POP	HL
(1) 4882/    2DCE : 28 08               		JR	Z,LOC_2DD8
(1) 4883/    2DD0 : 36 20               		LD	(HL)," "
(1) 4884/    2DD2 : CD B3 1C            LOC_2DD2	CALL	FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 4885/    2DD5 : C3 33 2E            		JP	LOC_2E33
(1) 4886/    2DD8 :                     
(1) 4887/    2DD8 : CD 5D 16            LOC_2DD8	CALL	RDHEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 4888/    2DDB : CD 92 2D            		CALL	LOC_2D92
(1) 4889/    2DDE : 31 FF 40            		LD	SP,40FFH
(1) 4890/    2DE1 : 06 08               		LD	B,8
(1) 4891/    2DE3 : C5                  LOC_2DE3	PUSH	BC
(1) 4892/    2DE4 : 78                  		LD	A,B
(1) 4893/    2DE5 : 01 FD 7F            		LD	BC,7FFDH
(1) 4894/    2DE8 : 3D                  		DEC	A
(1) 4895/    2DE9 : F5                  		PUSH	AF
(1) 4896/    2DEA : F6 10               		OR	10H
(1) 4897/    2DEC : ED 79               		OUT	(C),A
(1) 4898/    2DEE : F1                  		POP	AF
(1) 4899/    2DEF : C6 30               		ADD	A,30H
(1) 4900/    2DF1 : 21 DD 5C            		LD	HL,TRD_5CDD	; àåü îÄâãÄ
(1) 4901/    2DF4 : ED 4B 20 40         		LD	BC,(4020H)
(1) 4902/    2DF8 : 09                  		ADD	HL,BC
(1) 4903/    2DF9 : 77                  		LD	(HL),A
(1) 4904/    2DFA : CD B3 1C            		CALL	FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 4905/    2DFD : 20 06               		JR	NZ,LOC_2E05
(1) 4906/    2DFF : CD 5D 16            		CALL	RDHEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 4907/    2E02 : CD 92 2D            		CALL	LOC_2D92
(1) 4908/    2E05 : C1                  LOC_2E05	POP	BC
(1) 4909/    2E06 : 10 DB               		DJNZ	LOC_2DE3
(1) 4910/    2E08 : 3E 20               		LD	A,20H
(1) 4911/    2E0A : 21 DD 5C            		LD	HL,TRD_5CDD	; àåü îÄâãÄ
(1) 4912/    2E0D : ED 4B 20 40         		LD	BC,(4020H)
(1) 4913/    2E11 : 09                  		ADD	HL,BC
(1) 4914/    2E12 : 77                  		LD	(HL),A
(1) 4915/    2E13 : CD B3 1C            		CALL	FIND_FILENAME	; èéàëä	îÄâãÄ èé àåÖçà îÄâãÄ
(1) 4916/    2E16 : CD 5D 16            		CALL	RDHEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 4917/    2E19 : C5                  		PUSH	BC
(1) 4918/    2E1A : F5                  		PUSH	AF
(1) 4919/    2E1B : 01 FD 7F            		LD	BC,7FFDH
(1) 4920/    2E1E : 3A 01 41            		LD	A,(4101H)
(1) 4921/    2E21 : ED 79               		OUT	(C),A
(1) 4922/    2E23 : F1                  		POP	AF
(1) 4923/    2E24 : C1                  		POP	BC
(1) 4924/    2E25 : 18 12               		JR	LOC_2E39
(1) 4925/    2E27 :                     
(1) 4926/    2E27 : CD DF 1D            		CALL	SET_AND_PUT
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 117 - 11/17/2013 22:45:09


(1) 4927/    2E2A : CD 75 1D            		CALL	EXIT_IF_SINTAX	; ÇéáÇêÄí Ç èêÖÑõÑìôàâ ÇõáéÇ,Öëãà èêéÇÖêäÄ ëàçíÄäëàëÄ
(1) 4928/    2E2D : CD 2E 10            		CALL	INP_EXTFILENAME	; èêàÖå	êÄëòàêÖçàü îÄâãÄ
(1) 4929/    2E30 : CD 2F 29            		CALL	FIND_FILE	; èéàëä	îÄâãÄ èé àåÖçà
(1) 4930/    2E33 : C2 D9 03            LOC_2E33	JP	NZ,ERR_NOFILES
(1) 4931/    2E36 : CD 5D 16            		CALL	RDHEAD_FILENAME	; óíÖçàÖ éèàëÄíÖãü îÄâãÄ
(1) 4932/    2E39 : 3A DD 5C            LOC_2E39	LD	A,(TRD_5CDD)	; àåü îÄâãÄ
(1) 4933/    2E3C : FE 24               		CP	"$"
(1) 4934/    2E3E : F3                  		DI
(1) 4935/    2E3F : 20 02               		JR	NZ,LOC_2E43
(1) 4936/    2E41 : ED 5E               		IM	2
(1) 4937/    2E43 : 31 F0 40            LOC_2E43	LD	SP,40F0H
(1) 4938/    2E46 : CD 11 3E            		CALL	GET_TYPE_DISK	; èéãìóÖçàÖ äéÑÄ êÖÜàåÄ	êÄÅéíõ ÑàëäéÇéÑÄ
(1) 4939/    2E49 : 32 10 40            		LD	(4010H),A
(1) 4940/    2E4C : 3A 16 5D            		LD	A,(TRD_5D16)	; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí #FF)
(1) 4941/    2E4F : 32 11 40            		LD	(4011H),A
(1) 4942/    2E52 : 2A E6 5C            		LD	HL,(TRD_5CE6)	; Ñãü <C>-ëíÄêíéÇõâ ÄÑêÖë,Ñãü <B>-ÑãàçÄ	èêéÉêÄååõ
(1) 4943/    2E55 : E5                  		PUSH	HL
(1) 4944/    2E56 : ED 5B EB 5C         		LD	DE,(TRD_5CEB)	; çéåÖê	èÖêÇéÉé	ëÖäíéêÄ	îÄâãÄ
(1) 4945/    2E5A : D5                  		PUSH	DE
(1) 4946/    2E5B : 1C                  		INC	E
(1) 4947/    2E5C : 7B                  		LD	A,E
(1) 4948/    2E5D : FE 10               		CP	10H
(1) 4949/    2E5F : 20 03               		JR	NZ,LOC_2E64
(1) 4950/    2E61 : 1E 00               		LD	E,0
(1) 4951/    2E63 : 14                  		INC	D
(1) 4952/    2E64 : 4A                  LOC_2E64	LD	C,D
(1) 4953/    2E65 : CD 07 2F            		CALL	SUB_2F07
(1) 4954/    2E68 : 3A 10 40            		LD	A,(4010H)
(1) 4955/    2E6B : E6 02               		AND	2
(1) 4956/    2E6D : C4 0F 2F            		CALL	NZ,SUB_2F0F
(1) 4957/    2E70 : 79                  		LD	A,C
(1) 4958/    2E71 : CD 50 2F            		CALL	LOC_2F50
(1) 4959/    2E74 : 21 00 41            		LD	HL,4100H
(1) 4960/    2E77 : 06 BF               		LD	B,0BFH
(1) 4961/    2E79 : C5                  LOC_2E79	PUSH	BC
(1) 4962/    2E7A : D5                  		PUSH	DE
(1) 4963/    2E7B : CD 1B 2F            		CALL	LOC_2F1B
(1) 4964/    2E7E : 11 00 01            		LD	DE,100H
(1) 4965/    2E81 : 19                  		ADD	HL,DE
(1) 4966/    2E82 : D1                  		POP	DE
(1) 4967/    2E83 : 1C                  		INC	E
(1) 4968/    2E84 : 7B                  		LD	A,E
(1) 4969/    2E85 : FE 10               		CP	10H
(1) 4970/    2E87 : 20 13               		JR	NZ,LOC_2E9C
(1) 4971/    2E89 : 1E 00               		LD	E,0
(1) 4972/    2E8B : 14                  		INC	D
(1) 4973/    2E8C : 4A                  		LD	C,D
(1) 4974/    2E8D : CD 07 2F            		CALL	SUB_2F07
(1) 4975/    2E90 : 3A 10 40            		LD	A,(4010H)
(1) 4976/    2E93 : E6 02               		AND	2
(1) 4977/    2E95 : C4 0F 2F            		CALL	NZ,SUB_2F0F
(1) 4978/    2E98 : 79                  		LD	A,C
(1) 4979/    2E99 : CD 50 2F            		CALL	LOC_2F50
(1) 4980/    2E9C : C1                  LOC_2E9C	POP	BC
(1) 4981/    2E9D : 10 DA               		DJNZ	LOC_2E79
(1) 4982/    2E9F : D1                  		POP	DE
(1) 4983/    2EA0 : E1                  		POP	HL
(1) 4984/    2EA1 : F9                  		LD	SP,HL
(1) 4985/    2EA2 : 3A 11 40            		LD	A,(4011H)
(1) 4986/    2EA5 : F5                  		PUSH	AF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 118 - 11/17/2013 22:45:09


(1) 4987/    2EA6 : 4A                  		LD	C,D
(1) 4988/    2EA7 : CD 07 2F            		CALL	SUB_2F07
(1) 4989/    2EAA : 3A 10 40            		LD	A,(4010H)
(1) 4990/    2EAD : E6 02               		AND	2
(1) 4991/    2EAF : C4 0F 2F            		CALL	NZ,SUB_2F0F
(1) 4992/    2EB2 : 79                  		LD	A,C
(1) 4993/    2EB3 : CD 50 2F            		CALL	LOC_2F50
(1) 4994/    2EB6 : 21 00 40            		LD	HL,4000H
(1) 4995/    2EB9 : CD 1B 2F            		CALL	LOC_2F1B
(1) 4996/    2EBC : F1                  LOC_2EBC	POP	AF
(1) 4997/    2EBD : 08                  		EX	AF,AF'
(1) 4998/    2EBE : F1                  		POP	AF
(1) 4999/    2EBF : ED 4F               		LD	R,A
(1) 5000/    2EC1 : F1                  		POP	AF
(1) 5001/    2EC2 : ED 47               		LD	I,A
(1) 5002/    2EC4 : F3                  		DI
(1) 5003/    2EC5 : 3E FF               		LD	A,0FFH
(1) 5004/    2EC7 : E2 CC 2E            		JP	PO,LOC_2ECC
(1) 5005/    2ECA : 3E 00               		LD	A,0
(1) 5006/    2ECC : 32 00 5C            LOC_2ECC	LD	(KSTATE0),A
(1) 5007/    2ECF : F1                  		POP	AF
(1) 5008/    2ED0 : E1                  		POP	HL
(1) 5009/    2ED1 : D1                  		POP	DE
(1) 5010/    2ED2 : C1                  		POP	BC
(1) 5011/    2ED3 : D9                  		EXX
(1) 5012/    2ED4 : 08                  		EX	AF,AF'
(1) 5013/    2ED5 : FD E1               		POP	IY
(1) 5014/    2ED7 : DD E1               		POP	IX
(1) 5015/    2ED9 : E1                  		POP	HL
(1) 5016/    2EDA : D1                  		POP	DE
(1) 5017/    2EDB : C1                  		POP	BC
(1) 5018/    2EDC : 3A 48 5C            		LD	A,(BORDCR)
(1) 5019/    2EDF : E6 38               		AND	38H
(1) 5020/    2EE1 : 0F                  		RRCA
(1) 5021/    2EE2 : 0F                  		RRCA
(1) 5022/    2EE3 : 0F                  		RRCA
(1) 5023/    2EE4 : D3 FE               		OUT	(0FEH),A
(1) 5024/    2EE6 : 3A 08 5B            		LD	A,(SWAP_8)
(1) 5025/    2EE9 : FE EE               		CP	0EEH
(1) 5026/    2EEB : 20 0A               		JR	NZ,LOC_2EF7
(1) 5027/    2EED : C5                  		PUSH	BC
(1) 5028/    2EEE : 01 FD 7F            		LD	BC,7FFDH
(1) 5029/    2EF1 : 3A 5C 5B            		LD	A,(BANKM)
(1) 5030/    2EF4 : ED 79               		OUT	(C),A
(1) 5031/    2EF6 : C1                  		POP	BC
(1) 5032/    2EF7 : 3A 00 5C            LOC_2EF7	LD	A,(KSTATE0)
(1) 5033/    2EFA : B7                  		OR	A
(1) 5034/    2EFB : 3E C9               		LD	A,0C9H
(1) 5035/    2EFD : 32 00 5C            		LD	(KSTATE0),A
(1) 5036/    2F00 : 20 01               		JR	NZ,LOC_2F03
(1) 5037/    2F02 : FB                  		EI
(1) 5038/    2F03 : F1                  LOC_2F03	POP	AF
(1) 5039/    2F04 : C3 00 5C            		JP	KSTATE0
(1) 5040/    2F07 :                     
(1) 5041/    2F07 : 3A 11 40            SUB_2F07	LD	A,(4011H)
(1) 5042/    2F0A : F6 3C               		OR 0X3C
(1) 5043/    2F0C : =>TRUE              LOC_2F0C	IF EMUWRFF=1
(1) 5044/    2F0C : F7                  		RST 0X30		;RST 0X30
(1) 5045/    2F0D : 04                  		DB WOUTFF
(1) 5046/    2F0E : =>FALSE             		ELSE
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 119 - 11/17/2013 22:45:09


(1) 5047/    2F0E :                     		OUT (VG_RW_FF),A
(1) 5048/    2F0E : [5043]              		ENDIF
(1) 5049/    2F0E : C9                  		RET
(1) 5050/    2F0F :                     
(1) 5051/    2F0F : 79                  SUB_2F0F	LD	A,C
(1) 5052/    2F10 : B7                  		OR	A
(1) 5053/    2F11 : 1F                  		RRA
(1) 5054/    2F12 : 4F                  		LD	C,A
(1) 5055/    2F13 : D0                  		RET	NC
(1) 5056/    2F14 : 3A 11 40            		LD	A,(4011H)
(1) 5057/    2F17 : E6 6F               		AND 0X6F		;LORD OF CHAOS
(1) 5058/    2F19 : 18 F1               		JR LOC_2F0C
(1) 5059/    2F1B :                     
(1) 5060/    2F1B : 7B                  LOC_2F1B	LD A,E			;EXOLON
(1) 5061/    2F1C : 3C                  		INC A
(1) 5062/    2F1D : =>TRUE              		IF EMU3D2F=1
(1) 5063/    2F1D : D3 6F               		OUT (RW_PORT2),A
(1) 5064/    2F1F : =>FALSE             		ELSE
(1) 5065/    2F1F :                     		OUT (VG_RW_5F),A
(1) 5066/    2F1F : [5062]              		ENDIF
(1) 5067/    2F1F : E5                  		PUSH HL
(1) 5068/    2F20 : 16 14               		LD D,0X14
(1) 5069/    2F22 : D5                  		PUSH DE
(1) 5070/    2F23 : F3                  LOC_2F23	DI
(1) 5071/    2F24 : 0E 7F               		LD C,0X7F
(1) 5072/    2F26 : 3E 80               		LD A,0X80
(1) 5073/    2F28 : =>TRUE              		IF EMU3D2F=1
(1) 5074/    2F28 : F7                  		RST 0X30
(1) 5075/    2F29 : 00                  		DB WOUT1F
(1) 5076/    2F2A : =>FALSE             		ELSE
(1) 5077/    2F2A :                     		OUT (VG_RW_1F),A
(1) 5078/    2F2A : [5073]              		ENDIF
(1) 5079/    2F2A : CD E5 3F            		CALL RD_DATAPORT
(1) 5080/    2F2D : D1                  		POP DE
(1) 5081/    2F2E : E1                  		POP HL
(1) 5082/    2F2F : =>TRUE              		IF EMU3D2F=1
(1) 5083/    2F2F : F7                  		RST 0X30
(1) 5084/    2F30 : 06                  		DB WIN1F
(1) 5085/    2F31 : =>FALSE             		ELSE
(1) 5086/    2F31 :                     		IN A,(VG_RW_1F)
(1) 5087/    2F31 : [5082]              		ENDIF
(1) 5088/    2F31 : E6 7F               		AND 0X7F
(1) 5089/    2F33 : C8                  		RET Z
(1) 5090/    2F34 : 15                  		DEC D
(1) 5091/    2F35 : E5                  		PUSH HL
(1) 5092/    2F36 : D5                  		PUSH DE
(1) 5093/    2F37 : 20 EA               		JR NZ,LOC_2F23
(1) 5094/    2F39 : 76                  		HALT
(1) 5095/    2F3A :                     
(1) 5096/    2F3A : 3E 3C               SUB_2F3A	LD	A,3CH
(1) 5097/    2F3C : D3 FF               		OUT	(0FFH),A
(1) 5098/    2F3E : 3A 00 5C            		LD	A,(KSTATE0)
(1) 5099/    2F41 : E6 08               		AND	8
(1) 5100/    2F43 : 20 0A               		JR	NZ,LOC_2F4F
(1) 5101/    2F45 : 79                  		LD	A,C
(1) 5102/    2F46 : B7                  		OR	A
(1) 5103/    2F47 : 1F                  		RRA
(1) 5104/    2F48 : 4F                  		LD	C,A
(1) 5105/    2F49 : 30 04               		JR	NC,LOC_2F4F
(1) 5106/    2F4B : 3E 2C               		LD	A,2CH
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 120 - 11/17/2013 22:45:09


(1) 5107/    2F4D : =>TRUE              		IF EMUWRFF=1
(1) 5108/    2F4D : F7                  		RST 0X30		;RST 0X30
(1) 5109/    2F4E : 04                  		DB WOUTFF
(1) 5110/    2F4F : =>FALSE             		ELSE
(1) 5111/    2F4F :                     		OUT (VG_RW_FF),A
(1) 5112/    2F4F : [5107]              		ENDIF
(1) 5113/    2F4F : 79                  LOC_2F4F	LD A,C
(1) 5114/    2F50 : =>TRUE              LOC_2F50	IF EMU3D2F=1
(1) 5115/    2F50 : D3 8F               		OUT (RW_PORT3),A
(1) 5116/    2F52 : =>FALSE             		ELSE
(1) 5117/    2F52 :                     		OUT (VG_RW_7F),A
(1) 5118/    2F52 : [5114]              		ENDIF
(1) 5119/    2F52 : CD FD 3D            		CALL PAUSE725779T
(1) 5120/    2F55 : 3E 18               		LD A,0X18		;0X1B
(1) 5121/    2F57 : =>TRUE              LOC_2F57	IF EMU3D2F=1
(1) 5122/    2F57 : F7                  		RST 0X30
(1) 5123/    2F58 : 00                  		DB WOUT1F
(1) 5124/    2F59 : =>FALSE             		ELSE
(1) 5125/    2F59 :                     		OUT (VG_RW_1F),A
(1) 5126/    2F59 : [5121]              		ENDIF
(1) 5127/    2F59 : =>TRUE              LOC_2F59	IF EMU3D2F=1
(1) 5128/    2F59 : F7                  		RST 0X30
(1) 5129/    2F5A : 0A                  		DB WINFF
(1) 5130/    2F5B : =>FALSE             		ELSE
(1) 5131/    2F5B :                     		IN A,(VG_RW_FF)
(1) 5132/    2F5B : [5127]              		ENDIF
(1) 5133/    2F5B : E6 80               		AND 0X80
(1) 5134/    2F5D : 28 FA               		JR Z,LOC_2F59
(1) 5135/    2F5F : C5                  		PUSH	BC
(1) 5136/    2F60 : CD FD 3D            		CALL	PAUSE725779T
(1) 5137/    2F63 : C1                  		POP	BC
(1) 5138/    2F64 : C9                  		RET
(1) 5139/    2F65 :                     
(1) 5140/    2F65 : 3E 08               LOC_2F65	LD A,8			;SOLDIER OF THE FUTURE
(1) 5141/    2F67 : 18 EE               		JR LOC_2F57
(1) 5142/    2F69 :                     
(1) 5143/    2F69 : 2A 1C 5D            WORK4ERROR	LD HL,(TRD_5D1C)	; ëéïêÄçÖçàÖ êÖÉàëíêÄ SP
(1) 5144/    2F6C : 2B                  		DEC HL
(1) 5145/    2F6D : 2B                  		DEC HL
(1) 5146/    2F6E : F9                  		LD SP,HL
(1) 5147/    2F6F : C3 2F 1D            		JP LOC_1D2F
(1) 5148/    2F72 :                     
(1) 5149/    2F72 : 22 02 5D            CALL2BASIC	LD (TRD_5D02),HL
(1) 5150/    2F75 : ED 53 04 5D         		LD (TRD_5D04),DE
(1) 5151/    2F79 : E1                  		POP HL
(1) 5152/    2F7A : 5E                  		LD E,(HL)
(1) 5153/    2F7B : 23                  		INC HL
(1) 5154/    2F7C : 56                  		LD D,(HL)
(1) 5155/    2F7D : 23                  		INC HL
(1) 5156/    2F7E : E5                  		PUSH HL
(1) 5157/    2F7F : 21 2F 3D            		LD HL,LOC_3D2F
(1) 5158/    2F82 : E5                  		PUSH HL
(1) 5159/    2F83 : D5                  		PUSH DE
(1) 5160/    2F84 : 21 C2 5C            		LD HL,TRD_5CC2
(1) 5161/    2F87 : E5                  		PUSH HL
(1) 5162/    2F88 : 2A 02 5D            		LD HL,(TRD_5D02)
(1) 5163/    2F8B : ED 5B 04 5D         		LD DE,(TRD_5D04)
(1) 5164/    2F8F : C9                  		RET
(1) 5165/    2F90 :                     
(1) 5166/    2F90 : 21 08 08            SET_VARS	LD HL,0X0808
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 121 - 11/17/2013 22:45:09


(1) 5167/    2F93 : 22 FA 5C            		LD (TRD_5CFA),HL	; ÇêÖåü	èÖêÖåÖôÖçàü ÑàëäéÇéÑÄ A
(1) 5168/    2F96 : 22 FC 5C            		LD (TRD_5CFC),HL	; ÇêÖåü	èÖêÖåÖôÖçàü ÑàëäéÇéÑÄ C
(1) 5169/    2F99 : 21 83 83            		LD HL,0X8383
(1) 5170/    2F9C : 22 C8 5C            		LD (TRD_5CC8),HL	; êÖÜàå	êÄÅéíÄ ÑàëäéÇéÑÄ A
(1) 5171/    2F9F : 22 CA 5C            		LD (TRD_5CCA),HL	; êÖÜàå	êÄÅéíÄ ÑàëäéÇéÑÄ C
(1) 5172/    2FA2 : AF                  		XOR A
(1) 5173/    2FA3 : 32 17 5D            		LD (TRD_5D17),A		; êàëéÇÄçàÖ áÄëíÄÇäà, Öëãà #AA
(1) 5174/    2FA6 : 32 18 5D            		LD (TRD_5D18),A
(1) 5175/    2FA9 : 32 0F 5D            		LD (TRD_5D0F),A		; çéåÖê	éòàÅäà TR-DOS
(1) 5176/    2FAC : 32 1F 5D            		LD (TRD_5D1F),A
(1) 5177/    2FAF : CD A9 32            		CALL SET_DRIVENAME_
(1) 5178/    2FB2 : =>TRUE              		IF EMUWRFF=1
(1) 5179/    2FB2 : F7                  		RST 0X30
(1) 5180/    2FB3 : 04                  		DB WOUTFF
(1) 5181/    2FB4 : =>FALSE             		ELSE
(1) 5182/    2FB4 :                     		OUT (VG_RW_FF),A
(1) 5183/    2FB4 : [5178]              		ENDIF
(1) 5184/    2FB4 : 3E FF               		LD A,0XFF
(1) 5185/    2FB6 : 32 3A 5C            		LD (ERR_NR),A
(1) 5186/    2FB9 : 32 0C 5D            		LD (TRD_5D0C),A
(1) 5187/    2FBC : 3E C9               		LD A,0XC9
(1) 5188/    2FBE : 32 C2 5C            		LD (TRD_5CC2),A
(1) 5189/    2FC1 : 3E D0               		LD A,0XD0
(1) 5190/    2FC3 : =>TRUE              		IF EMU3D2F=1
(1) 5191/    2FC3 : F7                  		RST 0X30
(1) 5192/    2FC4 : 00                  		DB WOUT1F
(1) 5193/    2FC5 : =>FALSE             		ELSE
(1) 5194/    2FC5 :                     LOC_2FC3	OUT (VG_RW_1F),A	;FIX
(1) 5195/    2FC5 : [5190]              		ENDIF
(1) 5196/    2FC5 : C9                  		RET
(1) 5197/    2FC6 :                     
(1) 5198/    2FC6 : CD 0C 05            CP_END_CAT	CALL CP_END_BUF
(1) 5199/    2FC9 : 7E                  		LD A,(HL)
(1) 5200/    2FCA : B7                  		OR A
(1) 5201/    2FCB : CA AC 03            		JP Z,END_OUT_DIR
(1) 5202/    2FCE : FE 01               		CP 1
(1) 5203/    2FD0 : CC 07 05            		CALL Z,ADD_10
(1) 5204/    2FD3 : C0                  		RET NZ
(1) 5205/    2FD4 : 18 F0               		JR CP_END_CAT
(1) 5206/    2FD6 :                     
(1) 5207/    2FD6 : 06 01               LOAD_SEC2BUF	LD B,1
(1) 5208/    2FD8 : 21 25 5D            		LD HL,TRD_5D25
(1) 5209/    2FDB : C3 67 1E            		JP LOC_1E67
(1) 5210/    2FDE :                     
(1) 5211/    2FDE : E5                  LOAD_END_FILE	PUSH HL
(1) 5212/    2FDF : ED 5B F4 5C         		LD DE,(TRD_5CF4)
(1) 5213/    2FE3 : CD D6 2F            		CALL LOAD_SEC2BUF
(1) 5214/    2FE6 : 3A DB 5C            		LD A,(TRD_5CDB)
(1) 5215/    2FE9 : D1                  		POP DE
(1) 5216/    2FEA : B7                  		OR A
(1) 5217/    2FEB : C8                  		RET Z
(1) 5218/    2FEC : 4F                  		LD C,A
(1) 5219/    2FED : 21 25 5D            		LD HL,TRD_5D25
(1) 5220/    2FF0 : C3 C9 32            		JP EMU_LDIR
(1) 5221/    2FF3 :                     
(1) 5222/    2FF3 :                     ; íÄÅãàñÄ ÅÖâëàä äéåÄçÑ Ñãü TR-DOS
(1) 5223/    2FF3 : CF                  CODE_BYTE_COM	DB 0XCF		;CAT
(1) 5224/    2FF4 : 2A                  		DB "*"
(1) 5225/    2FF5 : D0                  		DB 0XD0		;FORMAT
(1) 5226/    2FF6 : D1                  		DB 0XD1		;MOVE
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 122 - 11/17/2013 22:45:09


(1) 5227/    2FF7 : E6                  		DB 0XE6		;NEW
(1) 5228/    2FF8 : D2                  		DB 0XD2		;ERASE
(1) 5229/    2FF9 : EF                  		DB 0XEF		;LOAD
(1) 5230/    2FFA : F8                  		DB 0XF8		;SAVE
(1) 5231/    2FFB : FE                  		DB 0XFE		;RETURN
(1) 5232/    2FFC : BE                  		DB 0XBE		;PEEK
(1) 5233/    2FFD : F4                  		DB 0XF4		;POKE
(1) 5234/    2FFE : D5                  		DB 0XD5		;MERGE
(1) 5235/    2FFF : F7                  		DB 0XF7		;RUN
(1) 5236/    3000 : D3                  		DB 0XD3		;OPEN
(1) 5237/    3001 : D4                  		DB 0XD4		;CLOSE
(1) 5238/    3002 : FF                  		DB 0XFF		;COPY
(1) 5239/    3003 : 34                  		DB "4"		;40
(1) 5240/    3004 : 2E                  		DB ".";0XEC		;GOTO
(1) 5241/    3005 : 38                  		DB "8"		;80
(1) 5242/    3006 : F0                  		DB 0XF0		;LIST
(1) 5243/    3007 : D6                  		DB 0XD6		;VERIFY
(1) 5244/    3008 :                     ECODE_BYTE_COM
(1) 5245/    3008 :                     
(1) 5246/    3008 :                     ; íÄÅãàñÄ ÄÑêÖëéÇ àëèéãçÖçàü äéåÄçÑ
(1) 5247/    3008 : 33 04               SPIS_ADR_COM	DW CAT
(1) 5248/    300A : 18 10               		DW COM_STAR
(1) 5249/    300C : C2 1E               		DW FORMAT
(1) 5250/    300E : AB 16               		DW MOVE
(1) 5251/    3010 : 3A 05               		DW NEW			; ÇõèéãçÖçàÖ äéåÄçÑõ NEW
(1) 5252/    3012 : 87 07               		DW ERASE		; ÇõèéãçÖçàÖ äéåÄçÑõ ERASE
(1) 5253/    3014 : 15 18               		DW LOAD
(1) 5254/    3016 : D0 1A               		DW SAVE
(1) 5255/    3018 : FB 1C               		DW RETURN
(1) 5256/    301A : A5 19               		DW PEEK
(1) 5257/    301C : A9 19               		DW POKE
(1) 5258/    301E : B1 19               		DW MERGE
(1) 5259/    3020 : 4D 1D               		DW RUN
(1) 5260/    3022 : 82 21               		DW OPEN
(1) 5261/    3024 : 56 26               		DW CLOSE
(1) 5262/    3026 : 90 06               		DW COPY
(1) 5263/    3028 : 97 29               		DW COM_40
(1) 5264/    302A : 6C 34               		DW COM_DOT;GOTO
(1) 5265/    302C : AE 29               		DW COM_80
(1) 5266/    302E : CE 11               		DW LIST
(1) 5267/    3030 : 10 18               		DW VERIFY
(1) 5268/    3032 :                     
(1) 5269/    3032 : 2A 59 5C            SAE2E_LINE	LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 5270/    3035 : 22 11 5D            		LD (TRD_5D11),HL	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 5271/    3038 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 5272/    303B : 3E FF               		LD A,0XFF
(1) 5273/    303D : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 5274/    3040 : 21 DB 5C            		LD HL,TRD_5CDB
(1) 5275/    3043 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 5276/    3046 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 5277/    3046 : 18 0F               		JR LOC_3057
(1) 5278/    3048 :                     
(1) 5279/    3048 : 22 11 5D            SAE2_HL_	LD (TRD_5D11),HL	; ÄÑêÖë	ëíêéäà äéåÄçÑõ TR_DOS
(1) 5280/    304B : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 5281/    304E : CD E1 30            		CALL CP_ADR_STR
(1) 5282/    3051 : C0                  		RET NZ
(1) 5283/    3052 : 23                  		INC HL
(1) 5284/    3053 : 23                  		INC HL
(1) 5285/    3054 : 22 D7 5C            		LD (TRD_5CD7),HL	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 5286/    3057 :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 123 - 11/17/2013 22:45:09


(1) 5287/    3057 : CD 85 32            LOC_3057	CALL CMP_SPECSYM	;CALL FIND_KEYWORD
(1) 5288/    305A : 20 2B               		JR NZ,LOC_3087
(1) 5289/    305C : EB                  		EX DE,HL
(1) 5290/    305D : 13                  		INC DE
(1) 5291/    305E : 06 00               		LD B,0
(1) 5292/    3060 : 21 C8 31            		LD HL,BYTES_COM
(1) 5293/    3063 : 09                  		ADD HL,BC
(1) 5294/    3064 : 7E                  		LD A,(HL)
(1) 5295/    3065 : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 5296/    3068 : 77                  		LD (HL),A
(1) 5297/    3069 : 23                  		INC HL
(1) 5298/    306A : EB                  		EX DE,HL
(1) 5299/    306B : E7                  		RST 0X20
(1) 5300/    306C : DD 19               		DW 0X19DD
(1) 5301/    306E : C5                  		PUSH BC
(1) 5302/    306F : CD 90 32            		CALL FOR_LOC_306F
(1) 5303/    3072 : C1                  		POP BC
(1) 5304/    3073 : 3A D6 5C            		LD A,(TRD_5CD6)		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 5305/    3076 : B7                  		OR A
(1) 5306/    3077 : 20 0E               		JR NZ,LOC_3087
(1) 5307/    3079 : 2A D7 5C            		LD HL,(TRD_5CD7)	; èêéåÖÜìíéóçõâ	ëíÄêí îÄâãÄ àãà	äéã-Çé íêÖäéÇ
(1) 5308/    307C :                     					; èéëãÖ	èêéÇÖêäà íàèÄ ÑàëäéÇéÑÄ
(1) 5309/    307C : 5E                  		LD E,(HL)
(1) 5310/    307D : 23                  		INC HL
(1) 5311/    307E : 56                  		LD D,(HL)
(1) 5312/    307F : EB                  		EX DE,HL
(1) 5313/    3080 : B7                  		OR A
(1) 5314/    3081 : ED 42               		SBC HL,BC
(1) 5315/    3083 : EB                  		EX DE,HL
(1) 5316/    3084 : 72                  		LD (HL),D
(1) 5317/    3085 : 2B                  		DEC HL
(1) 5318/    3086 : 73                  		LD (HL),E
(1) 5319/    3087 : 2A D9 5C            LOC_3087	LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 5320/    308A : 7E                  		LD A,(HL)
(1) 5321/    308B : FE 0D               		CP 0X0D
(1) 5322/    308D : C8                  		RET Z
(1) 5323/    308E : 23                  		INC HL
(1) 5324/    308F : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 5325/    3092 : 7E                  		LD A,(HL)
(1) 5326/    3093 : FE 0D               		CP 0X0D
(1) 5327/    3095 : C8                  		RET Z
(1) 5328/    3096 : FE 22               		CP 0X22
(1) 5329/    3098 : 20 BD               		JR NZ, LOC_3057
(1) 5330/    309A : 23                  LOC_309A	INC HL
(1) 5331/    309B : 7E                  		LD A,(HL)
(1) 5332/    309C : FE 0D               		CP 0X0D
(1) 5333/    309E : C8                  		RET Z
(1) 5334/    309F : FE 22               		CP 0X22
(1) 5335/    30A1 : 20 F7               		JR NZ,LOC_309A
(1) 5336/    30A3 : 23                  		INC HL
(1) 5337/    30A4 : 22 D9 5C            		LD (TRD_5CD9),HL	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 5338/    30A7 : 18 AE               		JR LOC_3057
(1) 5339/    30A9 :                     
(1) 5340/    30A9 : 2A D9 5C            FIND_KEYWORD	LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 5341/    30AC : 11 FD 30            		LD DE,TBL_KEYWORD	; "SAVE"
(1) 5342/    30AF : 0E 00               		LD C,0
(1) 5343/    30B1 : 7E                  LOC_30B1	LD A,(HL)
(1) 5344/    30B2 : E6 DF               		AND 0XDF
(1) 5345/    30B4 : 47                  		LD B,A
(1) 5346/    30B5 : B7                  		OR A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 124 - 11/17/2013 22:45:09


(1) 5347/    30B6 : 20 03               		JR NZ,LOC_30BB
(1) 5348/    30B8 : 23                  		INC HL
(1) 5349/    30B9 : 18 F6               		JR LOC_30B1
(1) 5350/    30BB :                     
(1) 5351/    30BB : 1A                  LOC_30BB	LD A,(DE)
(1) 5352/    30BC : E6 80               		AND 0X80
(1) 5353/    30BE : 20 08               		JR NZ,LOC_30C8
(1) 5354/    30C0 : 1A                  		LD A,(DE)
(1) 5355/    30C1 : B8                  		CP B
(1) 5356/    30C2 : 20 15               		JR NZ,LOC_30D9
(1) 5357/    30C4 : 23                  		INC HL
(1) 5358/    30C5 : 13                  		INC DE
(1) 5359/    30C6 : 18 E9               		JR LOC_30B1
(1) 5360/    30C8 :                     
(1) 5361/    30C8 : 1A                  LOC_30C8	LD A,(DE)
(1) 5362/    30C9 : E6 7F               		AND 0X7F
(1) 5363/    30CB : B8                  		CP B
(1) 5364/    30CC : C8                  		RET Z
(1) 5365/    30CD : 0C                  LOC_30CD	INC C
(1) 5366/    30CE : 2A D9 5C            		LD HL,(TRD_5CD9)	; èêéåÖÜìíéóçÄü	ÑãàçÄ Ñãü <B> à	<C>
(1) 5367/    30D1 : 13                  		INC DE
(1) 5368/    30D2 : 1A                  		LD A,(DE)
(1) 5369/    30D3 : FE FF               		CP 0XFF
(1) 5370/    30D5 : 20 DA               		JR NZ,LOC_30B1
(1) 5371/    30D7 : B7                  		OR A
(1) 5372/    30D8 : C9                  		RET
(1) 5373/    30D9 :                     
(1) 5374/    30D9 : 13                  LOC_30D9	INC DE
(1) 5375/    30DA : 1A                  		LD A,(DE)
(1) 5376/    30DB : E6 80               		AND 0X80
(1) 5377/    30DD : 28 FA               		JR Z,LOC_30D9
(1) 5378/    30DF : 18 EC               		JR LOC_30CD
(1) 5379/    30E1 :                     
(1) 5380/    30E1 : 2A 45 5C            CP_ADR_STR	LD HL,(PPC)
(1) 5381/    30E4 : 23                  		INC HL
(1) 5382/    30E5 : 23                  		INC HL
(1) 5383/    30E6 : 7C                  		LD A,H
(1) 5384/    30E7 : B5                  		OR L
(1) 5385/    30E8 : 28 0A               		JR Z,LOC_30F4
(1) 5386/    30EA : AF                  		XOR A
(1) 5387/    30EB : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 5388/    30EE : 2B                  		DEC HL
(1) 5389/    30EF : 2B                  		DEC HL
(1) 5390/    30F0 : E7                  		RST 0X20
(1) 5391/    30F1 : 6E 19               		DW 0X196E
(1) 5392/    30F3 : C9                  		RET
(1) 5393/    30F4 :                     
(1) 5394/    30F4 : 3E FF               LOC_30F4	LD A,0XFF
(1) 5395/    30F6 : 32 D6 5C            		LD (TRD_5CD6),A		; #FF-äéåÄçÑÄ èêàçüíÄ ëàçíÄäëàóÖëäàå ÄçÄãàáÄíéêéå
(1) 5396/    30F9 : 2A 59 5C            		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(1) 5397/    30FC : C9                  		RET
(1) 5398/    30FD :                     
(1) 5399/    30FD :                     ;íÄÅãàñÄ äãûóÖÇõï ëãéÇ
(1) 5400/    30FD : 53 41 56 45 80      TBL_KEYWORD	DB "SAVE",0X80
(1) 5401/    3102 : (MACRO)             		DC "SAVE"
(1) 5401/    3102 : =>TRUE                              IF STRLEN("SAVE")>1
(1) 5401/    3102 : 53 41 56                            DB SUBSTR("SAVE",0,STRLEN("SAVE")-1)
(1) 5401/    3105 : [5401]                              ENDIF
(1) 5401/    3105 : =>TRUE                              IF STRLEN("SAVE")>0
(1) 5401/    3105 : C5                                  DB CHARFROMSTR("SAVE",STRLEN("SAVE")-1)|80H
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 125 - 11/17/2013 22:45:09


(1) 5401/    3106 : [5401]                              ENDIF
(1) 5402/    3106 : 4C 4F 41 44 80      		DB "LOAD",0X80
(1) 5403/    310B : (MACRO)             		DC "LOAD"
(1) 5403/    310B : =>TRUE                              IF STRLEN("LOAD")>1
(1) 5403/    310B : 4C 4F 41                            DB SUBSTR("LOAD",0,STRLEN("LOAD")-1)
(1) 5403/    310E : [5403]                              ENDIF
(1) 5403/    310E : =>TRUE                              IF STRLEN("LOAD")>0
(1) 5403/    310E : C4                                  DB CHARFROMSTR("LOAD",STRLEN("LOAD")-1)|80H
(1) 5403/    310F : [5403]                              ENDIF
(1) 5404/    310F : 52 55 4E 80         		DB "RUN",0X80
(1) 5405/    3113 : (MACRO)             		DC "RUN"
(1) 5405/    3113 : =>TRUE                              IF STRLEN("RUN")>1
(1) 5405/    3113 : 52 55                               DB SUBSTR("RUN",0,STRLEN("RUN")-1)
(1) 5405/    3115 : [5405]                              ENDIF
(1) 5405/    3115 : =>TRUE                              IF STRLEN("RUN")>0
(1) 5405/    3115 : CE                                  DB CHARFROMSTR("RUN",STRLEN("RUN")-1)|80H
(1) 5405/    3116 : [5405]                              ENDIF
(1) 5406/    3116 : 43 41 54 80         		DB "CAT",0X80
(1) 5407/    311A : (MACRO)             		DC "CAT"
(1) 5407/    311A : =>TRUE                              IF STRLEN("CAT")>1
(1) 5407/    311A : 43 41                               DB SUBSTR("CAT",0,STRLEN("CAT")-1)
(1) 5407/    311C : [5407]                              ENDIF
(1) 5407/    311C : =>TRUE                              IF STRLEN("CAT")>0
(1) 5407/    311C : D4                                  DB CHARFROMSTR("CAT",STRLEN("CAT")-1)|80H
(1) 5407/    311D : [5407]                              ENDIF
(1) 5408/    311D : 45 52 41 53 45 80   		DB "ERASE",0X80
(1) 5409/    3123 : (MACRO)             		DC "ERASE"
(1) 5409/    3123 : =>TRUE                              IF STRLEN("ERASE")>1
(1) 5409/    3123 : 45 52 41 53                         DB SUBSTR("ERASE",0,STRLEN("ERASE")-1)
(1) 5409/    3127 : [5409]                              ENDIF
(1) 5409/    3127 : =>TRUE                              IF STRLEN("ERASE")>0
(1) 5409/    3127 : C5                                  DB CHARFROMSTR("ERASE",STRLEN("ERASE")-1)|80H
(1) 5409/    3128 : [5409]                              ENDIF
(1) 5410/    3128 : 4E 45 57 80         		DB "NEW",0X80
(1) 5411/    312C : (MACRO)             		DC "NEW"
(1) 5411/    312C : =>TRUE                              IF STRLEN("NEW")>1
(1) 5411/    312C : 4E 45                               DB SUBSTR("NEW",0,STRLEN("NEW")-1)
(1) 5411/    312E : [5411]                              ENDIF
(1) 5411/    312E : =>TRUE                              IF STRLEN("NEW")>0
(1) 5411/    312E : D7                                  DB CHARFROMSTR("NEW",STRLEN("NEW")-1)|80H
(1) 5411/    312F : [5411]                              ENDIF
(1) 5412/    312F : 4D 4F 56 45 80      		DB "MOVE",0X80
(1) 5413/    3134 : (MACRO)             		DC "MOVE"
(1) 5413/    3134 : =>TRUE                              IF STRLEN("MOVE")>1
(1) 5413/    3134 : 4D 4F 56                            DB SUBSTR("MOVE",0,STRLEN("MOVE")-1)
(1) 5413/    3137 : [5413]                              ENDIF
(1) 5413/    3137 : =>TRUE                              IF STRLEN("MOVE")>0
(1) 5413/    3137 : C5                                  DB CHARFROMSTR("MOVE",STRLEN("MOVE")-1)|80H
(1) 5413/    3138 : [5413]                              ENDIF
(1) 5414/    3138 : 4D 45 52 47 45 80   		DB "MERGE",0X80
(1) 5415/    313E : (MACRO)             		DC "MERGE"
(1) 5415/    313E : =>TRUE                              IF STRLEN("MERGE")>1
(1) 5415/    313E : 4D 45 52 47                         DB SUBSTR("MERGE",0,STRLEN("MERGE")-1)
(1) 5415/    3142 : [5415]                              ENDIF
(1) 5415/    3142 : =>TRUE                              IF STRLEN("MERGE")>0
(1) 5415/    3142 : C5                                  DB CHARFROMSTR("MERGE",STRLEN("MERGE")-1)|80H
(1) 5415/    3143 : [5415]                              ENDIF
(1) 5416/    3143 : 50 45 45 4B 80      		DB "PEEK",0X80
(1) 5417/    3148 : (MACRO)             		DC "PEEK"
(1) 5417/    3148 : =>TRUE                              IF STRLEN("PEEK")>1
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 126 - 11/17/2013 22:45:09


(1) 5417/    3148 : 50 45 45                            DB SUBSTR("PEEK",0,STRLEN("PEEK")-1)
(1) 5417/    314B : [5417]                              ENDIF
(1) 5417/    314B : =>TRUE                              IF STRLEN("PEEK")>0
(1) 5417/    314B : CB                                  DB CHARFROMSTR("PEEK",STRLEN("PEEK")-1)|80H
(1) 5417/    314C : [5417]                              ENDIF
(1) 5418/    314C : 50 4F 4B 45 80      		DB "POKE",0X80
(1) 5419/    3151 : (MACRO)             		DC "POKE"
(1) 5419/    3151 : =>TRUE                              IF STRLEN("POKE")>1
(1) 5419/    3151 : 50 4F 4B                            DB SUBSTR("POKE",0,STRLEN("POKE")-1)
(1) 5419/    3154 : [5419]                              ENDIF
(1) 5419/    3154 : =>TRUE                              IF STRLEN("POKE")>0
(1) 5419/    3154 : C5                                  DB CHARFROMSTR("POKE",STRLEN("POKE")-1)|80H
(1) 5419/    3155 : [5419]                              ENDIF
(1) 5420/    3155 : 4F 50 45 4E 83      		DB "OPEN",0X83
(1) 5421/    315A : 43 4C 4F 53 45 83   		DB "CLOSE",0X83
(1) 5422/    3160 : 43 4F 44 45 80      		DB "CODE",0X80
(1) 5423/    3165 : (MACRO)             		DC "CODE"
(1) 5423/    3165 : =>TRUE                              IF STRLEN("CODE")>1
(1) 5423/    3165 : 43 4F 44                            DB SUBSTR("CODE",0,STRLEN("CODE")-1)
(1) 5423/    3168 : [5423]                              ENDIF
(1) 5423/    3168 : =>TRUE                              IF STRLEN("CODE")>0
(1) 5423/    3168 : C5                                  DB CHARFROMSTR("CODE",STRLEN("CODE")-1)|80H
(1) 5423/    3169 : [5423]                              ENDIF
(1) 5424/    3169 : 52 4E 44 80         		DB "RND",0X80
(1) 5425/    316D : (MACRO)             		DC "RND"
(1) 5425/    316D : =>TRUE                              IF STRLEN("RND")>1
(1) 5425/    316D : 52 4E                               DB SUBSTR("RND",0,STRLEN("RND")-1)
(1) 5425/    316F : [5425]                              ENDIF
(1) 5425/    316F : =>TRUE                              IF STRLEN("RND")>0
(1) 5425/    316F : C4                                  DB CHARFROMSTR("RND",STRLEN("RND")-1)|80H
(1) 5425/    3170 : [5425]                              ENDIF
(1) 5426/    3170 : 44 41 54 41 80      		DB "DATA",0X80
(1) 5427/    3175 : (MACRO)             		DC "DATA"
(1) 5427/    3175 : =>TRUE                              IF STRLEN("DATA")>1
(1) 5427/    3175 : 44 41 54                            DB SUBSTR("DATA",0,STRLEN("DATA")-1)
(1) 5427/    3178 : [5427]                              ENDIF
(1) 5427/    3178 : =>TRUE                              IF STRLEN("DATA")>0
(1) 5427/    3178 : C1                                  DB CHARFROMSTR("DATA",STRLEN("DATA")-1)|80H
(1) 5427/    3179 : [5427]                              ENDIF
(1) 5428/    3179 : 53 43 52 45 45 4E   		DB "SCREEN",4,0X84
                    04 84 
(1) 5429/    3181 : 53 43 52 45 45 4E   		DB "SCREEN",0X84
                    84 
(1) 5430/    3188 : 43 4F 50 59 80      		DB "COPY",0X80
(1) 5431/    318D : (MACRO)             		DC "COPY"
(1) 5431/    318D : =>TRUE                              IF STRLEN("COPY")>1
(1) 5431/    318D : 43 4F 50                            DB SUBSTR("COPY",0,STRLEN("COPY")-1)
(1) 5431/    3190 : [5431]                              ENDIF
(1) 5431/    3190 : =>TRUE                              IF STRLEN("COPY")>0
(1) 5431/    3190 : D9                                  DB CHARFROMSTR("COPY",STRLEN("COPY")-1)|80H
(1) 5431/    3191 : [5431]                              ENDIF
(1) 5432/    3191 : 46 4F 52 4D 41 54   		DB "FORMAT",0X80
                    80 
(1) 5433/    3198 : (MACRO)             		DC "FORMAT"
(1) 5433/    3198 : =>TRUE                              IF STRLEN("FORMAT")>1
(1) 5433/    3198 : 46 4F 52 4D 41                      DB SUBSTR("FORMAT",0,STRLEN("FORMAT")-1)
(1) 5433/    319D : [5433]                              ENDIF
(1) 5433/    319D : =>TRUE                              IF STRLEN("FORMAT")>0
(1) 5433/    319D : D4                                  DB CHARFROMSTR("FORMAT",STRLEN("FORMAT")-1)|80H
(1) 5433/    319E : [5433]                              ENDIF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 127 - 11/17/2013 22:45:09


(1) 5434/    319E : 47 4F 54 4F 80      		DB "GOTO",0X80
(1) 5435/    31A3 : (MACRO)             		DC "GOTO"
(1) 5435/    31A3 : =>TRUE                              IF STRLEN("GOTO")>1
(1) 5435/    31A3 : 47 4F 54                            DB SUBSTR("GOTO",0,STRLEN("GOTO")-1)
(1) 5435/    31A6 : [5435]                              ENDIF
(1) 5435/    31A6 : =>TRUE                              IF STRLEN("GOTO")>0
(1) 5435/    31A6 : CF                                  DB CHARFROMSTR("GOTO",STRLEN("GOTO")-1)|80H
(1) 5435/    31A7 : [5435]                              ENDIF
(1) 5436/    31A7 : 4C 49 53 54 80      		DB "LIST",0X80
(1) 5437/    31AC : (MACRO)             		DC "LIST"
(1) 5437/    31AC : =>TRUE                              IF STRLEN("LIST")>1
(1) 5437/    31AC : 4C 49 53                            DB SUBSTR("LIST",0,STRLEN("LIST")-1)
(1) 5437/    31AF : [5437]                              ENDIF
(1) 5437/    31AF : =>TRUE                              IF STRLEN("LIST")>0
(1) 5437/    31AF : D4                                  DB CHARFROMSTR("LIST",STRLEN("LIST")-1)|80H
(1) 5437/    31B0 : [5437]                              ENDIF
(1) 5438/    31B0 : 4C 49 4E 45 80      		DB "LINE",0X80
(1) 5439/    31B5 : (MACRO)             		DC "LINE"
(1) 5439/    31B5 : =>TRUE                              IF STRLEN("LINE")>1
(1) 5439/    31B5 : 4C 49 4E                            DB SUBSTR("LINE",0,STRLEN("LINE")-1)
(1) 5439/    31B8 : [5439]                              ENDIF
(1) 5439/    31B8 : =>TRUE                              IF STRLEN("LINE")>0
(1) 5439/    31B8 : C5                                  DB CHARFROMSTR("LINE",STRLEN("LINE")-1)|80H
(1) 5439/    31B9 : [5439]                              ENDIF
(1) 5440/    31B9 : 56 45 52 49 46 59   		DB "VERIFY",0X80
                    80 
(1) 5441/    31C0 : (MACRO)             		DC "VERIFY"
(1) 5441/    31C0 : =>TRUE                              IF STRLEN("VERIFY")>1
(1) 5441/    31C0 : 56 45 52 49 46                      DB SUBSTR("VERIFY",0,STRLEN("VERIFY")-1)
(1) 5441/    31C5 : [5441]                              ENDIF
(1) 5441/    31C5 : =>TRUE                              IF STRLEN("VERIFY")>0
(1) 5441/    31C5 : D9                                  DB CHARFROMSTR("VERIFY",STRLEN("VERIFY")-1)|80H
(1) 5441/    31C6 : [5441]                              ENDIF
(1) 5442/    31C6 : FF FF               		DB 0XFF,0XFF
(1) 5443/    31C8 :                     
(1) 5444/    31C8 :                     ;ÅÄâíéÇõÖ äéÑõ äãûóÖÇõï ëãéÇ
(1) 5445/    31C8 : F8 F8               BYTES_COM	DW 0XF8F8	;SAVE
(1) 5446/    31CA : EF EF               		DW 0XEFEF	;LOAD
(1) 5447/    31CC : F7 F7               		DW 0XF7F7	;RUN
(1) 5448/    31CE : CF CF               		DW 0XCFCF	;CAT
(1) 5449/    31D0 : D2 D2               		DW 0XD2D2	;ERASE
(1) 5450/    31D2 : E6 E6               		DW 0XE6E6	;NEW
(1) 5451/    31D4 : D1 D1               		DW 0XD1D1	;MOVE
(1) 5452/    31D6 : D5 D5               		DW 0XD5D5	;MERGE
(1) 5453/    31D8 : BE BE               		DW 0XBEBE	;PEEK
(1) 5454/    31DA : F4 F4               		DW 0XF4F4	;POKE
(1) 5455/    31DC : D3 D4               		DW 0XD4D3	;OPEN CLOSE
(1) 5456/    31DE : AF AF               		DW 0XAFAF	;CODE
(1) 5457/    31E0 : A5 A5               		DW 0XA5A5	;RND
(1) 5458/    31E2 : E4 E4               		DW 0XE4E4	;DATA
(1) 5459/    31E4 : AA AA               		DW 0XAAAA	;SCREEN
(1) 5460/    31E6 : FF FF               		DW 0XFFFF	;COPY
(1) 5461/    31E8 : D0 D0               		DW 0XD0D0	;FORMAT
(1) 5462/    31EA : EC EC               		DW 0XECEC	;GOTO
(1) 5463/    31EC : F0 F0               		DW 0XF0F0	;LIST
(1) 5464/    31EE : CA CA               		DW 0XCACA	;LINE
(1) 5465/    31F0 : D6 D6               		DW 0XD6D6	;VERIFY
(1) 5466/    31F2 : 00                  		DB 0
(1) 5467/    31F3 :                     
(1) 5468/    31F3 : CD A2 32            CP_VARSTRDOS	CALL CP_VARSTRDOS_
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 128 - 11/17/2013 22:45:09


(1) 5469/    31F6 : B7                  		OR A
(1) 5470/    31F7 : 01 25 5D            		LD BC,TRD_5D25
(1) 5471/    31FA : ED 42               		SBC HL,BC
(1) 5472/    31FC : C9                  		RET
(1) 5473/    31FD :                     
(1) 5474/    31FD :                     ;===============FREE SPACE 2============
(1) 5475/    31FD :                     		include patch.a80
(2)    1/    31FD :                     
(2)    2/    31FD :                     ;LAST UPDATE: 03.10.2013 savelij
(2)    3/    31FD :                     
(2)    4/    31FD : 3E 07               DISCERROR_7	LD A,7
(2)    5/    31FF : C3 4A 1C            		JP PRINT_TXTERR
(2)    6/    3202 :                     
(2)    7/    3202 : 22 C6 5C            ADR_START_COM	LD (TRD_5CC6),HL
(2)    8/    3205 : ED 5B EB 5C         		LD DE,(TRD_5CEB)		;íêÖä à ëÖäíéê åÖëíéèéãéÜÖçàü îÄâãÄ
(2)    9/    3209 : C9                  		RET
(2)   10/    320A :                     
(2)   11/    320A : CD E5 20            DELETE_BUF_	CALL DELETE_BUF
(2)   12/    320D : C3 1E 21            		JP CLRBUF_EDITOR
(2)   13/    3210 :                     
(2)   14/    3210 : 3A E5 5C            RUN_FILE	LD A,(TRD_5CE5)		; êÄëòàêÖçàÖ îÄâãÄ
(2)   15/    3213 : FE 42               		CP "B"
(2)   16/    3215 : CA 2A 01            		JP Z,WORK4AUTORUN	; éÅêÄÅéíäÄ ëíêéäà ÄÇíéáÄèìëäÄ ÅÖâëàäÄ
(2)   17/    3218 : FE 43               		CP "C"
(2)   18/    321A : C2 1A 1D            		JP NZ,SINTAX_ERROR
(2)   19/    321D : 21 26 32            		LD HL,RUN_CODE
(2)   20/    3220 : 22 1A 5D            		LD (TRD_5D1A),HL
(2)   21/    3223 : C3 D3 01            		JP END_COMAND
(2)   22/    3226 :                     
(2)   23/    3226 : CD 32 02            RUN_CODE	CALL RESTORE_SP
(2)   24/    3229 : ED 4B C6 5C         		LD BC,(TRD_5CC6)		;ÄÑêÖë áÄÉêìáäà àá äéåÄçÑçéâ ëíêéäàLD BC,(TRD_5CD9)
(2)   25/    322D : C5                  		PUSH BC
(2)   26/    322E : C9                  		RET
(2)   27/    322F :                     
(2)   28/    322F : CD 39 32            FORMAT_TREK_	CALL PRINT_NUM_TRK
(2)   29/    3232 : CD FD 1F            		CALL FORMAT_TREK
(2)   30/    3235 : 3A DA 5C            		LD A,(TRD_5CDA)
(2)   31/    3238 : C9                  		RET
(2)   32/    3239 :                     
(2)   33/    3239 :                     ;èÖóÄíú íÖäìôÖÉé îéêåÄíàêìÖåéÉé íêÖäÄ à ëíéêéçõ
(2)   34/    3239 : D5                  PRINT_NUM_TRK	PUSH DE
(2)   35/    323A : F5                  		PUSH AF
(2)   36/    323B : D5                  		PUSH DE
(2)   37/    323C : 3E 16               		LD A,0X16
(2)   38/    323E : D7                  		RST 0X10
(2)   39/    323F : 3A 6B 5C            		LD A,(0X5C6B)
(2)   40/    3242 : 3D                  		DEC A
(2)   41/    3243 : D7                  		RST 0X10
(2)   42/    3244 : 3E 00               		LD A,0
(2)   43/    3246 : D7                  		RST 0X10
(2)   44/    3247 : 21 5E 32            		LD HL,TXT_FORMAT_TRK
(2)   45/    324A : DF                  		RST 0X18
(2)   46/    324B : D1                  		POP DE
(2)   47/    324C : 4B                  		LD C,E
(2)   48/    324D : 06 00               		LD B,0
(2)   49/    324F : CD A9 1D            		CALL PRINT_CHISLO
(2)   50/    3252 : 21 6C 32            		LD HL,TXT_FSIDE
(2)   51/    3255 : DF                  		RST 0X18
(2)   52/    3256 : F1                  		POP AF
(2)   53/    3257 : 3E 30               		LD A,"0"
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(patch.a80) - page 129 - 11/17/2013 22:45:09


(2)   54/    3259 : CE 00               		ADC A,0
(2)   55/    325B : D7                  		RST 0X10
(2)   56/    325C : D1                  		POP DE
(2)   57/    325D : C9                  		RET
(2)   58/    325E :                     		
(2)   59/    325E : (MACRO)             TXT_FORMAT_TRK	DC "FORMAT TRACK: "
(2)   59/    325E : =>TRUE                              IF STRLEN("FORMAT TRACK: ")>1
(2)   59/    325E : 46 4F 52 4D 41 54                   DB SUBSTR("FORMAT TRACK: ",0,STRLEN("FORMAT TRACK: ")-1)
                    20 54 52 41 43 4B 
                    3A 
(2)   59/    326B : [59]                                ENDIF
(2)   59/    326B : =>TRUE                              IF STRLEN("FORMAT TRACK: ")>0
(2)   59/    326B : A0                                  DB CHARFROMSTR("FORMAT TRACK: ",STRLEN("FORMAT TRACK: ")-1)|80H
(2)   59/    326C : [59]                                ENDIF
(2)   60/    326C : (MACRO)             TXT_FSIDE	DC "  SIDE: "
(2)   60/    326C : =>TRUE                              IF STRLEN("  SIDE: ")>1
(2)   60/    326C : 20 20 53 49 44 45                   DB SUBSTR("  SIDE: ",0,STRLEN("  SIDE: ")-1)
                    3A 
(2)   60/    3273 : [60]                                ENDIF
(2)   60/    3273 : =>TRUE                              IF STRLEN("  SIDE: ")>0
(2)   60/    3273 : A0                                  DB CHARFROMSTR("  SIDE: ",STRLEN("  SIDE: ")-1)|80H
(2)   60/    3274 : [60]                                ENDIF
(2)   61/    3274 :                     
(2)   62/    3274 : 2A 5B 5C            CLRBUF_EDITOR_	LD HL,(K_CUR)
(2)   63/    3277 : ED 5B 59 5C         		LD DE,(E_LINE)
(2)   64/    327B : E7                  		RST 0X20
(2)   65/    327C : E5 19               		DW 0X19E5
(2)   66/    327E : E7                  		RST 0X20
(2)   67/    327F : BF 16               		DW 0X16BF
(2)   68/    3281 : 2A 59 5C            		LD HL,(E_LINE)		; ÄÑêÖë	çÄóÄãÄ êÖÑÄäíàêìÖåéâ ëíêéäà
(2)   69/    3284 : C9                  		RET
(2)   70/    3285 :                     
(2)   71/    3285 : 2A D9 5C            CMP_SPECSYM	LD HL,(TRD_5CD9)
(2)   72/    3288 : 7E                  		LD A,(HL)
(2)   73/    3289 : FE 2E               		CP "."
(2)   74/    328B : C2 A9 30            		JP NZ,FIND_KEYWORD
(2)   75/    328E : E1                  		POP HL
(2)   76/    328F : C9                  		RET
(2)   77/    3290 :                     
(2)   78/    3290 : E7                  FOR_LOC_306F	RST 0X20
(2)   79/    3291 : E8 19               		DW 0X19E8
(2)   80/    3293 : E7                  		RST 0X20
(2)   81/    3294 : B0 16               		DW 0X16B0
(2)   82/    3296 : C9                  		RET
(2)   83/    3297 :                     
(2)   84/    3297 : F5                  BUGFIX_3EBF	PUSH AF
(2)   85/    3298 : E5                  		PUSH HL
(2)   86/    3299 : CD 08 3E            		CALL GET_TIME_HEAD
(2)   87/    329C : 47                  		LD B,A
(2)   88/    329D : E1                  		POP HL
(2)   89/    329E : F1                  		POP AF
(2)   90/    329F : C3 44 3E            		JP HEAD_POSITION
(2)   91/    32A2 :                     
(1) 5476/    32A2 :                     		include raznoe.a80
(2)    1/    32A2 :                     
(2)    2/    32A2 :                     ;LAST UPDATE: 10.11.2013 savelij
(2)    3/    32A2 :                     
(2)    4/    32A2 : CD 7C 33            CP_VARSTRDOS_	CALL SET_RWPORT0
(2)    5/    32A5 : 2A 4F 5C            		LD HL,(CHANS)
(2)    6/    32A8 : C9                  		RET
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(raznoe.a80) - page 130 - 11/17/2013 22:45:09


(2)    7/    32A9 :                     
(2)    8/    32A9 : CD 36 0E            SET_DRIVENAME_	CALL SET_DRIVENAME
(2)    9/    32AC : 32 16 5D            		LD (TRD_5D16),A		; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí #FF)
(2)   10/    32AF : C9                  		RET
(2)   11/    32B0 :                     
(2)   12/    32B0 : CD 11 3E            GET_TYPE_DISK_	CALL GET_TYPE_DISK
(2)   13/    32B3 : E6 80               		AND 0X80
(2)   14/    32B5 : 3E 28               		LD A,0X28
(2)   15/    32B7 : C8                  		RET Z
(2)   16/    32B8 : 3E 50               		LD A,0X50
(2)   17/    32BA : C9                  		RET
(2)   18/    32BB :                     
(2)   19/    32BB : =F5H                BCMP_EMU	EQU 0XF5
(2)   20/    32BB :                     
(2)   21/    32BB : =>TRUE              LOC_2A53_	IF EMU3D2F=1
(2)   22/    32BB : F7                  		RST 0X30
(2)   23/    32BC : 0F                  		DB WOUTCA
(2)   24/    32BD : C9                  		RET
(2)   25/    32BE : C9                  		RET
(2)   26/    32BF : =>FALSE             		ELSE
(2)   27/    32BF :                     		PUSH AF
(2)   28/    32BF :                     		INC C
(2)   29/    32BF :                     		JR Z,LOC2A53
(2)   30/    32BF : [21]                		ENDIF
(2)   31/    32BF : 0D                  		DEC C
(2)   32/    32C0 : F1                  		POP AF
(2)   33/    32C1 : ED 79               		OUT (C),A
(2)   34/    32C3 : C9                  		RET
(2)   35/    32C4 :                     
(2)   36/    32C4 : 0D                  LOC2A53		DEC C
(2)   37/    32C5 : F1                  		POP AF
(2)   38/    32C6 : F7                  		RST 0X30
(2)   39/    32C7 : 0F                  		DB WOUTCA
(2)   40/    32C8 : C9                  		RET
(2)   41/    32C9 :                     
(2)   42/    32C9 : F5                  EMU_LDIR	PUSH AF
(2)   43/    32CA : 7C                  		LD A,H
(2)   44/    32CB : FE 2A               		CP 0X2A
(2)   45/    32CD : 20 1A               		JR NZ,EMU_LDIR2
(2)   46/    32CF : 7D                  		LD A,L
(2)   47/    32D0 : FE 54               		CP 0X54
(2)   48/    32D2 : 30 15               		JR NC,EMU_LDIR2
(2)   49/    32D4 : FE 50               		CP 0X50
(2)   50/    32D6 : 38 11               		JR C,EMU_LDIR2
(2)   51/    32D8 : 09                  		ADD HL,BC
(2)   52/    32D9 : E5                  		PUSH HL
(2)   53/    32DA : 21 ED 3F            		LD HL,0X3FF0-3
(2)   54/    32DD : FE 53               		CP 0X53
(2)   55/    32DF : 20 03               		JR NZ,EMU_LDIR0
(2)   56/    32E1 : 21 F0 3F            		LD HL,0X3FF0
(2)   57/    32E4 : ED B0               EMU_LDIR0	LDIR
(2)   58/    32E6 : E1                  		POP HL
(2)   59/    32E7 : F1                  		POP AF
(2)   60/    32E8 : C9                  		RET
(2)   61/    32E9 :                     
(2)   62/    32E9 : C5                  EMU_LDIR2	PUSH BC
(2)   63/    32EA : E5                  		PUSH HL
(2)   64/    32EB : 3A BB 32            		LD A,(LOC_2A53_)
(2)   65/    32EE : FE F5               		CP BCMP_EMU
(2)   66/    32F0 : 21 1E 0F            		LD HL,DOS_NOEMUL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(raznoe.a80) - page 131 - 11/17/2013 22:45:09


(2)   67/    32F3 : 01 F7 40            		LD BC,WIN_A0+0X100
(2)   68/    32F6 : C4 38 3D            		CALL NZ,WRPORT_RET
(2)   69/    32F9 : E1                  		POP HL
(2)   70/    32FA : C1                  		POP BC
(2)   71/    32FB : ED B0               		LDIR
(2)   72/    32FD : FE F5               EMU_LDIR4	CP BCMP_EMU
(2)   73/    32FF : 28 0D               		JR Z,EMU_LDIR3
(2)   74/    3301 : E5                  		PUSH HL
(2)   75/    3302 : C5                  		PUSH BC
(2)   76/    3303 : 21 1F 0F            		LD HL,DOS_EMUL
(2)   77/    3306 : 01 F7 40            		LD BC,WIN_A0+0X100
(2)   78/    3309 : CD 38 3D            		CALL WRPORT_RET
(2)   79/    330C : C1                  		POP BC
(2)   80/    330D : E1                  		POP HL
(2)   81/    330E : F1                  EMU_LDIR3	POP AF
(2)   82/    330F : C9                  		RET
(2)   83/    3310 :                     
(2)   84/    3310 : CD C9 32            EMU_LDIR_RBC	CALL EMU_LDIR
(2)   85/    3313 : C1                  		POP BC
(2)   86/    3314 : C9                  		RET
(2)   87/    3315 :                     
(2)   88/    3315 : CD C9 32            EMU_LDIR_RHL	CALL EMU_LDIR
(2)   89/    3318 : E1                  		POP HL
(2)   90/    3319 : C9                  		RET
(2)   91/    331A :                     
(2)   92/    331A : 26 EB               PRINT_VIRTDRV	LD H,VIRT_REAL_DRIVE
(2)   93/    331C : CD 0C 0E            		CALL READCMOS		;óíÖçàÖ çéåÖêÄ ÇàêíìÄãúçéÉé ÑàëäÄ
(2)   94/    331F : E6 03               		AND 3			;çÄå çìÜçõ íéãúäé 2 åãÄÑòàï ÅàíÄ
(2)   95/    3321 : C6 41               		ADD A,"A"		;èêÖéÅêÄáéÇÄãà Ç íÖäëí
(2)   96/    3323 : D7                  		RST 0X10		;çÄèÖóÄíÄãà ÅìäÇì
(2)   97/    3324 : C9                  		RET
(2)   98/    3325 :                     
(2)   99/    3325 :                     ;Öëãà äéåÄçÑÄ êÄëòàêÖççÄü íé èÖóÄíú àåÖçà FAT ìëíêéâëíÇÄ
(2)  100/    3325 :                     ;àçÄóÖ èÖóÄíú àåÖçà TR-DOS ÑàëäéÇéÑÄ
(2)  101/    3325 : 3A EF 5C            GET_COMMAND2	LD A,(TRD_5CEF)
(2)  102/    3328 : A7                  		AND A
(2)  103/    3329 : C4 15 36            		CALL NZ,NOMER_DRV	;èÖóÄíú àåÖçà FAT ìëíêéâëíÇÄ Öëãà äéåÄçÑÄ çóàçÄÖíëü ë "."
(2)  104/    332C : D8                  		RET C			;ÇõïéÑ Öëãà ìÜÖ çÄèÖóÄíÄçÄ ÅìäÇÄ FAT ìëíêéâëíÇÄ
(2)  105/    332D : 3A 19 5D            		LD A,(TRD_5D19)
(2)  106/    3330 : C6 41               		ADD A,"A"
(2)  107/    3332 : D7                  		RST 0X10
(2)  108/    3333 : C9                  		RET
(2)  109/    3334 :                     
(2)  110/    3334 : CD 82 0E            CMP_RAMDISK_	CALL CMP_RAMDISK
(2)  111/    3337 : 21 90 2F            		LD HL,SET_VARS
(2)  112/    333A : C9                  		RET
(2)  113/    333B :                     
(2)  114/    333B : 7E                  PRINT2ZERO	LD A,(HL)
(2)  115/    333C : 23                  		INC HL
(2)  116/    333D : A7                  		AND A
(2)  117/    333E : C8                  		RET Z
(2)  118/    333F : D7                  		RST 0X10
(2)  119/    3340 : 18 F9               		JR PRINT2ZERO
(2)  120/    3342 :                     
(1) 5477/    3342 :                     		include extend.a80
(2)    1/    3342 :                     
(2)    2/    3342 :                     ;LAST UPDATE: 17.11.2013 savelij
(2)    3/    3342 :                     
(2)    4/    3342 :                     ;àçîÄ Ñãü ëéáÑÄçàü 9 ëÖäíéêÄ çéÇéÉé ÑàëäÄ
(2)    5/    3342 : 00                  DSKINFO		DB 0			;+0XE1-çéåÖê èÖêÇéÉé ëÇéÅéÑçéÉé ëÖäíéêÄ
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 132 - 11/17/2013 22:45:09


(2)    6/    3343 : 01                  		DB 1			;+0XE2-çéåÖê èÖêÇéÉé ëÇéÅéÑçéÉé íêÖäÄ
(2)    7/    3344 : 16                  		DB 0X16			;+0XE3-íàè ÑàëäÖíõ
(2)    8/    3345 : 00                  		DB 0			;+0XE4-äéãàóÖëíÇé îÄâãéÇ çÄ ÑàëäÖíÖ
(2)    9/    3346 : F0 09               SECFREE		DW 2544			;+0XE5-äéãàóÖëíÇé ëÇéÅéÑçõï ëÖäíéêéÇ
(2)   10/    3348 : 10                  		DB 0X10			;+0XE7-àÑÖçíàîàäÄñàéççõâ äéÑ TRDOS
(2)   11/    3349 : 00 00               		DW 0			;+0XE8-2 ÅÄâíÄ 0
(2)   12/    334B : (MACRO)             		DUPL 9," "		;+0XEA-9 ÅÄâí 0X20
(2)   12/    334B :                     DUPL:
(2)   12/    334B : =0H                 $$N             EQU (9) / 1024
(2)   12/    334B : =9H                 $$M             EQU (9) # 1024
(2)   12/    334B :                                     REPT $$N
(2)   12/    334B :                                     DB 1024 DUP(" ")
(2)   12/    334B :                                     ENDM
(2)   12/    334B : =>TRUE                              IF $$M <> 0
(2)   12/    334B : 20 20 20 20 20 20                   DB $$M DUP(" ")
                    20 20 20 
(2)   12/    3354 : [12]                                ENDIF
(2)   13/    3354 : 00                  		DB 0			;+0XF3-1 ÅÄâí 0
(2)   14/    3355 : 00                  		DB 0			;+0XF4-äéãàóÖëíÇé ìÑÄãÖççõï îÄâãéÇ
(2)   15/    3356 : 52 41 4D 44 49 53   		DB "RAMDISKO"		;+0XF5-àåü ÑàëäÖíõ
                    4B 4F 
(2)   16/    335E :                     DSK_END
(2)   17/    335E :                     
(2)   18/    335E : E5                  DISK_NONE	PUSH HL
(2)   19/    335F : C5                  		PUSH BC
(2)   20/    3360 : 3E 09               		LD A,PAGE_RAMDISK
(2)   21/    3362 : 01 F7 77            		LD BC,WIN_P1
(2)   22/    3365 : ED 79               		OUT (C),A
(2)   23/    3367 : 21 FF 7F            		LD HL,0X7FFF
(2)   24/    336A : 7E                  		LD A,(HL)
(2)   25/    336B : 25                  		DEC H
(2)   26/    336C : FE 52               		CP "R"
(2)   27/    336E : 20 03               		JR NZ,DISK_NONE1
(2)   28/    3370 : 7E                  		LD A,(HL)
(2)   29/    3371 : FE 44               		CP "D"
(2)   30/    3373 : 08                  DISK_NONE1	EX AF,AF'
(2)   31/    3374 : 3E FA               		LD A,0XFA
(2)   32/    3376 : ED 79               		OUT (C),A
(2)   33/    3378 : 08                  		EX AF,AF'
(2)   34/    3379 : C1                  		POP BC
(2)   35/    337A : E1                  		POP HL
(2)   36/    337B : C9                  		RET
(2)   37/    337C :                     
(2)   38/    337C : C5                  SET_RWPORT0	PUSH BC
(2)   39/    337D : F5                  		PUSH AF
(2)   40/    337E : 01 F7 DE            		LD BC,CMOSD_SET_ADR
(2)   41/    3381 : 3E EB               		LD A,VIRT_REAL_DRIVE
(2)   42/    3383 : ED 79               		OUT (C),A
(2)   43/    3385 : 06 BE               		LD B,HIGH (CMOSD_RD_WR)
(2)   44/    3387 : ED 78               		IN A,(C)
(2)   45/    3389 : E6 0F               		AND 0X0F
(2)   46/    338B : 4F                  		LD C,A
(2)   47/    338C : DB 2F               		IN A,(RW_PORT0)
(2)   48/    338E : E6 F0               		AND 0XF0
(2)   49/    3390 : B1                  		OR C
(2)   50/    3391 : D3 2F               		OUT (RW_PORT0),A
(2)   51/    3393 : F1                  		POP AF
(2)   52/    3394 : C1                  		POP BC
(2)   53/    3395 : C9                  		RET
(2)   54/    3396 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 133 - 11/17/2013 22:45:09


(2)   55/    3396 : E3                  DOS2RST8	EX (SP),HL			;HL
(2)   56/    3397 : F5                  		PUSH AF				;AF
(2)   57/    3398 : C5                  		PUSH BC				;BC
(2)   58/    3399 : ED 5F               		LD A,R
(2)   59/    339B : EA A0 33            		JP PE,DOS2RST8_01
(2)   60/    339E : ED 5F               		LD A,R
(2)   61/    33A0 : F3                  DOS2RST8_01	DI
(2)   62/    33A1 : F5                  		PUSH AF				;RF
(2)   63/    33A2 : E5                  		PUSH HL				;ADR_RET
(2)   64/    33A3 : D5                  		PUSH DE				;DE
(2)   65/    33A4 : DB BF               		IN A,(PEVO_CONF)
(2)   66/    33A6 : 6F                  		LD L,A
(2)   67/    33A7 : F6 01               		OR 1
(2)   68/    33A9 : D3 BF               		OUT (PEVO_CONF),A
(2)   69/    33AB : 01 BE 04            		LD BC,RD_1WINA0
(2)   70/    33AE : ED 78               		IN A,(C)
(2)   71/    33B0 : E6 3E               		AND 0X3E
(2)   72/    33B2 : 01 BE 04            		LD BC,RD_1WINA0
(2)   73/    33B5 : ED 60               		IN H,(C)
(2)   74/    33B7 : CB 84               		RES 0,H
(2)   75/    33B9 : 06 09               		LD B,HIGH (RD_DOS7FFD)
(2)   76/    33BB : ED 58               		IN E,(C)
(2)   77/    33BD : CB A3               		RES 4,E
(2)   78/    33BF : 05                  		DEC B
(2)   79/    33C0 : ED 50               		IN D,(C)
(2)   80/    33C2 : 01 F7 3F            		LD BC,WIN_A0
(2)   81/    33C5 : ED 79               		OUT (C),A
(2)   82/    33C7 : 06 37               		LD B,HIGH (WIN_P0)
(2)   83/    33C9 : AF                  		XOR A
(2)   84/    33CA : C3 14 00            		JP ADR_SEL_ROM
(2)   85/    33CD :                     
(2)   86/    33CD : 01 1E 0F            EDOS2RST8	LD BC,DOS_NOEMUL
(2)   87/    33D0 : 0A                  		LD A,(BC)
(2)   88/    33D1 : E6 3E               		AND 0X3E
(2)   89/    33D3 : BB                  		CP E
(2)   90/    33D4 : 28 01               		JR Z,EDOS2RST02
(2)   91/    33D6 : 03                  		INC BC
(2)   92/    33D7 : 0A                  EDOS2RST02	LD A,(BC)
(2)   93/    33D8 : 01 F7 3F            		LD BC,WIN_A0
(2)   94/    33DB : CD 3C 3D            		CALL WR_BYTE_RET
(2)   95/    33DE : 7D                  		LD A,L
(2)   96/    33DF : D3 BF               		OUT (PEVO_CONF),A
(2)   97/    33E1 : D1                  		POP DE
(2)   98/    33E2 : E1                  		POP HL
(2)   99/    33E3 : F1                  		POP AF
(2)  100/    33E4 : E2 E8 33            		JP PO,EDOS2RST01
(2)  101/    33E7 : FB                  		EI
(2)  102/    33E8 : C1                  EDOS2RST01	POP BC
(2)  103/    33E9 : F1                  		POP AF
(2)  104/    33EA : E3                  		EX (SP),HL
(2)  105/    33EB : C9                  		RET
(2)  106/    33EC :                     
(2)  107/    33EC :                     ;ABCDEFGHIJKLMNOPQRSTUVWXYZ
(2)  108/    33EC :                     EXTEND_COM	
(2)  109/    33EC : 02 43 44            		DB 2,"CD"
(2)  110/    33EF : 06 36               		DW CD
(2)  111/    33F1 : 07 43 4C 52 43 4D   		DB 7,"CLRCMOS"
                    4F 53 
(2)  112/    33F9 : F1 36               		DW CLRCMOS
(2)  113/    33FB : 03 44 49 52         		DB 3,"DIR"
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 134 - 11/17/2013 22:45:09


(2)  114/    33FF : 74 35               		DW DIR
(2)  115/    3401 : 05 44 52 49 56 45   		DB 5,"DRIVE"
(2)  116/    3407 : 57 35               		DW DRIVE
(2)  117/    3409 : 04 48 45 4C 50      		DB 4,"HELP"
(2)  118/    340E : F5 36               		DW HELP
(2)  119/    3410 : 05 4D 4F 55 4E 54   		DB 5,"MOUNT"
(2)  120/    3416 : 2C 36               		DW MOUNT
(2)  121/    3418 : 06 55 4D 4F 55 4E   		DB 6,"UMOUNT"
                    54 
(2)  122/    341F : D4 36               		DW UMOUNT
(2)  123/    3421 : 03 56 45 52         		DB 3,"VER"
(2)  124/    3425 : E9 34               		DW PRT_VERS
(2)  125/    3427 : 04 56 49 52 54      		DB 4,"VIRT"
(2)  126/    342C : C3 34               		DW SET_VIRT
(2)  127/    342E : 00                  		DB 0
(2)  128/    342F :                     
(2)  129/    342F : 13                  END_EXT_COM	INC DE
(2)  130/    3430 : 1A                  		LD A,(DE)
(2)  131/    3431 : FE 3A               		CP ":"
(2)  132/    3433 : 1B                  		DEC DE
(2)  133/    3434 : C2 1A 1D            		JP NZ,SINTAX_ERROR
(2)  134/    3437 : 1A                  		LD A,(DE)
(2)  135/    3438 : E6 DF               		AND 0DFH
(2)  136/    343A : D6 41               		SUB "A"
(2)  137/    343C : DA 1A 1D            		JP C,SINTAX_ERROR
(2)  138/    343F : FE 04               		CP 4
(2)  139/    3441 : 30 15               		JR NC,SELFATDRV
(2)  140/    3443 : 32 F6 5C            		LD (TRD_5CF6),A			; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(2)  141/    3446 : 32 19 5D            		LD (TRD_5D19),A			; ÑàëäéÇéÑ èé ìåéãóÄçàû
(2)  142/    3449 : 47                  		LD B,A
(2)  143/    344A : 3A 16 5D            		LD A,(TRD_5D16)			; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí #FF)
(2)  144/    344D : E6 7C               		AND 7CH
(2)  145/    344F : B0                  		OR B
(2)  146/    3450 : 32 16 5D            		LD (TRD_5D16),A			; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí #FF)
(2)  147/    3453 : F7                  		RST 0X30
(2)  148/    3454 : 04                  		DB WOUTFF
(2)  149/    3455 : C3 E1 03            		JP ERR_OK
(2)  150/    3458 :                     
(2)  151/    3458 : D6 04               SELFATDRV	SUB 4
(2)  152/    345A : F5                  		PUSH AF
(2)  153/    345B : CF                  		RST 8
(2)  154/    345C : 50                  		DB _COM_DEV
(2)  155/    345D : 00                  		DB _DEVFIND
(2)  156/    345E : CF                  		RST 8
(2)  157/    345F : 50                  		DB _COM_DEV
(2)  158/    3460 : 02                  		DB _KOL_VOL
(2)  159/    3461 : F1                  		POP AF
(2)  160/    3462 : BB                  		CP E
(2)  161/    3463 : D2 1A 1D            		JP NC,SINTAX_ERROR
(2)  162/    3466 : CF                  		RST 8
(2)  163/    3467 : 50                  		DB _COM_DEV
(2)  164/    3468 : 01                  		DB _SET_VOL
(2)  165/    3469 : C3 E1 03            		JP ERR_OK
(2)  166/    346C :                     
(2)  167/    346C : CD 75 1D            COM_DOT		CALL EXIT_IF_SINTAX
(2)  168/    346F : 21 EC 33            		LD HL,EXTEND_COM
(2)  169/    3472 : 3E 01               NEXT_CMP_COM	LD A,1
(2)  170/    3474 : 32 EF 5C            		LD (TRD_5CEF),A
(2)  171/    3477 : ED 5B 11 5D         		LD DE,(TRD_5D11)
(2)  172/    347B : 13                  		INC DE
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 135 - 11/17/2013 22:45:09


(2)  173/    347C : 7E                  		LD A,(HL)
(2)  174/    347D : 23                  		INC HL
(2)  175/    347E : A7                  		AND A
(2)  176/    347F : CA 2F 34            		JP Z,END_EXT_COM
(2)  177/    3482 : 47                  		LD B,A
(2)  178/    3483 : 1A                  LOC_C34		LD A,(DE)
(2)  179/    3484 : E6 DF               		AND 0DFH
(2)  180/    3486 : BE                  		CP (HL)
(2)  181/    3487 : 20 0F               		JR NZ,PROPUSK
(2)  182/    3489 : 13                  		INC DE
(2)  183/    348A : 23                  		INC HL
(2)  184/    348B : 10 F6               		DJNZ LOC_C34
(2)  185/    348D : 1A                  		LD A,(DE)
(2)  186/    348E : FE 0D               		CP 0DH
(2)  187/    3490 : 28 0E               		JR Z,NO_PARAM
(2)  188/    3492 : FE 20               		CP " "
(2)  189/    3494 : 28 09               		JR Z,GET_PARAM
(2)  190/    3496 : 18 03               		JR LOC_C58
(2)  191/    3498 :                     
(2)  192/    3498 : 23                  PROPUSK		INC HL
(2)  193/    3499 : 10 FD               		DJNZ PROPUSK
(2)  194/    349B : 23                  LOC_C58		INC HL
(2)  195/    349C : 23                  		INC HL
(2)  196/    349D : 18 D3               		JR NEXT_CMP_COM
(2)  197/    349F :                     
(2)  198/    349F : 13                  GET_PARAM	INC DE
(2)  199/    34A0 : 7E                  NO_PARAM	LD A,(HL)
(2)  200/    34A1 : 23                  		INC HL
(2)  201/    34A2 : 66                  		LD H,(HL)
(2)  202/    34A3 : 6F                  		LD L,A
(2)  203/    34A4 : E5                  		PUSH HL
(2)  204/    34A5 : 21 D3 01            		LD HL,END_COMAND
(2)  205/    34A8 : E3                  		EX (SP),HL
(2)  206/    34A9 : E9                  		JP (HL)
(2)  207/    34AA :                     
(2)  208/    34AA :                     ;ÇõÇéÑ àåÖçà ÇàêíìÄãúçéÉé ÑàëäÄ Öëãà çÖ ìäÄáÄçé àåü Ñãü àáåÖçÖçàü
(2)  209/    34AA : 21 2F 0A            PRT_NUM_VIRT	LD HL,TXT4VIRTDRV
(2)  210/    34AD : 06 0E               		LD B,ETXT4VIRTDRV-TXT4VIRTDRV-1
(2)  211/    34AF : CD 2E 35            		CALL PRT_B_HL_
(2)  212/    34B2 : 3E 20               		LD A," "
(2)  213/    34B4 : D7                  		RST 0X10
(2)  214/    34B5 : 26 EB               		LD H,VIRT_REAL_DRIVE
(2)  215/    34B7 : CD 0C 0E            		CALL READCMOS
(2)  216/    34BA : E6 03               		AND 3
(2)  217/    34BC : C6 41               		ADD A,"A"
(2)  218/    34BE : D7                  		RST 0X10
(2)  219/    34BF : 3E 0D               		LD A,0X0D
(2)  220/    34C1 : D7                  		RST 0X10
(2)  221/    34C2 : C9                  		RET
(2)  222/    34C3 :                     
(2)  223/    34C3 :                     ;ìëíÄçéÇäÄ ÇàêíìÄãúçéÉé ÑàëäÄ
(2)  224/    34C3 : 1A                  SET_VIRT	LD A,(DE)
(2)  225/    34C4 : FE 0D               		CP 0X0D
(2)  226/    34C6 : 28 E2               		JR Z,PRT_NUM_VIRT
(2)  227/    34C8 : 4F                  		LD C,A
(2)  228/    34C9 : 13                  		INC DE
(2)  229/    34CA : 1A                  		LD A,(DE)
(2)  230/    34CB : FE 3A               		CP ":"
(2)  231/    34CD : C2 1A 1D            		JP NZ,SINTAX_ERROR
(2)  232/    34D0 : 79                  		LD A,C
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 136 - 11/17/2013 22:45:09


(2)  233/    34D1 : CD 24 05            		CALL NUMDSK2BYTE		;èéãìóàãà çéÇõâ çéåÖê ÑàëäéÇéÑÄ ìäÄáÄççõâ Ç äéåÄçÑçéâ ëíêéäÖ
(2)  234/    34D4 : 57                  		LD D,A				;ëéïêÄçàãà ÇêÖåÖççé ëÑÇàçìíõâ çéÇõâ çéåÖê ÇàêíìÄãúçéÉé ÑàëäéÇéÑÄ
(2)  235/    34D5 : DB 2F               		IN A,(RW_PORT0)
(2)  236/    34D7 : E6 FC               		AND %11111100
(2)  237/    34D9 : B2                  		OR D
(2)  238/    34DA : D3 2F               		OUT (RW_PORT0),A
(2)  239/    34DC : 26 EB               		LD H,VIRT_REAL_DRIVE
(2)  240/    34DE : CD 0C 0E            		CALL READCMOS
(2)  241/    34E1 : E6 FC               		AND %11111100			;ëÅêéë ëíÄêéÉé çéåÖêÄ ÇàêíìÄãúçéÉé ÑàëäéÇéÑÄ
(2)  242/    34E3 : B2                  		OR D				;ÑéÅÄÇàãà çéÇõâ çéåÖê ÇàêíìÄãúçéÉé ÑàëäéÇéÑÄ
(2)  243/    34E4 : 6F                  		LD L,A
(2)  244/    34E5 : CF                  		RST 8
(2)  245/    34E6 : 55                  		DB _CMOS_RW
(2)  246/    34E7 : 02                  		DB _WRITE_CMOS
(2)  247/    34E8 : C9                  		RET
(2)  248/    34E9 :                     
(2)  249/    34E9 :                     ;èÖóÄíú ÇÖêëàà ÑéëÄ à ÑÄíõ äéåèàãüñàà
(2)  250/    34E9 : 21 F8 3F            PRT_VERS	LD HL,0X3FF8
(2)  251/    34EC : 06 06               		LD B,6
(2)  252/    34EE : CD 2E 35            		CALL PRT_B_HL_
(2)  253/    34F1 : 3E 20               		LD A," "
(2)  254/    34F3 : D7                  		RST 0X10
(2)  255/    34F4 : 4E                  		LD C,(HL)
(2)  256/    34F5 : 23                  		INC HL
(2)  257/    34F6 : 46                  		LD B,(HL)
(2)  258/    34F7 : C5                  		PUSH BC
(2)  259/    34F8 : 21 6C 03            		LD HL,ZASTAVKA_VER
(2)  260/    34FB : 06 09               		LD B,9
(2)  261/    34FD : CD 2E 35            		CALL PRT_B_HL_
(2)  262/    3500 : 3E 20               		LD A," "
(2)  263/    3502 : D7                  		RST 0X10
(2)  264/    3503 : C1                  		POP BC
(2)  265/    3504 : 79                  		LD A,C
(2)  266/    3505 : E6 1F               		AND 0X1F			;çìÜçõ 5 Åàí-óàëãé åÖëüñÄ
(2)  267/    3507 : CD 39 35            		CALL A2TXT			;äéçÇÖêëàü à ìäãÄÑäÄ ÑÄíõ
(2)  268/    350A : CB 38               		SRL B
(2)  269/    350C : CB 19               		RR C				;ëÑÇàçìãà Ñãü ñÖãéëíçéëíà çéåÖêÄ åÖëüñÄ
(2)  270/    350E : 3E 2E               		LD A,"."
(2)  271/    3510 : D7                  		RST 0X10
(2)  272/    3511 : 79                  		LD A,C				;Çáüãà Åàíõ åÖëüñÄ
(2)  273/    3512 : 0F                  		RRCA
(2)  274/    3513 : 0F                  		RRCA
(2)  275/    3514 : 0F                  		RRCA
(2)  276/    3515 : 0F                  		RRCA				;ëÑÇàçìãà Ç åãÄÑòàÖ Åàíõ
(2)  277/    3516 : E6 0F               		AND 0X0F			;çÄå çìÜçõ íéãúäé 4 ÅàíÄ åÖëüñÄ
(2)  278/    3518 : CD 39 35            		CALL A2TXT			;äéçÇÖêëàü à ìäãÄÑäÄ åÖëüñÄ
(2)  279/    351B : 3E 2E               		LD A,"."
(2)  280/    351D : D7                  		RST 0X10
(2)  281/    351E : 78                  		LD A,B				;Çáüãà çéåÖê ÉéÑÄ
(2)  282/    351F : E6 3F               		AND 0X3F			;çìÜçõ íéãúäé 6 Åàí
(2)  283/    3521 : CD 39 35            		CALL A2TXT			;äéçÇÖêëàü à ìäãÄÑäÄ ÉéÑÄ
(2)  284/    3524 : CB 70               		BIT 6,B				;Öëãà Åàí 6 (ëÑÇàçìíõâ Åàí 7) ìëíÄçéÇãÖç
(2)  285/    3526 : 21 34 35            		LD HL,TXT_BETA
(2)  286/    3529 : DF                  		RST 0X18
(2)  287/    352A : 3E 0D               		LD A,0X0D
(2)  288/    352C : D7                  		RST 0X10
(2)  289/    352D : C9                  		RET
(2)  290/    352E :                     
(2)  291/    352E :                     ;èÖóÄíú B=äéãàóÖëíÇé ëàåÇéãéÇ àá HL=ÄÑêÖë íÖäëíÄ Ñãü ÇõÇéÑÄ
(2)  292/    352E : 7E                  PRT_B_HL_	LD A,(HL)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 137 - 11/17/2013 22:45:09


(2)  293/    352F : 23                  		INC HL
(2)  294/    3530 : D7                  		RST 0X10
(2)  295/    3531 : 10 FB               		DJNZ PRT_B_HL_
(2)  296/    3533 : C9                  		RET
(2)  297/    3534 :                     
(2)  298/    3534 : (MACRO)             TXT_BETA	DC " beta"
(2)  298/    3534 : =>TRUE                              IF STRLEN(" beta")>1
(2)  298/    3534 : 20 62 65 74                         DB SUBSTR(" beta",0,STRLEN(" beta")-1)
(2)  298/    3538 : [298]                               ENDIF
(2)  298/    3538 : =>TRUE                              IF STRLEN(" beta")>0
(2)  298/    3538 : E1                                  DB CHARFROMSTR(" beta",STRLEN(" beta")-1)|80H
(2)  298/    3539 : [298]                               ENDIF
(2)  299/    3539 :                     
(2)  300/    3539 :                     ;èÖêÖÇéÑ "A" Ç ÑÖëüíàóäì à Ç íÖäëí
(2)  301/    3539 : 6F                  A2TXT		LD L,A
(2)  302/    353A : 26 00               		LD H,0
(2)  303/    353C : 11 0A 00            		LD DE,10
(2)  304/    353F : AF                  		XOR A
(2)  305/    3540 : 3D                  		DEC A
(2)  306/    3541 : 3C                  		INC A
(2)  307/    3542 : ED 52               		SBC HL,DE
(2)  308/    3544 : 30 FB               		JR NC,$-3
(2)  309/    3546 : 19                  		ADD HL,DE
(2)  310/    3547 : C6 30               		ADD A,"0"
(2)  311/    3549 : D7                  		RST 0X10
(2)  312/    354A : 7D                  		LD A,L
(2)  313/    354B : C6 30               		ADD A,"0"
(2)  314/    354D : D7                  		RST 0X10
(2)  315/    354E : C9                  		RET
(2)  316/    354F :                     
(2)  317/    354F : (MACRO)             DRIVES		DC "Drives: "
(2)  317/    354F : =>TRUE                              IF STRLEN("Drives: ")>1
(2)  317/    354F : 44 72 69 76 65 73                   DB SUBSTR("Drives: ",0,STRLEN("Drives: ")-1)
                    3A 
(2)  317/    3556 : [317]                               ENDIF
(2)  317/    3556 : =>TRUE                              IF STRLEN("Drives: ")>0
(2)  317/    3556 : A0                                  DB CHARFROMSTR("Drives: ",STRLEN("Drives: ")-1)|80H
(2)  317/    3557 : [317]                               ENDIF
(2)  318/    3557 :                     EDRIVES
(2)  319/    3557 :                     
(2)  320/    3557 : CF                  DRIVE		RST 8
(2)  321/    3558 : 50                  		DB _COM_DEV
(2)  322/    3559 : 00                  		DB _DEVFIND
(2)  323/    355A : CF                  		RST 8
(2)  324/    355B : 50                  		DB _COM_DEV
(2)  325/    355C : 02                  		DB _KOL_VOL
(2)  326/    355D : 3E 44               		LD A,"D"
(2)  327/    355F : 83                  		ADD A,E
(2)  328/    3560 : F5                  		PUSH AF
(2)  329/    3561 : 21 4F 35            		LD HL,DRIVES
(2)  330/    3564 : DF                  		RST 0X18
(2)  331/    3565 : 3E 45               		LD A,"E"
(2)  332/    3567 : D7                  		RST 0X10
(2)  333/    3568 : 3E 2D               		LD A,"-"
(2)  334/    356A : D7                  		RST 0X10
(2)  335/    356B : F1                  		POP AF
(2)  336/    356C : D7                  		RST 0X10
(2)  337/    356D : C9                  		RET
(2)  338/    356E :                     
(2)  339/    356E : (MACRO)             TXT_DIR		DC "<DIR> "
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 138 - 11/17/2013 22:45:09


(2)  339/    356E : =>TRUE                              IF STRLEN("<DIR> ")>1
(2)  339/    356E : 3C 44 49 52 3E                      DB SUBSTR("<DIR> ",0,STRLEN("<DIR> ")-1)
(2)  339/    3573 : [339]                               ENDIF
(2)  339/    3573 : =>TRUE                              IF STRLEN("<DIR> ")>0
(2)  339/    3573 : A0                                  DB CHARFROMSTR("<DIR> ",STRLEN("<DIR> ")-1)|80H
(2)  339/    3574 : [339]                               ENDIF
(2)  340/    3574 :                     
(2)  341/    3574 : 06 00               DIR		LD B,0
(2)  342/    3576 : 1A                  		LD A,(DE)
(2)  343/    3577 : 13                  		INC DE
(2)  344/    3578 : FE 2F               		CP "/"
(2)  345/    357A : 20 08               		JR NZ,DIR06
(2)  346/    357C : 1A                  		LD A,(DE)
(2)  347/    357D : E6 DF               		AND 0XDF
(2)  348/    357F : FE 4C               		CP "L"
(2)  349/    3581 : 20 01               		JR NZ,DIR06
(2)  350/    3583 : 47                  		LD B,A
(2)  351/    3584 : CF                  DIR06		RST 8
(2)  352/    3585 : 50                  		DB _COM_DEV
(2)  353/    3586 : 00                  		DB _DEVFIND
(2)  354/    3587 : DD E5               		PUSH IX
(2)  355/    3589 : DD 68               		LD IXL,B
(2)  356/    358B : CD 97 1D            		CALL CLEAR_SCREEN
(2)  357/    358E : CD 88 1D            		CALL OPEN_CHAN_2
(2)  358/    3591 : 3E 02               		LD A,2
(2)  359/    3593 : CF                  		RST 8
(2)  360/    3594 : 51                  		DB _COM_FAT
(2)  361/    3595 : 0B                  		DB _POS_FILES
(2)  362/    3596 : 1E 17               DIR05		LD E,0X17
(2)  363/    3598 : D5                  DIR01		PUSH DE
(2)  364/    3599 : C5                  		PUSH BC
(2)  365/    359A : 21 25 5D            		LD HL,TRD_5D25
(2)  366/    359D : CF                  		RST 8
(2)  367/    359E : 51                  		DB _COM_FAT
(2)  368/    359F : 01                  		DB _READ_DIR
(2)  369/    35A0 : 11 0B 00            		LD DE,0X0B
(2)  370/    35A3 : 19                  		ADD HL,DE
(2)  371/    35A4 : 7E                  		LD A,(HL)
(2)  372/    35A5 : ED 52               		SBC HL,DE
(2)  373/    35A7 : E6 10               		AND 0X10
(2)  374/    35A9 : 28 06               		JR Z,DIR04
(2)  375/    35AB : E5                  		PUSH HL
(2)  376/    35AC : 21 6E 35            		LD HL,TXT_DIR
(2)  377/    35AF : DF                  		RST 0X18
(2)  378/    35B0 : E1                  		POP HL
(2)  379/    35B1 : DD 7D               DIR04		LD A,IXL
(2)  380/    35B3 : A7                  		AND A
(2)  381/    35B4 : 28 0D               		JR Z,DIR08
(2)  382/    35B6 : E5                  		PUSH HL
(2)  383/    35B7 : CF                  		RST 8
(2)  384/    35B8 : 51                  		DB _COM_FAT
(2)  385/    35B9 : 04                  		DB _GET_LONGNAME
(2)  386/    35BA : E1                  		POP HL
(2)  387/    35BB : 7E                  DIR03		LD A,(HL)
(2)  388/    35BC : A7                  		AND A
(2)  389/    35BD : 28 2E               		JR Z,DIR02
(2)  390/    35BF : 23                  		INC HL
(2)  391/    35C0 : D7                  		RST 0X10
(2)  392/    35C1 : 18 F8               		JR DIR03
(2)  393/    35C3 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 139 - 11/17/2013 22:45:09


(2)  394/    35C3 : 06 08               DIR08		LD B,8
(2)  395/    35C5 : 7E                  DIR081		LD A,(HL)
(2)  396/    35C6 : FE 20               		CP " "
(2)  397/    35C8 : 28 04               		JR Z,DIR082
(2)  398/    35CA : D7                  		RST 0X10
(2)  399/    35CB : 23                  		INC HL
(2)  400/    35CC : 10 F7               		DJNZ DIR081
(2)  401/    35CE : 78                  DIR082		LD A,B
(2)  402/    35CF : A7                  		AND A
(2)  403/    35D0 : 28 08               		JR Z,DIR085
(2)  404/    35D2 : 7E                  DIR086		LD A,(HL)
(2)  405/    35D3 : FE 20               		CP " "
(2)  406/    35D5 : 20 03               		JR NZ,DIR085
(2)  407/    35D7 : 23                  		INC HL
(2)  408/    35D8 : 10 F8               		DJNZ DIR086
(2)  409/    35DA : 7E                  DIR085		LD A,(HL)
(2)  410/    35DB : FE 20               		CP " "
(2)  411/    35DD : 28 03               		JR Z,DIR084
(2)  412/    35DF : 3E 2E               		LD A,"."
(2)  413/    35E1 : D7                  		RST 0X10
(2)  414/    35E2 : 06 03               DIR084		LD B,3
(2)  415/    35E4 : 7E                  DIR083		LD A,(HL)
(2)  416/    35E5 : FE 20               		CP " "
(2)  417/    35E7 : 28 04               		JR Z,DIR02
(2)  418/    35E9 : D7                  		RST 0X10
(2)  419/    35EA : 23                  		INC HL
(2)  420/    35EB : 10 F7               		DJNZ DIR083
(2)  421/    35ED : 3E 0D               DIR02		LD A,0X0D
(2)  422/    35EF : D7                  		RST 0X10
(2)  423/    35F0 : 3E 04               		LD A,4
(2)  424/    35F2 : 06 01               		LD B,1
(2)  425/    35F4 : CF                  		RST 8
(2)  426/    35F5 : 51                  		DB _COM_FAT
(2)  427/    35F6 : 0B                  		DB _POS_FILES
(2)  428/    35F7 : E1                  		POP HL
(2)  429/    35F8 : A7                  		AND A
(2)  430/    35F9 : ED 42               		SBC HL,BC
(2)  431/    35FB : D1                  		POP DE
(2)  432/    35FC : 28 05               		JR Z,DIR07
(2)  433/    35FE : 1D                  		DEC E
(2)  434/    35FF : 20 97               		JR NZ,DIR01
(2)  435/    3601 : 18 93               		JR DIR05
(2)  436/    3603 :                     
(2)  437/    3603 : DD E1               DIR07		POP IX
(2)  438/    3605 : C9                  		RET
(2)  439/    3606 :                     
(2)  440/    3606 : D5                  CD		PUSH DE
(2)  441/    3607 : CF                  		RST 8
(2)  442/    3608 : 50                  		DB _COM_DEV
(2)  443/    3609 : 00                  		DB _DEVFIND
(2)  444/    360A : E1                  		POP HL
(2)  445/    360B : CF                  		RST 8
(2)  446/    360C : 51                  		DB _COM_FAT
(2)  447/    360D : 05                  		DB _FIND_NAME
(2)  448/    360E : DA 1A 1D            		JP C,SINTAX_ERROR
(2)  449/    3611 : CF                  		RST 8
(2)  450/    3612 : 51                  		DB _COM_FAT
(2)  451/    3613 : 02                  		DB _ENTER_DIR
(2)  452/    3614 : C9                  		RET
(2)  453/    3615 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 140 - 11/17/2013 22:45:09


(2)  454/    3615 : CF                  NOMER_DRV	RST 8
(2)  455/    3616 : 50                  		DB _COM_DEV
(2)  456/    3617 : 00                  		DB _DEVFIND
(2)  457/    3618 : CF                  		RST 8
(2)  458/    3619 : 50                  		DB _COM_DEV
(2)  459/    361A : 02                  		DB _KOL_VOL
(2)  460/    361B : CD 4A 29            		CALL CREATE_BUF
(2)  461/    361E : 21 25 5D            		LD HL,TRD_5D25
(2)  462/    3621 : CF                  		RST 8
(2)  463/    3622 : 51                  		DB _COM_FAT
(2)  464/    3623 : 03                  		DB _GET_PATH
(2)  465/    3624 : CD 3B 33            		CALL PRINT2ZERO
(2)  466/    3627 : CD 70 29            		CALL DEL_BUF
(2)  467/    362A : 37                  		SCF
(2)  468/    362B : C9                  		RET
(2)  469/    362C :                     
(2)  470/    362C : D5                  MOUNT		PUSH DE
(2)  471/    362D : CF                  		RST 8
(2)  472/    362E : 50                  		DB _COM_DEV
(2)  473/    362F : 00                  		DB _DEVFIND
(2)  474/    3630 : EB                  		EX DE,HL
(2)  475/    3631 : E1                  		POP HL
(2)  476/    3632 : E5                  		PUSH HL
(2)  477/    3633 : CF                  		RST 8
(2)  478/    3634 : 51                  		DB _COM_FAT
(2)  479/    3635 : 05                  		DB _FIND_NAME
(2)  480/    3636 : DA 1A 1D            		JP C,SINTAX_ERROR
(2)  481/    3639 : D1                  		POP DE
(2)  482/    363A : 06 0C               		LD B,0X0C
(2)  483/    363C : 1A                  MOUNT02		LD A,(DE)
(2)  484/    363D : FE 21               		CP "!"
(2)  485/    363F : 38 03               		JR C,MOUNT01
(2)  486/    3641 : 13                  		INC DE
(2)  487/    3642 : 10 F8               		DJNZ MOUNT02
(2)  488/    3644 : 1A                  MOUNT01		LD A,(DE)
(2)  489/    3645 : FE 0D               		CP 0X0D
(2)  490/    3647 : CA 1A 1D            		JP Z,SINTAX_ERROR
(2)  491/    364A : FE 20               		CP " "
(2)  492/    364C : C2 1A 1D            		JP NZ,SINTAX_ERROR
(2)  493/    364F : 13                  		INC DE
(2)  494/    3650 : 1A                  		LD A,(DE)
(2)  495/    3651 : FE 41               		CP "A"
(2)  496/    3653 : DA 1A 1D            		JP C,SINTAX_ERROR
(2)  497/    3656 : E6 DF               		AND 0XDF
(2)  498/    3658 : FE 45               		CP "E"
(2)  499/    365A : D2 1A 1D            		JP NC,SINTAX_ERROR
(2)  500/    365D : D6 41               		SUB "A"
(2)  501/    365F : 4F                  		LD C,A
(2)  502/    3660 : 13                  		INC DE
(2)  503/    3661 : 1A                  		LD A,(DE)
(2)  504/    3662 : FE 3A               		CP ":"
(2)  505/    3664 : C2 1A 1D            		JP NZ,SINTAX_ERROR
(2)  506/    3667 : 79                  		LD A,C
(2)  507/    3668 : CF                  		RST 8
(2)  508/    3669 : 53                  		DB _MOUNTER
(2)  509/    366A : 00                  		DB _OPEN_MOUNT
(2)  510/    366B : C9                  		RET
(2)  511/    366C :                     
(2)  512/    366C : DD E5               WR_RD_SEC_M	PUSH IX
(2)  513/    366E : ED 73 D0 3C         		LD (TEMP_SP),SP
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 141 - 11/17/2013 22:45:09


(2)  514/    3672 : 2A AC 3C            		LD HL,(DOS_STEK)
(2)  515/    3675 : 11 D2 3C            		LD DE,SAVED_RAM
(2)  516/    3678 : 01 10 00            		LD BC,0X10
(2)  517/    367B : ED B0               		LDIR
(2)  518/    367D : F9                  		LD SP,HL
(2)  519/    367E : DB 4F               		IN A,(RW_PORT1)			;Çáüãà çéåÖê íêÖäÄ
(2)  520/    3680 : 87                  		ADD A,A				;ëíéêéç 2
(2)  521/    3681 : 57                  		LD D,A
(2)  522/    3682 : 3A B0 3C            		LD A,(WR_FF)
(2)  523/    3685 : E6 10               		AND 0X10			;èêéÇÖêäÄ äÄäÄü ëíéêéçÄ ÑàëäÄ
(2)  524/    3687 : 20 01               		JR NZ,WRRDSECM1
(2)  525/    3689 : 14                  		INC D				;Ñãü ëíéêéçõ 1
(2)  526/    368A : DB 6F               WRRDSECM1	IN A,(RW_PORT2)			;Çáüãà çéåÖê ëÖäíéêÄ
(2)  527/    368C : 5F                  		LD E,A				;D-íêÖä, E-ëÖäíéê
(2)  528/    368D : 2A BC 3C            		LD HL,(REG_L)			;HL=ÄÑêÖë óíÖçàü/áÄèàëà
(2)  529/    3690 : 3A B0 3C            		LD A,(WR_FF)
(2)  530/    3693 : E6 03               		AND 3
(2)  531/    3695 : 4F                  		LD C,A				;çéåÖê ÑàëäéÇéÑÄ
(2)  532/    3696 : DD 7D               		LD A,IXL
(2)  533/    3698 : A7                  		AND A				;BIT 7=0-óíÖçàÖ
(2)  534/    3699 : 28 02               		JR Z,WRRDSECM2
(2)  535/    369B : 3E 80               		LD A,0X80			;BIT 7=1-áÄèàëú
(2)  536/    369D : B1                  WRRDSECM2	OR C
(2)  537/    369E : DD 6F               		LD IXL,A			;A=çéåÖê ÑàëäéÇéÑÄ+Åàí óíÖçàü/áÄèàëà
(2)  538/    36A0 : 3A CE 3C            		LD A,(TEK_ROMPAGE)
(2)  539/    36A3 : E6 3E               		AND 0X3E
(2)  540/    36A5 : DD 67               		LD IXH,A
(2)  541/    36A7 : 01 F7 3F            		LD BC,WIN_A0
(2)  542/    36AA : ED 79               		OUT (C),A
(2)  543/    36AC : DD 7D               		LD A,IXL
(2)  544/    36AE : CF                  		RST 8
(2)  545/    36AF : 53                  		DB _MOUNTER
(2)  546/    36B0 : 01                  		DB _RDWR_MOUNT
(2)  547/    36B1 : 01 F7 3F            		LD BC,WIN_A0
(2)  548/    36B4 : DD 7C               		LD A,IXH
(2)  549/    36B6 : ED 79               		OUT (C),A
(2)  550/    36B8 : 06 37               		LD B,HIGH (WIN_P0)
(2)  551/    36BA : 3E 02               		LD A,PAGE_EVODOS
(2)  552/    36BC : ED 79               		OUT (C),A
(2)  553/    36BE : 22 BC 3C            		LD (REG_L),HL			;éÅçéÇàãà ÄÑêÖë óíÖçàü/áÄèàëà
(2)  554/    36C1 : 21 D2 3C            		LD HL,SAVED_RAM
(2)  555/    36C4 : ED 5B AC 3C         		LD DE,(DOS_STEK)
(2)  556/    36C8 : 01 10 00            		LD BC,0X10
(2)  557/    36CB : ED B0               		LDIR
(2)  558/    36CD : ED 7B D0 3C         		LD SP,(TEMP_SP)
(2)  559/    36D1 : DD E1               		POP IX
(2)  560/    36D3 : C9                  		RET
(2)  561/    36D4 :                     
(2)  562/    36D4 : 1A                  UMOUNT		LD A,(DE)
(2)  563/    36D5 : 13                  		INC DE
(2)  564/    36D6 : E6 DF               		AND 0XDF
(2)  565/    36D8 : 47                  		LD B,A
(2)  566/    36D9 : 1A                  		LD A,(DE)
(2)  567/    36DA : 13                  		INC DE
(2)  568/    36DB : FE 3A               		CP ":"
(2)  569/    36DD : C2 1A 1D            		JP NZ,SINTAX_ERROR
(2)  570/    36E0 : 78                  		LD A,B
(2)  571/    36E1 : FE 41               		CP "A"
(2)  572/    36E3 : DA 1A 1D            		JP C,SINTAX_ERROR
(2)  573/    36E6 : FE 45               		CP "E"
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(extend.a80) - page 142 - 11/17/2013 22:45:09


(2)  574/    36E8 : D2 1A 1D            		JP NC,SINTAX_ERROR
(2)  575/    36EB : D6 41               		SUB "A"
(2)  576/    36ED : CF                  		RST 8
(2)  577/    36EE : 53                  		DB _MOUNTER
(2)  578/    36EF : 04                  		DB _CLOSEMOUNT
(2)  579/    36F0 : C9                  		RET
(2)  580/    36F1 :                     
(2)  581/    36F1 : CF                  CLRCMOS		RST 8
(2)  582/    36F2 : 55                  		DB _CMOS_RW
(2)  583/    36F3 : 03                  		DB _CLEAR_CMOS
(2)  584/    36F4 : C9                  		RET
(2)  585/    36F5 :                     
(2)  586/    36F5 : CD 97 1D            HELP		CALL CLEAR_SCREEN
(2)  587/    36F8 : CD 88 1D            		CALL OPEN_CHAN_2
(2)  588/    36FB : 21 EC 33            		LD HL,EXTEND_COM
(2)  589/    36FE : 0E 03               HELP4		LD C,3
(2)  590/    3700 : 7E                  HELP2		LD A,(HL)
(2)  591/    3701 : A7                  		AND A
(2)  592/    3702 : C8                  		RET Z
(2)  593/    3703 : 23                  		INC HL
(2)  594/    3704 : 47                  		LD B,A
(2)  595/    3705 : C5                  		PUSH BC
(2)  596/    3706 : 3E 2E               		LD A,"."
(2)  597/    3708 : D7                  		RST 0X10
(2)  598/    3709 : 7E                  HELP1		LD A,(HL)
(2)  599/    370A : 23                  		INC HL
(2)  600/    370B : D7                  		RST 0X10
(2)  601/    370C : 10 FB               		DJNZ HELP1
(2)  602/    370E : 23                  		INC HL
(2)  603/    370F : 23                  		INC HL
(2)  604/    3710 : C1                  		POP BC
(2)  605/    3711 : 3E 09               		LD A,9
(2)  606/    3713 : 90                  		SUB B
(2)  607/    3714 : 47                  		LD B,A
(2)  608/    3715 : 3E 20               HELP3		LD A," "
(2)  609/    3717 : D7                  		RST 0X10
(2)  610/    3718 : 10 FB               		DJNZ HELP3
(2)  611/    371A : 0D                  		DEC C
(2)  612/    371B : 20 E3               		JR NZ,HELP2
(2)  613/    371D : 3E 0D               		LD A,0X0D
(2)  614/    371F : D7                  		RST 0X10
(2)  615/    3720 : 18 DC               		JR HELP4
(2)  616/    3722 :                     
(1) 5478/    3722 :                     ;===============FREE SPACE 2============
(1) 5479/    3722 :                     
(1) 5480/    3722 : (MACRO)             		DUPL 0X3C01-$,0XFF
(1) 5480/    3722 :                     DUPL:
(1) 5480/    3722 : =1H                 $$N             EQU (0X3C01-$) / 1024
(1) 5480/    3722 : =DFH                $$M             EQU (0X3C01-$) # 1024
(1) 5480/    3722 :                                     REPT $$N
(1) 5480/    3722 :                                     DB 1024 DUP(0XFF)
(1) 5480/    3722 :                                     ENDM
(1) 5480/    3722 : FF FF FF FF FF FF                   DB 1024 DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 143 - 11/17/2013 22:45:09


                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 144 - 11/17/2013 22:45:09


                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 145 - 11/17/2013 22:45:09


                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF 
(1) 5480/    3B22 : =>TRUE                              IF $$M <> 0
(1) 5480/    3B22 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 146 - 11/17/2013 22:45:09


                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF 
(1) 5480/    3C01 : [5480]                              ENDIF
(1) 5481/    3C01 : 18 03               		JR LOC_3C06
(1) 5482/    3C03 :                     
(1) 5483/    3C03 : FF                  		DB 0XFF
(1) 5484/    3C04 : 18 03               		JR LOC_3C09
(1) 5485/    3C06 :                     
(1) 5486/    3C06 : C3 00 3D            LOC_3C06	JP LOC_3D00
(1) 5487/    3C09 :                     
(1) 5488/    3C09 : C3 03 3D            LOC_3C09	JP LOC_3D03
(1) 5489/    3C0C :                     
(1) 5490/    3C0C :                     ;===============FREE SPACE 3============
(1) 5491/    3C0C : (MACRO)             		DUPL 0X3C30-$,0XFF
(1) 5491/    3C0C :                     DUPL:
(1) 5491/    3C0C : =0H                 $$N             EQU (0X3C30-$) / 1024
(1) 5491/    3C0C : =24H                $$M             EQU (0X3C30-$) # 1024
(1) 5491/    3C0C :                                     REPT $$N
(1) 5491/    3C0C :                                     DB 1024 DUP(0XFF)
(1) 5491/    3C0C :                                     ENDM
(1) 5491/    3C0C : =>TRUE                              IF $$M <> 0
(1) 5491/    3C0C : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
(1) 5491/    3C30 : [5491]                              ENDIF
(1) 5492/    3C30 : DB 1F               		IN A,(0X1F)
(1) 5493/    3C32 : C9                  		RET
(1) 5494/    3C33 :                     
(1) 5495/    3C33 : (MACRO)             		DUPL ADR_RST8END-$-0X40,0XFF
(1) 5495/    3C33 :                     DUPL:
(1) 5495/    3C33 : =0H                 $$N             EQU (ADR_RST8END-$-0X40) / 1024
(1) 5495/    3C33 : =75H                $$M             EQU (ADR_RST8END-$-0X40) # 1024
(1) 5495/    3C33 :                                     REPT $$N
(1) 5495/    3C33 :                                     DB 1024 DUP(0XFF)
(1) 5495/    3C33 :                                     ENDM
(1) 5495/    3C33 : =>TRUE                              IF $$M <> 0
(1) 5495/    3C33 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 147 - 11/17/2013 22:45:09


                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF FF FF FF 
                    FF FF FF 
(1) 5495/    3CA8 : [5495]                              ENDIF
(1) 5496/    3CA8 : FF                  IREG_E		DB 0XFF
(1) 5497/    3CA9 : FF                  IREG_D		DB 0XFF
(1) 5498/    3CAA : FF                  IREG_L		DB 0XFF
(1) 5499/    3CAB : FF                  IREG_H		DB 0XFF
(1) 5500/    3CAC : FF FF               DOS_STEK	DW 0XFFFF		;2 ëéïêÄçÖçàÖ éëçéÇçéÉé ëíÖäÄ à Ñçé ÇçìíêÖççÖÉé ëíÖäÄ
(1) 5501/    3CAE : FF                  WR_1F		DB 0XFF			;1 äéèàü áÄèàëÄççéÉé Ç èéêí 1F (êÖÉàëíê äéåÄçÑ)
(1) 5502/    3CAF : FF                  RD_1F		DB 0XFF			;1 éíÇÖí Ñãü óíÖçàü àá èéêíÄ
(1) 5503/    3CB0 : FF                  WR_FF		DB 0XFF			;1 äéèàü áÄèàëÄççéÉé Ç èéêí FF
(1) 5504/    3CB1 : FF                  RD_FF		DB 0XFF			;1 éíÇÖí Ñãü óíÖçàü àá èéêíÄ
(1) 5505/    3CB2 : FF FF               BUFF_SECT	DW 0XFFFF		;2 ÄÑêÖë óíÖçàü/áÄèàëà ëÖäíéêÄ
(1) 5506/    3CB4 : FF FF               ADDR_RET	DW 0XFFFF		;2 ÄÑêÖë ÇéáÇêÄíÄ
(1) 5507/    3CB6 : FF                  REG_IF		DB 0XFF			;1
(1) 5508/    3CB7 : FF                  REG_I		DB 0XFF			;1
(1) 5509/    3CB8 : FF                  REG_C		DB 0XFF			;1 
(1) 5510/    3CB9 : FF                  REG_B		DB 0XFF			;1
(1) 5511/    3CBA : FF                  REG_F		DB 0XFF			;1
(1) 5512/    3CBB : FF                  REG_A		DB 0XFF			;1
(1) 5513/    3CBC : FF                  REG_L		DB 0XFF			;1 ÄÑêÖë áÄÉêìáäà/áÄèàëà
(1) 5514/    3CBD : FF                  REG_H		DB 0XFF			;1
(1) 5515/    3CBE : FF                  WR_BF		DB 0XFF			;1
(1) 5516/    3CBF : FF                  WR_77		DB 0XFF			;1
(1) 5517/    3CC0 : FF                  WR_EFF7		DB 0XFF			;1
(1) 5518/    3CC1 : FF                  WR_7FFD		DB 0XFF			;1
(1) 5519/    3CC2 : FF                  WR_DOS7FFD	DB 0XFF			;1
(1) 5520/    3CC3 : FF                  WR_RAMNROM	DB 0XFF			;1
(1) 5521/    3CC4 : FF                  WR_1WINA3	DB 0XFF			;1
(1) 5522/    3CC5 : FF                  WR_1WINA2	DB 0XFF			;1
(1) 5523/    3CC6 : FF                  WR_1WINA1	DB 0XFF			;1
(1) 5524/    3CC7 : FF                  WR_1WINA0	DB 0XFF			;1
(1) 5525/    3CC8 : FF                  WR_0WINA3	DB 0XFF			;1
(1) 5526/    3CC9 : FF                  WR_0WINA2	DB 0XFF			;1
(1) 5527/    3CCA : FF                  WR_0WINA1	DB 0XFF			;1
(1) 5528/    3CCB : FF                  WR_0WINA0	DB 0XFF			;1
(1) 5529/    3CCC : FF FF               MINT_STACK	DW 0XFFFF		;2
(1) 5530/    3CCE : FF                  TEK_ROMPAGE	DB 0XFF			;1
(1) 5531/    3CCF : FF                  MASK_DRV	DB 0XFF			;1
(1) 5532/    3CD0 : FF FF               TEMP_SP		DW 0XFFFF		;2
(1) 5533/    3CD2 : (MACRO)             SAVED_RAM	DUPL 0X10,0XFF		;10
(1) 5533/    3CD2 :                     DUPL:
(1) 5533/    3CD2 : =0H                 $$N             EQU (0X10) / 1024
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 148 - 11/17/2013 22:45:09


(1) 5533/    3CD2 : =10H                $$M             EQU (0X10) # 1024
(1) 5533/    3CD2 :                                     REPT $$N
(1) 5533/    3CD2 :                                     DB 1024 DUP(0XFF)
(1) 5533/    3CD2 :                                     ENDM
(1) 5533/    3CD2 : =>TRUE                              IF $$M <> 0
(1) 5533/    3CD2 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF FF 
(1) 5533/    3CE2 : [5533]                              ENDIF
(1) 5534/    3CE2 :                     END_VARS
(1) 5535/    3CE2 :                     
(1) 5536/    3CE2 : (MACRO)             		DUPL ADR_RST8END-$,0XFF
(1) 5536/    3CE2 :                     DUPL:
(1) 5536/    3CE2 : =0H                 $$N             EQU (ADR_RST8END-$) / 1024
(1) 5536/    3CE2 : =6H                 $$M             EQU (ADR_RST8END-$) # 1024
(1) 5536/    3CE2 :                                     REPT $$N
(1) 5536/    3CE2 :                                     DB 1024 DUP(0XFF)
(1) 5536/    3CE2 :                                     ENDM
(1) 5536/    3CE2 : =>TRUE                              IF $$M <> 0
(1) 5536/    3CE2 : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
(1) 5536/    3CE8 : [5536]                              ENDIF
(1) 5537/    3CE8 : C3 CD 33            		JP EDOS2RST8
(1) 5538/    3CEB :                     ;===============FREE SPACE 3============
(1) 5539/    3CEB :                     
(1) 5540/    3CEB : (MACRO)             		DUPL 0X3CFA-$,0XFF
(1) 5540/    3CEB :                     DUPL:
(1) 5540/    3CEB : =0H                 $$N             EQU (0X3CFA-$) / 1024
(1) 5540/    3CEB : =FH                 $$M             EQU (0X3CFA-$) # 1024
(1) 5540/    3CEB :                                     REPT $$N
(1) 5540/    3CEB :                                     DB 1024 DUP(0XFF)
(1) 5540/    3CEB :                                     ENDM
(1) 5540/    3CEB : =>TRUE                              IF $$M <> 0
(1) 5540/    3CEB : FF FF FF FF FF FF                   DB $$M DUP(0XFF)
                    FF FF FF FF FF FF 
                    FF FF FF 
(1) 5540/    3CFA : [5540]                              ENDIF
(1) 5541/    3CFA : 00                  LOC_3CFA	NOP
(1) 5542/    3CFB : 18 32               		JR LOC_3D2F
(1) 5543/    3CFD :                     
(1) 5544/    3CFD : C3 3C 28            LOC_3CFD	JP CALL_3D13
(1) 5545/    3D00 :                     
(1) 5546/    3D00 :                     ;ÇïéÑ Ç DOS (15616)
(1) 5547/    3D00 : 00                  LOC_3D00	NOP
(1) 5548/    3D01 : 18 2E               		JR IN_DOS_15616
(1) 5549/    3D03 :                     
(1) 5550/    3D03 :                     ;éÅêÄôÖçàÖ àá ÅÖâëàäÄ (15619)
(1) 5551/    3D03 : 00                  LOC_3D03	NOP
(1) 5552/    3D04 : 18 14               		JR IN_DOS_15619
(1) 5553/    3D06 :                     
(1) 5554/    3D06 : 00                  LOC_3D06	NOP
(1) 5555/    3D07 : C3 EF 25            		JP INPUTDATAFILE
(1) 5556/    3D0A :                     
(1) 5557/    3D0A : C3 4A 24            LOC_3D0A	JP OUT_SYM2FILE
(1) 5558/    3D0D :                     
(1) 5559/    3D0D : 00                  		NOP
(1) 5560/    3D0E : 18 FA               LOC_3D0E	JR LOC_3D0A
(1) 5561/    3D10 :                     
(1) 5562/    3D10 : 00                  		NOP
(1) 5563/    3D11 : 18 E7               		JR LOC_3CFA
(1) 5564/    3D13 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 149 - 11/17/2013 22:45:09


(1) 5565/    3D13 : 00                  		NOP
(1) 5566/    3D14 : 18 E7               		JR LOC_3CFD
(1) 5567/    3D16 :                     
(1) 5568/    3D16 : 00                  LOC_3D16	NOP
(1) 5569/    3D17 : C3 69 2F            		JP WORK4ERROR
(1) 5570/    3D1A :                     
(1) 5571/    3D1A : CD 21 3D            IN_DOS_15619	CALL CREATE_VARS_TRD
(1) 5572/    3D1D : E5                  		PUSH HL
(1) 5573/    3D1E : C3 6C 01            		JP CONTINUE_15619
(1) 5574/    3D21 :                     
(1) 5575/    3D21 : CD F3 31            CREATE_VARS_TRD	CALL CP_VARSTRDOS
(1) 5576/    3D24 : 00                  		NOP
(1) 5577/    3D25 : 00                  		NOP
(1) 5578/    3D26 : DC 67 3D            		CALL C,CREATE_VARS
(1) 5579/    3D29 : 21 C2 5C            		LD HL,TRD_5CC2
(1) 5580/    3D2C : C9                  		RET
(1) 5581/    3D2D :                     
(1) 5582/    3D2D : 00                  		NOP
(1) 5583/    3D2E : 00                  		NOP
(1) 5584/    3D2F : 00                  LOC_3D2F	NOP
(1) 5585/    3D30 : C9                  		RET
(1) 5586/    3D31 :                     
(1) 5587/    3D31 : CD 21 3D            IN_DOS_15616	CALL CREATE_VARS_TRD
(1) 5588/    3D34 : E5                  		PUSH HL
(1) 5589/    3D35 : C3 39 02            		JP IN_COMMAND_CPU	; ÇïéÜÑÖçàÖ Ç äéåÄçÑçõâ	èêéñÖëëéê ÑéëÄ
(1) 5590/    3D38 :                     
(1) 5591/    3D38 : ED A3               WRPORT_RET	OUTI
(1) 5592/    3D3A : 00                  		NOP
(1) 5593/    3D3B : C9                  		RET		
(1) 5594/    3D3C :                     
(1) 5595/    3D3C : ED 79               WR_BYTE_RET	OUT (C),A
(1) 5596/    3D3E : 00                  		NOP
(1) 5597/    3D3F : C9                  		RET
(1) 5598/    3D40 :                     
(1) 5599/    3D40 : 00                  		NOP
(1) 5600/    3D41 : FE 1F               		CP 0X1F
(1) 5601/    3D43 : C0                  		RET NZ
(1) 5602/    3D44 : CF                  		RST 8
(1) 5603/    3D45 : 31                  		DB 0X31
(1) 5604/    3D46 : 3E 01               		LD A,1
(1) 5605/    3D48 : 32 EF 5C            		LD (TRD_5CEF),A
(1) 5606/    3D4B : C9                  		RET
(1) 5607/    3D4C :                     
(1) 5608/    3D4C : (MACRO)             		DUPL 0X3D5A-$,0
(1) 5608/    3D4C :                     DUPL:
(1) 5608/    3D4C : =0H                 $$N             EQU (0X3D5A-$) / 1024
(1) 5608/    3D4C : =EH                 $$M             EQU (0X3D5A-$) # 1024
(1) 5608/    3D4C :                                     REPT $$N
(1) 5608/    3D4C :                                     DB 1024 DUP(0)
(1) 5608/    3D4C :                                     ENDM
(1) 5608/    3D4C : =>TRUE                              IF $$M <> 0
(1) 5608/    3D4C : 00 00 00 00 00 00                   DB $$M DUP(0)
                    00 00 00 00 00 00 
                    00 00 
(1) 5608/    3D5A : [5608]                              ENDIF
(1) 5609/    3D5A : ED B0               		LDIR				;ADS
(1) 5610/    3D5C : 21 2F 3D            		LD HL,LOC_3D2F
(1) 5611/    3D5F : E5                  		PUSH HL
(1) 5612/    3D60 : 21 2F 3D            		LD HL,LOC_3D2F
(1) 5613/    3D63 : E5                  		PUSH HL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 150 - 11/17/2013 22:45:09


(1) 5614/    3D64 : C3 92 5C            		JP MEMBOT
(1) 5615/    3D67 :                     
(1) 5616/    3D67 : CD 34 33            CREATE_VARS	CALL CMP_RAMDISK_
(1) 5617/    3D6A : E5                  		PUSH HL
(1) 5618/    3D6B : 21 2F 3D            		LD HL,LOC_3D2F
(1) 5619/    3D6E : E5                  		PUSH HL
(1) 5620/    3D6F : 21 55 16            		LD HL,0X1655
(1) 5621/    3D72 : E5                  		PUSH HL
(1) 5622/    3D73 : 21 C2 5C            		LD HL,TRD_5CC2
(1) 5623/    3D76 : E5                  		PUSH HL
(1) 5624/    3D77 : 36 C9               		LD (HL),0XC9
(1) 5625/    3D79 : 21 B5 5C            		LD HL,P_RAMT+1
(1) 5626/    3D7C : 01 70 00            		LD BC,0X70
(1) 5627/    3D7F : C9                  		RET
(1) 5628/    3D80 :                     
(1) 5629/    3D80 : 3E 0D               PRINT_0D	LD A,0X0D
(1) 5630/    3D82 : E5                  PRINT_A_	PUSH HL
(1) 5631/    3D83 : C5                  		PUSH BC
(1) 5632/    3D84 : D5                  		PUSH DE
(1) 5633/    3D85 : F5                  		PUSH AF
(1) 5634/    3D86 : (MACRO)             		DUPL 3,0
(1) 5634/    3D86 :                     DUPL:
(1) 5634/    3D86 : =0H                 $$N             EQU (3) / 1024
(1) 5634/    3D86 : =3H                 $$M             EQU (3) # 1024
(1) 5634/    3D86 :                                     REPT $$N
(1) 5634/    3D86 :                                     DB 1024 DUP(0)
(1) 5634/    3D86 :                                     ENDM
(1) 5634/    3D86 : =>TRUE                              IF $$M <> 0
(1) 5634/    3D86 : 00 00 00                            DB $$M DUP(0)
(1) 5634/    3D89 : [5634]                              ENDIF
(1) 5635/    3D89 : F1                  		POP AF
(1) 5636/    3D8A : CD 94 3D            		CALL PRINT_SYM
(1) 5637/    3D8D : (MACRO)             		DUPL 3,0
(1) 5637/    3D8D :                     DUPL:
(1) 5637/    3D8D : =0H                 $$N             EQU (3) / 1024
(1) 5637/    3D8D : =3H                 $$M             EQU (3) # 1024
(1) 5637/    3D8D :                                     REPT $$N
(1) 5637/    3D8D :                                     DB 1024 DUP(0)
(1) 5637/    3D8D :                                     ENDM
(1) 5637/    3D8D : =>TRUE                              IF $$M <> 0
(1) 5637/    3D8D : 00 00 00                            DB $$M DUP(0)
(1) 5637/    3D90 : [5637]                              ENDIF
(1) 5638/    3D90 : D1                  		POP DE
(1) 5639/    3D91 : C1                  		POP BC
(1) 5640/    3D92 : E1                  		POP HL
(1) 5641/    3D93 : C9                  		RET
(1) 5642/    3D94 :                     
(1) 5643/    3D94 : E7                  PRINT_SYM	RST 0X20
(1) 5644/    3D95 : 10 00               		DW 0X0010
(1) 5645/    3D97 : C9                  		RET
(1) 5646/    3D98 :                     
(1) 5647/    3D98 :                     ;ÇéëëíÄçéÇãÖçàÖ ÇÉ93
(1) 5648/    3D98 : 3E 08               COM_00		LD A,0X08		;0X0B
(1) 5649/    3D9A : =>TRUE              COM2VG_WAIT	IF EMU3D2F=1
(1) 5650/    3D9A : F7                  		RST 0X30
(1) 5651/    3D9B : 00                  		DB WOUT1F
(1) 5652/    3D9C : =>FALSE             		ELSE
(1) 5653/    3D9C :                     		OUT (VG_RW_1F),A
(1) 5654/    3D9C : [5649]              		ENDIF
(1) 5655/    3D9C : E5                  LOC_3D9C	PUSH HL
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 151 - 11/17/2013 22:45:09


(1) 5656/    3D9D : E7                  		RST 0X20
(1) 5657/    3D9E : 54 1F               		DW 0X1F54
(1) 5658/    3DA0 : 38 03               		JR C,LOC_3DA5
(1) 5659/    3DA2 : E7                  		RST 0X20
(1) 5660/    3DA3 : 7B 1B               		DW 0X1B7B
(1) 5661/    3DA5 : E1                  LOC_3DA5	POP HL
(1) 5662/    3DA6 : =>TRUE              		IF EMU3D2F=1
(1) 5663/    3DA6 : F7                  		RST 0X30
(1) 5664/    3DA7 : 0A                  		DB WINFF
(1) 5665/    3DA8 : =>FALSE             		ELSE
(1) 5666/    3DA8 :                     		IN A,(VG_RW_FF)
(1) 5667/    3DA8 : [5662]              		ENDIF
(1) 5668/    3DA8 : E6 80               		AND 0X80
(1) 5669/    3DAA : 28 F0               		JR Z,LOC_3D9C
(1) 5670/    3DAC : C9                  		RET
(1) 5671/    3DAD :                     
(1) 5672/    3DAD : 3E 08               CP_PRESENT_DISK	LD A,8
(1) 5673/    3DAF : CD 9A 3D            		CALL COM2VG_WAIT
(1) 5674/    3DB2 : 11 00 00            		LD DE,0
(1) 5675/    3DB5 : =>TRUE              		IF EMU3D2F=1
(1) 5676/    3DB5 : F7                  		RST 0X30
(1) 5677/    3DB6 : 06                  		DB WIN1F
(1) 5678/    3DB7 : =>FALSE             		ELSE
(1) 5679/    3DB7 :                     		IN A,(VG_RW_1F)
(1) 5680/    3DB7 : [5675]              		ENDIF
(1) 5681/    3DB7 : E6 02               		AND 2
(1) 5682/    3DB9 : 47                  		LD B,A
(1) 5683/    3DBA : =>TRUE              LOC_3DBA	IF EMU3D2F=1
(1) 5684/    3DBA : F7                  		RST 0X30
(1) 5685/    3DBB : 06                  		DB WIN1F
(1) 5686/    3DBC : =>FALSE             		ELSE
(1) 5687/    3DBC :                     		IN A,(VG_RW_1F)
(1) 5688/    3DBC : [5683]              		ENDIF
(1) 5689/    3DBC : E6 02               		AND 2
(1) 5690/    3DBE : B8                  		CP B
(1) 5691/    3DBF : =>TRUE              		IF EMU3D2F=1
(1) 5692/    3DBF : C9                  		RET
(1) 5693/    3DC0 : =>FALSE             		ELSE
(1) 5694/    3DC0 :                     		RET NZ
(1) 5695/    3DC0 : [5691]              		ENDIF
(1) 5696/    3DC0 : 13                  		INC DE
(1) 5697/    3DC1 : 7B                  		LD A,E
(1) 5698/    3DC2 : B2                  		OR D
(1) 5699/    3DC3 : 20 F5               		JR NZ,LOC_3DBA
(1) 5700/    3DC5 : C3 E7 3E            		JP DISK_NOT_FOUND
(1) 5701/    3DC8 :                     
(1) 5702/    3DC8 :                     ;ÇõÅéê ÑàëäéÇéÑÄ èé ìåéãóÄçàû
(1) 5703/    3DC8 : 3A 19 5D            ACTIV_DEF_DSK	LD A,(TRD_5D19)		; ÑàëäéÇéÑ èé ìåéãóÄçàû
(1) 5704/    3DCB :                     ;çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1) 5705/    3DCB : 32 F6 5C            COM_01		LD (TRD_5CF6),A		; çÄëíêéâäÄ çÄ ÑàëäéÇéÑ
(1) 5706/    3DCE : 21 16 5D            		LD HL,TRD_5D16		; äéèàü	ëàëíÖåçéÉé êÖÉàëíêÄ (èéêí #FF)
(1) 5707/    3DD1 : F6 3C               		OR 0X3C
(1) 5708/    3DD3 : 77                  		LD (HL),A
(1) 5709/    3DD4 : =>TRUE              		IF EMUWRFF=1
(1) 5710/    3DD4 : F7                  		RST 0X30
(1) 5711/    3DD5 : 04                  		DB WOUTFF
(1) 5712/    3DD6 : =>FALSE             		ELSE
(1) 5713/    3DD6 :                     		OUT (VG_RW_FF),A
(1) 5714/    3DD6 : [5709]              		ENDIF
(1) 5715/    3DD6 : 06 00               		LD B,0
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 152 - 11/17/2013 22:45:09


(1) 5716/    3DD8 : =>TRUE              		IF EMU3D2F=1
(1) 5717/    3DD8 : DB 4F               		IN A,(RW_PORT1)
(1) 5718/    3DDA : D3 8F               		OUT (RW_PORT3),A
(1) 5719/    3DDC : =>FALSE             		ELSE
(1) 5720/    3DDC :                     		IN A,(VG_RW_3F)
(1) 5721/    3DDC :                     		OUT (VG_RW_7F),A
(1) 5722/    3DDC : [5716]              		ENDIF
(1) 5723/    3DDC : 3E 18               		LD A,%00011000
(1) 5724/    3DDE : =>TRUE              		IF EMU3D2F=1
(1) 5725/    3DDE : F7                  		RST 0X30
(1) 5726/    3DDF : 00                  		DB WOUT1F
(1) 5727/    3DE0 : =>FALSE             		ELSE
(1) 5728/    3DE0 :                     		OUT (VG_RW_1F),A
(1) 5729/    3DE0 : [5724]              		ENDIF
(1) 5730/    3DE0 : 10 FE               		DJNZ $
(1) 5731/    3DE2 : =>TRUE              COM_011		IF EMU3D2F=1
(1) 5732/    3DE2 : F7                  		RST 0X30
(1) 5733/    3DE3 : 06                  		DB WIN1F
(1) 5734/    3DE4 : =>FALSE             		ELSE
(1) 5735/    3DE4 :                     		IN A,(VG_RW_1F)
(1) 5736/    3DE4 : [5731]              		ENDIF
(1) 5737/    3DE4 : E6 80               		AND 0X80
(1) 5738/    3DE6 : C2 E7 3E            		JP NZ,DISK_NOT_FOUND
(1) 5739/    3DE9 : C3 36 1E            		JP WR_NUM_TRACK
(1) 5740/    3DEC :                     
(1) 5741/    3DEC :                     ;		LD	C,A
(1) 5742/    3DEC :                     ;		LD	A,3CH
(1) 5743/    3DEC :                     ;		OR	C
(1) 5744/    3DEC :                     ;		OUT (VG_RW_FF),A	;IO OUT (0FFH),A
(1) 5745/    3DEC :                     ;		LD	(HL),A
(1) 5746/    3DEC :                     ;		CALL	GET_TIME_HEAD	; èéãìóÖçàÖ ÇêÖåÖçà èÖêÖåÖôÖçàü	ÉéãéÇäà
(1) 5747/    3DEC :                     ;		AND	80H
(1) 5748/    3DEC :                     ;		JR	Z,LOC_3DFA
(1) 5749/    3DEC :                     ;		CALL	CP_PRESENT_DISK	; èêéÇÖêäÄ çÄãàóàü ÑàëäÄ
(1) 5750/    3DEC :                     ;		CALL	CP_TIME_GOHEAD	; éèêÖÑÖãÖçàÖ ÇêÖåÖçà èÖêÖåÖôÖçàü ÉéãéÇäà
(1) 5751/    3DEC :                     ;		CALL	GET_TYPE_DISK	; èéãìóÖçàÖ äéÑÄ êÖÜàåÄ	êÄÅéíõ ÑàëäéÇéÑÄ
(1) 5752/    3DEC :                     ;		CP	0FFH
(1) 5753/    3DEC :                     ;		JR	NZ,LOC_3DFA
(1) 5754/    3DEC : E5                  		PUSH	HL
(1) 5755/    3DED : CD CA 1F            		CALL	CP_DSK_TRACK
(1) 5756/    3DF0 : E1                  		POP	HL
(1) 5757/    3DF1 : FE 50               		CP	80		; èêéÇÖêäÄ çÄ 80 ÑéêéÜÖä
(1) 5758/    3DF3 : 3E 00               		LD	A,0
(1) 5759/    3DF5 : 20 02               		JR	NZ,LOC_3DF9
(1) 5760/    3DF7 : 3E 80               		LD	A,80H
(1) 5761/    3DF9 : 77                  LOC_3DF9	LD	(HL),A
(1) 5762/    3DFA : CD 36 1E            LOC_3DFA	CALL	WR_NUM_TRACK
(1) 5763/    3DFD : 3E 50               PAUSE725779T	LD A,0X50
(1) 5764/    3DFF : 0E FF               PAUSE_C_A	LD C,0XFF
(1) 5765/    3E01 : 0D                  LOC_3E01	DEC C
(1) 5766/    3E02 : 20 FD               		JR NZ,LOC_3E01
(1) 5767/    3E04 : 3D                  		DEC A
(1) 5768/    3E05 : 20 F8               		JR NZ,PAUSE_C_A
(1) 5769/    3E07 : C9                  		RET
(1) 5770/    3E08 :                     
(1) 5771/    3E08 :                     ; èéãìóÖçàÖ ÇêÖåÖçà èÖêÖåÖôÖçàü	ÉéãéÇäà
(1) 5772/    3E08 : 11 FA 5C            GET_TIME_HEAD	LD DE,TRD_5CFA		; ÇêÖåü	èÖêÖåÖôÖçàü ÑàëäéÇéÑÄ A
(1) 5773/    3E0B : 2A F6 5C            LOC_3E0B	LD HL,(TRD_5CF6)	; ÑàëäéÇéÑ Ñãü ÇêÖåÖççéâ éèÖêÄñàà
(1) 5774/    3E0E : 19                  		ADD HL,DE
(1) 5775/    3E0F : 7E                  		LD A,(HL)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 153 - 11/17/2013 22:45:09


(1) 5776/    3E10 : C9                  		RET
(1) 5777/    3E11 :                     
(1) 5778/    3E11 : 11 C8 5C            GET_TYPE_DISK	LD DE,TRD_5CC8		; êÖÜàå	êÄÅéíÄ ÑàëäéÇéÑÄ A
(1) 5779/    3E14 : 18 F5               		JR LOC_3E0B
(1) 5780/    3E16 :                     
(1) 5781/    3E16 :                     ; éèêÖÑÖãÖçàÖ ÇêÖåÖçà èÖêÖåÖôÖçàü ÉéãéÇäà
(1) 5782/    3E16 : CD 08 3E            CP_TIME_GOHEAD	CALL	GET_TIME_HEAD	; èéãìóÖçàÖ ÇêÖåÖçà èÖêÖåÖôÖçàü	ÉéãéÇäà
(1) 5783/    3E19 : 06 08               		LD	B,8
(1) 5784/    3E1B : 0E 04               		LD	C,4
(1) 5785/    3E1D : 70                  LOC_3E1D	LD	(HL),B
(1) 5786/    3E1E : 3E 0B               		LD	A,0BH
(1) 5787/    3E20 : CD 9A 3D            		CALL	COM2VG_WAIT
(1) 5788/    3E23 : 3E 20               		LD	A,20H
(1) 5789/    3E25 : 06 0B               		LD	B,0BH
(1) 5790/    3E27 : CD 44 3E            		CALL	HEAD_POSITION
(1) 5791/    3E2A : 46                  		LD	B,(HL)
(1) 5792/    3E2B : 3E 01               		LD	A,1
(1) 5793/    3E2D : CD 44 3E            		CALL	HEAD_POSITION
(1) 5794/    3E30 : DB 1F               		IN A,(VG_RW_1F)
(1) 5795/    3E32 : E6 04               		AND	4
(1) 5796/    3E34 : 20 09               		JR	NZ,LOC_3E3F
(1) 5797/    3E36 : AF                  		XOR	A
(1) 5798/    3E37 : CD 44 3E            		CALL	HEAD_POSITION
(1) 5799/    3E3A : DB 1F               		IN A,(VG_RW_1F)
(1) 5800/    3E3C : E6 04               		AND	4
(1) 5801/    3E3E : C0                  		RET	NZ
(1) 5802/    3E3F : 04                  LOC_3E3F	INC	B
(1) 5803/    3E40 : 0D                  		DEC	C
(1) 5804/    3E41 : C8                  		RET	Z
(1) 5805/    3E42 : 18 D9               		JR	LOC_3E1D
(1) 5806/    3E44 :                     
(1) 5807/    3E44 : =>TRUE              HEAD_POSITION	IF EMU3D2F=1
(1) 5808/    3E44 : D3 8F               		OUT (RW_PORT3),A
(1) 5809/    3E46 : =>FALSE             		ELSE
(1) 5810/    3E46 :                     		OUT (VG_RW_7F),A
(1) 5811/    3E46 : [5807]              		ENDIF
(1) 5812/    3E46 : 78                  		LD A,B
(1) 5813/    3E47 : F6 18               		OR 0X18
(1) 5814/    3E49 : C3 9A 3D            		JP COM2VG_WAIT
(1) 5815/    3E4C :                     
(1) 5816/    3E4C : =>TRUE              POSITIONIREN	IF EMU3D2F=1
(1) 5817/    3E4C : D3 8F               		OUT (RW_PORT3),A
(1) 5818/    3E4E : =>FALSE             		ELSE
(1) 5819/    3E4E :                     		OUT (VG_RW_7F),A
(1) 5820/    3E4E : [5816]              		ENDIF
(1) 5821/    3E4E : C5                  		PUSH BC
(1) 5822/    3E4F : 47                  		LD B,A
(1) 5823/    3E50 : =>TRUE              		IF EMU3D2F
(1) 5824/    3E50 : DB 4F               		IN A,(RW_PORT1)
(1) 5825/    3E52 : =>FALSE             		ELSE
(1) 5826/    3E52 :                     		IN A,(VG_RW_3F)
(1) 5827/    3E52 : [5823]              		ENDIF
(1) 5828/    3E52 : B8                  		CP B
(1) 5829/    3E53 : C1                  		POP BC
(1) 5830/    3E54 : F5                  		PUSH AF
(1) 5831/    3E55 : 78                  		LD A,B
(1) 5832/    3E56 : F6 18               		OR 0X18
(1) 5833/    3E58 : CD 9A 3D            		CALL COM2VG_WAIT
(1) 5834/    3E5B : F1                  		POP AF
(1) 5835/    3E5C : C8                  		RET Z
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 154 - 11/17/2013 22:45:09


(1) 5836/    3E5D : C5                  		PUSH BC
(1) 5837/    3E5E : CD FD 3D            		CALL PAUSE725779T
(1) 5838/    3E61 : C1                  		POP BC
(1) 5839/    3E62 : C9                  		RET
(1) 5840/    3E63 :                     
(1) 5841/    3E63 :                     ;ìëíÄçéÇäÄ ÉéãéÇäà çÄ ÑéêéÜäì
(1) 5842/    3E63 : 4F                  COM_02		LD C,A
(1) 5843/    3E64 : CD EB 1F            		CALL COM_16
(1) 5844/    3E67 : CD 11 3E            		CALL GET_TYPE_DISK
(1) 5845/    3E6A : E6 02               		AND 2
(1) 5846/    3E6C : C4 AA 3E            		CALL NZ,SET_SIDE_DSK
(1) 5847/    3E6F : C5                  		PUSH BC
(1) 5848/    3E70 : CB 7E               		BIT 7,(HL)
(1) 5849/    3E72 : 28 0F               		JR Z,LOC_3E83
(1) 5850/    3E74 : CB 46               		BIT 0,(HL)
(1) 5851/    3E76 : 20 0B               		JR NZ,LOC_3E83
(1) 5852/    3E78 : =>TRUE              		IF EMU3D2F=1
(1) 5853/    3E78 : DB 4F               		IN A,(RW_PORT1)
(1) 5854/    3E7A : =>FALSE             		ELSE
(1) 5855/    3E7A :                     		IN A,(VG_RW_3F)
(1) 5856/    3E7A : [5852]              		ENDIF
(1) 5857/    3E7A : B9                  		CP C
(1) 5858/    3E7B : 28 05               		JR Z,LOC_3E82
(1) 5859/    3E7D : 07                  		RLCA
(1) 5860/    3E7E : =>TRUE              		IF EMU3D2F=1
(1) 5861/    3E7E : D3 4F               		OUT (RW_PORT1),A
(1) 5862/    3E80 : =>FALSE             		ELSE
(1) 5863/    3E80 :                     		OUT (VG_RW_3F),A
(1) 5864/    3E80 : [5860]              		ENDIF
(1) 5865/    3E80 : 79                  		LD A,C
(1) 5866/    3E81 : 07                  		RLCA
(1) 5867/    3E82 : 4F                  LOC_3E82	LD C,A
(1) 5868/    3E83 : CD 08 3E            LOC_3E83	CALL GET_TIME_HEAD	; èéãìóÖçàÖ ÇêÖåÖçà èÖêÖåÖôÖçàü	ÉéãéÇäà
(1) 5869/    3E86 : 47                  		LD B,A
(1) 5870/    3E87 : =>TRUE              		IF EMU3D2F=1
(1) 5871/    3E87 : DB 4F               		IN A,(RW_PORT1)
(1) 5872/    3E89 : =>FALSE             		ELSE
(1) 5873/    3E89 :                     		IN A,(VG_RD_3F)
(1) 5874/    3E89 : [5870]              		ENDIF
(1) 5875/    3E89 : B9                  		CP C
(1) 5876/    3E8A : C5                  		PUSH BC
(1) 5877/    3E8B : C4 FD 3D            		CALL NZ,PAUSE725779T
(1) 5878/    3E8E : C1                  		POP BC
(1) 5879/    3E8F : 79                  		LD A,C
(1) 5880/    3E90 : CD 4C 3E            		CALL POSITIONIREN
(1) 5881/    3E93 : C1                  		POP BC
(1) 5882/    3E94 : 79                  		LD A,C
(1) 5883/    3E95 : =>TRUE              		IF EMU3D2F=1
(1) 5884/    3E95 : D3 4F               		OUT (VG_RD_3F),A
(1) 5885/    3E97 : =>FALSE             		ELSE
(1) 5886/    3E97 :                     		OUT (VG_RW_3F),A
(1) 5887/    3E97 : [5883]              		ENDIF
(1) 5888/    3E97 : 3A CD 5C            		LD A,(TRD_5CCD)		; #80-ÉéíéÇçéëíú ÑàëäéÇéÑÄ
(1) 5889/    3E9A : B7                  		OR A
(1) 5890/    3E9B : C8                  		RET Z
(1) 5891/    3E9C : AF                  		XOR A
(1) 5892/    3E9D : 32 CD 5C            		LD (TRD_5CCD),A		; #80-ÉéíéÇçéëíú ÑàëäéÇéÑÄ
(1) 5893/    3EA0 : 06 03               PAUSE_3_C_A	LD B,3
(1) 5894/    3EA2 : 3E FF               LOC_3EA2	LD A,0XFF
(1) 5895/    3EA4 : CD FF 3D            		CALL PAUSE_C_A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 155 - 11/17/2013 22:45:09


(1) 5896/    3EA7 : 10 F9               		DJNZ LOC_3EA2
(1) 5897/    3EA9 : C9                  		RET
(1) 5898/    3EAA :                     
(1) 5899/    3EAA : 79                  SET_SIDE_DSK	LD A,C
(1) 5900/    3EAB : B7                  		OR A
(1) 5901/    3EAC : 1F                  		RRA
(1) 5902/    3EAD : 4F                  		LD C,A
(1) 5903/    3EAE : D0                  		RET NC
(1) 5904/    3EAF : C3 F6 1F            		JP COM_17
(1) 5905/    3EB2 :                     
(1) 5906/    3EB2 : CD EB 1F            GET_NUM_TRACK	CALL COM_16
(1) 5907/    3EB5 : =>TRUE              LOC_3EB5	IF EMU3D2F=1
(1) 5908/    3EB5 : F7                  		RST 0X30
(1) 5909/    3EB6 : 06                  		DB WIN1F
(1) 5910/    3EB7 : =>FALSE             		ELSE
(1) 5911/    3EB7 :                     		IN A,(VG_RW_1F)
(1) 5912/    3EB7 : [5907]              		ENDIF
(1) 5913/    3EB7 : E6 80               		AND 0X80
(1) 5914/    3EB9 : 32 CD 5C            		LD (TRD_5CCD),A		; #80-ÉéíéÇçéëíú ÑàëäéÇéÑÄ
(1) 5915/    3EBC : =>TRUE              		IF EMU3D2F=1
(1) 5916/    3EBC : DB 4F               		IN A,(RW_PORT1)
(1) 5917/    3EBE : =>FALSE             		ELSE
(1) 5918/    3EBE :                     		IN A,(VG_RW_3F)
(1) 5919/    3EBE : [5915]              		ENDIF
(1) 5920/    3EBE : 67                  		LD H,A
(1) 5921/    3EBF : CD 97 32            		CALL BUGFIX_3EBF	;HEAD_POSITION
(1) 5922/    3EC2 : 0E 7F               		LD C,0X7F
(1) 5923/    3EC4 : 16 01               		LD D,1
(1) 5924/    3EC6 : F3                  		DI
(1) 5925/    3EC7 : 3E C0               		LD A,0XC0
(1) 5926/    3EC9 : =>TRUE              		IF EMU3D2F=1
(1) 5927/    3EC9 : F7                  		RST 0X30
(1) 5928/    3ECA : 00                  		DB WOUT1F
(1) 5929/    3ECB : =>FALSE             		ELSE
(1) 5930/    3ECB :                     		OUT (VG_RW_1F),A
(1) 5931/    3ECB : [5926]              		ENDIF
(1) 5932/    3ECB : C5                  LOC_3ECB	PUSH BC
(1) 5933/    3ECC : 06 03               		LD B,3
(1) 5934/    3ECE : =>TRUE              LOC_3ECE	IF EMU3D2F=1
(1) 5935/    3ECE : F7                  		RST 0X30
(1) 5936/    3ECF : 0A                  		DB WINFF
(1) 5937/    3ED0 : =>FALSE             		ELSE
(1) 5938/    3ED0 :                     		IN A,(VG_RW_FF)
(1) 5939/    3ED0 : [5934]              		ENDIF
(1) 5940/    3ED0 : E6 C0               		AND 0XC0
(1) 5941/    3ED2 : 20 1E               		JR NZ,LOC_3EF2
(1) 5942/    3ED4 : 13                  		INC DE
(1) 5943/    3ED5 : 7B                  		LD A,E
(1) 5944/    3ED6 : B2                  		OR D
(1) 5945/    3ED7 : 20 F5               		JR NZ,LOC_3ECE
(1) 5946/    3ED9 : 10 F3               		DJNZ LOC_3ECE
(1) 5947/    3EDB : C1                  		POP BC
(1) 5948/    3EDC : FB                  		EI
(1) 5949/    3EDD : 3E D0               		LD A,0XD0
(1) 5950/    3EDF : =>TRUE              		IF EMU3D2F=1
(1) 5951/    3EDF : F7                  		RST 0X30
(1) 5952/    3EE0 : 00                  		DB WOUT1F
(1) 5953/    3EE1 : =>FALSE             		ELSE
(1) 5954/    3EE1 :                     		OUT (VG_RW_1F),A
(1) 5955/    3EE1 : [5950]              		ENDIF
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 156 - 11/17/2013 22:45:09


(1) 5956/    3EE1 : 3A 17 5D            		LD A,(TRD_5D17)		;(TRD_5CD1)
(1) 5957/    3EE4 : FE FF               		CP 0XFF
(1) 5958/    3EE6 : C8                  		RET Z
(1) 5959/    3EE7 : CD 2B 27            DISK_NOT_FOUND	CALL SET_TAPELDERR
(1) 5960/    3EEA : 3E FF               		LD A,0XFF
(1) 5961/    3EEC : 32 17 5D            		LD (TRD_5D17),A		; êàëéÇÄçàÖ áÄëíÄÇäà, Öëãà #AA
(1) 5962/    3EEF : C3 1B 27            		JP LOC_271B
(1) 5963/    3EF2 :                     
(1) 5964/    3EF2 : C1                  LOC_3EF2	POP BC
(1) 5965/    3EF3 : =>TRUE              		IF EMU3D2F=1
(1) 5966/    3EF3 : F7                  		RST 0X30
(1) 5967/    3EF4 : 0D                  		DB WINHC
(1) 5968/    3EF5 : =>FALSE             		ELSE
(1) 5969/    3EF5 :                     		IN H,(C)
(1) 5970/    3EF5 : [5965]              		ENDIF
(1) 5971/    3EF5 : =>TRUE              LOC_3EF5	IF EMU3D2F=1
(1) 5972/    3EF5 : F7                  		RST 0X30
(1) 5973/    3EF6 : 0A                  		DB WINFF
(1) 5974/    3EF7 : =>FALSE             		ELSE
(1) 5975/    3EF7 :                     		IN A,(VG_RW_FF)
(1) 5976/    3EF7 : [5971]              		ENDIF
(1) 5977/    3EF7 : E6 C0               		AND 0XC0
(1) 5978/    3EF9 : 28 FA               		JR Z,LOC_3EF5
(1) 5979/    3EFB : FB                  		EI
(1) 5980/    3EFC : F8                  		RET M
(1) 5981/    3EFD : F3                  		DI
(1) 5982/    3EFE : DB 7F               		IN A,(VG_RW_7F)
(1) 5983/    3F00 : 18 F3               		JR LOC_3EF5
(1) 5984/    3F02 :                     
(1) 5985/    3F02 :                     ;ìëíÄçéÇäÄ çéåÖêÄ ëÖäíéêÄ
(1) 5986/    3F02 : 32 FF 5C            COM_03		LD (TRD_5CFF),A
(1) 5987/    3F05 : C9                  		RET
(1) 5988/    3F06 :                     
(1) 5989/    3F06 :                     ;ìëíÄçéÇäÄ ÄÑêÖëÄ ÅìîÖêÄ
(1) 5990/    3F06 : 22 00 5D            COM_04		LD (TRD_5D00),HL
(1) 5991/    3F09 : C9                  		RET
(1) 5992/    3F0A :                     
(1) 5993/    3F0A : 3E A0               SAVE_SECTOR	LD A,0XA0
(1) 5994/    3F0C : 18 02               		JR LOC_3F10
(1) 5995/    3F0E :                     
(1) 5996/    3F0E : 3E 80               LOAD_SECTOR	LD A,0X80
(1) 5997/    3F10 : 32 FE 5C            LOC_3F10	LD (TRD_5CFE),A
(1) 5998/    3F13 : 16 0A               LOC_3F13	LD D,0X0A
(1) 5999/    3F15 : D5                  LOC_3F15	PUSH DE
(1) 6000/    3F16 : F3                  		DI
(1) 6001/    3F17 : 3A FF 5C            		LD A,(TRD_5CFF)
(1) 6002/    3F1A : 3C                  		INC A
(1) 6003/    3F1B : =>TRUE              		IF EMU3D2F=1
(1) 6004/    3F1B : D3 6F               		OUT (RW_PORT2),A
(1) 6005/    3F1D : =>FALSE             		ELSE
(1) 6006/    3F1D :                     		OUT (VG_RW_5F),A
(1) 6007/    3F1D : [6003]              		ENDIF
(1) 6008/    3F1D : 2A 00 5D            		LD HL,(TRD_5D00)
(1) 6009/    3F20 : 0E 7F               		LD C,0X7F
(1) 6010/    3F22 : 3A FE 5C            		LD A,(TRD_5CFE)
(1) 6011/    3F25 : =>TRUE              		IF EMU3D2F=1
(1) 6012/    3F25 : F7                  		RST 0X30
(1) 6013/    3F26 : 00                  		DB WOUT1F
(1) 6014/    3F27 : =>FALSE             		ELSE
(1) 6015/    3F27 :                     		OUT (VG_RW_1F),A
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 157 - 11/17/2013 22:45:09


(1) 6016/    3F27 : [6011]              		ENDIF
(1) 6017/    3F27 : FE A0               		CP 0XA0
(1) 6018/    3F29 : F5                  LOC_3F29	PUSH AF
(1) 6019/    3F2A : CC BA 3F            		CALL Z,WRITE_SEC
(1) 6020/    3F2D : F1                  		POP AF
(1) 6021/    3F2E : C4 D5 3F            		CALL NZ,READ_SEC
(1) 6022/    3F31 : D1                  		POP DE
(1) 6023/    3F32 : FB                  		EI
(1) 6024/    3F33 : =>TRUE              		IF EMU3D2F=1
(1) 6025/    3F33 : F7                  		RST 0X30
(1) 6026/    3F34 : 06                  		DB WIN1F
(1) 6027/    3F35 : =>FALSE             		ELSE
(1) 6028/    3F35 :                     		IN A,(VG_RW_1F)
(1) 6029/    3F35 : [6024]              		ENDIF
(1) 6030/    3F35 : 47                  		LD B,A
(1) 6031/    3F36 : E6 7F               LOC_3F36	AND 0X7F
(1) 6032/    3F38 : C8                  		RET Z
(1) 6033/    3F39 : 21 D8 29            LOC_3F39	LD HL,READ_ONLY		; READ ONLY
(1) 6034/    3F3C : E6 40               		AND 0X40
(1) 6035/    3F3E : 20 0B               		JR NZ,LOC_3F4B
(1) 6036/    3F40 : 78                  		LD A,B
(1) 6037/    3F41 : E6 04               		AND 4
(1) 6038/    3F43 : 28 5B               		JR Z,LOC_3FA0
(1) 6039/    3F45 : 15                  		DEC D
(1) 6040/    3F46 : 20 CD               		JR NZ,LOC_3F15
(1) 6041/    3F48 : 21 E2 29            LOC_3F48	LD HL,TXT_DISCERROR_	; DISC ERROR
(1) 6042/    3F4B : 3E D0               LOC_3F4B	LD A,0XD0
(1) 6043/    3F4D : =>TRUE              		IF EMU3D2F=1
(1) 6044/    3F4D : F7                  		RST 0X30
(1) 6045/    3F4E : 00                  		DB WOUT1F
(1) 6046/    3F4F : =>FALSE             		ELSE
(1) 6047/    3F4F :                     		OUT (VG_RW_1F),A
(1) 6048/    3F4F : [6043]              		ENDIF
(1) 6049/    3F4F : 78                  		LD A,B
(1) 6050/    3F50 : E6 01               		AND 1
(1) 6051/    3F52 : C2 E7 3E            		JP NZ,DISK_NOT_FOUND
(1) 6052/    3F55 : =>TRUE              		IF EMU3D2F=1
(1) 6053/    3F55 : DB 4F               		IN A,(RW_PORT1)
(1) 6054/    3F57 : =>FALSE             		ELSE
(1) 6055/    3F57 :                     		IN A,(VG_RW_3F)
(1) 6056/    3F57 : [6052]              		ENDIF
(1) 6057/    3F57 : B7                  		OR A
(1) 6058/    3F58 : 20 05               		JR NZ,LOC_3F5F
(1) 6059/    3F5A : =>TRUE              		IF EMU3D2F=1
(1) 6060/    3F5A : DB 6F               		IN A,(RW_PORT2)
(1) 6061/    3F5C : =>FALSE             		ELSE
(1) 6062/    3F5C :                     		IN A,(VG_RW_5F)
(1) 6063/    3F5C : [6059]              		ENDIF
(1) 6064/    3F5C : FE 0A               		CP 0X0A
(1) 6065/    3F5E : C8                  		RET Z
(1) 6066/    3F5F : E5                  LOC_3F5F	PUSH HL
(1) 6067/    3F60 : CD 97 1D            		CALL CLEAR_SCREEN	; éóàëíäÄ éëçéÇçéÉé ùäêÄçÄ
(1) 6068/    3F63 : E1                  		POP HL
(1) 6069/    3F64 : DF                  		RST 0X18
(1) 6070/    3F65 : 21 13 2A            		LD HL,TXT_TRK_		; TRACK
(1) 6071/    3F68 : DF                  		RST 0X18
(1) 6072/    3F69 : =>TRUE              		IF EMU3D2F=1
(1) 6073/    3F69 : DB 4F               		IN A,(RW_PORT1)
(1) 6074/    3F6B : =>FALSE             		ELSE
(1) 6075/    3F6B :                     		IN A,(VG_RW_3F)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 158 - 11/17/2013 22:45:09


(1) 6076/    3F6B : [6072]              		ENDIF
(1) 6077/    3F6B : CD A3 1D            		CALL PRINT_CHISLO_A_
(1) 6078/    3F6E : 21 18 2A            		LD HL,TXT_SEC_		; SECTOR
(1) 6079/    3F71 : DF                  		RST 0X18
(1) 6080/    3F72 : =>TRUE              		IF EMU3D2F=1
(1) 6081/    3F72 : DB 6F               		IN A,(RW_PORT2)
(1) 6082/    3F74 : =>FALSE             		ELSE
(1) 6083/    3F74 :                     		IN A,(VG_RW_5F)
(1) 6084/    3F74 : [6080]              		ENDIF
(1) 6085/    3F74 : CD A3 1D            		CALL PRINT_CHISLO_A_
(1) 6086/    3F77 : 21 FE 29            		LD HL,TXT_RIA_
(1) 6087/    3F7A : DF                  		RST 0X18
(1) 6088/    3F7B : CD 52 10            LOC_3F7B	CALL GET_KEYS		; éÜàÑÄçàÖ çÄÜÄíàü äãÄÇàòà
(1) 6089/    3F7E : FE 49               		CP "I"			; IGNORE-RET Ç ÄÑêÖë #1E8E
(1) 6090/    3F80 : C8                  		RET Z
(1) 6091/    3F81 : FE 52               		CP "R"			; RETRY
(1) 6092/    3F83 : 28 0F               		JR Z,PRESS_RETRY
(1) 6093/    3F85 : FE 41               		CP "A"			; ABORT
(1) 6094/    3F87 : 20 F2               		JR NZ,LOC_3F7B
(1) 6095/    3F89 : CD 2B 27            		CALL SET_TAPELDERR	; PRESS	ABORT
(1) 6096/    3F8C : 3E 07               		LD A,7
(1) 6097/    3F8E : 32 0F 5D            		LD (TRD_5D0F),A		; çéåÖê	éòàÅäà TR-DOS
(1) 6098/    3F91 : C3 D3 01            		JP END_COMAND
(1) 6099/    3F94 :                     
(1) 6100/    3F94 : 3A F5 5C            PRESS_RETRY	LD A,(TRD_5CF5)
(1) 6101/    3F97 : CD 63 3E            		CALL COM_02
(1) 6102/    3F9A : CD A0 3E            		CALL PAUSE_3_C_A
(1) 6103/    3F9D : C3 13 3F            		JP LOC_3F13
(1) 6104/    3FA0 :                     
(1) 6105/    3FA0 : 15                  LOC_3FA0	DEC D
(1) 6106/    3FA1 : CA 48 3F            		JP Z,LOC_3F48		; DISC ERROR
(1) 6107/    3FA4 : D5                  		PUSH DE
(1) 6108/    3FA5 : CD 08 3E            		CALL GET_TIME_HEAD	; èéãìóÖçàÖ ÇêÖåÖçà èÖêÖåÖôÖçàü	ÉéãéÇäà
(1) 6109/    3FA8 : E6 02               		AND 2
(1) 6110/    3FAA : 20 01               		JR NZ,LOC_3FAD
(1) 6111/    3FAC : 34                  		INC (HL)
(1) 6112/    3FAD : CD 98 3D            LOC_3FAD	CALL COM_00
(1) 6113/    3FB0 : 3A F5 5C            		LD A,(TRD_5CF5)
(1) 6114/    3FB3 : CD 63 3E            		CALL COM_02
(1) 6115/    3FB6 : D1                  		POP DE
(1) 6116/    3FB7 : C3 15 3F            		JP LOC_3F15
(1) 6117/    3FBA :                     
(1) 6118/    3FBA : 06 04               WRITE_SEC	LD B,4
(1) 6119/    3FBC : =>TRUE              LOC_3FBC	IF EMU3D2F=1
(1) 6120/    3FBC : F7                  		RST 0X30
(1) 6121/    3FBD : 10                  		DB WWRITE_SEC_		;WINFF
(1) 6122/    3FBE : =>FALSE             		ELSE
(1) 6123/    3FBE :                     		IN A,(VG_RW_FF)
(1) 6124/    3FBE : [6119]              		ENDIF
(1) 6125/    3FBE : E6 C0               		AND 0XC0
(1) 6126/    3FC0 : 20 0F               		JR NZ,LOC_3FD1
(1) 6127/    3FC2 : 13                  		INC DE
(1) 6128/    3FC3 : 7B                  		LD A,E
(1) 6129/    3FC4 : B2                  		OR D
(1) 6130/    3FC5 : 20 F5               		JR NZ,LOC_3FBC
(1) 6131/    3FC7 : 10 F3               		DJNZ LOC_3FBC
(1) 6132/    3FC9 : C9                  		RET
(1) 6133/    3FCA :                     
(1) 6134/    3FCA : =>TRUE              WR_DATAPORT	IF EMU3D2F=1
(1) 6135/    3FCA : F7                  		RST 0X30
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 159 - 11/17/2013 22:45:09


(1) 6136/    3FCB : 10                  		DB WWRITE_SEC_		;WINFF
(1) 6137/    3FCC : =>FALSE             		ELSE
(1) 6138/    3FCC :                     		IN A,(VG_RW_FF)
(1) 6139/    3FCC : [6134]              		ENDIF
(1) 6140/    3FCC : E6 C0               		AND 0XC0
(1) 6141/    3FCE : 28 FA               		JR Z,WR_DATAPORT
(1) 6142/    3FD0 : F8                  		RET M
(1) 6143/    3FD1 : =>TRUE              LOC_3FD1	IF EMU3D2F=1
(1) 6144/    3FD1 : F7                  		RST 0X30
(1) 6145/    3FD2 : 10                  		DB WWRITE_SEC_		;WOUTI
(1) 6146/    3FD3 : =>FALSE             		ELSE
(1) 6147/    3FD3 :                     		OUTI
(1) 6148/    3FD3 : [6143]              		ENDIF
(1) 6149/    3FD3 : 18 F5               		JR WR_DATAPORT
(1) 6150/    3FD5 :                     
(1) 6151/    3FD5 : 06 04               READ_SEC	LD B,4
(1) 6152/    3FD7 : =>TRUE              WAIT4READ	IF EMU3D2F=1
(1) 6153/    3FD7 : F7                  		RST 0X30
(1) 6154/    3FD8 : 11                  		DB WREAD_SEC_		;WINFF
(1) 6155/    3FD9 : =>FALSE             		ELSE
(1) 6156/    3FD9 :                     		IN A,(VG_RW_FF)
(1) 6157/    3FD9 : [6152]              		ENDIF
(1) 6158/    3FD9 : E6 C0               		AND 0XC0
(1) 6159/    3FDB : 20 0F               		JR NZ,RD_DATAPORT1
(1) 6160/    3FDD : 13                  		INC DE
(1) 6161/    3FDE : 7B                  		LD A,E
(1) 6162/    3FDF : B2                  		OR D
(1) 6163/    3FE0 : 20 F5               		JR NZ,WAIT4READ
(1) 6164/    3FE2 : 10 F3               		DJNZ WAIT4READ
(1) 6165/    3FE4 : C9                  		RET
(1) 6166/    3FE5 :                     
(1) 6167/    3FE5 : =>TRUE              RD_DATAPORT	IF EMU3D2F=1
(1) 6168/    3FE5 : F7                  		RST 0X30
(1) 6169/    3FE6 : 11                  		DB WREAD_SEC_		;WINFF
(1) 6170/    3FE7 : =>FALSE             		ELSE
(1) 6171/    3FE7 :                     		IN A,(VG_RW_FF)
(1) 6172/    3FE7 : [6167]              		ENDIF
(1) 6173/    3FE7 : E6 C0               		AND 0XC0
(1) 6174/    3FE9 : 28 FA               		JR Z,RD_DATAPORT
(1) 6175/    3FEB : F8                  		RET M
(1) 6176/    3FEC : =>TRUE              RD_DATAPORT1	IF EMU3D2F=1
(1) 6177/    3FEC : F7                  		RST 0X30
(1) 6178/    3FED : 12                  		DB WINI_RET
(1) 6179/    3FEE : =>FALSE             		ELSE
(1) 6180/    3FEE :                     		INI
(1) 6181/    3FEE : [6176]              		ENDIF
(1) 6182/    3FEE : 18 F5               		JR RD_DATAPORT
(1) 6183/    3FF0 :                     
(1) 6184/    3FF0 : ED 79               		OUT (C),A
(1) 6185/    3FF2 : C9                  FOR_RET		RET
(1) 6186/    3FF3 :                     
(1) 6187/    3FF3 : ED 78               		IN A,(C)
(1) 6188/    3FF5 : C9                  		RET
(1) 6189/    3FF6 :                     
(1) 6190/    3FF6 : (MACRO)             		DUPL 0X3FF8-$,0XFF
(1) 6190/    3FF6 :                     DUPL:
(1) 6190/    3FF6 : =0H                 $$N             EQU (0X3FF8-$) / 1024
(1) 6190/    3FF6 : =2H                 $$M             EQU (0X3FF8-$) # 1024
(1) 6190/    3FF6 :                                     REPT $$N
(1) 6190/    3FF6 :                                     DB 1024 DUP(0XFF)
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80(evo-dos.a80) - page 160 - 11/17/2013 22:45:09


(1) 6190/    3FF6 :                                     ENDM
(1) 6190/    3FF6 : =>TRUE                              IF $$M <> 0
(1) 6190/    3FF6 : FF FF                               DB $$M DUP(0XFF)
(1) 6190/    3FF8 : [6190]                              ENDIF
(1) 6191/    3FF8 : 45 56 4F 44 4F 53   		DB "EVODOS"
(1) 6192/    3FFE : 71 9B               		DW DATA_VERS
(1) 6193/    4000 :                     
       8/    4000 :                     
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 161 - 11/17/2013 22:45:09


  symbol table (* = unused):
  ------------------------

 A2TXT :                       3539 C | *ACCESSSDG :                     40 - |
 ACTIV_DEF_DSK :               3DC8 C | *ADDR_RET :                    3CB4 C |
 ADD_10 :                       507 C |  ADD_FILESIZE :                1697 C |
 ADRTEKV :                     ADF4 - |  ADR_OPEN_CHAN :               2323 C |
*ADR_PERFECT :                   36 - |  ADR_RST8END :                 3CE8 - |
 ADR_SEL_ROM :                   14 - |  ADR_START_COM :               3202 C |
*ARCHITECTURE :  i386-unknown-win32 - |  ATTR_P :                      5C8D - |
 ATTR_T :                      5C8F - | *AUTOMOUNT :                     20 - |
 BANKM :                       5B5C - |  BC2STKBOT :                   1DC1 C |
 BCMP_EMU :                      F5 - | *BIGENDIAN :                      0 - |
*BLACK :                          0 - | *BLUE :                           1 - |
 BORDCR :                      5C48 - | *BRANCHEXT :                      0 - |
*BREAK_BF :                      10 - | *BREAK_HIGH_RD :               11BE - |
*BREAK_HIGH_WR :                1BD - | *BREAK_LOW_RD :                10BE - |
*BREAK_LOW_WR :                  BD - | *BR_INK :                        40 - |
*BR_PAPER :                      80 - |  BUFF_SECT :                   3CB2 C |
 BUF_256 :                     A300 - |  BUF_512 :                     AE00 - |
 BUF_ALLVOL :                     0 - |  BUF_DIRCEP :                  3400 - |
 BUF_LEVELDIR :                A000 - |  BUF_PATH :                    A200 - |
 BUF_PATHMOUNT :               3000 - |  BUF_TABLVOL :                 AD00 - |
 BUF_TDIRCLS :                 A400 - |  BUF_TEKVOL :                  AC00 - |
*BUF_TEMPSEC :                 3500 - | *BUF_WINPATH :                 9C00 - |
 BUGFIX_3EBF :                 3297 C | *BUILD_DEBUG :                    0 - |
 BYTES_COM :                   31C8 C | *B_H :                            1 - |
*B_L :                           20 - |  CALL2BASEDIT :                1D90 C |
 CALL2BASIC :                  2F72 C |  CALL_3D13 :                   283C C |
*CASESENSITIVE :                  1 - |  CAT :                          433 C |
 CD :                          3606 C |  CHANS :                       5C4F - |
 CHARS :                       5C36 - |  CHISLO2STKBOT :               1D7B C |
 CH_ADD :                      5C5D - |  CLEAR_DOWN_SCR :              1D9F C |
 CLEAR_SCREEN :                1D97 C |  CLEAR_WORKSPACE :             1D63 C |
*CLOCK_VIEW :                    10 - |  CLOSE :                       2656 C |
 CLRBUF_EDITOR :               211E C |  CLRBUF_EDITOR_ :              3274 C |
 CLRCMOS :                     36F1 C |  CMOSD_RD_WR :                 BEF7 - |
 CMOSD_SET_ADR :               DEF7 - | *CMOS_BYTE_00 :                  ED - |
*CMOS_BYTE_01 :                  EC - | *CMOS_RD_WR :                  BFF7 - |
*CMOS_SET_ADR :                DFF7 - |  CMP_RAMDISK :                  E82 C |
 CMP_RAMDISK_ :                3334 C |  CMP_SPECSYM :                 3285 C |
 CODES :                        45D C |  CODE_BYTE_COM :               2FF3 C |
 COM2VG_WAIT :                 3D9A C |  COMAND_TBL :                  2885 C |
 COMMAND_CPU :                  2CB C |  COMPARE_B_SYM :               2713 C |
 COM_00 :                      3D98 C |  COM_01 :                      3DCB C |
*COM_011 :                     3DE2 C |  COM_02 :                      3E63 C |
 COM_03 :                      3F02 C |  COM_04 :                      3F06 C |
 COM_05 :                      1E3D C |  COM_06 :                      1E4D C |
 COM_06_ :                     1E62 C |  COM_07 :                      28D8 C |
 COM_08 :                      165C C |  COM_09 :                      1664 C |
 COM_0A :                      1CF0 C |  COM_0B :                      28FB C |
 COM_0C :                      28F2 C |  COM_0E :                      290F C |
 COM_12 :                      2926 C |  COM_13 :                      28E0 C |
 COM_14 :                      28E3 C |  COM_15 :                      2739 C |
 COM_16 :                      1FEB C |  COM_17 :                      1FF6 C |
 COM_18 :                       405 C |  COM_40 :                      2997 C |
 COM_80 :                      29AE C |  COM_DOT :                     346C C |
 COM_STAR :                    1018 C | *CONF4CUSTOM :                   9C - |
*CONF4GLUK :                     94 - | *CONF4PROF :                     90 - |
*CONF_128 :                    7FFD - | *CONSTPI :        3.141592653589793 - |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 162 - 11/17/2013 22:45:09


 CONTINUE_15619 :               16C C | *CONTINUE_MAGIC :                34 - |
*CONT_RST8 :                     2C - |  CONV2_2BYTES :                1DA4 C |
 COPY :                         690 C |  COPYHBLOCK :                   901 C |
 COPY_B :                      152C C |  COPY_BAS2VARS :                117 C |
 COPY_BLOCK :                   801 C |  COPY_BLOCK1 :                  A01 C |
 COPY_FILE :                    72F C |  COPY_FILE_ON2DSK :             63C C |
 COPY_ON1DSK :                 13B7 C |  COPY_ON1DSK_ :                1451 C |
 COPY_S :                      1360 C |  COPY_SECTORS :                15B8 C |
 COPY_STAR_STAR :               5CB C |  CP4PRINT_HEAD :                3CD C |
 CPANDZERO23 :                 25CA C | *CPU0 :                           0 - |
*CPU1 :                        4000 - |  CPU2 :                        8000 - |
*CPU3 :                        C000 - |  CP_0D_OR_80 :                  1C7 C |
 CP_ADR_STR :                  30E1 C |  CP_COPY_SECS :                15B2 C |
 CP_DSK_TRACK :                1FCA C |  CP_ENDOFSECTOR :              232A C |
 CP_END_BLK :                  246E C |  CP_END_BUF :                   50C C |
 CP_END_CAT :                  2FC6 C |  CP_END_DIR :                   4F6 C |
 CP_ERASED_FILE :              1653 C |  CP_ERASED_FILES :              577 C |
 CP_ERROR :                     201 C |  CP_EXT_SHARP :                 5B4 C |
 CP_FILE_FREE :                1ABE C |  CP_FILE_OPENED :              2650 C |
 CP_FREE4PROG :                19F2 C |  CP_FREESEC :                  1403 C |
 CP_FREE_DEST :                14F0 C |  CP_FREE_ON_DSK :              1AC4 C |
 CP_FREE_RAM :                 19FD C |  CP_FREE_SECS :                1680 C |
 CP_HIGH_ERR :                  572 C | *CP_INTERFACE1 :               20F1 C |
 CP_MASSIV :                   1C0F C |  CP_NUM_TRACK :                207D C |
 CP_ON_STKBOT :                 531 C |  CP_PARAMS :                   18AB C |
*CP_PRESENT_DISK :             3DAD C |  CP_SECOND_SYM :                42B C |
 CP_SINTAX :                   1D70 C |  CP_STREAMS :                  220F C |
*CP_TIME_GOHEAD :              3E16 C |  CP_TYPEDRIVE :                 E2A C |
 CP_TYPE_DSK :                  415 C |  CP_VARSTRDOS :                31F3 C |
 CP_VARSTRDOS_ :               32A2 C | *CRCCMOSHIGH :                   EF - |
*CRCCMOSLOW :                    EE - | *CRC_DRVS :                    ADFE - |
 CREATE_222BYTES :             1151 C |  CREATE_BLK :                  2381 C |
 CREATE_BLOCK :                229A C |  CREATE_BLOCK0 :               2288 C |
 CREATE_BUF :                  294A C |  CREATE_FREERAM :              1E23 C |
 CREATE_HEADCHAN :             22B2 C |  CREATE_NEWBLOCK :             2370 C |
 CREATE_TRDTABL :               EA7 C |  CREATE_VARS :                 3D67 C |
 CREATE_VARS_TRD :             3D21 C |  CURCHL :                      5C51 - |
*CYAN :                           5 - |  DATADD :                      5C57 - |
 DATA_VERS :                   9B71 - |  DATE :                  11/17/2013 - |
 DDATE :                         11 - | *DEBUG_ONOFF :                   13 - |
 DELETE_BUF :                  20E5 C |  DELETE_BUF_ :                 320A C |
 DEL_5BYTES :                  1E1C C |  DEL_BUF :                     2970 C |
 DEL_WORKRAM :                 1E2E C |  DEVICES :                     ADE0 - |
 DF_SZ :                       5C6B - |  DIR :                         3574 C |
 DIR01 :                       3598 C |  DIR02 :                       35ED C |
 DIR03 :                       35BB C |  DIR04 :                       35B1 C |
 DIR05 :                       3596 C |  DIR06 :                       3584 C |
 DIR07 :                       3603 C |  DIR08 :                       35C3 C |
 DIR081 :                      35C5 C |  DIR082 :                      35CE C |
 DIR083 :                      35E4 C |  DIR084 :                      35E2 C |
 DIR085 :                      35DA C |  DIR086 :                      35D2 C |
 DISCERROR_ :                   40F C |  DISCERROR_7 :                 31FD C |
*DISKNONE1 :                    B1A C |  DISK_NONE :                   335E C |
 DISK_NONE1 :                  3373 C |  DISK_NOT_FOUND :              3EE7 C |
 DOS2RST8 :                    3396 C |  DOS2RST8_01 :                 33A0 C |
 DOS_EMUL :                     F1F C |  DOS_NOEMUL :                   F1E C |
 DOS_STEK :                    3CAC C |  DRIVE :                       3557 C |
 DRIVES :                      354F C |  DSKINFO :                     3342 C |
 DSK_END :                     335E C | *ECHO_E :                      5C82 - |
 ECODE_BYTE_COM :              3008 C |  ECOMAND_TBL :                 28B7 C |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 163 - 11/17/2013 22:45:09


 ECOPY_BLOCK :                  DDF C |  ECOPY_BLOCK1 :                 DE5 C |
 EDOS2RST01 :                  33E8 C |  EDOS2RST02 :                  33D7 C |
 EDOS2RST8 :                   33CD C | *EDRIVES :                     3557 C |
*EI_RET :                        3E - |  ELT1 :                         ECB C |
 ELT2 :                         EBF C |  EMU3D2F :                        1 - |
*EMUL_TAPE :                     40 - | *EMUVG_BF :                      20 - |
 EMUWRFF :                        1 - |  EMU_LDIR :                    32C9 C |
 EMU_LDIR0 :                   32E4 C |  EMU_LDIR2 :                   32E9 C |
 EMU_LDIR3 :                   330E C | *EMU_LDIR4 :                   32FD C |
 EMU_LDIR_RBC :                3310 C |  EMU_LDIR_RHL :                3315 C |
 END_COM :                      359 C |  END_COMAND :                   1D3 C |
 END_EXT_COM :                 342F C |  END_FORMAT :                  1F0E C |
 END_OUT_DIR :                  3AC C | *END_VARS :                    3CE2 C |
 ERASE :                        787 C |  ERASE_FILE :                   781 C |
 ERASE_FILES :                  7A0 C |  ERR_DIRFULL :                 2723 C |
 ERR_ENDOFFILE :               2492 C |  ERR_INVALID_IO :              249E C |
 ERR_NOFILES :                  3D9 C |  ERR_NR :                      5C3A - |
 ERR_OK :                       3E1 C |  ERR_SP :                      5C3D - |
 ETXT4VIRTDRV :                 A3E C |  EW_DATA :                      A24 C |
 EXECUTECOM2HL :                 69 C |  EXIT_IF_SINTAX :              1D75 C |
 EXIT_RST08 :                   A99 C |  EXIT_RST082 :                  ABF C |
 EXIT_RST083 :                  AE1 C |  EXIT_RST084 :                  AEC C |
 EXIT_RST085 :                  AD5 C |  EXTEND_COM :                  33EC C |
 E_LINE :                      5C59 - | *FALSE :                          0 - |
*FDI_BLOCK_SMESH :             41FF - | *FDI_BYTE_SMESH :              41FE - |
*FDI_IMAGE1SECT :              4400 - | *FDI_PAGE_START :              40FF - |
*FDI_TABLE_CYL :               4000 - |  FILE_EXISTS :                 1C50 C |
 FIND_ENDFILE :                21DB C |  FIND_ENDSTR :                  212 C |
 FIND_END_BUFDIR :             11B0 C |  FIND_END_SEC :                239B C |
 FIND_FILE :                   292F C |  FIND_FILENAME :               1CB3 C |
 FIND_FILENAME0A :              5BD C |  FIND_HEAD_BUF :               1CA4 C |
 FIND_KEYWORD :                30A9 C |  FIND_LAST :                   1DB9 C |
 FIND_MASSIV :                 1C1B C |  FIND_NEXT_BLK :               23CF C |
 FIND_RD_HEAD :                18A4 C | *FIRST_CRCBYTE :                 EB - |
 FLAGS :                       5C3B - | *FLAGS_DRV :                   ADF8 - |
*FLASH_BF :                       2 - | *FONT_BF :                        4 - |
 FORMAT :                      1EC2 C |  FORMAT_DISK :                 20BD C |
 FORMAT_RAM :                   E48 C |  FORMAT_RAM1 :                  E71 C |
 FORMAT_RAM3 :                  E61 C |  FORMAT_TREK :                 1FFD C |
 FORMAT_TREK_ :                322F C |  FOR_LOC_306F :                3290 C |
 FOR_RET :                     3FF2 C | *FULLPMMU :                       1 - |
 GET_ADRTEKFRG :               2321 C |  GET_ADRTEKSYM :               2317 C |
 GET_COMMAND :                 2135 C |  GET_COMMAND2 :                3325 C |
 GET_KEYS :                    1052 C |  GET_LOAD_CODE :               1842 C |
 GET_NEXT_SYM :                1E2A C |  GET_NUM_TRACK :               3EB2 C |
 GET_OVERWRITE_ :               581 C |  GET_PARAM :                   349F C |
 GET_PARAMS :                  187A C |  GET_START_SIZE :              1DE5 C |
 GET_STKBOT_ :                 1DB5 C |  GET_SYMSTR :                  1D8C C |
 GET_TEKSECFILE :              2423 C |  GET_TIME_HEAD :               3E08 C |
 GET_TYPE_DISK :               3E11 C | *GET_TYPE_DISK_ :              32B0 C |
 GO2RUNBOOT :                   2EC C | *GOTO :                        2DA1 C |
*GOTO_END :                     3C0 C |  GO_DEV :                      ADF0 - |
*GREEN :                          4 - | *G_H :                           10 - |
*G_L :                           80 - | *HAS64 :                          1 - |
*HASDSP :                         0 - | *HASFPU :                         0 - |
*HASPMMU :                        0 - |  HEAD_POSITION :               3E44 C |
 HELP :                        36F5 C |  HELP1 :                       3709 C |
 HELP2 :                       3700 C |  HELP3 :                       3715 C |
 HELP4 :                       36FE C |  INDEX :                        BEB - |
*INEXTMODE :                      0 - |  INFF_BIT6 :                    B10 C |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 164 - 11/17/2013 22:45:09


 INFF_BIT61 :                   B11 C | *INFF_BIT7 :                    B58 C |
 INITFREEACCESS :              222F C | *INLWORDMODE :                    0 - |
*INMAXMODE :                      0 - |  INPUTDATAFILE :               25EF C |
 INPUT_2STR2STKBOT :           1DCD C |  INPUT_PARAMS :                1DEB C |
 INPUT_SYM_FILE :              262B C |  INP_EXTFILENAME :             102E C |
*INSRCMODE :                      0 - | *INST_NMIRST :                   40 - |
*INSUPMODE :                      0 - |  IN_COMMAND_CPU :               239 C |
 IN_DOS_15616 :                3D31 C |  IN_DOS_15619 :                3D1A C |
 IN_ROM1 :                      D7A C |  IN_ROM2 :                      D71 C |
 IN_ROM3 :                      D8C C | *IN_ROM4 :                      D67 C |
 IREG_D :                      3CA9 C | *IREG_E :                      3CA8 C |
*IREG_H :                      3CAB C | *IREG_L :                      3CAA C |
*JMP_DBG :                       80 - |  KOLDVOL :                     ADF2 - |
 KOLWO_SECS :                  1EAC C | *KOL_MODES :                      4 - |
 KSTATE0 :                     5C00 - |  KSTATE1 :                     5C01 - |
 K_CUR :                       5C5B - | *LATTR :                       31C0 - |
 LDI3_HL2DE :                   2B0 C |  LIST :                        11CE C |
 LIST4CODES :                  11F8 C | *LISTON :                         1 - |
 LOAD :                        1815 C |  LOAD4BASIC :                  1A01 C |
 LOAD4DATA :                   1A4C C |  LOADINGSECTOR :               2418 C |
 LOAD_END_FILE :               2FDE C |  LOAD_FILE :                   1836 C |
 LOAD_FILLFILE :               1EBC C |  LOAD_FULLFILE :               191B C |
 LOAD_SEC2BUF :                2FD6 C |  LOAD_SECTOR :                 3F0E C |
*LOC2A53 :                     32C4 C |  LOC_0235 :                     235 C |
 LOC_104D :                    104D C |  LOC_1056 :                    1056 C |
 LOC_1073 :                    1073 C |  LOC_108F :                    108F C |
 LOC_1096 :                    1096 C |  LOC_1161 :                    1161 C |
 LOC_1168 :                    1168 C |  LOC_1172 :                    1172 C |
 LOC_1179 :                    1179 C |  LOC_1183 :                    1183 C |
 LOC_118A :                    118A C |  LOC_1194 :                    1194 C |
 LOC_119B :                    119B C |  LOC_11FB :                    11FB C |
 LOC_1205 :                    1205 C |  LOC_123E :                    123E C |
 LOC_1292 :                    1292 C |  LOC_12B5 :                    12B5 C |
 LOC_12D0 :                    12D0 C |  LOC_12D4 :                    12D4 C |
 LOC_12D9 :                    12D9 C |  LOC_132C :                    132C C |
 LOC_1333 :                    1333 C |  LOC_1335 :                    1335 C |
 LOC_1375 :                    1375 C |  LOC_1393 :                    1393 C |
 LOC_13A5 :                    13A5 C | *LOC_14 :                        14 C |
 LOC_140 :                      140 C |  LOC_1465 :                    1465 C |
 LOC_146F :                    146F C |  LOC_1484 :                    1484 C |
 LOC_14A5 :                    14A5 C |  LOC_14CB :                    14CB C |
 LOC_153E :                    153E C |  LOC_1575 :                    1575 C |
 LOC_15D1 :                    15D1 C |  LOC_15DB :                    15DB C |
 LOC_15F8 :                    15F8 C |  LOC_161D :                    161D C |
 LOC_1644 :                    1644 C |  LOC_165E :                    165E C |
 LOC_166 :                      166 C |  LOC_168F :                    168F C |
 LOC_16C3 :                    16C3 C |  LOC_16D6 :                    16D6 C |
 LOC_16E5 :                    16E5 C |  LOC_1710 :                    1710 C |
 LOC_17BA :                    17BA C |  LOC_17DD :                    17DD C |
 LOC_17F0 :                    17F0 C |  LOC_17F7 :                    17F7 C |
 LOC_180D :                    180D C |  LOC_1818 :                    1818 C |
 LOC_1866 :                    1866 C |  LOC_18B7 :                    18B7 C |
 LOC_18CB :                    18CB C |  LOC_18F6 :                    18F6 C |
 LOC_18F9 :                    18F9 C |  LOC_18FD :                    18FD C |
 LOC_192D :                    192D C |  LOC_1937 :                    1937 C |
 LOC_196A :                    196A C |  LOC_1974 :                    1974 C |
 LOC_198E :                    198E C |  LOC_199D :                    199D C |
 LOC_19AB :                    19AB C |  LOC_1A20 :                    1A20 C |
 LOC_1A31 :                    1A31 C |  LOC_1A48 :                    1A48 C |
 LOC_1A5 :                      1A5 C |  LOC_1A79 :                    1A79 C |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 165 - 11/17/2013 22:45:09


 LOC_1A8 :                      1A8 C |  LOC_1AA7 :                    1AA7 C |
 LOC_1AAE :                    1AAE C |  LOC_1AB :                      1AB C |
 LOC_1AB0 :                    1AB0 C |  LOC_1AB6 :                    1AB6 C |
 LOC_1AF8 :                    1AF8 C |  LOC_1B :                        1B C |
 LOC_1B0D :                    1B0D C |  LOC_1B1F :                    1B1F C |
 LOC_1B27 :                    1B27 C |  LOC_1B2C :                    1B2C C |
 LOC_1B39 :                    1B39 C |  LOC_1B48 :                    1B48 C |
 LOC_1B53 :                    1B53 C |  LOC_1B6D :                    1B6D C |
 LOC_1C13 :                    1C13 C |  LOC_1C29 :                    1C29 C |
 LOC_1C2B :                    1C2B C |  LOC_1C45 :                    1C45 C |
 LOC_1C5C :                    1C5C C |  LOC_1C73 :                    1C73 C |
 LOC_1C98 :                    1C98 C | *LOC_1C9C :                    1C9C C |
 LOC_1CBA :                    1CBA C |  LOC_1CCD :                    1CCD C |
 LOC_1CDB :                    1CDB C |  LOC_1CE4 :                    1CE4 C |
 LOC_1CE7 :                    1CE7 C |  LOC_1D25 :                    1D25 C |
 LOC_1D2F :                    1D2F C | *LOC_1D67 :                    1D67 C |
 LOC_1DD0 :                    1DD0 C |  LOC_1DFB :                    1DFB C |
 LOC_1E64 :                    1E64 C |  LOC_1E67 :                    1E67 C |
 LOC_1E75 :                    1E75 C |  LOC_1EA7 :                    1EA7 C |
*LOC_1EE8 :                    1EE4 C | *LOC_1F1B :                    1F0B C |
 LOC_1F3 :                      1F3 C | *LOC_1F55 :                    1F28 C |
 LOC_1FE7 :                    1FE7 C |  LOC_1FF0 :                    1FF0 C |
 LOC_2007 :                    2007 C |  LOC_2076 :                    2076 C |
 LOC_208A :                    208A C |  LOC_2090 :                    2090 C |
 LOC_20A6 :                    20A6 C |  LOC_20C6 :                    20C6 C |
 LOC_20E1 :                    20E1 C |  LOC_2111 :                    2111 C |
 LOC_2113 :                    2113 C |  LOC_211C :                    211C C |
 LOC_218E :                    218E C |  LOC_219A :                    219A C |
 LOC_21AE :                    21AE C |  LOC_21F1 :                    21F1 C |
 LOC_2201 :                    2201 C |  LOC_2206 :                    2206 C |
 LOC_221B :                    221B C |  LOC_2225 :                    2225 C |
 LOC_2228 :                    2228 C |  LOC_226B :                    226B C |
 LOC_2270 :                    2270 C |  LOC_22C4 :                    22C4 C |
 LOC_22FC :                    22FC C |  LOC_2304 :                    2304 C |
 LOC_2358 :                    2358 C |  LOC_2379 :                    2379 C |
 LOC_23B6 :                    23B6 C |  LOC_24 :                        24 C |
 LOC_2413 :                    2413 C |  LOC_2438 :                    2438 C |
 LOC_243F :                    243F C |  LOC_2441 :                    2441 C |
 LOC_2494 :                    2494 C |  LOC_24C2 :                    24C2 C |
 LOC_24D5 :                    24D5 C |  LOC_24EE :                    24EE C |
 LOC_24F2 :                    24F2 C |  LOC_2538 :                    2538 C |
 LOC_2544 :                    2544 C |  LOC_257C :                    257C C |
 LOC_2584 :                    2584 C |  LOC_25A7 :                    25A7 C |
 LOC_25AD :                    25AD C |  LOC_25D2 :                    25D2 C |
 LOC_260F :                    260F C |  LOC_2614 :                    2614 C |
 LOC_261D :                    261D C |  LOC_2626 :                    2626 C |
 LOC_2642 :                    2642 C |  LOC_2645 :                    2645 C |
 LOC_269D :                    269D C |  LOC_26BC :                    26BC C |
*LOC_271 :                      26D C |  LOC_271B :                    271B C |
 LOC_27B :                      27B C |  LOC_28E5 :                    28E5 C |
 LOC_28EF :                    28EF C |  LOC_293B :                    293B C |
 LOC_298F :                    298F C |  LOC_2992 :                    2992 C |
 LOC_2998 :                    2998 C |  LOC_2A41 :                    2A41 C |
 LOC_2A4B :                    2A4B C |  LOC_2A53 :                    2A53 C |
 LOC_2A53_ :                   32BB C |  LOC_2B :                        2B C |
 LOC_2B09 :                    2B09 C |  LOC_2B2 :                      2B2 C |
 LOC_2B3F :                    2B3F C |  LOC_2B58 :                    2B58 C |
 LOC_2B79 :                    2B79 C |  LOC_2B80 :                    2B80 C |
 LOC_2B93 :                    2B93 C |  LOC_2B95 :                    2B95 C |
 LOC_2BB :                      2BB C |  LOC_2C1B :                    2C1B C |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 166 - 11/17/2013 22:45:09


 LOC_2C55 :                    2C55 C |  LOC_2C59 :                    2C59 C |
 LOC_2C70 :                    2C70 C |  LOC_2C7A :                    2C7A C |
 LOC_2D0E :                    2D0E C |  LOC_2D58 :                    2D58 C |
 LOC_2D6F :                    2D6F C |  LOC_2D7B :                    2D7B C |
 LOC_2D92 :                    2D92 C |  LOC_2DD2 :                    2DD2 C |
 LOC_2DD8 :                    2DD8 C |  LOC_2DE3 :                    2DE3 C |
 LOC_2E05 :                    2E05 C |  LOC_2E33 :                    2E33 C |
 LOC_2E39 :                    2E39 C |  LOC_2E43 :                    2E43 C |
 LOC_2E64 :                    2E64 C |  LOC_2E79 :                    2E79 C |
 LOC_2E9C :                    2E9C C |  LOC_2EBC :                    2EBC C |
 LOC_2ECC :                    2ECC C |  LOC_2EF7 :                    2EF7 C |
 LOC_2F03 :                    2F03 C |  LOC_2F0C :                    2F0C C |
 LOC_2F1B :                    2F1B C |  LOC_2F23 :                    2F23 C |
 LOC_2F4F :                    2F4F C |  LOC_2F50 :                    2F50 C |
 LOC_2F57 :                    2F57 C |  LOC_2F59 :                    2F59 C |
 LOC_2F65 :                    2F65 C |  LOC_3057 :                    3057 C |
 LOC_3087 :                    3087 C |  LOC_309A :                    309A C |
 LOC_30A :                      30A C |  LOC_30B1 :                    30B1 C |
 LOC_30BB :                    30BB C |  LOC_30C8 :                    30C8 C |
 LOC_30CD :                    30CD C |  LOC_30D9 :                    30D9 C |
 LOC_30F4 :                    30F4 C |  LOC_31A :                      31A C |
 LOC_320 :                      320 C |  LOC_3A :                        3A C |
 LOC_3B5 :                      3B5 C |  LOC_3C06 :                    3C06 C |
 LOC_3C09 :                    3C09 C |  LOC_3CFA :                    3CFA C |
 LOC_3CFD :                    3CFD C |  LOC_3D00 :                    3D00 C |
 LOC_3D03 :                    3D03 C |  LOC_3D06 :                    3D06 C |
 LOC_3D0A :                    3D0A C |  LOC_3D0E :                    3D0E C |
 LOC_3D16 :                    3D16 C |  LOC_3D2F :                    3D2F C |
 LOC_3D9C :                    3D9C C |  LOC_3DA5 :                    3DA5 C |
 LOC_3DBA :                    3DBA C |  LOC_3DF9 :                    3DF9 C |
*LOC_3DFA :                    3DFA C |  LOC_3E01 :                    3E01 C |
 LOC_3E0B :                    3E0B C |  LOC_3E1D :                    3E1D C |
 LOC_3E3F :                    3E3F C |  LOC_3E82 :                    3E82 C |
 LOC_3E83 :                    3E83 C |  LOC_3EA2 :                    3EA2 C |
 LOC_3EB5 :                    3EB5 C | *LOC_3ECB :                    3ECB C |
 LOC_3ECE :                    3ECE C |  LOC_3EF2 :                    3EF2 C |
 LOC_3EF5 :                    3EF5 C |  LOC_3F10 :                    3F10 C |
 LOC_3F13 :                    3F13 C |  LOC_3F15 :                    3F15 C |
*LOC_3F29 :                    3F29 C | *LOC_3F36 :                    3F36 C |
 LOC_3F39 :                    3F39 C |  LOC_3F48 :                    3F48 C |
 LOC_3F4B :                    3F4B C |  LOC_3F5F :                    3F5F C |
 LOC_3F7B :                    3F7B C |  LOC_3FA0 :                    3FA0 C |
 LOC_3FAD :                    3FAD C |  LOC_3FBC :                    3FBC C |
 LOC_3FD1 :                    3FD1 C |  LOC_425 :                      425 C |
 LOC_460 :                      460 C |  LOC_46A :                      46A C |
 LOC_479 :                      479 C |  LOC_4B6 :                      4B6 C |
 LOC_4C4 :                      4C4 C |  LOC_4DF :                      4DF C |
 LOC_4E3 :                      4E3 C |  LOC_4E8 :                      4E8 C |
 LOC_569 :                      569 C |  LOC_5F4 :                      5F4 C |
 LOC_634 :                      634 C |  LOC_6F3 :                      6F3 C |
 LOC_744 :                      744 C |  LOC_775 :                      775 C |
 LOC_79 :                        79 C |  LOC_7BC :                      7BC C |
 LOC_7C3 :                      7C3 C |  LOC_7D2 :                      7D2 C |
 LOC_9 :                          B C |  LOC_C34 :                     3483 C |
 LOC_C58 :                     349B C |  LOOK_VARS :                   1D9B C |
*LSYM :                         1C0 - |  M1004 :                         21 - |
 M1012 :                          0 - |  M1155 :                          9 - |
 M1215 :                         DF - |  M1218 :                         24 - |
 M1219 :                         75 - |  M1258 :                         10 - |
 M1260 :                          6 - |  M1261 :                          F - |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 167 - 11/17/2013 22:45:09


 M1276 :                          E - |  M1280 :                          3 - |
 M1281 :                          3 - |  M1344 :                          2 - |
 M405 :                           1 - |  M409 :                           0 - |
 M412 :                           0 - |  M416 :                           5 - |
 M426 :                           3 - |  M435 :                           0 - |
 M441 :                           7 - |  M632 :                          C3 - |
 M719 :                          17 - |  M833 :                           3 - |
 M834 :                           3 - |  M857 :                          13 - |
 M870 :                          2D - |  M943 :                           4 - |
 M944 :                           3 - |  M967 :                           3 - |
*MACEXP :                         1 - | *MAGENTA :                        3 - |
 MAGIC :                       2A56 C |  MARK_SP :                      21D C |
 MASK_DRV :                    3CCF C |  MEMBOT :                      5C92 - |
*MEMORY_128 :                    30 - | *MEMORY_48 :                     20 - |
*MEMORY_ALL :                    10 - |  MERGE :                       19B1 C |
*MINT_STACK :                  3CCC C | *MKOL_MODES :                     3 - |
 MMOUNTH :                        B - | *MOMCPU :                      80DC - |
*MOMCPUNAME :              Z80UNDOC - |  MOUNT :                       362C C |
 MOUNT01 :                     3644 C |  MOUNT02 :                     363C C |
 MOUNT_CLS :                   1000 - |  MOUNT_DRIVES :                A100 - |
 MOVE :                        16AB C |  MOVE_FILE :                   17A5 C |
 N1004 :                          0 - |  N1012 :                          0 - |
 N1155 :                          0 - |  N1215 :                          1 - |
 N1218 :                          0 - |  N1219 :                          0 - |
 N1258 :                          0 - |  N1260 :                          0 - |
 N1261 :                          0 - |  N1276 :                          0 - |
 N1280 :                          0 - |  N1281 :                          0 - |
 N1344 :                          0 - |  N405 :                           0 - |
 N409 :                           0 - |  N412 :                           0 - |
 N416 :                           0 - |  N426 :                           0 - |
 N435 :                           0 - |  N441 :                           0 - |
 N632 :                           0 - |  N719 :                           0 - |
 N833 :                           0 - |  N834 :                           0 - |
 N857 :                           0 - |  N870 :                           0 - |
 N943 :                           0 - |  N944 :                           0 - |
 N967 :                           0 - |  NAPRAVL :                      B27 C |
*NESTMAX :                      100 - |  NEW :                          53A C |
 NEWPPC :                      5C42 - |  NEXT_CMP_COM :                3472 C |
*NMI_BF :                         8 - |  NOMER_DRV :                   3615 C |
 NOT_USED :                    5C81 - |  NO_PARAM :                    34A0 C |
 NSPPS :                       5C44 - |  NUMBER_VERS :   EVO-DOS Ver 0.35   - |
 NUMDSK2BYTE :                  524 C |  NUM_SEC_FILE :                1A94 C |
*NUM_TXTSCR :                     7 - | *NUM_ZXSCR :                      3 - |
*NXTLIN :                      5C55 - |  OFFSET_BUFSYM :               B000 - |
 OFFSET_FNTSAVE :              B800 - | *OFFSET_SCRSAVE :              2500 - |
 OPEN :                        2182 C |  OPENSTREAM :                  1D84 C |
 OPEN_BLK :                    23E4 C |  OPEN_CHAN_0 :                 1D83 C |
 OPEN_CHAN_2 :                 1D88 C |  OPEN_NEXT_BLK :               23C1 C |
 OPEN_SAVED :                  2568 C |  OPEN_STREAM :                 2242 C |
 OUT_COLOR_LINE :              106E C |  OUT_SYM2FILE :                244A C |
*PACKING :                        0 - | *PADDING :                        1 - |
*PAGE4FLASHER :                  40 - | *PAGE4TAP :                      60 - |
*PAGE_ADDSTS :                    6 - |  PAGE_DATARAMD :                  A - |
 PAGE_EVODOS :                    2 - | *PAGE_FATVARS :                   1 - |
*PAGE_MOUNTER :                   4 - | *PAGE_PROFROM :                   3 - |
 PAGE_RAMDISK :                   9 - | *PAGE_SCR_FONT :                  7 - |
*PAGE_STS :                       5 - | *PAGE_TEMP :                      8 - |
 PAUSE725779T :                3DFD C |  PAUSE_3_C_A :                 3EA0 C |
 PAUSE_C_A :                   3DFF C |  PEEK :                        19A5 C |
*PENT_CONF :                   EFF7 - |  PEVO_CONF :                     BF - |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 168 - 11/17/2013 22:45:09


 POKE :                        19A9 C |  POSITIONIREN :                3E4C C |
 PPC :                         5C45 - |  PRESS_RETRY :                 3F94 C |
 PRINT2ZERO :                  333B C | *PRINT8SYM :                    F47 C |
 PRINT8SYM1 :                   F4A C | *PRINTER_AY :                    20 - |
 PRINT_0D :                    3D80 C |  PRINT_A_ :                    3D82 C |
 PRINT_A_CHISLO :              11A8 C |  PRINT_CHISLO :                1DA9 C |
 PRINT_CHISLO_A_ :             1DA3 C |  PRINT_ERROR :                  3C3 C |
 PRINT_FILENAME :              2938 C |  PRINT_HL_CHISLO :             115D C |
 PRINT_MSG :                   2707 C |  PRINT_NUM_TRK :               3239 C |
 PRINT_SYM :                   3D94 C |  PRINT_TXTERR :                1C4A C |
 PRINT_VIRTDRV :               331A C |  PRN_ADR_ASTART :              131B C |
 PROG :                        5C53 - |  PROPUSK :                     3498 C |
 PRT_B_HL_ :                   352E C |  PRT_NUM_VIRT :                34AA C |
 PRT_TEXT_ERROR :              1D29 C |  PRT_VERS :                    34E9 C |
 PUT_NUMDSK_STK :              1DBD C | *P_ADDON1 :                       5 - |
*P_ADDON2 :                       4 - | *P_ADDONS :                       6 - |
 P_ADD_BAS48 :                    B - | *P_ADD_DOS :                      A - |
*P_BAS128 :                       1 - |  P_BAS48 :                        3 - |
*P_DOS :                          2 - | *P_ERS :                          0 - |
*P_MSXDOS :                       9 - |  P_RAMT :                      5CB4 - |
*P_RST8 :                         7 - |  RAMTOP :                      5CB2 - |
 RASP :                        5C38 - | *RATTR :                       21C1 - |
 RBHL1 :                        F43 C |  RDHEAD_FILENAME :             165D C |
 RD_0SEC2BUF :                  3E8 C | *RD_0WINA0 :                     BE - |
*RD_0WINA1 :                    1BE - | *RD_0WINA2 :                    2BE - |
*RD_0WINA3 :                    3BE - |  RD_1F :                       3CAF C |
 RD_1WINA0 :                    4BE - | *RD_1WINA1 :                    5BE - |
*RD_1WINA2 :                    6BE - | *RD_1WINA3 :                    7BE - |
*RD_77 :                        CBE - | *RD_7FFD :                      ABE - |
 RD_DATAPORT :                 3FE5 C |  RD_DATAPORT1 :                3FEC C |
 RD_DOS7FFD :                   9BE - | *RD_EFF7 :                      BBE - |
 RD_FF :                       3CB1 C |  RD_FILE :                     1921 C |
 RD_HEAD_COPY :                17E9 C |  RD_OR_VERIFY :                1946 C |
*RD_PALITRA :                   DBE - | *RD_RAMNROM :                   8BE - |
 RD_SECTORS :                  195C C |  READCMOS :                     E0C C |
 READ_9SEC :                    3FD C |  READ_BYTE_HL_ :                F20 C |
 READ_MASSIV :                 1BFC C |  READ_NUM_SEC :                 3EC C |
 READ_ONLY :                   29D8 C |  READ_SEC :                    3FD5 C |
 READ_SEC2BUF :                 517 C |  READ_SEC4NEM :                 3F2 C |
 READ_SEC_ :                    CA2 C |  READ_SEC_1 :                   CC1 C |
*RED :                            2 - |  REG_A :                       3CBB C |
*REG_B :                       3CB9 C |  REG_C :                       3CB8 C |
 REG_F :                       3CBA C |  REG_H :                       3CBD C |
*REG_I :                       3CB7 C |  REG_IF :                      3CB6 C |
 REG_L :                       3CBC C |  REINIT_9SEC :                 176C C |
*RELAXED :                        1 - | *RELOAD_FONT :                   10 - |
 REPDEL :                      5C09 - |  RESERVED_RAM :                166F C |
 RESERV_RAM :                  1E32 C | *RESET2CUSTOM :                   3 - |
*RESET2EVOSERV :                  0 - | *RESET2GLUK :                     1 - |
*RESET2PROFROM :                  2 - |  RESTORE_COMSTR :              212A C |
 RESTORE_SP :                   232 C |  RETURN :                      1CFB C |
 RET_PAGE_STD :                 DE9 C |  REWRITE_9SEC :                1E43 C |
 RST08_WORK :                   A3E C |  RST08_WORK1 :                  A48 C |
*RST_10 :                        10 C | *RST_18 :                        18 C |
*RST_20 :                        20 C | *RST_28 :                        28 C |
*RST_30 :                        30 C | *RST_38 :                        38 C |
*RST_8 :                          8 C | *RSYM :                        11C0 - |
 RUN :                         1D4D C |  RUN_CODE :                    3226 C |
 RUN_FILE :                    3210 C |  RW_PORT0 :                      2F - |
 RW_PORT1 :                      4F - |  RW_PORT2 :                      6F - |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 169 - 11/17/2013 22:45:09


 RW_PORT3 :                      8F - | *R_H :                            2 - |
*R_L :                           40 - |  SAE2E_LINE :                  3032 C |
 SAE2_HL_ :                    3048 C |  SAVE :                        1AD0 C |
 SAVED_RAM :                   3CD2 C |  SAVE_FILE :                   1B59 C |
 SAVE_HEAD_BLK :               26E1 C |  SAVE_SECS_DEST :              151F C |
 SAVE_SECTOR :                 3F0A C |  SAVE_TEKSECTOR :              23FC C |
 SAVE_TEK_SEC :                25C3 C |  SAVE_TEK_VOL :                ADF6 - |
*SECFREE :                     3346 C |  SELFATDRV :                   3458 C |
 SET4MBPAGE :                   F06 C |  SETDVOL :                     ADF3 - |
 SETUP_DSK :                   1C81 C |  SETUP_DSK_DEST :              14E4 C |
 SETUP_DSK_SOURCE :            14D8 C |  SET_AND_PUT :                 1DDF C |
 SET_CH_ADD :                  1DC5 C |  SET_CP_FILENAME :             1CB0 C |
 SET_DRIVENAME :                E36 C |  SET_DRIVENAME_ :              32A9 C |
 SET_DSK :                     2443 C |  SET_FILENAME :                1C57 C |
 SET_HEAD_FILENAME :           166B C |  SET_HEAD_STSZ :               1BC8 C |
*SET_MAP :                       40 - |  SET_NUM_CHAN :                1E0B C |
 SET_NUM_ERR :                 2731 C |  SET_RWPORT0 :                 337C C |
 SET_SIDE_DSK :                3EAA C |  SET_START_SIZE :              1BDE C |
 SET_TAPELDERR :               272B C |  SET_VARS :                    2F90 C |
 SET_VIRT :                    34C3 C |  SHADOW_BF :                      1 - |
 SINTAX_ERROR :                1D1A C |  SIZEDATE :                       A - |
*SOUNDKEYS :                      8 - |  SPIS_ADR_COM :                3008 C |
*SPONSL :                      5C8A - |  SP_RAMD0 :                     E05 C |
 SP_RAMD1 :                     D4F C |  SP_RAMD2 :                     D57 C |
 SP_RAMD3 :                     DD1 C |  SP_RAMD4 :                     DA1 C |
 SP_RAMD5 :                     DC3 C |  SP_RAMD6 :                     DC7 C |
 SP_RAMD7 :                     DD7 C |  SP_RAMD8 :                     DF7 C |
 SP_RAMD8_ :                    DFA C |  SP_RAMD9 :                     D43 C |
*START_STS :                   C000 - | *STEP_DBG :                      20 - |
 STKBOT :                      5C63 - |  STKEND :                      5C65 - |
 STOP_MOTOR :                   2B9 C |  STRMS :                       5C10 - |
 SUB_1857 :                    1857 C |  SUB_2158 :                    2158 C |
 SUB_2367 :                    2367 C |  SUB_26CE :                    26CE C |
 SUB_2A35 :                    2A35 C |  SUB_2C37 :                    2C37 C |
 SUB_2C5D :                    2C5D C |  SUB_2C7E :                    2C7E C |
 SUB_2CE5 :                    2CE5 C |  SUB_2D09 :                    2D09 C |
 SUB_2D1E :                    2D1E C |  SUB_2D2A :                    2D2A C |
 SUB_2D34 :                    2D34 C |  SUB_2D3E :                    2D3E C |
 SUB_2D4C :                    2D4C C |  SUB_2D73 :                    2D73 C |
 SUB_2F07 :                    2F07 C |  SUB_2F0F :                    2F0F C |
 SUB_2F3A :                    2F3A C |  SVLDRAM1 :                     C74 C |
 SVLDRAM2 :                     C99 C |  SV_LD_RAMDISK :                C5F C |
*SWAP :                        5B00 - |  SWAP_8 :                      5B08 - |
 TABL_SECTORS :                1FB9 C |  TBL_KEYWORD :                 30FD C |
 TEK_BUFPATH :                 2000 - |  TEK_ROMPAGE :                 3CCE C |
 TEK_TYPE :                    ADF7 - |  TEMP_SP :                     3CD0 C |
 TEXT4VIRTDRV :                 A2C C | *TIME :                    22:45:09 - |
*TRACE_DBG :                     40 - |  TRD_5CB6 :                    5CB6 - |
 TRD_5CC2 :                    5CC2 - |  TRD_5CC3 :                    5CC3 - |
 TRD_5CC6 :                    5CC6 - |  TRD_5CC8 :                    5CC8 - |
*TRD_5CC9 :                    5CC9 - |  TRD_5CCA :                    5CCA - |
*TRD_5CCB :                    5CCB - |  TRD_5CCC :                    5CCC - |
 TRD_5CCD :                    5CCD - |  TRD_5CCE :                    5CCE - |
 TRD_5CCF :                    5CCF - |  TRD_5CD1 :                    5CD1 - |
 TRD_5CD2 :                    5CD2 - |  TRD_5CD3 :                    5CD3 - |
 TRD_5CD4 :                    5CD4 - |  TRD_5CD5 :                    5CD5 - |
 TRD_5CD6 :                    5CD6 - |  TRD_5CD7 :                    5CD7 - |
 TRD_5CD8 :                    5CD8 - |  TRD_5CD9 :                    5CD9 - |
 TRD_5CDA :                    5CDA - |  TRD_5CDB :                    5CDB - |
 TRD_5CDC :                    5CDC - |  TRD_5CDD :                    5CDD - |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 170 - 11/17/2013 22:45:09


 TRD_5CDF :                    5CDF - |  TRD_5CE1 :                    5CE1 - |
 TRD_5CE3 :                    5CE3 - |  TRD_5CE5 :                    5CE5 - |
 TRD_5CE6 :                    5CE6 - |  TRD_5CE7 :                    5CE7 - |
 TRD_5CE8 :                    5CE8 - |  TRD_5CE9 :                    5CE9 - |
 TRD_5CEA :                    5CEA - |  TRD_5CEB :                    5CEB - |
 TRD_5CED :                    5CED - |  TRD_5CEF :                    5CEF - |
 TRD_5CF1 :                    5CF1 - |  TRD_5CF2 :                    5CF2 - |
 TRD_5CF4 :                    5CF4 - |  TRD_5CF5 :                    5CF5 - |
 TRD_5CF6 :                    5CF6 - |  TRD_5CF7 :                    5CF7 - |
 TRD_5CF8 :                    5CF8 - |  TRD_5CF9 :                    5CF9 - |
 TRD_5CFA :                    5CFA - | *TRD_5CFB :                    5CFB - |
 TRD_5CFC :                    5CFC - | *TRD_5CFD :                    5CFD - |
 TRD_5CFE :                    5CFE - |  TRD_5CFF :                    5CFF - |
 TRD_5D00 :                    5D00 - |  TRD_5D02 :                    5D02 - |
 TRD_5D04 :                    5D04 - |  TRD_5D06 :                    5D06 - |
 TRD_5D07 :                    5D07 - |  TRD_5D08 :                    5D08 - |
 TRD_5D09 :                    5D09 - |  TRD_5D0C :                    5D0C - |
 TRD_5D0D :                    5D0D - |  TRD_5D0E :                    5D0E - |
 TRD_5D0F :                    5D0F - |  TRD_5D10 :                    5D10 - |
 TRD_5D11 :                    5D11 - |  TRD_5D13 :                    5D13 - |
 TRD_5D15 :                    5D15 - |  TRD_5D16 :                    5D16 - |
 TRD_5D17 :                    5D17 - |  TRD_5D18 :                    5D18 - |
 TRD_5D19 :                    5D19 - |  TRD_5D1A :                    5D1A - |
 TRD_5D1C :                    5D1C - |  TRD_5D1E :                    5D1E - |
 TRD_5D1F :                    5D1F - |  TRD_5D20 :                    5D20 - |
 TRD_5D21 :                    5D21 - |  TRD_5D23 :                    5D23 - |
 TRD_5D25 :                    5D25 - |  TRD_5D26 :                    5D26 - |
 TRD_5D33 :                    5D33 - |  TRD_5E06 :                    5E06 - |
 TRD_5E07 :                    5E07 - |  TRD_5E08 :                    5E08 - |
 TRD_5E09 :                    5E09 - |  TRD_5E0A :                    5E0A - |
 TRD_5E0C :                    5E0C - |  TRD_5E0F :                    5E0F - |
 TRD_5E10 :                    5E10 - |  TRD_5E19 :                    5E19 - |
 TRD_5E1A :                    5E1A - |  TRD_5E34 :                    5E34 - |
 TRD_5F00 :                    5F00 - |  TRD_5F10 :                    5F10 - |
 TRD_5F12 :                    5F12 - | *TRUE :                           1 - |
*TSTACK_END :                  5BFF - | *TURBO14 :                       80 - |
*TURBO357 :                      80 - | *TURBO_14 :                      C0 - |
*TURBO_3 :                       40 - | *TURBO_7 :                       80 - |
 TV_FLAG :                     5C3C - |  TXT4VIRTDRV :                  A2F C |
*TXTSCR_MODE :                    2 - |  TXT_1SPACE :                  10CA C |
 TXT_40TRK_DS :                10E2 C |  TXT_40TRK_SS :                10CE C |
 TXT_80TRK_DS :                110A C |  TXT_80TRK_SS :                10F6 C |
 TXT_ARRAYNOT :                27DD C |  TXT_BACKUPDISK :              2779 C |
 TXT_BETA :                    3534 C |  TXT_BREAK :                   27CA C |
 TXT_DELFILES :                10A5 C |  TXT_DELFILE_ :                2A1D C |
 TXT_DIR :                     356E C |  TXT_DIRFULL :                 27ED C |
 TXT_DISCERROR_ :              29E2 C |  TXT_DISKDRIVE :               10BA C |
 TXT_ERROR_ :                  29B2 C |  TXT_FILEEXIST :               2820 C |
 TXT_FILEEXISTS_ :             29C5 C |  TXT_FILENAME :                112E C |
 TXT_FILE_S_ :                 10AA C |  TXT_FORMAT_TRK :              325E C |
 TXT_FREESECS :                111E C |  TXT_FREE_ :                   29D2 C |
 TXT_FSIDE :                   326C C |  TXT_INS_DEST :                2785 C |
 TXT_INS_SRC :                 27AA C |  TXT_NODISKFILE :              2812 C |
 TXT_NODISK_ :                 27FC C |  TXT_NOFILES :                 2A29 C |
 TXT_NOFILES_ :                2A28 C |  TXT_NOSPACE_ :                29BB C |
 TXT_OK_ :                     2766 C |  TXT_OUTRAM :                  27D2 C |
 TXT_RIA_ :                    29FE C |  TXT_R_O :                     29ED C |
 TXT_SEC_ :                    2A18 C |  TXT_STREAMOPEN :              2804 C |
 TXT_TITLE :                   10B3 C |  TXT_TITLE_ :                  29F7 C |
 TXT_TRK_ :                    2A13 C |  TXT_VERIFYERR :               276B C |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 171 - 11/17/2013 22:45:09


*TYPE_FONT :                      8 - |  UDG :                         5C7B - |
 UMOUNT :                      36D4 C | *UNPACK :                        80 - |
*UNP_MICROBOOT :                 43 - |  VARS :                        5C4B - |
 VERIFY :                      1810 C | *VERSION :                     142F - |
*VG_MEM :                        2F - |  VG_RD_1F :                      2F - |
 VG_RD_3F :                      4F - |  VG_RD_5F :                      6F - |
*VG_RD_7F :                      8F - |  VG_RW_1F :                      1F - |
 VG_RW_3F :                      3F - |  VG_RW_5F :                      5F - |
 VG_RW_7F :                      7F - |  VG_RW_FF :                      FF - |
 VIRT_REAL_DRIVE :               EB - | *VMODE7_0 :                      F7 - |
*VMODE7_1 :                      F5 - |  W16B2WORKSP :                 24F8 C |
 WAIT4READ :                   3FD7 C | *WHITE :                          7 - |
 WIN1F :                          6 - |  WIN3F :                          7 - |
 WIN5F :                          8 - |  WIN7F :                          9 - |
 WINFF :                          A - |  WINHC :                          D - |
 WINI :                           B - |  WINI_RET :                      12 - |
 WIN_A0 :                      3FF7 - | *WIN_A1 :                      7FF7 - |
*WIN_A2 :                      BFF7 - | *WIN_A3 :                      FFF7 - |
 WIN_P0 :                      37F7 - |  WIN_P1 :                      77F7 - |
 WIN_P2 :                      B7F7 - | *WIN_P3 :                      F7F7 - |
 WORK4AUTORUN :                 12A C |  WORK4ERROR :                  2F69 C |
 WORK4FREEACCESS :             24A2 C |  WORKSP :                      5C61 - |
 WORK_NUMSAVE :                2504 C |  WOUT1F :                         0 - |
 WOUT3F :                         1 - |  WOUT5F :                         2 - |
 WOUT7F :                         3 - |  WOUTCA :                         F - |
 WOUTCD :                         C - |  WOUTFF :                         4 - |
 WOUTI :                          5 - |  WREAD_SEC_ :                    11 - |
*WRITECMOS :                    E26 C |  WRITE_C_D_1 :                 20AF C |
 WRITE_C_D_B :                 20B1 C |  WRITE_SEC :                   3FBA C |
 WRITE_SEC_ :                   CC8 C |  WRITE_SEC_1 :                  CCD C |
 WRPORT_RET :                  3D38 C |  WRRDSECM1 :                   368A C |
 WRRDSECM2 :                   369D C | *WR_0WINA0 :                   3CCB C |
*WR_0WINA1 :                   3CCA C | *WR_0WINA2 :                   3CC9 C |
*WR_0WINA3 :                   3CC8 C |  WR_1F :                       3CAE C |
*WR_1WINA0 :                   3CC7 C | *WR_1WINA1 :                   3CC6 C |
*WR_1WINA2 :                   3CC5 C | *WR_1WINA3 :                   3CC4 C |
*WR_77 :                       3CBF C | *WR_7FFD :                     3CC1 C |
 WR_BF :                       3CBE C |  WR_BYTE_RET :                 3D3C C |
 WR_DATAPORT :                 3FCA C | *WR_DOS7FFD :                  3CC2 C |
*WR_EFF7 :                     3CC0 C |  WR_FF :                       3CB0 C |
 WR_HEAD_FILENAME :            1E40 C |  WR_NEW_FREE_SEC :              7E7 C |
 WR_NUM_TRACK :                1E36 C | *WR_RAMNROM :                  3CC3 C |
 WR_RD_SEC_M :                 366C C |  WWRITE_SEC_ :                   10 - |
 WWRRD1 :                       D01 C |  WWRRD2 :                       D17 C |
 WWRRD3 :                       D08 C |  WWRRD5 :                       D33 C |
 WWR_RD_SECT :                    E - |  W_DATA :                       A06 C |
 W_IN1F :                       BDA C |  W_IN1F1 :                      BEA C |
 W_IN1F2 :                      BF1 C |  W_IN3F :                       BF8 C |
 W_IN5F :                       BFE C |  W_IN7F :                       C04 C |
 W_INFF :                       C0A C |  W_INHC :                       C11 C |
*W_INHC1 :                      C14 C |  W_INHC2 :                      C1F C |
 W_INHC3 :                      C29 C |  W_INHC4 :                      C33 C |
 W_INHC5 :                      C3D C |  W_INHC6 :                      C48 C |
 W_INI :                        C52 C |  W_OUT1F :                      AF2 C |
*W_OUT1F1 :                     AF5 C |  W_OUT1F10 :                    B01 C |
 W_OUT1F20 :                    B21 C |  W_OUT1F40 :                    B2C C |
 W_OUT1F60 :                    B3C C |  W_OUT1F80 :                    B4C C |
 W_OUT1FA0 :                    B52 C |  W_OUT1FD0 :                    B62 C |
 W_OUT1FE0 :                    B68 C |  W_OUT1FF0 :                    B72 C |
 W_OUT3F :                      B78 C |  W_OUT5F :                      B80 C |
 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 172 - 11/17/2013 22:45:09


 W_OUT7F :                      B88 C |  W_OUTCA :                      BA5 C |
 W_OUTCA1 :                     BA8 C |  W_OUTCD :                      BC8 C |
 W_OUTFF :                      B90 C |  W_OUTI :                       BCD C |
 W_WR_RD_SECT :                 CDB C | *YELLOW :                         6 - |
 YYEAR :                          D - |  ZASTAVKA :                     360 C |
 ZASTAVKA_VER :                 36C - |  ZASTV_ATR :                   58E7 - |
 ZASTV_PIX :                   40F0 - |  ZASTV_X :                        7 - |
 ZASTV_Y :                        7 - |  ZERO2HIGH_ERR :               1852 C |
*ZXSCR_MODE :                     1 - | *ZX_ROM :                        10 - |
*ZX_SCREEN :                      8 - | *_AY_PRN_A_ :                    41 - |
*_AY_PRN_INIT :                  40 - | *_AY_PRN_SCR :                   43 - |
*_AY_PRN_TOKEN :                 42 - |  _CLEAR_CMOS :                    3 - |
 _CLOSEMOUNT :                    4 - |  _CMOS_RW :                      55 - |
*_COMHDDN :                       7 - |  _COM_DEV :                      50 - |
 _COM_FAT :                      51 - | *_CONTROL_SD :                    6 - |
 _DEVFIND :                       0 - | *_DEV_INIT :                      0 - |
*_DEV_READ :                      2 - | *_DEV_STATUS :                    1 - |
*_DEV_WRITE :                     3 - |  _ENTER_DIR :                     2 - |
*_FIND_FILEITEM :                 6 - | *_FIND_MOUNTED :                  2 - |
 _FIND_NAME :                     5 - | *_FREINIT_VOL :                   8 - |
*_GET_FNDVOLUME :                 3 - |  _GET_LONGNAME :                  4 - |
*_GET_MOUNTED :                   3 - |  _GET_PATH :                      3 - |
*_INIT_CMOS :                     0 - | *_INIT_FATVARS :                  0 - |
*_INIT_TEKDIR :                   A - | *_INST_FATBOOT :                 54 - |
 _KOL_VOL :                       2 - | *_LOADIMAGE :                     5 - |
*_MEM_MODE_128 :                 80 - | *_MEM_MODE_48 :                  40 - |
*_MEM_MODE_PENT :                C0 - |  _MOUNTER :                      53 - |
*_OPEN_FILE :                     8 - |  _OPEN_MOUNT :                    0 - |
 _POS_FILES :                     B - | *_PRINT_A :                      48 - |
*_PRINT_MESSAGE :                47 - |  _RDWR_MOUNT :                    1 - |
*_READ_CMOS :                     1 - |  _READ_DIR :                      1 - |
*_READ_FILE :                     9 - | *_SCROLL_DOWN :                  4A - |
*_SCROLL_UP :                    49 - | *_SETUP_PAL :                    56 - |
*_SET_DEVICE :                    5 - | *_SET_MAP :                      4C - |
*_SET_MASK_EXT :                  7 - | *_SET_MODE :                     4B - |
 _SET_VOL :                       1 - | *_SORT_FINDFILES :               52 - |
*_TAPE_EMUL :                    45 - | *_TAPE_INIT :                    44 - |
*_TO_DRV :                        4 - | *_TURBO_HIGH :                   20 - |
*_TURBO_LOW :                    10 - | *_TURBO_MAX :                    30 - |
*_TXTSCR_MODE :                   2 - | *_WINW :                         46 - |
 _WRITE_CMOS :                    2 - | *_ZXSCR_MODE :                    1 - |

   1396 symbols
    272 unused symbols

 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 173 - 11/17/2013 22:45:09


  defined macros:
  ---------------

CMP_DRV                               | DC                                   
DUPL                                  | DZ                                   
EVOPORT                               | PCALL                                
PEC_OFF                               | PEC_ON                               
SUM_HOB                               | TEXTDATE                             

     10 macros

 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 174 - 11/17/2013 22:45:09


  defined functions:
  ------------------

LOW                                   | HIGH                                 

 AS V1.42 Beta [Bld 78] - source file evo-dos_virt.a80 - page 175 - 11/17/2013 22:45:09


  codepages:
  ----------

STANDARD (0 changed characters)


0.53 seconds assembly time

   8465 lines source file
   9239 lines incl. macro expansions
      2 passes
      0 errors
      0 warnings
